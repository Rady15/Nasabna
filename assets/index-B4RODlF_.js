const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BKd3qMTo.js","assets/vendor-BKU87Gzz.js","assets/query-BznAFzS8.js","assets/router-CUTGSJan.js","assets/forms-Csk79DIL.js","assets/d3-D8AkCXfq.js"])))=>i.map(i=>d[i]);
var aX=Object.defineProperty;var oX=(e,t,r)=>t in e?aX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fn=(e,t,r)=>oX(e,typeof t!="symbol"?t+"":t,r);import{j as l,Q as lX,a as cX}from"./query-BznAFzS8.js";import{b as AX,r as re,g as U2,a as ke,c as N0}from"./vendor-BKU87Gzz.js";import{u as ls,L as Dt,a as eE,N as ym,b as tE,c as Jd,R as uX,d as rn,B as fX}from"./router-CUTGSJan.js";import{o as dX,r as hX,a as mX,b as P2,s as rc,u as lp,c as pX}from"./forms-Csk79DIL.js";import{i as bu,z as YR,s as rE,p as XR,d as gX}from"./d3-D8AkCXfq.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var HN={},MF=AX;HN.createRoot=MF.createRoot,HN.hydrateRoot=MF.hydrateRoot;let xX={data:""},vX=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xX,yX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wX=/\/\*[^]*?\*\/|  +/g,RF=/\n+/g,iA=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?iA(a,i):i+"{"+iA(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=iA(a,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=iA.p?iA.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},$l={},JR=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+JR(e[r]);return t}return e},bX=(e,t,r,n,s)=>{let i=JR(e),a=$l[i]||($l[i]=(c=>{let u=0,A=11;for(;u<c.length;)A=101*A+c.charCodeAt(u++)>>>0;return"go"+A})(i));if(!$l[a]){let c=i!==e?e:(u=>{let A,f,d=[{}];for(;A=yX.exec(u.replace(wX,""));)A[4]?d.shift():A[3]?(f=A[3].replace(RF," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][A[1]]=A[2].replace(RF," ").trim();return d[0]})(e);$l[a]=iA(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let o=r&&$l.g?$l.g:null;return r&&($l.g=$l[a]),((c,u,A,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=A?c+u.data:u.data+c)})($l[a],t,n,o),a},BX=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let o=a(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":iA(o,""):o===!1?"":o}return n+s+(a??"")},"");function M2(e){let t=this||{},r=e.call?e(t.p):e;return bX(r.unshift?r.raw?BX(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,vX(t.target),t.g,t.o,t.k)}let ZR,$N,qN;M2.bind({g:1});let dc=M2.bind({k:1});function NX(e,t,r,n){iA.p=t,ZR=e,$N=r,qN=n}function IA(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),c=o.className||s.className;r.p=Object.assign({theme:$N&&$N()},o),r.o=/ *go\d+/.test(c),o.className=M2.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),qN&&u[0]&&qN(o),ZR(u,o)}return s}}var _X=e=>typeof e=="function",lx=(e,t)=>_X(e)?e(t):e,CX=(()=>{let e=0;return()=>(++e).toString()})(),eO=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),EX=20,tO=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,EX)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return tO(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},k1=[],pu={toasts:[],pausedAt:void 0},zu=e=>{pu=tO(pu,e),k1.forEach(t=>{t(pu)})},SX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FX=(e={})=>{let[t,r]=re.useState(pu),n=re.useRef(pu);re.useEffect(()=>(n.current!==pu&&r(pu),k1.push(r),()=>{let i=k1.indexOf(r);i>-1&&k1.splice(i,1)}),[]);let s=t.toasts.map(i=>{var a,o,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((a=e[i.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((o=e[i.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||SX[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:s}},jX=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||CX()}),cp=e=>(t,r)=>{let n=jX(t,e,r);return zu({type:2,toast:n}),n.id},ua=(e,t)=>cp("blank")(e,t);ua.error=cp("error");ua.success=cp("success");ua.loading=cp("loading");ua.custom=cp("custom");ua.dismiss=e=>{zu({type:3,toastId:e})};ua.remove=e=>zu({type:4,toastId:e});ua.promise=(e,t,r)=>{let n=ua.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?lx(t.success,s):void 0;return i?ua.success(i,{id:n,...r,...r==null?void 0:r.success}):ua.dismiss(n),s}).catch(s=>{let i=t.error?lx(t.error,s):void 0;i?ua.error(i,{id:n,...r,...r==null?void 0:r.error}):ua.dismiss(n)}),e};var TX=(e,t)=>{zu({type:1,toast:{id:e,height:t}})},IX=()=>{zu({type:5,time:Date.now()})},Z0=new Map,kX=1e3,LX=(e,t=kX)=>{if(Z0.has(e))return;let r=setTimeout(()=>{Z0.delete(e),zu({type:4,toastId:e})},t);Z0.set(e,r)},UX=e=>{let{toasts:t,pausedAt:r}=FX(e);re.useEffect(()=>{if(r)return;let i=Date.now(),a=t.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(c<0){o.visible&&ua.dismiss(o.id);return}return setTimeout(()=>ua.dismiss(o.id),c)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[t,r]);let n=re.useCallback(()=>{r&&zu({type:6,time:Date.now()})},[r]),s=re.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:u}=a||{},A=t.filter(h=>(h.position||u)===(i.position||u)&&h.height),f=A.findIndex(h=>h.id===i.id),d=A.filter((h,g)=>g<f&&h.visible).length;return A.filter(h=>h.visible).slice(...o?[d+1]:[0,d]).reduce((h,g)=>h+(g.height||0)+c,0)},[t]);return re.useEffect(()=>{t.forEach(i=>{if(i.dismissed)LX(i.id,i.removeDelay);else{let a=Z0.get(i.id);a&&(clearTimeout(a),Z0.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:TX,startPause:IX,endPause:n,calculateOffset:s}}},PX=dc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,MX=dc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RX=dc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OX=IA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${MX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QX=dc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DX=IA("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${QX} 1s linear infinite;
`,HX=dc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$X=dc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qX=IA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$X} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KX=IA("div")`
  position: absolute;
`,zX=IA("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GX=dc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VX=IA("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GX} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,WX=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?re.createElement(VX,null,t):t:r==="blank"?null:re.createElement(zX,null,re.createElement(DX,{...n}),r!=="loading"&&re.createElement(KX,null,r==="error"?re.createElement(OX,{...n}):re.createElement(qX,{...n})))},YX=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XX=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,JX="0%{opacity:0;} 100%{opacity:1;}",ZX="0%{opacity:1;} 100%{opacity:0;}",eJ=IA("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tJ=IA("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rJ=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=eO()?[JX,ZX]:[YX(r),XX(r)];return{animation:t?`${dc(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dc(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nJ=re.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?rJ(e.position||t||"top-center",e.visible):{opacity:0},i=re.createElement(WX,{toast:e}),a=re.createElement(tJ,{...e.ariaProps},lx(e.message,e));return re.createElement(eJ,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):re.createElement(re.Fragment,null,i,a))});NX(re.createElement);var sJ=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=re.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return re.createElement("div",{ref:i,className:t,style:r},s)},iJ=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},aJ=M2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dg=16,oJ=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:c}=UX(r);return re.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:dg,left:dg,right:dg,bottom:dg,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(u=>{let A=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),d=iJ(A,f);return re.createElement(sJ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?aJ:"",style:d},u.type==="custom"?lx(u.message,u):s?s(u):re.createElement(nJ,{toast:u,position:A}))}))};const lJ={},OF=e=>{let t;const r=new Set,n=(A,f)=>{const d=typeof A=="function"?A(t):A;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),r.forEach(g=>g(t,h))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:A=>(r.add(A),()=>r.delete(A)),destroy:()=>{(lJ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},rO=e=>e?OF(e):OF;var nO={exports:{}},sO={},iO={exports:{}},aO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=re;function cJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AJ=typeof Object.is=="function"?Object.is:cJ,uJ=Cd.useState,fJ=Cd.useEffect,dJ=Cd.useLayoutEffect,hJ=Cd.useDebugValue;function mJ(e,t){var r=t(),n=uJ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return dJ(function(){s.value=r,s.getSnapshot=t,Ky(s)&&i({inst:s})},[e,r,t]),fJ(function(){return Ky(s)&&i({inst:s}),e(function(){Ky(s)&&i({inst:s})})},[e]),hJ(r),r}function Ky(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!AJ(e,r)}catch{return!0}}function pJ(e,t){return t()}var gJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pJ:mJ;aO.useSyncExternalStore=Cd.useSyncExternalStore!==void 0?Cd.useSyncExternalStore:gJ;iO.exports=aO;var xJ=iO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=re,vJ=xJ;function yJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wJ=typeof Object.is=="function"?Object.is:yJ,bJ=vJ.useSyncExternalStore,BJ=R2.useRef,NJ=R2.useEffect,_J=R2.useMemo,CJ=R2.useDebugValue;sO.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=BJ(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=_J(function(){function c(h){if(!u){if(u=!0,A=h,h=n(h),s!==void 0&&a.hasValue){var g=a.value;if(s(g,h))return f=g}return f=h}if(g=f,wJ(A,h))return g;var p=n(h);return s!==void 0&&s(g,p)?(A=h,g):(A=h,f=p)}var u=!1,A,f,d=r===void 0?null:r;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,r,n,s]);var o=bJ(e,i[0],i[1]);return NJ(function(){a.hasValue=!0,a.value=o},[o]),CJ(o),o};nO.exports=sO;var EJ=nO.exports;const oO=U2(EJ),lO={},{useDebugValue:SJ}=ke,{useSyncExternalStoreWithSelector:FJ}=oO;let QF=!1;const jJ=e=>e;function TJ(e,t=jJ,r){(lO?"production":void 0)!=="production"&&r&&!QF&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),QF=!0);const n=FJ(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return SJ(n),n}const IJ=e=>{(lO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?rO(e):e,r=(n,s)=>TJ(t,n,s);return Object.assign(r,t),r},nE=e=>IJ,L1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://qabael.premiumasp.net/api",VITE_APP_DESCRIPTION:"Family Tree Management Application",VITE_APP_NAME:"Nasabna",VITE_APP_VERSION:"1.0.0",VITE_DEFAULT_LANGUAGE:"en",VITE_DEFAULT_THEME:"auto",VITE_ENABLE_DEVTOOLS:"true",VITE_ENABLE_MOCK_API:"false",VITE_ENABLE_RTL:"true",VITE_FEATURE_COLLABORATION:"true",VITE_FEATURE_OFFLINE_MODE:"true",VITE_FEATURE_TREE_VISUALIZATION:"true",VITE_NODE_ENV:"production",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your-stripe-publishable-key",VITE_SUBSCRIPTION_API_BASE_URL:"https://qabael.premiumasp.net/api"},KN=new Map,hg=e=>{const t=KN.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,n])=>[r,n.getState()])):{}},kJ=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const n=KN.get(r.name);if(n)return{type:"tracked",store:e,...n};const s={connection:t.connect(r),stores:{}};return KN.set(r.name,s),{type:"tracked",store:e,...s}},LJ=(e,t={})=>(r,n,s)=>{const{enabled:i,anonymousActionType:a,store:o,...c}=t;let u;try{u=(i??(L1?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(L1?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,n,s);const{connection:A,...f}=kJ(o,u,c);let d=!0;s.setState=(p,m,x)=>{const v=r(p,m);if(!d)return v;const y=x===void 0?{type:a||"anonymous"}:typeof x=="string"?{type:x}:x;return o===void 0?(A==null||A.send(y,n()),v):(A==null||A.send({...y,type:`${o}/${y.type}`},{...hg(c.name),[o]:s.getState()}),v)};const h=(...p)=>{const m=d;d=!1,r(...p),d=m},g=e(s.setState,n,s);if(f.type==="untracked"?A==null||A.init(g):(f.stores[f.store]=s,A==null||A.init(Object.fromEntries(Object.entries(f.stores).map(([p,m])=>[p,p===f.store?g:m.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let p=!1;const m=s.dispatch;s.dispatch=(...x)=>{(L1?"production":void 0)!=="production"&&x[0].type==="__setState"&&!p&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),p=!0),m(...x)}}return A.subscribe(p=>{var m;switch(p.type){case"ACTION":if(typeof p.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return zy(p.payload,x=>{if(x.type==="__setState"){if(o===void 0){h(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=x.state[o];if(v==null)return;JSON.stringify(s.getState())!==JSON.stringify(v)&&h(v);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(x)});case"DISPATCH":switch(p.payload.type){case"RESET":return h(g),o===void 0?A==null?void 0:A.init(s.getState()):A==null?void 0:A.init(hg(c.name));case"COMMIT":if(o===void 0){A==null||A.init(s.getState());return}return A==null?void 0:A.init(hg(c.name));case"ROLLBACK":return zy(p.state,x=>{if(o===void 0){h(x),A==null||A.init(s.getState());return}h(x[o]),A==null||A.init(hg(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return zy(p.state,x=>{if(o===void 0){h(x);return}JSON.stringify(s.getState())!==JSON.stringify(x[o])&&h(x[o])});case"IMPORT_STATE":{const{nextLiftedState:x}=p.payload,v=(m=x.computedStates.slice(-1)[0])==null?void 0:m.state;if(!v)return;h(o===void 0?v:v[o]),A==null||A.send(null,x);return}case"PAUSE_RECORDING":return d=!d}return}}),g},cO=LJ,zy=(e,t)=>{let r;try{r=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&t(r)};function UJ(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const wm=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return wm(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return wm(n)(r)}}}},PJ=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,x)=>({...x,...m}),...t},a=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,s);const A=wm(i.serialize),f=()=>{const m=i.partialize({...n()});let x;const v=A({state:m,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{x=y});if(x)throw x;return v},d=s.setState;s.setState=(m,x)=>{d(m,x),f()};const h=e((...m)=>{r(...m),f()},n,s);let g;const p=()=>{var m;if(!u)return;a=!1,o.forEach(v=>v(n()));const x=((m=i.onRehydrateStorage)==null?void 0:m.call(i,n()))||void 0;return wm(u.getItem.bind(u))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var y;return g=i.merge(v,(y=n())!=null?y:h),r(g,!0),f()}).then(()=>{x==null||x(g,void 0),a=!0,c.forEach(v=>v(g))}).catch(v=>{x==null||x(void 0,v)})};return s.persist={setOptions:m=>{i={...i,...m},m.getStorage&&(u=m.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},p(),g||h},MJ=(e,t)=>(r,n,s)=>{let i={storage:UJ(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},a=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},n,s);const A=()=>{const p=i.partialize({...n()});return u.setItem(i.name,{state:p,version:i.version})},f=s.setState;s.setState=(p,m)=>{f(p,m),A()};const d=e((...p)=>{r(...p),A()},n,s);s.getInitialState=()=>d;let h;const g=()=>{var p,m;if(!u)return;a=!1,o.forEach(v=>{var y;return v((y=n())!=null?y:d)});const x=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(p=n())!=null?p:d))||void 0;return wm(u.getItem.bind(u))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var y;const[w,S]=v;if(h=i.merge(S,(y=n())!=null?y:d),r(h,!0),w)return A()}).then(()=>{x==null||x(h,void 0),h=n(),a=!0,c.forEach(v=>v(h))}).catch(v=>{x==null||x(void 0,v)})};return s.persist={setOptions:p=>{i={...i,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:p=>(o.add(p),()=>{o.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||g(),h||d},RJ=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((L1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),PJ(e,t)):MJ(e,t),sE=RJ;function AO(e,t){return function(){return e.apply(t,arguments)}}const{toString:OJ}=Object.prototype,{getPrototypeOf:iE}=Object,{iterator:O2,toStringTag:uO}=Symbol,Q2=(e=>t=>{const r=OJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ho=e=>(e=e.toLowerCase(),t=>Q2(t)===e),D2=e=>t=>typeof t===e,{isArray:Zd}=Array,bm=D2("undefined");function Ap(e){return e!==null&&!bm(e)&&e.constructor!==null&&!bm(e.constructor)&&da(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fO=Ho("ArrayBuffer");function QJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fO(e.buffer),t}const DJ=D2("string"),da=D2("function"),dO=D2("number"),up=e=>e!==null&&typeof e=="object",HJ=e=>e===!0||e===!1,U1=e=>{if(Q2(e)!=="object")return!1;const t=iE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(uO in e)&&!(O2 in e)},$J=e=>{if(!up(e)||Ap(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qJ=Ho("Date"),KJ=Ho("File"),zJ=Ho("Blob"),GJ=Ho("FileList"),VJ=e=>up(e)&&da(e.pipe),WJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||da(e.append)&&((t=Q2(e))==="formdata"||t==="object"&&da(e.toString)&&e.toString()==="[object FormData]"))},YJ=Ho("URLSearchParams"),[XJ,JJ,ZJ,eZ]=["ReadableStream","Request","Response","Headers"].map(Ho),tZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fp(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Zd(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Ap(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function hO(e,t){if(Ap(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mO=e=>!bm(e)&&e!==gu;function zN(){const{caseless:e}=mO(this)&&this||{},t={},r=(n,s)=>{const i=e&&hO(t,s)||s;U1(t[i])&&U1(n)?t[i]=zN(t[i],n):U1(n)?t[i]=zN({},n):Zd(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&fp(arguments[n],r);return t}const rZ=(e,t,r,{allOwnKeys:n}={})=>(fp(t,(s,i)=>{r&&da(s)?e[i]=AO(s,r):e[i]=s},{allOwnKeys:n}),e),nZ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sZ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},iZ=(e,t,r,n)=>{let s,i,a;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&iE(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},aZ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},oZ=e=>{if(!e)return null;if(Zd(e))return e;let t=e.length;if(!dO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},lZ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iE(Uint8Array)),cZ=(e,t)=>{const n=(e&&e[O2]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},AZ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},uZ=Ho("HTMLFormElement"),fZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),DF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),dZ=Ho("RegExp"),pO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};fp(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},hZ=e=>{pO(e,(t,r)=>{if(da(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(da(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},mZ=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Zd(e)?n(e):n(String(e).split(t)),r},pZ=()=>{},gZ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xZ(e){return!!(e&&da(e.append)&&e[uO]==="FormData"&&e[O2])}const vZ=e=>{const t=new Array(10),r=(n,s)=>{if(up(n)){if(t.indexOf(n)>=0)return;if(Ap(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Zd(n)?[]:{};return fp(n,(a,o)=>{const c=r(a,s+1);!bm(c)&&(i[o]=c)}),t[s]=void 0,i}}return n};return r(e,0)},yZ=Ho("AsyncFunction"),wZ=e=>e&&(up(e)||da(e))&&da(e.then)&&da(e.catch),gO=((e,t)=>e?setImmediate:t?((r,n)=>(gu.addEventListener("message",({source:s,data:i})=>{s===gu&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),gu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",da(gu.postMessage)),bZ=typeof queueMicrotask<"u"?queueMicrotask.bind(gu):typeof process<"u"&&process.nextTick||gO,BZ=e=>e!=null&&da(e[O2]),st={isArray:Zd,isArrayBuffer:fO,isBuffer:Ap,isFormData:WJ,isArrayBufferView:QJ,isString:DJ,isNumber:dO,isBoolean:HJ,isObject:up,isPlainObject:U1,isEmptyObject:$J,isReadableStream:XJ,isRequest:JJ,isResponse:ZJ,isHeaders:eZ,isUndefined:bm,isDate:qJ,isFile:KJ,isBlob:zJ,isRegExp:dZ,isFunction:da,isStream:VJ,isURLSearchParams:YJ,isTypedArray:lZ,isFileList:GJ,forEach:fp,merge:zN,extend:rZ,trim:tZ,stripBOM:nZ,inherits:sZ,toFlatObject:iZ,kindOf:Q2,kindOfTest:Ho,endsWith:aZ,toArray:oZ,forEachEntry:cZ,matchAll:AZ,isHTMLForm:uZ,hasOwnProperty:DF,hasOwnProp:DF,reduceDescriptors:pO,freezeMethods:hZ,toObjectSet:mZ,toCamelCase:fZ,noop:pZ,toFiniteNumber:gZ,findKey:hO,global:gu,isContextDefined:mO,isSpecCompliantForm:xZ,toJSONObject:vZ,isAsyncFn:yZ,isThenable:wZ,setImmediate:gO,asap:bZ,isIterable:BZ};function Br(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}st.inherits(Br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const xO=Br.prototype,vO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vO[e]={value:e}});Object.defineProperties(Br,vO);Object.defineProperty(xO,"isAxiosError",{value:!0});Br.from=(e,t,r,n,s,i)=>{const a=Object.create(xO);return st.toFlatObject(e,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Br.call(a,e.message,t,r,n,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const NZ=null;function GN(e){return st.isPlainObject(e)||st.isArray(e)}function yO(e){return st.endsWith(e,"[]")?e.slice(0,-2):e}function HF(e,t,r){return e?e.concat(t).map(function(s,i){return s=yO(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function _Z(e){return st.isArray(e)&&!e.some(GN)}const CZ=st.toFlatObject(st,{},null,function(t){return/^is[A-Z]/.test(t)});function H2(e,t,r){if(!st.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=st.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!st.isUndefined(m[p])});const n=r.metaTokens,s=r.visitor||A,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(t);if(!st.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(st.isDate(g))return g.toISOString();if(st.isBoolean(g))return g.toString();if(!c&&st.isBlob(g))throw new Br("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(g)||st.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function A(g,p,m){let x=g;if(g&&!m&&typeof g=="object"){if(st.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(st.isArray(g)&&_Z(g)||(st.isFileList(g)||st.endsWith(p,"[]"))&&(x=st.toArray(g)))return p=yO(p),x.forEach(function(y,w){!(st.isUndefined(y)||y===null)&&t.append(a===!0?HF([p],w,i):a===null?p:p+"[]",u(y))}),!1}return GN(g)?!0:(t.append(HF(m,p,i),u(g)),!1)}const f=[],d=Object.assign(CZ,{defaultVisitor:A,convertValue:u,isVisitable:GN});function h(g,p){if(!st.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),st.forEach(g,function(x,v){(!(st.isUndefined(x)||x===null)&&s.call(t,x,st.isString(v)?v.trim():v,p,d))===!0&&h(x,p?p.concat(v):[v])}),f.pop()}}if(!st.isObject(e))throw new TypeError("data must be an object");return h(e),t}function $F(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function aE(e,t){this._pairs=[],e&&H2(e,this,t)}const wO=aE.prototype;wO.append=function(t,r){this._pairs.push([t,r])};wO.toString=function(t){const r=t?function(n){return t.call(this,n,$F)}:$F;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function EZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bO(e,t,r){if(!t)return e;const n=r&&r.encode||EZ;st.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=st.isURLSearchParams(t)?t.toString():new aE(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class qF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){st.forEach(this.handlers,function(n){n!==null&&t(n)})}}const BO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SZ=typeof URLSearchParams<"u"?URLSearchParams:aE,FZ=typeof FormData<"u"?FormData:null,jZ=typeof Blob<"u"?Blob:null,TZ={isBrowser:!0,classes:{URLSearchParams:SZ,FormData:FZ,Blob:jZ},protocols:["http","https","file","blob","url","data"]},oE=typeof window<"u"&&typeof document<"u",VN=typeof navigator=="object"&&navigator||void 0,IZ=oE&&(!VN||["ReactNative","NativeScript","NS"].indexOf(VN.product)<0),kZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LZ=oE&&window.location.href||"http://localhost",UZ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oE,hasStandardBrowserEnv:IZ,hasStandardBrowserWebWorkerEnv:kZ,navigator:VN,origin:LZ},Symbol.toStringTag,{value:"Module"})),ki={...UZ,...TZ};function PZ(e,t){return H2(e,new ki.classes.URLSearchParams,{visitor:function(r,n,s,i){return ki.isNode&&st.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function MZ(e){return st.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function RZ(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function NO(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=r.length;return a=!a&&st.isArray(s)?s.length:a,c?(st.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!st.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&st.isArray(s[a])&&(s[a]=RZ(s[a])),!o)}if(st.isFormData(e)&&st.isFunction(e.entries)){const r={};return st.forEachEntry(e,(n,s)=>{t(MZ(n),s,r,0)}),r}return null}function OZ(e,t,r){if(st.isString(e))try{return(t||JSON.parse)(e),st.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const dp={transitional:BO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=st.isObject(t);if(i&&st.isHTMLForm(t)&&(t=new FormData(t)),st.isFormData(t))return s?JSON.stringify(NO(t)):t;if(st.isArrayBuffer(t)||st.isBuffer(t)||st.isStream(t)||st.isFile(t)||st.isBlob(t)||st.isReadableStream(t))return t;if(st.isArrayBufferView(t))return t.buffer;if(st.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return PZ(t,this.formSerializer).toString();if((o=st.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return H2(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),OZ(t)):t}],transformResponse:[function(t){const r=this.transitional||dp.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(st.isResponse(t)||st.isReadableStream(t))return t;if(t&&st.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Br.from(o,Br.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ki.classes.FormData,Blob:ki.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],e=>{dp.headers[e]={}});const QZ=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DZ=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&QZ[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},KF=Symbol("internals");function qh(e){return e&&String(e).trim().toLowerCase()}function P1(e){return e===!1||e==null?e:st.isArray(e)?e.map(P1):String(e)}function HZ(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const $Z=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Gy(e,t,r,n,s){if(st.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!st.isString(t)){if(st.isString(n))return t.indexOf(n)!==-1;if(st.isRegExp(n))return n.test(t)}}function qZ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function KZ(e,t){const r=st.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}let ha=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(o,c,u){const A=qh(c);if(!A)throw new Error("header name must be a non-empty string");const f=st.findKey(s,A);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=P1(o))}const a=(o,c)=>st.forEach(o,(u,A)=>i(u,A,c));if(st.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(st.isString(t)&&(t=t.trim())&&!$Z(t))a(DZ(t),r);else if(st.isObject(t)&&st.isIterable(t)){let o={},c,u;for(const A of t){if(!st.isArray(A))throw TypeError("Object iterator must return a key-value pair");o[u=A[0]]=(c=o[u])?st.isArray(c)?[...c,A[1]]:[c,A[1]]:A[1]}a(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=qh(t),t){const n=st.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return HZ(s);if(st.isFunction(r))return r.call(this,s,n);if(st.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=qh(t),t){const n=st.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Gy(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(a){if(a=qh(a),a){const o=st.findKey(n,a);o&&(!r||Gy(n,n[o],o,r))&&(delete n[o],s=!0)}}return st.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Gy(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return st.forEach(this,(s,i)=>{const a=st.findKey(n,i);if(a){r[a]=P1(s),delete r[i];return}const o=t?qZ(i):String(i).trim();o!==i&&delete r[i],r[o]=P1(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return st.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&st.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[KF]=this[KF]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=qh(a);n[o]||(KZ(s,a),n[o]=!0)}return st.isArray(t)?t.forEach(i):i(t),this}};ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.reduceDescriptors(ha.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});st.freezeMethods(ha);function Vy(e,t){const r=this||dp,n=t||r,s=ha.from(n.headers);let i=n.data;return st.forEach(e,function(o){i=o.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function _O(e){return!!(e&&e.__CANCEL__)}function eh(e,t,r){Br.call(this,e??"canceled",Br.ERR_CANCELED,t,r),this.name="CanceledError"}st.inherits(eh,Br,{__CANCEL__:!0});function CO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Br("Request failed with status code "+r.status,[Br.ERR_BAD_REQUEST,Br.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function zZ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function GZ(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),A=n[i];a||(a=u),r[s]=c,n[s]=u;let f=i,d=0;for(;f!==s;)d+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const h=A&&u-A;return h?Math.round(d*1e3/h):void 0}}function VZ(e,t){let r=0,n=1e3/t,s,i;const a=(u,A=Date.now())=>{r=A,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const A=Date.now(),f=A-r;f>=n?a(u,A):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const cx=(e,t,r=3)=>{let n=0;const s=GZ(50,250);return VZ(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),A=a<=o;n=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&A?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},zF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},GF=e=>(...t)=>st.asap(()=>e(...t)),WZ=ki.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ki.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ki.origin),ki.navigator&&/(msie|trident)/i.test(ki.navigator.userAgent)):()=>!0,YZ=ki.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const a=[e+"="+encodeURIComponent(t)];st.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),st.isString(n)&&a.push("path="+n),st.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XZ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JZ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EO(e,t,r){let n=!XZ(t);return e&&(n||r==!1)?JZ(e,t):t}const VF=e=>e instanceof ha?{...e}:e;function Tu(e,t){t=t||{};const r={};function n(u,A,f,d){return st.isPlainObject(u)&&st.isPlainObject(A)?st.merge.call({caseless:d},u,A):st.isPlainObject(A)?st.merge({},A):st.isArray(A)?A.slice():A}function s(u,A,f,d){if(st.isUndefined(A)){if(!st.isUndefined(u))return n(void 0,u,f,d)}else return n(u,A,f,d)}function i(u,A){if(!st.isUndefined(A))return n(void 0,A)}function a(u,A){if(st.isUndefined(A)){if(!st.isUndefined(u))return n(void 0,u)}else return n(void 0,A)}function o(u,A,f){if(f in t)return n(u,A);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,A,f)=>s(VF(u),VF(A),f,!0)};return st.forEach(Object.keys({...e,...t}),function(A){const f=c[A]||s,d=f(e[A],t[A],A);st.isUndefined(d)&&f!==o||(r[A]=d)}),r}const SO=e=>{const t=Tu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;t.headers=a=ha.from(a),t.url=bO(EO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(st.isFormData(r)){if(ki.hasStandardBrowserEnv||ki.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...A]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...A].join("; "))}}if(ki.hasStandardBrowserEnv&&(n&&st.isFunction(n)&&(n=n(t)),n||n!==!1&&WZ(t.url))){const u=s&&i&&YZ.read(i);u&&a.set(s,u)}return t},ZZ=typeof XMLHttpRequest<"u",eee=ZZ&&function(e){return new Promise(function(r,n){const s=SO(e);let i=s.data;const a=ha.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=s,A,f,d,h,g;function p(){h&&h(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(A),s.signal&&s.signal.removeEventListener("abort",A)}let m=new XMLHttpRequest;m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout;function x(){if(!m)return;const y=ha.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:e,request:m};CO(function(j){r(j),p()},function(j){n(j),p()},S),m=null}"onloadend"in m?m.onloadend=x:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(x)},m.onabort=function(){m&&(n(new Br("Request aborted",Br.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Br("Network Error",Br.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||BO;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new Br(w,S.clarifyTimeoutError?Br.ETIMEDOUT:Br.ECONNABORTED,e,m)),m=null},i===void 0&&a.setContentType(null),"setRequestHeader"in m&&st.forEach(a.toJSON(),function(w,S){m.setRequestHeader(S,w)}),st.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),o&&o!=="json"&&(m.responseType=s.responseType),u&&([d,g]=cx(u,!0),m.addEventListener("progress",d)),c&&m.upload&&([f,h]=cx(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(A=y=>{m&&(n(!y||y.type?new eh(null,e,m):y),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(A),s.signal&&(s.signal.aborted?A():s.signal.addEventListener("abort",A)));const v=zZ(s.url);if(v&&ki.protocols.indexOf(v)===-1){n(new Br("Unsupported protocol "+v+":",Br.ERR_BAD_REQUEST,e));return}m.send(i||null)})},tee=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,o();const A=u instanceof Error?u:this.reason;n.abort(A instanceof Br?A:new eh(A instanceof Error?A.message:A))}};let a=t&&setTimeout(()=>{a=null,i(new Br(`timeout ${t} of ms exceeded`,Br.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>st.asap(o),c}},ree=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},nee=async function*(e,t){for await(const r of see(e))yield*ree(r,t)},see=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},WF=(e,t,r,n)=>{const s=nee(e,t);let i=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:A}=await s.next();if(u){o(),c.close();return}let f=A.byteLength;if(r){let d=i+=f;r(d)}c.enqueue(new Uint8Array(A))}catch(u){throw o(u),u}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},$2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FO=$2&&typeof ReadableStream=="function",iee=$2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},aee=FO&&jO(()=>{let e=!1;const t=new Request(ki.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),YF=64*1024,WN=FO&&jO(()=>st.isReadableStream(new Response("").body)),Ax={stream:WN&&(e=>e.body)};$2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ax[t]&&(Ax[t]=st.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Br(`Response type '${t}' is not supported`,Br.ERR_NOT_SUPPORT,n)})})})(new Response);const oee=async e=>{if(e==null)return 0;if(st.isBlob(e))return e.size;if(st.isSpecCompliantForm(e))return(await new Request(ki.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(st.isArrayBufferView(e)||st.isArrayBuffer(e))return e.byteLength;if(st.isURLSearchParams(e)&&(e=e+""),st.isString(e))return(await iee(e)).byteLength},lee=async(e,t)=>{const r=st.toFiniteNumber(e.getContentLength());return r??oee(t)},cee=$2&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:A,withCredentials:f="same-origin",fetchOptions:d}=SO(e);u=u?(u+"").toLowerCase():"text";let h=tee([s,i&&i.toAbortSignal()],a),g;const p=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let m;try{if(c&&aee&&r!=="get"&&r!=="head"&&(m=await lee(A,n))!==0){let S=new Request(t,{method:"POST",body:n,duplex:"half"}),T;if(st.isFormData(n)&&(T=S.headers.get("content-type"))&&A.setContentType(T),S.body){const[j,I]=zF(m,cx(GF(c)));n=WF(S.body,YF,j,I)}}st.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;g=new Request(t,{...d,signal:h,method:r.toUpperCase(),headers:A.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let v=await fetch(g,d);const y=WN&&(u==="stream"||u==="response");if(WN&&(o||y&&p)){const S={};["status","statusText","headers"].forEach(B=>{S[B]=v[B]});const T=st.toFiniteNumber(v.headers.get("content-length")),[j,I]=o&&zF(T,cx(GF(o),!0))||[];v=new Response(WF(v.body,YF,j,()=>{I&&I(),p&&p()}),S)}u=u||"text";let w=await Ax[st.findKey(Ax,u)||"text"](v,e);return!y&&p&&p(),await new Promise((S,T)=>{CO(S,T,{data:w,headers:ha.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:g})})}catch(x){throw p&&p(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Br("Network Error",Br.ERR_NETWORK,e,g),{cause:x.cause||x}):Br.from(x,x&&x.code,e,g)}}),YN={http:NZ,xhr:eee,fetch:cee};st.forEach(YN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const XF=e=>`- ${e}`,Aee=e=>st.isFunction(e)||e===null||e===!1,TO={getAdapter:e=>{e=st.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let a;if(n=r,!Aee(r)&&(n=YN[(a=String(r)).toLowerCase()],n===void 0))throw new Br(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(XF).join(`
`):" "+XF(i[0]):"as no adapter specified";throw new Br("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:YN};function Wy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eh(null,e)}function JF(e){return Wy(e),e.headers=ha.from(e.headers),e.data=Vy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),TO.getAdapter(e.adapter||dp.adapter)(e).then(function(n){return Wy(e),n.data=Vy.call(e,e.transformResponse,n),n.headers=ha.from(n.headers),n},function(n){return _O(n)||(Wy(e),n&&n.response&&(n.response.data=Vy.call(e,e.transformResponse,n.response),n.response.headers=ha.from(n.response.headers))),Promise.reject(n)})}const IO="1.11.0",q2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{q2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ZF={};q2.transitional=function(t,r,n){function s(i,a){return"[Axios v"+IO+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(t===!1)throw new Br(s(a," has been removed"+(r?" in "+r:"")),Br.ERR_DEPRECATED);return r&&!ZF[a]&&(ZF[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,o):!0}};q2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function uee(e,t,r){if(typeof e!="object")throw new Br("options must be an object",Br.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],a=t[i];if(a){const o=e[i],c=o===void 0||a(o,i,e);if(c!==!0)throw new Br("option "+i+" must be "+c,Br.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Br("Unknown option "+i,Br.ERR_BAD_OPTION)}}const M1={assertOptions:uee,validators:q2},rl=M1.validators;let Bu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qF,response:new qF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Tu(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&M1.assertOptions(n,{silentJSONParsing:rl.transitional(rl.boolean),forcedJSONParsing:rl.transitional(rl.boolean),clarifyTimeoutError:rl.transitional(rl.boolean)},!1),s!=null&&(st.isFunction(s)?r.paramsSerializer={serialize:s}:M1.assertOptions(s,{encode:rl.function,serialize:rl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),M1.assertOptions(r,{baseUrl:rl.spelling("baseURL"),withXsrfToken:rl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&st.merge(i.common,i[r.method]);i&&st.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=ha.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let A,f=0,d;if(!c){const g=[JF.bind(this),void 0];for(g.unshift(...o),g.push(...u),d=g.length,A=Promise.resolve(r);f<d;)A=A.then(g[f++],g[f++]);return A}d=o.length;let h=r;for(f=0;f<d;){const g=o[f++],p=o[f++];try{h=g(h)}catch(m){p.call(this,m);break}}try{A=JF.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)A=A.then(u[f++],u[f++]);return A}getUri(t){t=Tu(this.defaults,t);const r=EO(t.baseURL,t.url,t.allowAbsoluteUrls);return bO(r,t.params,t.paramsSerializer)}};st.forEach(["delete","get","head","options"],function(t){Bu.prototype[t]=function(r,n){return this.request(Tu(n||{},{method:t,url:r,data:(n||{}).data}))}});st.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,o){return this.request(Tu(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Bu.prototype[t]=r(),Bu.prototype[t+"Form"]=r(!0)});let fee=class kO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,o){n.reason||(n.reason=new eh(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new kO(function(s){t=s}),cancel:t}}};function dee(e){return function(r){return e.apply(null,r)}}function hee(e){return st.isObject(e)&&e.isAxiosError===!0}const XN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(XN).forEach(([e,t])=>{XN[t]=e});function LO(e){const t=new Bu(e),r=AO(Bu.prototype.request,t);return st.extend(r,Bu.prototype,t,{allOwnKeys:!0}),st.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return LO(Tu(e,s))},r}const Dn=LO(dp);Dn.Axios=Bu;Dn.CanceledError=eh;Dn.CancelToken=fee;Dn.isCancel=_O;Dn.VERSION=IO;Dn.toFormData=H2;Dn.AxiosError=Br;Dn.Cancel=Dn.CanceledError;Dn.all=function(t){return Promise.all(t)};Dn.spread=dee;Dn.isAxiosError=hee;Dn.mergeConfig=Tu;Dn.AxiosHeaders=ha;Dn.formToJSON=e=>NO(st.isHTMLForm(e)?new FormData(e):e);Dn.getAdapter=TO.getAdapter;Dn.HttpStatusCode=XN;Dn.default=Dn;const{Axios:_Ue,AxiosError:CUe,CanceledError:EUe,isCancel:SUe,CancelToken:FUe,VERSION:jUe,all:TUe,Cancel:IUe,isAxiosError:kUe,spread:LUe,toFormData:UUe,AxiosHeaders:PUe,HttpStatusCode:MUe,formToJSON:RUe,getAdapter:OUe,mergeConfig:QUe}=Dn;let Kh=null,zh=null;const Cf={},mee=3e4,fr=Dn.create({baseURL:"https://qabael.premiumasp.net/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),rd=Dn.create({baseURL:"https://qabael.premiumasp.net/api",timeout:3e4,headers:{"Content-Type":"application/json"},maxRedirects:5,maxContentLength:50*1024*1024,maxBodyLength:50*1024*1024}),UO=Dn.create({baseURL:"https://qabael.premiumasp.net/api",timeout:3e4,headers:{"Content-Type":"application/json"}});rd.interceptors.request.use(e=>e,e=>Promise.reject(e));rd.interceptors.response.use(e=>e,e=>(e.response||e.request,Promise.reject(e)));fr.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));fr.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)});UO.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));UO.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)});let nl=null;const pee=3e4,dr={login:(e,t)=>rd.post("/account/login",{Email:e,Password:t}).then(r=>{const n=r.data;if(n.success===!1||n.error||n.errors){const a=n.message||n.error||"Login failed";throw new Error(a)}let s=n.token||n.accessToken||n.access_token,i=n.user||n.userData||n.userInfo;if(!s&&n.data&&(s=n.data.token||n.data.accessToken||n.data.access_token,i=i||n.data.user||n.data.userData||n.data.userInfo),!s&&typeof n=="string"&&(s=n),s&&!i)if(n.userName||n.email)i={id:n.id||n.userId||n.userID||n.user_id||"unknown",firstName:n.userName||n.firstName||"User",lastName:n.lastName||"",email:n.email||"",phone:n.phone||void 0,language:"ar",theme:"light"};else try{const a=s.split(".")[1];if(a){const o=a.replace(/-/g,"+").replace(/_/g,"/"),c=decodeURIComponent(atob(o).split("").map(function(A){return"%"+("00"+A.charCodeAt(0).toString(16)).slice(-2)}).join("")),u=JSON.parse(c);i={id:u.nameid||u.sub||u.userId||u.userID||u.user_id||u.id||"unknown",firstName:u["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname"]||u.given_name||u.name||u.userName||u["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]||"User",lastName:u.family_name||u["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname"]||"",email:u["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||u.email||"",phone:u.phone_number||void 0,language:"ar",theme:"light"}}}catch(a){console.warn("Could not parse token for user data:",a)}if(!s)throw new Error("Invalid login response: No authentication token received");if(!i||i.id==="unknown"&&!i.email)throw new Error("Invalid login response: No valid user identifier received");return nl=null,{token:s,user:i,success:!0}}).catch(r=>{var n;if(r.response){const s=r.response.status,i=r.response.data;if(s===401)throw new Error("Invalid email or password");if(s===403)throw new Error("Account is disabled or suspended");if(s===429)throw new Error("Too many login attempts. Please try again later");if(s>=500)throw new Error("Server error. Please try again later");const a=(i==null?void 0:i.message)||(i==null?void 0:i.error)||((n=i==null?void 0:i.errors)==null?void 0:n[0])||`Login failed with status ${s}`;throw new Error(a)}else throw r.request?new Error("Network error: Unable to reach the server. Please check your connection."):new Error(r.message||"Login error occurred")}),register:(e,t,r,n)=>rd.post("/account/register",{UserName:e,Email:t,Password:r,PasswordConfirmation:n}).then(s=>{const i=s.data;if(i.success===!1||i.error||i.errors){const c=i.message||i.error||"Registration failed";throw new Error(c)}let a=i.token||i.accessToken||i.access_token,o=i.user||i.userData||i.userInfo;if(!a&&i.data&&(a=i.data.token||i.data.accessToken||i.data.access_token,o=o||i.data.user||i.data.userData||i.data.userInfo),!a&&typeof i=="string"&&(a=i),a&&!o)if(i.userName||i.email)o={id:i.id||i.userId||"unknown",firstName:i.userName||i.firstName||"User",lastName:i.lastName||"",email:i.email||"",phone:i.phone||void 0,language:"ar",theme:"light"};else try{const c=a.split(".")[1];if(c){const u=c.replace(/-/g,"+").replace(/_/g,"/"),A=decodeURIComponent(atob(u).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")),f=JSON.parse(A);o={id:f.nameid||f.sub||f.userId||"unknown",firstName:f["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname"]||f.given_name||f.name||f.userName||"User",lastName:f.family_name||"",email:f["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||f.email||"",phone:f.phone_number||void 0,language:"ar",theme:"light"}}}catch(c){console.warn("Could not parse token for user data:",c)}if(!a)throw new Error("Invalid registration response: No authentication token received");if(!o||o.id==="unknown"&&!o.email)throw new Error("Invalid registration response: No valid user identifier received");return{token:a,user:o,success:!0}}).catch(s=>{var i;if(s.response){const a=s.response.status,o=s.response.data;if(a===400){if(o!=null&&o.errors){const u=Object.values(o.errors).flat();throw new Error(u.join(", ")||"Registration validation failed")}throw new Error("Invalid registration data")}else{if(a===409)throw new Error("Email or username already exists");if(a===422)throw new Error("Registration data validation failed");if(a>=500)throw new Error("Server error. Please try again later")}const c=(o==null?void 0:o.message)||(o==null?void 0:o.error)||((i=o==null?void 0:o.errors)==null?void 0:i[0])||`Registration failed with status ${a}`;throw new Error(c)}else throw s.request?new Error("Network error: Unable to reach the server. Please check your connection."):new Error(s.message||"Registration error occurred")}),getCurrentUser:()=>{const e=Date.now();return nl&&e-nl.timestamp<pee&&nl.data&&nl.data&&(nl.data.id!=="unknown"||nl.data.email)?Promise.resolve(nl.data):fr.get("/account",{responseType:"json",decompress:!0}).then(t=>{const r=t.data;if(!r||r.id==="unknown"&&!r.email)throw new Error("Invalid user data received from server");return nl={data:r,timestamp:e},r})},emailExists:e=>fr.get(`/account/Emailexists?email=${e}`).then(t=>t.data),signOut:()=>fr.post("/account/SignOut").then(e=>e.data),forgetPassword:e=>rd.post("https://qabael.premiumasp.net/api/account/ForgetPassword",{Email:e}).then(t=>t.data).catch(t=>{var r,n,s;if(t.response){if(t.response.status===404)return{};const i=((r=t.response.data)==null?void 0:r.message)||((n=t.response.data)==null?void 0:n.error)||"";if(i.includes("User not found")||i.includes("user not found"))return{}}else if(t.code==="ERR_NETWORK"||(s=t.message)!=null&&s.includes("Network Error"))return{};return{}}),resetPassword:(e,t,r,n)=>fr.post(`/account/reset-password?email=${e}&token=${t}`,{NewPassword:r,ConfirmPassword:n}).then(s=>s.data),getProfile:()=>fr.get("/Profile").then(e=>e.data),updateNotificationSettings:e=>fr.put("/Profile/notifications",e).then(t=>t.data).catch(t=>{var r;if(((r=t.response)==null?void 0:r.status)===405)return fr.post("/Profile/notifications",e).then(n=>n.data);throw t}),updatePrivacySettings:e=>fr.put("/Profile/privacy",e).then(t=>t.data).catch(t=>{var r;if(((r=t.response)==null?void 0:r.status)===405)return fr.post("/Profile/privacy",e).then(n=>n.data);throw t}),updateProfile:(e,t,r,n,s,i,a,o,c)=>fr.post("/Profile",{userName:e,displayName:t,phoneNumber:r,age:n,nationality:s,nidOrPassport:i,city:a,country:o,gender:c}).then(u=>u.data).catch(u=>{var A;if(((A=u.response)==null?void 0:A.status)===405)return fr.put("/Profile",{userName:e,displayName:t,phoneNumber:r,age:n,nationality:s,nidOrPassport:i,city:a,country:o,gender:c}).then(f=>f.data);throw u}),createOrUpdateProfile:(e,t,r,n,s,i,a,o,c)=>fr.post("/Profile",{userName:e,displayName:t,phoneNumber:r,age:n,nationality:s,nidOrPassport:i,city:a,country:o,gender:c}).then(u=>u.data),uploadProfilePicture:e=>fr.post("/Profile/upload-picture",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>t.data),deleteProfilePicture:()=>fr.delete("/Profile/delete-picture").then(e=>e.data),getTrees:()=>Kh||(Kh=fr.get("/FamilyTree").then(e=>e.data).finally(()=>{Kh=null}),Kh),getAllPublicTrees:()=>zh||(zh=rd.get("/FamilyTree/public").then(e=>e.data).finally(()=>{zh=null}),zh),addTree:(e,t,r)=>fr.post("/FamilyTree",{name:e,IsPrivate:t,Description:r}).then(n=>n),getTreeById:e=>fr.get(`/FamilyTree/${e}`).then(t=>t.data),updateTree:(e,t,r,n)=>{if(!t||t.trim()==="")return Promise.reject(new Error("Tree name is required"));const s={name:t.trim(),IsPrivate:r,Description:(n==null?void 0:n.trim())||""};return fr.put(`/FamilyTree/${e}`,s).then(i=>i).catch(i=>{throw i.response,i})},deleteTree:e=>fr.delete(`/FamilyTree/${e}`).then(t=>t.data),uploadTreePhoto:e=>fr.post("/FamilyTree/upload-picture",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>t.data),deleteTreePhoto:e=>fr.delete(`/FamilyTree/Delete-photo/${e}`).then(t=>t.data),addPerson:(e,t,r,n,s,i,a,o)=>{const c={name:e};return t&&t.trim()!==""&&(c.birthDate=t),r&&r.trim()!==""&&(c.birthPlace=r),n&&n.trim()!==""&&(c.occupation=n),s&&s.trim()!==""&&(c.gender=s),i&&i.trim()!==""&&(c.DeathDate=i),c.IsDeceased=a,c.FamilyTreeId=o,fr.post("/Person",c).then(u=>u).catch(u=>{throw u.response,u})},getPersonsInTree:e=>{const t=e.toString(),r=Date.now();return Cf[t]&&r-Cf[t].timestamp<mee?Promise.resolve(Cf[t].data):fr.get(`/Person/person_in_tree?familyTreeId=${e}`).then(n=>(Cf[t]={data:n.data,timestamp:r},n.data))},updatePerson:(e,t,r,n,s,i,a)=>{const o={name:t};return r&&r.trim()!==""&&(o.birthDate=r),n&&n.trim()!==""&&(o.birthPlace=n),s&&s.trim()!==""&&(o.occupation=s),i&&i.trim()!==""&&(o.gender=i),a&&(o.familyTreeId=a),fr.put(`/Person/${e}`,o).then(c=>c).catch(c=>{throw c.response,c})},getPersonById:e=>fr.get(`/Person/${e}`).then(t=>t.data).catch(t=>{throw t}),deletePerson:e=>fr.delete(`/Person/${e}`).then(t=>t.data).catch(t=>{var r,n;if(t.response){const s=((r=t.response.data)==null?void 0:r.message)||((n=t.response.data)==null?void 0:n.error)||JSON.stringify(t.response.data);throw new Error(`Server error ${t.response.status}: ${s||"Unknown server error"}`)}else throw t.request?new Error("Network error: No response received from server"):new Error(`Request error: ${t.message}`)}),uploadPersonPicture:e=>fr.post("/Person/upload-picture",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>t.data),deletePersonPicture:e=>fr.delete(`/Person/delete-photo/${e}`).then(t=>t.data),addRelationship:(e,t,r)=>fr.post("/Relationship",{personId:e,relatedPersonId:t,relationshipType:r}).then(n=>n.data),getRelationships:()=>fr.get("/Relationship").then(e=>e.data),deleteRelationship:e=>fr.delete(`/Relationship/${e}`).then(t=>t.data),testApiConnectivity:async()=>{var e;try{return(await fr.get("/health",{timeout:5e3})).status===200}catch(t){return((e=t.response)==null?void 0:e.status)===404}},createJoinRequest:async(e,t,r,n,s,i,a,o,c,u)=>{var f,d;if(!e||e<=0)throw new Error("Invalid family tree ID");if(!t||t.trim().length<2)throw new Error("Name must be at least 2 characters");if(!r)throw new Error("Birth date is required");if(!n||n.trim().length<2)throw new Error("Birth place must be at least 2 characters");if(!s||!["Male","Female"].includes(s))throw new Error("Gender must be either Male or Female");if(!i||i.trim().length<2)throw new Error("Occupation must be at least 2 characters");const A={FamilyTreeId:e,Name:t,BirthDate:r,BirthPlace:n,Gender:s,Occupation:i,RelatedPersonId:a,Status:o,RequesterId:c,RelationshipType:u};try{return(await fr.post("/JoinRequest",A)).data}catch(h){if(h.response){const g=((f=h.response.data)==null?void 0:f.message)||((d=h.response.data)==null?void 0:d.error)||JSON.stringify(h.response.data);throw new Error(`Server error ${h.response.status}: ${g||"Unknown server error"}`)}else throw h.request?new Error("Network error: No response received from server"):new Error(`Request error: ${h.message}`)}},getJoinRequestsByTree:e=>fr.get(`/JoinRequest/by-tree/${e}`).then(t=>t.data),acceptJoinRequest:e=>fr.put(`/JoinRequest/${e}/accept`,{}).then(t=>t.data),rejectJoinRequest:e=>fr.put(`/JoinRequest/${e}/reject`,{}).then(t=>t.data),getAdminTrees:()=>fr.get("/FamilyTree/Admin_FamilyTrees").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{data:[]}:{data:[]}}),getUserCount:()=>fr.get("/admin/users/count").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{count:0}:{count:0}}),getTotalTreeCount:()=>fr.get("/admin/familytrees/count").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{count:0}:{count:0}}),getPrivateTreeCount:()=>fr.get("/admin/familytrees/private/count").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{count:0}:{count:0}}),getPublicTreeCount:()=>fr.get("/admin/familytrees/public/count").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{count:0}:{count:0}}),getPersonCount:()=>fr.get("/admin/persons/count").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{count:0}:{count:0}}),getAllSubscriptions:()=>fr.get("/admin/subscriptions").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{data:[]}:{data:[]}}),getSubscriptionById:e=>fr.get(`/admin/subscriptions/${e}`).then(t=>t.data).catch(t=>{var r;return((r=t.response)==null?void 0:r.status)===404,null}),updateSubscription:(e,t)=>fr.put(`/admin/subscriptions/${e}`,t).then(r=>r.data).catch(r=>{var n;return((n=r.response)==null?void 0:n.status)===404,null}),cancelSubscription:e=>fr.post(`/admin/subscriptions/${e}/cancel`).then(t=>t.data).catch(t=>{var r;return((r=t.response)==null?void 0:r.status)===404,null}),refundSubscription:(e,t)=>fr.post(`/admin/subscriptions/${e}/refund`,{amount:t}).then(r=>r.data).catch(r=>{var n;return((n=r.response)==null?void 0:n.status)===404,null}),getAllUsers:()=>fr.get("/admin/users").then(e=>e.data).catch(e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{data:[],count:0}:{data:[],count:0}}),deleteUser:e=>fr.delete(`/admin/users/${e}`).then(t=>t.data),blockUser:e=>Promise.resolve({success:!0,message:`User with email ${e} blocked successfully`}),clearPersonsInTreeCache:()=>{Object.keys(Cf).forEach(e=>{delete Cf[e]})},clearUserCache:()=>{nl=null}},gee=e=>{if(!e||!e.token||typeof e.token!="string"||e.token.trim()===""||!e.user||!e.user.id||!e.user.email)return!1;const t=e.token.split(".");if(t.length!==3)return!1;try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join("")),i=JSON.parse(s),a=Math.floor(Date.now()/1e3);return!(i.exp&&i.exp<a)}catch{return!1}},xee=e=>{try{const r=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch{return null}},Gh=(e,t)=>{const r=xee(t),n=(e==null?void 0:e.role)==="admin",s=(r==null?void 0:r.role)==="admin",i=(e==null?void 0:e.email)==="alkarbi.mohamed@gmail.com"||(r==null?void 0:r.email)==="alkarbi.mohamed@gmail.com",a=n||s||i;return{id:(e==null?void 0:e.id)||(r==null?void 0:r.nameid)||(r==null?void 0:r.sub)||(r==null?void 0:r.userId)||(e==null?void 0:e.userId)||"unknown",firstName:(e==null?void 0:e.firstName)||(e==null?void 0:e.userName)||(r==null?void 0:r.given_name)||(r==null?void 0:r.name)||"User",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||(r==null?void 0:r.email)||"",phone:(e==null?void 0:e.phone)||(e==null?void 0:e.phoneNumber)||(r==null?void 0:r.phone_number)||void 0,dateOfBirth:(e==null?void 0:e.dateOfBirth)||void 0,gender:(e==null?void 0:e.gender)||(e==null?void 0:e.gender)||(r==null?void 0:r.gender)||void 0,country:(e==null?void 0:e.country)||(e==null?void 0:e.nationality)||(r==null?void 0:r.country)||void 0,city:(e==null?void 0:e.city)||void 0,language:(e==null?void 0:e.language)||"en",theme:(e==null?void 0:e.theme)||"light",timezone:(e==null?void 0:e.timezone)||(r==null?void 0:r.zoneinfo)||void 0,avatar:(e==null?void 0:e.avatar)||void 0,isEmailVerified:(e==null?void 0:e.isEmailVerified)||!1,stats:(e==null?void 0:e.stats)||{treesCreated:0,totalPeople:0,photosUploaded:0,documentsUploaded:0,storageUsed:0,totalLogins:0},notifications:(e==null?void 0:e.notifications)||{email:{newSuggestions:!0,treeUpdates:!0,subscriptionUpdates:!0,marketing:!1},push:{enabled:!0}},privacy:(e==null?void 0:e.privacy)||{profileVisibility:"public",allowSearchEngines:!1,showOnlineStatus:!0},createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),lastLoginAt:(e==null?void 0:e.lastLoginAt)||void 0,role:a?"admin":(e==null?void 0:e.role)||(r==null?void 0:r.role)||"user"}},hn={login:async e=>{try{const t=await dr.login(e.email,e.password);if(!gee(t))throw new Error("Invalid login response: Authentication failed");localStorage.setItem("authToken",t.token);let r={};try{r=await dr.getProfile()}catch(i){console.warn("Failed to fetch profile data:",i)}const n={...t.user,...r,firstName:r.userName||r.firstName||t.user.firstName||"User",lastName:r.lastName||t.user.lastName||"",phone:r.phoneNumber!==void 0?r.phoneNumber:t.user.phone,country:r.country||r.nationality||t.user.country,city:r.city||t.user.city,dateOfBirth:r.dateOfBirth||t.user.dateOfBirth,gender:r.gender||t.user.gender,email:t.user.email||r.email||""},s=Gh(n,t.token);return localStorage.setItem("user",JSON.stringify(s)),t.user=s,t}catch(t){if(localStorage.removeItem("authToken"),localStorage.removeItem("user"),t.response){const r=t.response.status,n=t.response.data;switch(r){case 400:throw new Error("Invalid email or password format");case 401:throw new Error("Invalid email or password");case 403:throw new Error("Account is disabled or suspended");case 429:throw new Error("Too many login attempts. Please try again later");case 500:throw new Error("Server error. Please try again later");default:throw new Error((n==null?void 0:n.message)||"Login failed. Please try again")}}else throw t.code==="ERR_NETWORK"?new Error("Network error. Please check your internet connection"):t.message?new Error(t.message):new Error("Login failed. Please check your credentials and try again")}},register:async e=>{try{const t=await dr.register(e.name||e.firstName,e.email,e.password,e.confirmPassword);if(t.token&&localStorage.setItem("authToken",t.token),t.user||t.token){const r=Gh(t.user||{},t.token);localStorage.setItem("user",JSON.stringify(r)),t.user=r}return t}catch(t){throw t}},logout:async()=>{try{await dr.signOut()}catch{}finally{localStorage.removeItem("authToken"),localStorage.removeItem("user")}},getCurrentUser:async()=>{try{const e=await dr.getCurrentUser();let t={};try{t=await dr.getProfile()}catch(i){console.warn("Failed to fetch profile data:",i)}const r={...e,...t,firstName:t.userName||t.firstName||e.firstName||"User",lastName:t.lastName||e.lastName||"",phone:t.phoneNumber!==void 0?t.phoneNumber:e.phone,country:t.country||t.nationality||e.country,city:t.city||e.city,dateOfBirth:t.dateOfBirth||e.dateOfBirth,gender:t.gender||e.gender,email:e.email||t.email||""},n=localStorage.getItem("authToken");if(n){const i=Gh(r,n);return localStorage.setItem("user",JSON.stringify(i)),i}return Gh(r,"")}catch(e){throw e}},emailExists:async e=>{try{return await dr.emailExists(e)}catch(t){throw t}},forgotPassword:async e=>{try{await dr.forgetPassword(e)}catch{}},resetPassword:async(e,t,r,n)=>{try{await dr.resetPassword(e,t,r,n)}catch(s){throw s}},verifyEmail:async e=>{try{await new Promise(t=>setTimeout(t,1e3))}catch(t){throw t}},resendVerificationEmail:async()=>{try{await new Promise(e=>setTimeout(e,1e3))}catch(e){throw e}},getStoredToken:()=>localStorage.getItem("authToken"),getStoredUser:()=>{const e=localStorage.getItem("user");if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t=="object"&&!t.firstName&&t.userName){const r=localStorage.getItem("authToken");if(r)return Gh(t,r)}return t}catch{return null}},storeUser:e=>{localStorage.setItem("user",JSON.stringify(e))},clearStoredAuth:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user")},isTokenExpired:()=>{const e=localStorage.getItem("authToken");if(!e)return!0;try{const t=e.split(".")[1];if(!t)return!0;const r=t.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join("")),s=JSON.parse(n),i=Math.floor(Date.now()/1e3);return s.exp<i}catch{return!1}},refreshToken:async()=>{throw new Error("Token refresh not implemented")},updateProfile:async e=>{try{const t=hn.getStoredUser();if(!t)throw new Error("No user data found");const r={userName:e.firstName||t.firstName||"",displayName:e.firstName||t.firstName||"",phoneNumber:e.phone||t.phone||"",age:e.dateOfBirth?Math.floor((Date.now()-new Date(e.dateOfBirth).getTime())/(1e3*365*24*60*60)).toString():t.dateOfBirth?Math.floor((Date.now()-new Date(t.dateOfBirth).getTime())/(1e3*365*24*60*60)).toString():"",nationality:e.country||t.country||"",nidOrPassport:"",city:e.city||t.city||"",country:e.country||t.country||"",gender:e.gender||t.gender||""};await dr.updateProfile(r.userName,r.displayName,r.phoneNumber,r.age,r.nationality,r.nidOrPassport,r.city,r.country,r.gender);const n={...t,...e,firstName:e.firstName!==void 0?e.firstName:t.firstName,lastName:e.lastName!==void 0?e.lastName:t.lastName,phone:e.phone!==void 0?e.phone:t.phone,dateOfBirth:e.dateOfBirth!==void 0?e.dateOfBirth:t.dateOfBirth,country:e.country!==void 0?e.country:t.country,city:e.city!==void 0?e.city:t.city,gender:e.gender!==void 0?e.gender:t.gender};return hn.storeUser(n),n}catch(t){throw t}},uploadAvatar:async e=>{try{const t=new FormData;t.append("picture",e);const r=await dr.uploadProfilePicture(t),n=hn.getStoredUser();if(n){const s={...n,avatar:r};hn.storeUser(s)}return{avatar:r}}catch(t){throw t}},deleteAvatar:async()=>{try{await dr.deleteProfilePicture();const e=hn.getStoredUser();if(e){const t={...e,avatar:void 0};hn.storeUser(t)}}catch(e){throw e}},changePassword:async(e,t,r)=>{throw new Error("Change password not implemented")},updateNotificationSettings:async e=>{try{return await dr.updateNotificationSettings(e)}catch(t){throw t}},updatePrivacySettings:async e=>{try{return await dr.updatePrivacySettings(e)}catch(t){throw t}},deleteAccount:async()=>{throw new Error("Delete account not implemented")},deleteUser:async e=>{try{await dr.deleteUser(e)}catch(t){throw t}}};let Yy=null,Xy="",Vh=null;const ru=e=>{if(!e)return Yy=null,Xy="",null;const t=JSON.stringify(e);return t!==Xy&&(Yy=e,Xy=t),Yy},os=nE()(cO(sE((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!0,login:async r=>{e({isLoading:!0});try{const n=await hn.login(r);if(!n.user||!n.token)throw new Error("Invalid login response");return e({user:ru(n.user),token:n.token,isAuthenticated:!0,isLoading:!1}),n}catch(n){throw e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),n}},register:async r=>{e({isLoading:!0});try{const n=await hn.register(r);if(!n.user||!n.token)throw new Error("Invalid registration response");return e({user:ru(n.user),token:n.token,isAuthenticated:!0,isLoading:!1}),n}catch(n){throw e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),n}},logout:async()=>{e({isLoading:!0});try{await hn.logout()}catch{}finally{e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}},updateUser:r=>{const n=t().user;if(n){const s={...n,...r};e({user:ru(s)})}},setAuthData:(r,n)=>{e({user:ru(r),token:n,isAuthenticated:!0,isLoading:!1})},clearAuth:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1})},refreshToken:async()=>{try{const r=await hn.refreshToken();e({user:ru(r.user),token:r.token,isAuthenticated:!0})}catch(r){throw e({user:null,token:null,isAuthenticated:!1}),r}},initialize:()=>{const r=hn.getStoredUser(),n=hn.getStoredToken(),s=hn.isTokenExpired();return r&&n&&!s?e({user:ru(r),token:n,isAuthenticated:!0,isLoading:!1}):((n||r)&&hn.clearStoredAuth(),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})),Promise.resolve()},getCurrentUser:async()=>Vh||(Vh=(async()=>{try{const r=await hn.getCurrentUser();if(!r||r.id==="unknown"&&!r.email)throw new Error("Invalid user data received");return e({user:ru(r),isAuthenticated:!0,isLoading:!1}),r}catch(r){throw e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),r}finally{Vh=null}})(),Vh),updateProfile:async r=>{e({isLoading:!0});try{const n=await hn.updateProfile(r);return e({user:n,isLoading:!1}),n}catch(n){throw e({isLoading:!1}),n}},uploadAvatar:async r=>{e({isLoading:!0});try{const n=await hn.uploadAvatar(r),s=t().user;return s&&e({user:{...s,avatar:n.avatar},isLoading:!1}),n}catch(n){throw e({isLoading:!1}),n}},deleteAvatar:async()=>{e({isLoading:!0});try{await hn.deleteAvatar();const r=t().user;r&&e({user:{...r,avatar:void 0},isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},changePassword:async(r,n,s)=>{e({isLoading:!0});try{await hn.changePassword(r,n,s),e({isLoading:!1})}catch(i){throw e({isLoading:!1}),i}},updateNotificationSettings:async r=>{e({isLoading:!0});try{const n=await hn.updateNotificationSettings(r),s=t().user;return s&&e({user:{...s,notifications:n},isLoading:!1}),n}catch(n){throw e({isLoading:!1}),n}},updatePrivacySettings:async r=>{e({isLoading:!0});try{const n=await hn.updatePrivacySettings(r),s=t().user;return s&&e({user:{...s,privacy:n},isLoading:!1}),n}catch(n){throw e({isLoading:!1}),n}},deleteAccount:async()=>{e({isLoading:!0});try{await hn.deleteAccount(),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}catch(r){throw e({isLoading:!1}),r}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}),{name:"auth-store"})),ir=nE()(sE((e,t)=>({language:"ar",theme:"light",sidebarCollapsed:!1,notifications:[],setLanguage:r=>e({language:r}),setTheme:r=>e({theme:r}),setSidebarCollapsed:r=>e({sidebarCollapsed:r}),addNotification:r=>{const n=Math.random().toString(36).substr(2,9),s={...r,id:n};e(a=>({notifications:[...a.notifications,s]}));const i=r.duration||5e3;return setTimeout(()=>{t().removeNotification(n)},i),n},removeNotification:r=>e(n=>({notifications:n.notifications.filter(s=>s.id!==r)})),clearNotifications:()=>e({notifications:[]}),showSuccess:(r,n)=>t().addNotification({type:"success",title:r,message:n||"",duration:5e3}),showError:(r,n)=>t().addNotification({type:"error",title:r,message:n||"",duration:7e3}),showErrorWithAction:(r,n,s)=>t().addNotification({type:"error",title:r,message:n||"",action:s,duration:7e3}),showWarning:(r,n)=>t().addNotification({type:"warning",title:r,message:n||"",duration:6e3}),showInfo:(r,n)=>t().addNotification({type:"info",title:r,message:n||"",duration:5e3})}),{name:"ui-store",partialize:e=>({language:e.language,theme:e.theme,sidebarCollapsed:e.sidebarCollapsed})})),PO=(e=10)=>{const t=re.useRef(null),r=re.useRef(null),{logout:n}=os(),s=ls(),i=()=>{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current);const a=e*60*1e3-60*1e3;r.current=setTimeout(()=>{window.dispatchEvent(new CustomEvent("inactivity-warning"))},a),t.current=setTimeout(async()=>{try{await n(),s("/login")}catch{s("/login")}},e*60*1e3)};return re.useEffect(()=>{const a=["mousedown","mousemove","keypress","scroll","touchstart","click"],o=()=>{i()};return a.forEach(c=>{window.addEventListener(c,o,{passive:!0})}),i(),()=>{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current),a.forEach(c=>{window.removeEventListener(c,o)})}},[e]),{resetLogoutTimer:i}};function MO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=MO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vee(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=MO(e))&&(n&&(n+=" "),n+=t);return n}const lE="-",yee=e=>{const t=bee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(lE);return o[0]===""&&o.length!==1&&o.shift(),RO(o,t)||wee(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},RO=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?RO(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(lE);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},e8=/^\[(.+)\]$/,wee=e=>{if(e8.test(e)){const t=e8.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},bee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Nee(Object.entries(e.classGroups),r).forEach(([i,a])=>{JN(a,n,i,t)}),n},JN=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:t8(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Bee(s)){JN(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{JN(a,t8(t,i),r,n)})})},t8=(e,t)=>{let r=e;return t.split(lE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Bee=e=>e.isThemeGetter,Nee=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,_ee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},OO="!",Cee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,A=0,f;for(let m=0;m<o.length;m++){let x=o[m];if(u===0){if(x===s&&(n||o.slice(m,m+i)===t)){c.push(o.slice(A,m)),A=m+i;continue}if(x==="/"){f=m;continue}}x==="["?u++:x==="]"&&u--}const d=c.length===0?o:o.substring(A),h=d.startsWith(OO),g=h?d.substring(1):d,p=f&&f>A?f-A:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:p}};return r?o=>r({className:o,parseClassName:a}):a},Eee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},See=e=>({cache:_ee(e.cacheSize),parseClassName:Cee(e),...yee(e)}),Fee=/\s+/,jee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(Fee);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:A,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=r(u);let g=!!h,p=n(g?d.substring(0,h):d);if(!p){if(!g){o=u+(o.length>0?" "+o:o);continue}if(p=n(d),!p){o=u+(o.length>0?" "+o:o);continue}g=!1}const m=Eee(A).join(":"),x=f?m+OO:m,v=x+p;if(i.includes(v))continue;i.push(v);const y=s(p,g);for(let w=0;w<y.length;++w){const S=y[w];i.push(x+S)}o=u+(o.length>0?" "+o:o)}return o};function Tee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=QO(t))&&(n&&(n+=" "),n+=r);return n}const QO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=QO(e[n]))&&(r&&(r+=" "),r+=t);return r};function Iee(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((A,f)=>f(A),e());return r=See(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const A=jee(c,r);return s(c,A),A}return function(){return i(Tee.apply(null,arguments))}}const Ln=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},DO=/^\[(?:([a-z-]+):)?(.+)\]$/i,kee=/^\d+\/\d+$/,Lee=new Set(["px","full","screen"]),Uee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ree=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ql=e=>Ad(e)||Lee.has(e)||kee.test(e),Kc=e=>th(e,"length",Gee),Ad=e=>!!e&&!Number.isNaN(Number(e)),Jy=e=>th(e,"number",Ad),Wh=e=>!!e&&Number.isInteger(Number(e)),Qee=e=>e.endsWith("%")&&Ad(e.slice(0,-1)),Cr=e=>DO.test(e),zc=e=>Uee.test(e),Dee=new Set(["length","size","percentage"]),Hee=e=>th(e,Dee,HO),$ee=e=>th(e,"position",HO),qee=new Set(["image","url"]),Kee=e=>th(e,qee,Wee),zee=e=>th(e,"",Vee),Yh=()=>!0,th=(e,t,r)=>{const n=DO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Gee=e=>Pee.test(e)&&!Mee.test(e),HO=()=>!1,Vee=e=>Ree.test(e),Wee=e=>Oee.test(e),Yee=()=>{const e=Ln("colors"),t=Ln("spacing"),r=Ln("blur"),n=Ln("brightness"),s=Ln("borderColor"),i=Ln("borderRadius"),a=Ln("borderSpacing"),o=Ln("borderWidth"),c=Ln("contrast"),u=Ln("grayscale"),A=Ln("hueRotate"),f=Ln("invert"),d=Ln("gap"),h=Ln("gradientColorStops"),g=Ln("gradientColorStopPositions"),p=Ln("inset"),m=Ln("margin"),x=Ln("opacity"),v=Ln("padding"),y=Ln("saturate"),w=Ln("scale"),S=Ln("sepia"),T=Ln("skew"),j=Ln("space"),I=Ln("translate"),B=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Cr,t],k=()=>[Cr,t],E=()=>["",ql,Kc],U=()=>["auto",Ad,Cr],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Cr],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ad,Cr];return{cacheSize:500,separator:":",theme:{colors:[Yh],spacing:[ql,Kc],blur:["none","",zc,Cr],brightness:G(),borderColor:[e],borderRadius:["none","","full",zc,Cr],borderSpacing:k(),borderWidth:E(),contrast:G(),grayscale:O(),hueRotate:G(),invert:O(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Qee,Kc],inset:N(),margin:N(),opacity:G(),padding:k(),saturate:G(),scale:G(),sepia:O(),skew:G(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Cr]}],container:["container"],columns:[{columns:[zc]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Cr]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wh,Cr]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cr]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Wh,Cr]}],"grid-cols":[{"grid-cols":[Yh]}],"col-start-end":[{col:["auto",{span:["full",Wh,Cr]},Cr]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Yh]}],"row-start-end":[{row:["auto",{span:[Wh,Cr]},Cr]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cr]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Cr,t]}],"min-w":[{"min-w":[Cr,t,"min","max","fit"]}],"max-w":[{"max-w":[Cr,t,"none","full","min","max","fit","prose",{screen:[zc]},zc]}],h:[{h:[Cr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Cr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Cr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Cr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zc,Kc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jy]}],"font-family":[{font:[Yh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cr]}],"line-clamp":[{"line-clamp":["none",Ad,Jy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ql,Cr]}],"list-image":[{"list-image":["none",Cr]}],"list-style-type":[{list:["none","disc","decimal",Cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ql,Kc]}],"underline-offset":[{"underline-offset":["auto",ql,Cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),$ee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[ql,Cr]}],"outline-w":[{outline:[ql,Kc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ql,Kc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zc,zee]}],"shadow-color":[{shadow:[Yh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zc,Cr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cr]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Cr]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Wh,Cr]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ql,Kc,Jy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xee=Iee(Yee);function Ka(...e){return Xee(vee(e))}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),jt=(e,t)=>{const r=re.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},A)=>re.createElement("svg",{ref:A,...Jee,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Zee(e)}`,o].join(" "),...u},[...t.map(([f,d])=>re.createElement(f,d)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=jt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=jt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=jt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=jt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=jt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=jt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=jt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=jt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=jt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=jt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=jt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=jt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=jt("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=jt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=jt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=jt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=jt("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=jt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=jt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=jt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=jt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=jt("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=jt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=jt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=jt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=jt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=jt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=jt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=jt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=jt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=jt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=jt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=jt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=jt("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=jt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=jt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=jt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=jt("UserRoundCheck",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=jt("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=jt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=jt("VenetianMask",[["path",{d:"M2 12a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V7h-5a8 8 0 0 0-5 2 8 8 0 0 0-5-2H2Z",key:"1g6z3j"}],["path",{d:"M6 11c1.5 0 3 .5 3 2-2 0-3 0-3-2Z",key:"c2lwnf"}],["path",{d:"M18 11c-1.5 0-3 .5-3 2 2 0 3 0 3-2Z",key:"njd9zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=jt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=jt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=jt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=jt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=jt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),je=({className:e,variant:t="default",size:r="default",asChild:n=!1,loading:s=!1,loadingText:i,children:a,disabled:o,...c})=>{const u={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},A={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"},f={...c};return delete f.asChild,delete f.loading,delete f.loadingText,l.jsxs("button",{className:Ka("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u[t],A[r],e),disabled:o||s,...f,children:[s&&l.jsx(Vn,{className:"mr-2 h-4 w-4 animate-spin"}),s&&i?i:a]})},Xh=({children:e})=>{const{language:t,theme:r,setLanguage:n,setTheme:s}=ir(),i=()=>{n(t==="en"?"ar":"en")},a=()=>{s(r==="light"?"dark":"light")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary/5",children:[l.jsx("header",{className:"absolute top-0 left-0 right-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between p-6",children:[l.jsxs(Dt,{to:"/",className:"flex items-center space-x-2",children:[l.jsxs("svg",{className:"h-8 w-8 text-primary",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),l.jsx("path",{d:"M50 20 L35 35 L50 50 L65 35 Z",fill:"currentColor"}),l.jsx("path",{d:"M35 35 L20 50 L35 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M65 35 L80 50 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M35 65 L50 80 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.6"}),l.jsx("circle",{cx:"50",cy:"35",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"35",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"65",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"50",cy:"65",r:"3",fill:"currentColor"})]}),l.jsx("span",{className:"text-xl font-bold text-foreground",children:t==="ar"?"":"Nasabna"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(je,{variant:"ghost",size:"icon",onClick:a,className:"h-9 w-9",children:r==="light"?l.jsx(_m,{className:"h-4 w-4"}):l.jsx(Em,{className:"h-4 w-4"})}),l.jsx(je,{variant:"ghost",size:"icon",onClick:i,className:"h-9 w-9",children:l.jsx(pc,{className:"h-4 w-4"})})]})]})}),l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx("div",{className:"hidden lg:flex lg:flex-1 lg:flex-col lg:justify-center lg:px-8",children:l.jsx("div",{className:"mx-auto max-w-md",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("svg",{className:"mx-auto h-24 w-24 text-primary mb-8",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),l.jsx("path",{d:"M50 20 L35 35 L50 50 L65 35 Z",fill:"currentColor"}),l.jsx("path",{d:"M35 35 L20 50 L35 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M65 35 L80 50 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M35 65 L50 80 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.6"}),l.jsx("circle",{cx:"50",cy:"35",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"35",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"65",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"50",cy:"65",r:"3",fill:"currentColor"})]}),l.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:t==="ar"?"":"Nasabna"}),l.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:t==="ar"?"        ":"Discover your family history and build your genealogy with our comprehensive platform"}),l.jsxs("div",{className:"space-y-4 text-left",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:t==="ar"?"   ":"Full Arabic language support"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:t==="ar"?"  ":"Interactive family trees"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:t==="ar"?"   ":"Secure family sharing"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-primary rounded-full"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:t==="ar"?"  ":"Photo and document storage"})]})]})]})})}),l.jsx("div",{className:"flex flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:l.jsx("div",{className:"mx-auto w-full max-w-md",children:e})})]}),l.jsx("footer",{className:"absolute bottom-0 left-0 right-0 p-6",children:l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" 2024 ",t==="ar"?"":"Nasabna",". ",t==="ar"?"  ":"All rights reserved","."]})})})]})},Ste=e=>e&&typeof e=="object"&&("en"in e||"ar"in e),YO=()=>{const{language:e,showSuccess:t,showError:r,showWarning:n,showInfo:s}=ir();return{success:(u,A)=>{t(u,A)},error:(u,A)=>{r(u,A)},warning:(u,A)=>{n(u,A)},info:(u,A)=>{s(u,A)}}},s8=(e,t)=>Ste(e)?t==="ar"?e.ar:e.en:e,Fte=({notification:e,onClose:t})=>{const{type:r,title:n,message:s,id:i,action:a}=e,{language:o}=ir(),c=()=>s8(n,o),u=()=>s8(s,o),A=()=>{switch(r){case"success":return l.jsx(Ha,{className:"h-5 w-5 text-green-500"});case"error":return l.jsx(pa,{className:"h-5 w-5 text-red-500"});case"warning":return l.jsx(hc,{className:"h-5 w-5 text-yellow-500"});case"info":return l.jsx(Ed,{className:"h-5 w-5 text-blue-500"});default:return null}},f=()=>{switch(r){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-white border-gray-200"}},d=()=>{switch(r){case"success":return"text-green-800";case"error":return"text-red-800";case"warning":return"text-yellow-800";case"info":return"text-blue-800";default:return"text-gray-800"}},h=()=>{switch(r){case"success":return"text-green-700";case"error":return"text-red-700";case"warning":return"text-yellow-700";case"info":return"text-blue-700";default:return"text-gray-700"}};return l.jsxs("div",{className:`flex items-start p-4 rounded-lg border shadow-lg max-w-sm w-full ${f()}`,role:"alert","aria-live":"assertive",dir:o==="ar"?"rtl":"ltr",children:[l.jsx("div",{className:"flex-shrink-0",children:A()}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("h3",{className:`text-sm font-medium ${d()}`,children:c()}),u()&&l.jsx("div",{className:`mt-1 text-sm ${h()}`,children:l.jsx("p",{children:u()})}),a&&l.jsx("div",{className:"mt-3",children:l.jsx("button",{type:"button",onClick:a.onClick,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-primary hover:bg-primary/90 focus:outline-none",children:a.label})})]}),l.jsx("div",{className:"ml-4 flex-shrink-0",children:l.jsx("button",{type:"button",className:"inline-flex rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2",onClick:()=>t(i),"aria-label":o==="ar"?"":"Close",children:l.jsx(Oo,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})})]})},jte=()=>{const{notifications:e,removeNotification:t}=ir(),r=e.slice(-3);return l.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 space-y-2 w-full px-4 flex flex-col items-center",style:{direction:"ltr"},children:r.map(n=>l.jsx(Fte,{notification:n,onClose:t},n.id))})},Jh={},i8=5*60*1e3,a8={},Tte=[{id:"basic",name:"Basic",price:{month:9.99,year:99.99},currency:"USD",features:{maxTrees:1,maxPeoplePerTree:5,maxPhotosPerPerson:0,maxDocumentsPerPerson:0,storage:1073741824,canShare:!0,canExport:!1,smartSuggestions:!1,prioritySupport:!1,customThemes:!1,advancedSearch:!1,collaborators:1},popular:!1},{id:"premium",name:"Premium",price:{month:19.99,year:199.99},currency:"USD",features:{maxTrees:3,maxPeoplePerTree:150,maxPhotosPerPerson:5,maxDocumentsPerPerson:0,storage:10737418240,canShare:!0,canExport:!0,smartSuggestions:!0,prioritySupport:!0,customThemes:!1,advancedSearch:!1,collaborators:5},popular:!0},{id:"family",name:"Family",price:{month:29.99,year:299.99},currency:"USD",features:{maxTrees:0,maxPeoplePerTree:0,maxPhotosPerPerson:20,maxDocumentsPerPerson:5,storage:53687091200,canShare:!0,canExport:!0,smartSuggestions:!0,prioritySupport:!0,customThemes:!0,advancedSearch:!0,collaborators:0},popular:!1}],e_={getSubscriptionPlans:async()=>(await new Promise(e=>setTimeout(e,500)),Tte),subscribeToPlan:async(e,t,r="usd",n="year")=>{try{const s="https://qabael.premiumasp.net/api";let i="";n==="year"||t.includes("_year")?i=`${s}/Payments/CreateSubscription/`:i=`${s}/payments/OneTimePaid/`;const a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,currency:r,productId:t})});if(!a.ok)return console.warn("Subscription API not available, simulating success"),{url:"/subscription/success"};const o=await a.json();if(o.url){window.location.href=o.url;return}else if(o.Url){window.location.href=o.Url;return}if(o.clientSecret)return{clientSecret:o.clientSecret};throw new Error("Failed to create subscription")}catch(s){return console.warn("Subscription API error, simulating success:",s),{url:"/subscription/success"}}},getUserSubscriptionStatus:async e=>{if(!e||e==="unknown"||e.trim()==="")return console.warn("Invalid userId provided to getUserSubscriptionStatus:",e),{isActive:!1,planId:"basic",status:"inactive"};const t=a8[e]||0,r=Date.now();if(r-t<3e4){const s=Jh[e];return s&&r-s.timestamp<i8?s.data:{isActive:!1,planId:"basic",status:"inactive"}}a8[e]=r;const n=Jh[e];if(n&&r-n.timestamp<i8)return n.data;try{const i=await fetch(`https://qabael.premiumasp.net/api/payments/UserSubscriptionStatus/${e}`);if(!i.ok){const o={isActive:!1,planId:"basic",status:"inactive"};return Jh[e]={data:o,timestamp:r},o}const a=await i.json();return Jh[e]={data:a,timestamp:r},a}catch{const i={isActive:!1,planId:"basic",status:"inactive"};return Jh[e]={data:i,timestamp:r},i}},getCurrentSubscription:async e=>(await new Promise(t=>setTimeout(t,300)),null),getUsage:async()=>(await new Promise(e=>setTimeout(e,300)),{trees:0,members:0,photos:0,documents:0,storage:0})},oi=({children:e})=>{var I,B,C,N,k;const[t,r]=ke.useState(!1),[n,s]=ke.useState(!1),[i,a]=ke.useState(null),[o,c]=ke.useState(!1),u=eE(),A=ls(),{user:f,logout:d,updateUser:h}=os(),{language:g,theme:p,setLanguage:m,setTheme:x}=ir(),v=!!f;re.useEffect(()=>{if(!f||!f.id&&!f.email&&!f.firstName)return;const E=f.id||f.email||f.firstName;if(!E||E==="unknown"||f!=null&&f.subscription)return;const U=setTimeout(()=>{(async()=>{c(!0);try{let M="unknown";if(f!=null&&f.id&&f.id!=="unknown"&&f.id.trim()!==""?M=f.id:f!=null&&f.email&&f.email.trim()!==""?M=f.email:f!=null&&f.firstName&&f.firstName.trim()!==""&&(M=f.firstName),!M||M==="unknown"||M.trim()===""){console.warn("Unable to fetch subscription status: No valid user identifier"),c(!1);return}const Q=`subscription_${M}`,K=sessionStorage.getItem(Q);if(K){const{timestamp:z,data:G}=JSON.parse(K);if(Date.now()-z<3e5){a(G),c(!1);return}}const O=await e_.getUserSubscriptionStatus(M);sessionStorage.setItem(Q,JSON.stringify({timestamp:Date.now(),data:O})),O&&(a(O),O&&O.plan&&h({subscription:{id:O.id||"sub_"+Date.now(),plan:O.plan,status:O.status||"active",currentPeriodStart:O.currentPeriodStart||new Date().toISOString(),currentPeriodEnd:O.currentPeriodEnd||new Date(Date.now()+2592e6).toISOString(),cancelAtPeriodEnd:O.cancelAtPeriodEnd||!1,createdAt:O.createdAt||new Date().toISOString(),updatedAt:O.updatedAt||new Date().toISOString(),billing:{amount:0,currency:"usd",interval:"month"},features:{maxTrees:1,maxPeoplePerTree:5,maxPhotosPerPerson:0,maxDocumentsPerPerson:0,storage:1073741824,canShare:!0,canExport:!1,smartSuggestions:!1,prioritySupport:!1,customThemes:!1,advancedSearch:!1,collaborators:1},limits:{trees:1,people:5,photos:0,documents:0,storage:1073741824,collaborators:1},usage:{trees:0,people:0,photos:0,documents:0,storage:0,collaborators:0}}}))}catch(M){console.warn("Failed to fetch subscription status:",M)}finally{c(!1)}})()},1e3);return()=>clearTimeout(U)},[f,h]);const y=[{name:"Dashboard",nameAr:" ",href:"/dashboard",icon:G2},{name:"Family Trees",nameAr:" ",href:"/trees",icon:qr},{name:"Profile",nameAr:" ",href:"/profile",icon:ur},{name:"Subscription",nameAr:"",href:"/subscription",icon:Bm},{name:"Settings",nameAr:"",href:"/settings",icon:Cm},...(f==null?void 0:f.role)==="admin"?[{name:"Admin Dashboard",nameAr:" ",href:"/admin/dashboard",icon:qr}]:[]],w=()=>{m(g==="en"?"ar":"en")},S=()=>{x(p==="light"?"dark":"light")},T=async()=>{try{await d(),A("/")}catch{}},j=E=>u.pathname===E||u.pathname.startsWith(E+"/");return ke.useEffect(()=>{g==="ar"?document.documentElement.setAttribute("dir","rtl"):document.documentElement.setAttribute("dir","ltr")},[g]),ke.useEffect(()=>{const E=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),ke.useEffect(()=>{const E=U=>{if(n){const D=document.getElementById("profile-dropdown"),M=document.getElementById("profile-button");D&&M&&!D.contains(U.target)&&!M.contains(U.target)&&s(!1)}};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[n]),v?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(jte,{}),l.jsx("div",{className:`hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col ${g==="ar"?"lg:right-0":"lg:left-0"}`,children:l.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-card border-border px-6 pb-4 lg:border-r",children:[l.jsx("div",{className:"flex h-16 shrink-0 items-center",children:l.jsxs(Dt,{to:"/dashboard",className:`flex items-center ${g==="ar"?"space-x-reverse":"space-x-2"}`,children:[l.jsxs("svg",{className:"h-8 w-8 text-primary",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),l.jsx("path",{d:"M50 20 L35 35 L50 50 L65 35 Z",fill:"currentColor"}),l.jsx("path",{d:"M35 35 L20 50 L35 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M65 35 L80 50 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M35 65 L50 80 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.6"}),l.jsx("circle",{cx:"50",cy:"35",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"35",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"65",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"50",cy:"65",r:"3",fill:"currentColor"})]}),l.jsx("span",{className:`text-lg font-semibold text-foreground ${g==="ar"?"rtl:text-right":""}`,children:g==="ar"?"":"Nasabna"})]})}),l.jsx("nav",{className:"flex flex-1 flex-col",children:l.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[l.jsx("li",{children:l.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:y.map(E=>l.jsx("li",{children:l.jsxs(Dt,{to:E.href,className:`group flex items-center rounded-md p-2 text-sm leading-6 font-semibold transition-colors ${j(E.href)?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"} ${g==="ar"?"flex-row-reverse":""}`,children:[l.jsx(E.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),l.jsx("span",{className:`truncate ${g==="ar"?"mr-3":"ml-3"}`,children:g==="ar"?E.nameAr:E.name})]})},E.name))})}),l.jsxs("li",{children:[l.jsx("div",{className:"text-xs font-semibold leading-6 text-muted-foreground px-2 py-1",children:g==="ar"?"":"Subscription"}),l.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:o?l.jsx("li",{children:l.jsxs("div",{className:"group flex items-center rounded-md p-2 text-sm leading-6 font-semibold bg-muted",children:[l.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse mr-3"}),l.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"})]})}):f!=null&&f.subscription||i?l.jsx("li",{children:l.jsxs("div",{className:"group flex items-center rounded-md p-2 text-sm leading-6 font-semibold bg-muted",children:[l.jsx(ux,{className:"h-5 w-5 shrink-0 text-green-500","aria-hidden":"true"}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("div",{className:"truncate capitalize",children:((I=f==null?void 0:f.subscription)==null?void 0:I.plan)||(i==null?void 0:i.plan)||"basic"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:((B=f==null?void 0:f.subscription)==null?void 0:B.status)==="active"||(i==null?void 0:i.status)==="active"?g==="ar"?"":"Active":g==="ar"?"":"Expired"})]})]})}):l.jsx("li",{children:l.jsxs(Dt,{to:"/subscription",className:"group flex items-center rounded-md p-2 text-sm leading-6 font-semibold text-muted-foreground hover:text-foreground hover:bg-muted",children:[l.jsx(pa,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),l.jsx("span",{className:"ml-3 truncate",children:g==="ar"?" ":"Subscribe Now"})]})})})]})]})})]})}),l.jsxs("div",{className:`${g==="ar"?"lg:pr-72":"lg:pl-72"}`,children:[l.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[l.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-muted-foreground lg:hidden",onClick:()=>r(!0),children:[l.jsx("span",{className:"sr-only",children:"Open sidebar"}),l.jsx(zO,{className:"h-6 w-6","aria-hidden":"true"})]}),l.jsx("div",{className:"h-6 w-px bg-border lg:hidden","aria-hidden":"true"}),l.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[l.jsx("div",{className:"flex flex-1"}),l.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[l.jsx(je,{variant:"ghost",size:"icon",onClick:S,className:"h-9 w-9",children:p==="light"?l.jsx(_m,{className:"h-4 w-4"}):l.jsx(Em,{className:"h-4 w-4"})}),l.jsx(je,{variant:"ghost",size:"icon",onClick:w,className:"h-9 w-9",children:l.jsx(pc,{className:"h-4 w-4"})}),l.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-border","aria-hidden":"true"}),l.jsxs("div",{className:"relative",children:[l.jsxs(je,{id:"profile-button",variant:"ghost",className:"flex items-center space-x-2 rounded-full p-1 hover:bg-muted",onClick:()=>s(!n),children:[l.jsx("div",{className:"flex-shrink-0",children:(C=f==null?void 0:f.avatar)!=null&&C.url?l.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:f.avatar.url,alt:`${(f==null?void 0:f.firstName)||""} ${(f==null?void 0:f.lastName)||""}`}):l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(ur,{className:"h-4 w-4 text-primary"})})}),l.jsxs("div",{className:"hidden lg:block text-left",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:f!=null&&f.firstName?`${f.firstName} ${(f==null?void 0:f.lastName)||""}`.trim():(f==null?void 0:f.email)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:(f==null?void 0:f.email)||""})]}),l.jsx(K2,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]}),n&&l.jsx("div",{id:"profile-dropdown",className:`absolute z-10 mt-2 w-56 origin-top-right rounded-md bg-card shadow-lg ring-1 ring-border focus:outline-none ${g==="ar"?"left-0":"right-0"}`,children:l.jsxs("div",{className:"p-1",children:[l.jsxs("div",{className:"px-4 py-2 border-b border-border",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:f!=null&&f.firstName?`${f.firstName} ${(f==null?void 0:f.lastName)||""}`.trim():(f==null?void 0:f.email)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:(f==null?void 0:f.email)||""})]}),l.jsx(Dt,{to:"/profile",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted rounded-md",onClick:()=>s(!1),children:g==="ar"?" ":"Profile"}),l.jsx(Dt,{to:"/settings",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted rounded-md",onClick:()=>s(!1),children:g==="ar"?"":"Settings"}),l.jsxs("button",{onClick:()=>{s(!1),T()},className:"w-full text-left px-4 py-2 text-sm text-foreground hover:bg-muted rounded-md flex items-center",children:[l.jsx(ZN,{className:"mr-2 h-4 w-4"}),g==="ar"?" ":"Logout"]})]})})]})]})]})]}),l.jsx("main",{className:"py-6",children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e})})]}),t&&l.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>r(!1)}),l.jsx("div",{className:"fixed inset-0 flex",children:l.jsxs("div",{className:`relative flex w-full max-w-xs flex-1 ${g==="ar"?"ml-16":"mr-16"}`,children:[l.jsx("div",{className:`absolute top-0 flex w-16 justify-center pt-5 ${g==="ar"?"right-full":"left-full"}`,children:l.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>r(!1),children:[l.jsx("span",{className:"sr-only",children:"Close sidebar"}),l.jsx(Oo,{className:"h-6 w-6 text-foreground","aria-hidden":"true"})]})}),l.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-card px-6 pb-4 ring-1 ring-border/10",children:[l.jsx("div",{className:"flex h-16 shrink-0 items-center",children:l.jsxs(Dt,{to:"/dashboard",className:`flex items-center ${g==="ar"?"space-x-reverse":"space-x-2"}`,onClick:()=>r(!1),children:[l.jsxs("svg",{className:"h-8 w-8 text-primary",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),l.jsx("path",{d:"M50 20 L35 35 L50 50 L65 35 Z",fill:"currentColor"}),l.jsx("path",{d:"M35 35 L20 50 L35 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M65 35 L80 50 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M35 65 L50 80 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.6"}),l.jsx("circle",{cx:"50",cy:"35",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"35",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"65",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"50",cy:"65",r:"3",fill:"currentColor"})]}),l.jsx("span",{className:`text-lg font-semibold text-foreground ${g==="ar"?"rtl:text-right":""}`,children:g==="ar"?"":"Nasabna"})]})}),l.jsx("nav",{className:"flex flex-1 flex-col",children:l.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[l.jsx("li",{children:l.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:y.map(E=>l.jsx("li",{children:l.jsxs(Dt,{to:E.href,className:`group flex items-center rounded-md p-2 text-sm leading-6 font-semibold transition-colors ${j(E.href)?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"} ${g==="ar"?"flex-row-reverse":""}`,onClick:()=>r(!1),children:[l.jsx(E.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),l.jsx("span",{className:`truncate ${g==="ar"?"mr-3":"ml-3"}`,children:g==="ar"?E.nameAr:E.name})]})},E.name))})}),l.jsxs("li",{children:[l.jsx("div",{className:"text-xs font-semibold leading-6 text-muted-foreground px-2 py-1",children:g==="ar"?"":"Subscription"}),l.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:o?l.jsx("li",{children:l.jsxs("div",{className:"group flex items-center rounded-md p-2 text-sm leading-6 font-semibold bg-muted",children:[l.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse mr-3"}),l.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"})]})}):f!=null&&f.subscription||i?l.jsx("li",{children:l.jsxs("div",{className:"group flex items-center rounded-md p-2 text-sm leading-6 font-semibold bg-muted",children:[l.jsx(ux,{className:"h-5 w-5 shrink-0 text-green-500","aria-hidden":"true"}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("div",{className:"truncate capitalize",children:((N=f==null?void 0:f.subscription)==null?void 0:N.plan)||(i==null?void 0:i.plan)||"basic"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:((k=f==null?void 0:f.subscription)==null?void 0:k.status)==="active"||(i==null?void 0:i.status)==="active"?g==="ar"?"":"Active":g==="ar"?"":"Expired"})]})]})}):l.jsx("li",{children:l.jsxs(Dt,{to:"/subscription",className:"group flex items-center rounded-md p-2 text-sm leading-6 font-semibold text-muted-foreground hover:text-foreground hover:bg-muted",onClick:()=>r(!1),children:[l.jsx(pa,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),l.jsx("span",{className:"ml-3 truncate",children:g==="ar"?" ":"Subscribe Now"})]})})})]})]})})]})]})})]})]}):l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:`${g==="ar"?"lg:pr-72":"lg:pl-72"}`,children:[l.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"flex flex-1"}),l.jsx("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-8 w-8 rounded-full bg-muted animate-pulse"})}),l.jsxs("div",{className:"hidden lg:block",children:[l.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})]})})})]}),l.jsx("main",{className:"py-6",children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e})})]})})},Ite=()=>{const{language:e}=ir(),t=e==="ar",r={product:[{name:"Features",nameAr:"",href:"/features"},{name:"Pricing",nameAr:"",href:"/pricing"}],company:[{name:"About",nameAr:"",href:"/about"},{name:"Contact",nameAr:" ",href:"/contact"}],legal:[{name:"Privacy",nameAr:"",href:"/privacy"},{name:"Terms",nameAr:"",href:"/terms"}]};return l.jsx("footer",{className:"bg-muted border-t",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(cn,{className:"h-8 w-8 text-primary"}),l.jsx("span",{className:"ml-2 text-xl font-bold",children:t?"":"Nasabna"})]}),l.jsx("p",{className:"mt-4 text-muted-foreground max-w-md",children:t?"      .       .":"A comprehensive platform for building, exploring, and sharing family trees. Connect with your roots and preserve your family's story for future generations."}),l.jsxs("div",{className:"flex space-x-4 mt-6",children:[l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(ate,{className:"h-5 w-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(wte,{className:"h-5 w-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(Ate,{className:"h-5 w-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(fte,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:t?"":"Product"}),l.jsx("ul",{className:"mt-4 space-y-2",children:r.product.map(n=>l.jsx("li",{children:l.jsx(Dt,{to:n.href,className:"text-sm font-semibold leading-6 text-muted-foreground hover:text-foreground transition-colors",children:t?n.nameAr:n.name})},n.name))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:t?"":"Company"}),l.jsx("ul",{className:"mt-4 space-y-2",children:r.company.map(n=>l.jsx("li",{children:l.jsx(Dt,{to:n.href,className:"text-sm font-semibold leading-6 text-muted-foreground hover:text-foreground transition-colors",children:t?n.nameAr:n.name})},n.name))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:t?"":"Legal"}),l.jsx("ul",{className:"mt-4 space-y-2",children:r.legal.map(n=>l.jsx("li",{children:l.jsx(Dt,{to:n.href,className:"text-sm font-semibold leading-6 text-muted-foreground hover:text-foreground transition-colors",children:t?n.nameAr:n.name})},n.name))})]})]}),l.jsxs("div",{className:"mt-12 pt-8 border-t border-muted-foreground/20 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," ",t?"":"Nasabna",". ",t?"  .":"All rights reserved."]}),l.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-6",children:[l.jsxs("div",{className:"flex items-center text-muted-foreground hover:text-foreground transition-colors",children:[l.jsx(yl,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"support@nasabna.com"})]}),l.jsxs("div",{className:"flex items-center text-muted-foreground hover:text-foreground transition-colors",children:[l.jsx(Sd,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"+1 (555) 123-4567"})]})]})]})]})})},Gc=({children:e})=>{const[t,r]=ke.useState(!1),{language:n,theme:s,setLanguage:i,setTheme:a}=ir(),{isAuthenticated:o,logout:c}=os(),u=ls(),A=[{name:"Home",nameAr:"",href:"/"},{name:"Features",nameAr:"",href:"/features"},{name:"Pricing",nameAr:"",href:"/pricing"},{name:"About",nameAr:" ",href:"/about"},...o?[{name:"Dashboard",nameAr:" ",href:"/dashboard"}]:[]],f=()=>{i(n==="en"?"ar":"en")},d=()=>{a(s==="light"?"dark":"light")},h=async()=>{try{await c(),u("/")}catch(g){console.error("Logout failed:",g)}};return ke.useEffect(()=>{const g=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-40 w-full border-b border-border/40",children:l.jsxs("nav",{className:"mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8","aria-label":"Global",children:[l.jsx("div",{className:"flex lg:flex-1",children:l.jsxs(Dt,{to:"/",className:"-m-1.5 p-1.5",children:[l.jsx("span",{className:"sr-only",children:n==="ar"?"":"Nasabna"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("svg",{className:"h-8 w-8 text-primary",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),l.jsx("path",{d:"M50 20 L35 35 L50 50 L65 35 Z",fill:"currentColor"}),l.jsx("path",{d:"M35 35 L20 50 L35 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M65 35 L80 50 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M35 65 L50 80 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.6"}),l.jsx("circle",{cx:"50",cy:"35",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"35",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"65",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"50",cy:"65",r:"3",fill:"currentColor"})]}),l.jsx("span",{className:"text-xl font-bold text-foreground",children:n==="ar"?"":"Nasabna"})]})]})}),l.jsx("div",{className:"flex lg:hidden",children:l.jsxs("button",{type:"button",className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-muted-foreground",onClick:()=>r(!0),children:[l.jsx("span",{className:"sr-only",children:"Open main menu"}),l.jsx(zO,{className:"h-6 w-6","aria-hidden":"true"})]})}),l.jsx("div",{className:"hidden lg:flex lg:gap-x-12",children:A.map(g=>l.jsx(Dt,{to:g.href,className:"text-sm font-semibold leading-6 text-muted-foreground hover:text-foreground transition-colors",children:n==="ar"?g.nameAr:g.name},g.name))}),l.jsxs("div",{className:"hidden lg:flex lg:flex-1 lg:justify-end lg:items-center lg:space-x-4",children:[l.jsx(je,{variant:"ghost",size:"icon",onClick:d,className:"h-9 w-9",children:s==="light"?l.jsx(_m,{className:"h-4 w-4"}):l.jsx(Em,{className:"h-4 w-4"})}),l.jsx(je,{variant:"ghost",size:"icon",onClick:f,className:"h-9 w-9",children:l.jsx(pc,{className:"h-4 w-4"})}),o?l.jsxs(je,{variant:"ghost",onClick:h,className:"flex items-center",children:[l.jsx(ZN,{className:"h-4 w-4 mr-2"}),n==="ar"?" ":"Logout"]}):l.jsxs(l.Fragment,{children:[l.jsx(je,{asChild:!0,variant:"ghost",children:l.jsx(Dt,{to:"/login",children:n==="ar"?" ":"Sign In"})}),l.jsx(je,{asChild:!0,children:l.jsx(Dt,{to:"/register",children:n==="ar"?" ":"Get Started"})})]})]})]})}),t&&l.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>r(!1)}),l.jsxs("div",{className:"fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-background px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-border/10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Dt,{to:"/",className:"-m-1.5 p-1.5",onClick:()=>r(!1),children:[l.jsx("span",{className:"sr-only",children:n==="ar"?"":"Nasabna"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("svg",{className:"h-8 w-8 text-primary",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),l.jsx("path",{d:"M50 20 L35 35 L50 50 L65 35 Z",fill:"currentColor"}),l.jsx("path",{d:"M35 35 L20 50 L35 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M65 35 L80 50 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.8"}),l.jsx("path",{d:"M35 65 L50 80 L65 65 L50 50 Z",fill:"currentColor",opacity:"0.6"}),l.jsx("circle",{cx:"50",cy:"35",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"35",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"65",cy:"50",r:"3",fill:"currentColor"}),l.jsx("circle",{cx:"50",cy:"65",r:"3",fill:"currentColor"})]}),l.jsx("span",{className:"text-xl font-bold text-foreground",children:n==="ar"?"":"Nasabna"})]})]}),l.jsxs("button",{type:"button",className:"-m-2.5 rounded-md p-2.5 text-muted-foreground",onClick:()=>r(!1),children:[l.jsx("span",{className:"sr-only",children:"Close menu"}),l.jsx(Oo,{className:"h-6 w-6","aria-hidden":"true"})]})]}),l.jsx("div",{className:"mt-6 flow-root",children:l.jsxs("div",{className:"-my-6 divide-y divide-border/10",children:[l.jsx("div",{className:"space-y-2 py-6",children:A.map(g=>l.jsx(Dt,{to:g.href,className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-foreground hover:bg-muted",onClick:()=>r(!1),children:n==="ar"?g.nameAr:g.name},g.name))}),l.jsxs("div",{className:"py-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Theme"}),l.jsx(je,{variant:"ghost",size:"icon",onClick:g=>{g.stopPropagation(),d()},className:"h-9 w-9",children:s==="light"?l.jsx(_m,{className:"h-4 w-4"}):l.jsx(Em,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Language"}),l.jsx(je,{variant:"ghost",size:"icon",onClick:g=>{g.stopPropagation(),f()},className:"h-9 w-9",children:l.jsx(pc,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"space-y-2",children:o?l.jsxs(je,{variant:"outline",className:"w-full",onClick:()=>{r(!1),h()},children:[l.jsx(ZN,{className:"h-4 w-4 mr-2"}),n==="ar"?" ":"Logout"]}):l.jsxs(l.Fragment,{children:[l.jsx(je,{asChild:!0,variant:"outline",className:"w-full",onClick:()=>r(!1),children:l.jsx(Dt,{to:"/login",children:n==="ar"?" ":"Sign In"})}),l.jsx(je,{asChild:!0,className:"w-full",onClick:()=>r(!1),children:l.jsx(Dt,{to:"/register",children:n==="ar"?" ":"Get Started"})})]})})]})]})})]})]}),l.jsx("main",{children:e}),l.jsx(Ite,{})]})},o8=({children:e})=>{const{user:t,isAuthenticated:r}=os();return r?(t==null?void 0:t.role)!=="admin"?l.jsx(ym,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:e}):l.jsx(ym,{to:"/login",replace:!0})},kte=e=>{var t,r;if(e.code==="ERR_NETWORK"||(t=e.message)!=null&&t.includes("Network Error"))return{message:"Network connection error. Please check your internet connection.",code:"NETWORK_ERROR"};if(e.code==="ECONNABORTED"||(r=e.message)!=null&&r.includes("timeout"))return{message:"Request timeout. Please try again.",code:"TIMEOUT_ERROR"};if(e.response){const n=e.response.status,s=e.response.data;switch(n){case 400:return{message:(s==null?void 0:s.message)||"Invalid request. Please check your input.",status:n,code:"BAD_REQUEST"};case 401:return{message:"Authentication required. Please log in.",status:n,code:"UNAUTHORIZED"};case 403:return{message:"Access denied. You don't have permission for this action.",status:n,code:"FORBIDDEN"};case 404:return{message:"Resource not found.",status:n,code:"NOT_FOUND"};case 429:return{message:"Too many requests. Please wait before trying again.",status:n,code:"RATE_LIMITED"};case 500:return{message:"Server error. Please try again later.",status:n,code:"SERVER_ERROR"};case 502:case 503:case 504:return{message:"Service temporarily unavailable. Please try again later.",status:n,code:"SERVICE_UNAVAILABLE"};default:return{message:(s==null?void 0:s.message)||`HTTP Error ${n}`,status:n,code:"HTTP_ERROR"}}}return{message:e.message||"An unexpected error occurred.",code:"UNKNOWN_ERROR"}},Lte=e=>!["NOT_FOUND"].includes(e.code||""),Ht={getTrees:async()=>{try{return await dr.getTrees()||[]}catch(e){throw e}},getPublicTrees:async()=>{try{return await dr.getAllPublicTrees()||[]}catch(e){const t=kte(e);if(t.code==="NOT_FOUND")return console.warn("Public trees endpoint not available, returning empty array"),[];if(Lte(t))throw new Error(t.message);return[]}},createTree:async(e,t,r)=>{try{return(await dr.addTree(e,t,r)).data}catch(n){throw n}},getTreeById:async e=>{try{return await dr.getTreeById(e)}catch(t){throw t}},updateTree:async(e,t,r,n)=>{try{if(!e||e<=0)throw new Error("Invalid tree ID");if(!t||t.trim()==="")throw new Error("Tree name is required");return(await dr.updateTree(e,t.trim(),r,(n==null?void 0:n.trim())||"")).data}catch(s){throw s.response?s.response.status===403?new Error("You do not have permission to edit this tree"):new Error(`Failed to update tree: ${JSON.stringify(s.response.data)}`):new Error("Failed to update tree: "+(s.message||"Unknown error"))}},deleteTree:async e=>{try{await dr.deleteTree(e)}catch(t){throw t}},uploadTreePhoto:async(e,t)=>{try{const r=new FormData;return r.append("picture",t),r.append("FamilyTreeId",e.toString()),(await dr.uploadTreePhoto(r)).data}catch(r){throw r}},deleteTreePhoto:async e=>{try{await dr.deleteTreePhoto(e)}catch(t){throw t}},getPersonsInTree:async e=>{try{return await dr.getPersonsInTree(e)||[]}catch(t){throw t}},addPersonToTree:async(e,t,r,n,s,i,a,o)=>{try{const c=await dr.addPerson(e,t,r,n,s,i,a,o);return dr.clearPersonsInTreeCache(),c.data}catch(c){throw c.response,c}},updatePerson:async(e,t,r,n,s,i,a)=>{try{const o=await dr.updatePerson(e,t,r,n,s,i,a);if(!o)throw new Error("No response from server");if(!o.data)throw new Error("No data in response");return dr.clearPersonsInTreeCache(),o.data}catch(o){throw o.response?o.response.status===403?new Error("You do not have permission to edit this person"):new Error(`Failed to update person: ${JSON.stringify(o.response.data)}`):new Error("Failed to update person: "+(o.message||"Unknown error"))}},getPersonById:async e=>{var t;try{const r=await dr.getPersonById(e);if(r)return typeof r=="object"&&(r.hasOwnProperty("id")||r.hasOwnProperty("firstName")||r.hasOwnProperty("lastName"))?r:r.hasOwnProperty("data")?r.data:r;throw new Error("Empty response from API")}catch(r){if(((t=r.response)==null?void 0:t.status)===404)try{const s=(await Ht.getAllPersons()).find(i=>i.id&&(parseInt(i.id.toString())===e||i.id.toString()===e.toString()));if(s)return s}catch{}throw r.response?new Error(`API Error: ${r.response.status} - ${JSON.stringify(r.response.data)}`):new Error(`Network Error: ${r.message||"Unknown error"}`)}},deletePerson:async e=>{var t,r;try{await dr.deletePerson(e),dr.clearPersonsInTreeCache()}catch(n){if(n.response){const s=((t=n.response.data)==null?void 0:t.message)||((r=n.response.data)==null?void 0:r.error)||JSON.stringify(n.response.data);throw new Error(`Server error: ${n.response.status} - ${s||"Unknown server error"}`)}else throw n.request?new Error("Network error: No response received from server. Please check your internet connection and try again."):new Error(`Request setup error: ${n.message}`)}},uploadPersonPhoto:async(e,t)=>{try{const r=new FormData;return r.append("picture",t),r.append("PersonId",e.toString()),(await dr.uploadPersonPicture(r)).data}catch(r){throw r}},deletePersonPhoto:async e=>{try{await dr.deletePersonPicture(e)}catch(t){throw t}},addRelationship:async(e,t,r)=>{try{return await dr.addRelationship(e,t,r)}catch(n){throw n}},getRelationships:async()=>{try{return await dr.getRelationships()||[]}catch(e){throw e}},deleteRelationship:async e=>{try{await dr.deleteRelationship(e)}catch(t){throw t}},getAllPersons:async()=>{try{const e=await Ht.getTrees(),t=[];for(const r of e)try{const n=await Ht.getPersonsInTree(parseInt(r.id));t.push(...n)}catch{}return t}catch(e){throw e}},searchPersons:async e=>{try{const t=await Ht.getAllPersons();if(!e)return t;const r=e.toLowerCase();return t.filter(n=>n.firstName&&n.firstName.toLowerCase().includes(r)||n.lastName&&n.lastName.toLowerCase().includes(r)||n.fullName&&n.fullName.toLowerCase().includes(r))}catch(t){throw t}},searchTrees:async e=>{try{const t=await Ht.getTrees(),r=await Ht.getPublicTrees(),n=new Map;t.forEach(a=>{n.has(a.id.toString())||n.set(a.id.toString(),a)}),r.forEach(a=>{n.has(a.id.toString())||n.set(a.id.toString(),a)});const s=Array.from(n.values());if(!e)return s;const i=e.toLowerCase();return s.filter(a=>a.name&&a.name.toLowerCase().includes(i)||a.description&&a.description.toLowerCase().includes(i))}catch(t){throw t}},createJoinRequest:async(e,t,r,n,s,i,a,o,c,u)=>{var A,f;try{return await dr.createJoinRequest(e,t,r,n,s,i,a,o,c,u)}catch(d){if(d.response){const h=((A=d.response.data)==null?void 0:A.message)||((f=d.response.data)==null?void 0:f.error)||JSON.stringify(d.response.data);throw new Error(`Server error: ${d.response.status} - ${h||"Unknown server error"}`)}else throw d.request?new Error("Network error: No response received from server. Please check your internet connection and try again."):new Error(`Request setup error: ${d.message}`)}},getIncomingJoinRequests:async e=>{try{const t=await dr.getJoinRequestsByTree(e);let r=[];return Array.isArray(t)?r=t:t&&t.data&&Array.isArray(t.data)?r=t.data:t&&typeof t=="object"&&(Array.isArray(t.requests)?r=t.requests:t.id&&(r=[t])),r}catch{return[]}},getOutgoingJoinRequests:async e=>{try{return[]}catch{return[]}},acceptJoinRequest:async e=>{try{return await dr.acceptJoinRequest(e)}catch(t){throw new Error(`Failed to accept join request: ${t.message}`)}},rejectJoinRequest:async e=>{try{return await dr.rejectJoinRequest(e)}catch(t){throw new Error(`Failed to reject join request: ${t.message}`)}}},Zy=50,ew=(e,t)=>e.length<=t?e:e.slice(-t);let Zh=null,e0=null;const mg={},Ti=nE()(cO(sE((e,t)=>({trees:[],publicTrees:[],currentTree:null,currentPerson:null,isLoading:!1,error:null,fetchTrees:async()=>Zh||(Zh=(async()=>{e({isLoading:!0,error:null});try{const r=await Ht.getTrees(),n=t().trees,s=r.map(a=>{var c,u,A,f,d,h,g,p,m,x,v,y;const o=n.find(w=>w.id===a.id.toString());return{...a,id:a.id.toString(),ownerId:a.ownerId||(a.owner?a.owner.id:void 0),userRole:a.userRole||"owner",category:a.category||"family",tags:a.tags||[],settings:{isPublic:((c=a.settings)==null?void 0:c.isPublic)!==void 0?a.settings.isPublic:!a.isPrivate,theme:((u=a.settings)==null?void 0:u.theme)||"default",layout:((A=a.settings)==null?void 0:A.layout)||"vertical",showPhotos:((f=a.settings)==null?void 0:f.showPhotos)!==void 0?a.settings.showPhotos:!0,showDates:((d=a.settings)==null?void 0:d.showDates)!==void 0?a.settings.showDates:!0,showPlaces:((h=a.settings)==null?void 0:h.showPlaces)!==void 0?a.settings.showPlaces:!0,allowComments:((g=a.settings)==null?void 0:g.allowComments)!==void 0?a.settings.allowComments:!0,allowSuggestions:((p=a.settings)==null?void 0:p.allowSuggestions)!==void 0?a.settings.allowSuggestions:!0},sharing:a.sharing||{isShared:a.members&&a.members.length>0||!1,allowedUsers:[],shareToken:void 0,publicUrl:void 0},stats:{totalPeople:((m=a.members)==null?void 0:m.length)||0,totalGenerations:((x=o==null?void 0:o.stats)==null?void 0:x.totalGenerations)!==void 0?o.stats.totalGenerations:((v=a.stats)==null?void 0:v.totalGenerations)||0,totalPhotos:((y=a.stats)==null?void 0:y.totalPhotos)||0,completionPercentage:a.members&&a.members.length>0?50:0},createdAt:a.createdAt||new Date().toISOString(),updatedAt:a.updatedAt||new Date().toISOString()}}),i=ew(s,Zy);e({trees:i,isLoading:!1})}catch(r){throw e({error:r.message||"Failed to fetch trees",isLoading:!1}),r}finally{Zh=null}})(),Zh),fetchPublicTrees:async()=>e0||(e0=(async()=>{var r,n;e({isLoading:!0,error:null});try{const s=await Ht.getPublicTrees(),i=t().publicTrees,a=s.map(c=>{var A,f,d,h,g,p,m,x,v,y,w,S;const u=i.find(T=>T.id===c.id.toString());return{...c,id:c.id.toString(),ownerId:c.ownerId||(c.owner?c.owner.id:void 0),userRole:c.userRole||"viewer",category:c.category||"family",tags:c.tags||[],settings:{isPublic:((A=c.settings)==null?void 0:A.isPublic)!==void 0?c.settings.isPublic:!c.isPrivate,theme:((f=c.settings)==null?void 0:f.theme)||"default",layout:((d=c.settings)==null?void 0:d.layout)||"vertical",showPhotos:((h=c.settings)==null?void 0:h.showPhotos)!==void 0?c.settings.showPhotos:!0,showDates:((g=c.settings)==null?void 0:g.showDates)!==void 0?c.settings.showDates:!0,showPlaces:((p=c.settings)==null?void 0:p.showPlaces)!==void 0?c.settings.showPlaces:!0,allowComments:((m=c.settings)==null?void 0:m.allowComments)!==void 0?c.settings.allowComments:!0,allowSuggestions:((x=c.settings)==null?void 0:x.allowSuggestions)!==void 0?c.settings.allowSuggestions:!0},sharing:c.sharing||{isShared:!0,allowedUsers:[],shareToken:void 0,publicUrl:void 0},stats:{totalPeople:((v=c.members)==null?void 0:v.length)||0,totalGenerations:((y=u==null?void 0:u.stats)==null?void 0:y.totalGenerations)!==void 0?u.stats.totalGenerations:((w=c.stats)==null?void 0:w.totalGenerations)||0,totalPhotos:((S=c.stats)==null?void 0:S.totalPhotos)||0,completionPercentage:c.members&&c.members.length>0?50:0},createdAt:c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt||new Date().toISOString()}}),o=ew(a,Zy);e({publicTrees:o,isLoading:!1})}catch(s){if(((r=s.response)==null?void 0:r.status)===404){e({publicTrees:[],isLoading:!1,error:null}),console.warn("Public trees endpoint not found, using empty array");return}const i=((n=s.response)==null?void 0:n.status)===500?"Server temporarily unavailable. Please try again later.":s.message||"Failed to fetch public trees";e({publicTrees:[],isLoading:!1,error:i}),console.error("Error fetching public trees:",s)}finally{e0=null}})(),e0),createTree:async r=>{var n,s,i,a,o,c,u,A,f,d,h,g;e({isLoading:!0,error:null});try{const p=await Ht.createTree(r.name||"Untitled Tree",((n=r.settings)==null?void 0:n.isPublic)!==void 0?!r.settings.isPublic:!0,r.description||""),m={...p,id:p.id.toString(),ownerId:p.ownerId||(p.owner?p.owner.id:void 0),userRole:"owner",category:p.category||"family",tags:p.tags||[],settings:{isPublic:((s=p.settings)==null?void 0:s.isPublic)!==void 0?p.settings.isPublic:!p.isPrivate,theme:((i=p.settings)==null?void 0:i.theme)||"default",layout:((a=p.settings)==null?void 0:a.layout)||"vertical",showPhotos:((o=p.settings)==null?void 0:o.showPhotos)!==void 0?p.settings.showPhotos:!0,showDates:((c=p.settings)==null?void 0:c.showDates)!==void 0?p.settings.showDates:!0,showPlaces:((u=p.settings)==null?void 0:u.showPlaces)!==void 0?p.settings.showPlaces:!0,allowComments:((A=p.settings)==null?void 0:A.allowComments)!==void 0?p.settings.allowComments:!0,allowSuggestions:((f=p.settings)==null?void 0:f.allowSuggestions)!==void 0?p.settings.allowSuggestions:!0},sharing:p.sharing||{isShared:p.members&&p.members.length>0||!1,allowedUsers:[],shareToken:void 0,publicUrl:void 0},stats:{totalPeople:((d=p.members)==null?void 0:d.length)||0,totalGenerations:((h=p.stats)==null?void 0:h.totalGenerations)!==void 0?p.stats.totalGenerations:0,totalPhotos:((g=p.stats)==null?void 0:g.totalPhotos)!==void 0?p.stats.totalPhotos:0,completionPercentage:p.members&&p.members.length>0?50:0},createdAt:p.createdAt||new Date().toISOString(),updatedAt:p.updatedAt||new Date().toISOString()};return e(x=>({trees:ew([...x.trees,m],Zy),isLoading:!1})),m}catch(p){throw e({error:p.message||"Failed to create tree",isLoading:!1}),p}},updateTree:async(r,n)=>{var s;e({isLoading:!0,error:null});try{const i=await Ht.updateTree(parseInt(r),n.name||"",n.isPrivate!==void 0?n.isPrivate:((s=n.settings)==null?void 0:s.isPublic)!==void 0?!n.settings.isPublic:!0,n.description||"");return e(a=>{var o,c,u,A,f,d,h,g,p,m,x,v,y,w,S,T,j,I,B,C,N,k,E,U,D,M,Q,K;return{trees:a.trees.map(O=>{var z,G,F,P,L,q,X,se,ae,W,ee,Ce,ye,Me,we,oe,ze,de,be,Be,et,rt,Nt,me,$e,Re,Te;return O.id===r?{...O,...i,id:((z=i.id)==null?void 0:z.toString())||r,category:i.category||O.category||"family",tags:i.tags||O.tags||[],settings:{...O.settings,...i.settings,isPublic:i.isPrivate!==void 0?!i.isPrivate:((G=O.settings)==null?void 0:G.isPublic)!==void 0?O.settings.isPublic:!0,theme:((F=i.settings)==null?void 0:F.theme)||((P=O.settings)==null?void 0:P.theme)||"default",layout:((L=i.settings)==null?void 0:L.layout)||((q=O.settings)==null?void 0:q.layout)||"vertical",showPhotos:((X=i.settings)==null?void 0:X.showPhotos)!==void 0?i.settings.showPhotos:((se=O.settings)==null?void 0:se.showPhotos)!==void 0?O.settings.showPhotos:!0,showDates:((ae=i.settings)==null?void 0:ae.showDates)!==void 0?i.settings.showDates:((W=O.settings)==null?void 0:W.showDates)!==void 0?O.settings.showDates:!0,showPlaces:((ee=i.settings)==null?void 0:ee.showPlaces)!==void 0?i.settings.showPlaces:((Ce=O.settings)==null?void 0:Ce.showPlaces)!==void 0?O.settings.showPlaces:!0,allowComments:((ye=i.settings)==null?void 0:ye.allowComments)!==void 0?i.settings.allowComments:((Me=O.settings)==null?void 0:Me.allowComments)!==void 0?O.settings.allowComments:!0,allowSuggestions:((we=i.settings)==null?void 0:we.allowSuggestions)!==void 0?i.settings.allowSuggestions:((oe=O.settings)==null?void 0:oe.allowSuggestions)!==void 0?O.settings.allowSuggestions:!0},sharing:{...O.sharing,...i.sharing,isShared:((ze=i.sharing)==null?void 0:ze.isShared)||i.members&&i.members.length>0||((de=O.sharing)==null?void 0:de.isShared)||!1,allowedUsers:((be=i.sharing)==null?void 0:be.allowedUsers)||((Be=O.sharing)==null?void 0:Be.allowedUsers)||[]},stats:{...O.stats,...i.stats,totalPeople:((et=i.members)==null?void 0:et.length)||((rt=O.stats)==null?void 0:rt.totalPeople)||0,totalGenerations:((Nt=O.stats)==null?void 0:Nt.totalGenerations)||((me=i.stats)==null?void 0:me.totalGenerations)||0,totalPhotos:(($e=O.stats)==null?void 0:$e.totalPhotos)||((Re=i.stats)==null?void 0:Re.totalPhotos)||0,completionPercentage:i.members&&i.members.length>0?50:((Te=O.stats)==null?void 0:Te.completionPercentage)||0},createdAt:i.createdAt||O.createdAt||new Date().toISOString(),updatedAt:i.updatedAt||new Date().toISOString()}:O}),currentTree:((o=a.currentTree)==null?void 0:o.id)===r?{...a.currentTree,...i,id:((c=i.id)==null?void 0:c.toString())||r,category:i.category||a.currentTree.category||"family",tags:i.tags||a.currentTree.tags||[],settings:{...a.currentTree.settings,...i.settings,isPublic:i.isPrivate!==void 0?!i.isPrivate:((u=a.currentTree.settings)==null?void 0:u.isPublic)!==void 0?a.currentTree.settings.isPublic:!0,theme:((A=i.settings)==null?void 0:A.theme)||((f=a.currentTree.settings)==null?void 0:f.theme)||"default",layout:((d=i.settings)==null?void 0:d.layout)||((h=a.currentTree.settings)==null?void 0:h.layout)||"vertical",showPhotos:((g=i.settings)==null?void 0:g.showPhotos)!==void 0?i.settings.showPhotos:((p=a.currentTree.settings)==null?void 0:p.showPhotos)!==void 0?a.currentTree.settings.showPhotos:!0,showDates:((m=i.settings)==null?void 0:m.showDates)!==void 0?i.settings.showDates:((x=a.currentTree.settings)==null?void 0:x.showDates)!==void 0?a.currentTree.settings.showDates:!0,showPlaces:((v=i.settings)==null?void 0:v.showPlaces)!==void 0?i.settings.showPlaces:((y=a.currentTree.settings)==null?void 0:y.showPlaces)!==void 0?a.currentTree.settings.showPlaces:!0,allowComments:((w=i.settings)==null?void 0:w.allowComments)!==void 0?i.settings.allowComments:((S=a.currentTree.settings)==null?void 0:S.allowComments)!==void 0?a.currentTree.settings.allowComments:!0,allowSuggestions:((T=i.settings)==null?void 0:T.allowSuggestions)!==void 0?i.settings.allowSuggestions:((j=a.currentTree.settings)==null?void 0:j.allowSuggestions)!==void 0?a.currentTree.settings.allowSuggestions:!0},sharing:{...a.currentTree.sharing,...i.sharing,isShared:((I=i.sharing)==null?void 0:I.isShared)||i.members&&i.members.length>0||((B=a.currentTree.sharing)==null?void 0:B.isShared)||!1,allowedUsers:((C=i.sharing)==null?void 0:C.allowedUsers)||((N=a.currentTree.sharing)==null?void 0:N.allowedUsers)||[]},stats:{...a.currentTree.stats,...i.stats,totalPeople:((k=i.members)==null?void 0:k.length)||((E=a.currentTree.stats)==null?void 0:E.totalPeople)||0,totalGenerations:((U=a.currentTree.stats)==null?void 0:U.totalGenerations)||((D=i.stats)==null?void 0:D.totalGenerations)||0,totalPhotos:((M=a.currentTree.stats)==null?void 0:M.totalPhotos)||((Q=i.stats)==null?void 0:Q.totalPhotos)||0,completionPercentage:i.members&&i.members.length>0?50:((K=a.currentTree.stats)==null?void 0:K.completionPercentage)||0},createdAt:i.createdAt||a.currentTree.createdAt||new Date().toISOString(),updatedAt:i.updatedAt||new Date().toISOString()}:a.currentTree,isLoading:!1}}),i}catch(i){throw e({error:i.message||"Failed to update tree",isLoading:!1}),i}},deleteTree:async r=>{e({isLoading:!0,error:null});try{await Ht.deleteTree(parseInt(r)),e(n=>{var s;return{trees:n.trees.filter(i=>i.id!==r),currentTree:((s=n.currentTree)==null?void 0:s.id)===r?null:n.currentTree,isLoading:!1}})}catch(n){throw e({error:n.message||"Failed to delete tree",isLoading:!1}),n}},setCurrentTree:r=>{e({currentTree:r})},setCurrentPerson:r=>{e({currentPerson:r})},fetchPersonsInTree:async r=>{const n=r.toString();if(mg[n])return mg[n];const s=(async()=>{e({isLoading:!0,error:null});try{const i=await Ht.getPersonsInTree(parseInt(r));try{const a=await Ht.getRelationships()}catch{}return e({isLoading:!1}),i}catch(i){throw e({error:i.message||"Failed to fetch persons",isLoading:!1}),i}finally{delete mg[n]}})();return mg[n]=s,s},addPersonToTree:async r=>{var n,s,i,a,o,c;e({isLoading:!0,error:null});try{const u=await Ht.addPersonToTree(r.firstName||"",((n=r.birth)==null?void 0:n.date)||"",((i=(s=r.birth)==null?void 0:s.place)==null?void 0:i.city)||"",((o=(a=r.occupation)==null?void 0:a[0])==null?void 0:o.title)||"",r.gender||"unknown",((c=r.death)==null?void 0:c.date)||"",r.isDeceased||!1,parseInt(r.tree||"0"));return e(A=>({trees:A.trees.map(d=>{var h;return d.id===r.tree?{...d,stats:{...d.stats,totalPeople:(((h=d.stats)==null?void 0:h.totalPeople)||0)+1}}:d}),isLoading:!1})),u}catch(u){throw e({error:u.message||"Failed to add person",isLoading:!1}),u}},updatePerson:async(r,n)=>{var s,i,a,o,c;e({isLoading:!0,error:null});try{const u=await Ht.updatePerson(parseInt(r),n.firstName||"",((s=n.birth)==null?void 0:s.date)||"",((a=(i=n.birth)==null?void 0:i.place)==null?void 0:a.city)||"",((c=(o=n.occupation)==null?void 0:o[0])==null?void 0:c.title)||"",n.gender||"unknown",parseInt(n.tree||"0"));return e({isLoading:!1}),u}catch(u){throw e({error:u.message||"Failed to update person",isLoading:!1}),u}},deletePerson:async r=>{e({isLoading:!0,error:null});try{await Ht.deletePerson(parseInt(r)),e({isLoading:!1})}catch(n){throw e({error:n.message||"Failed to delete person",isLoading:!1}),n}},addRelationship:async(r,n,s)=>{e({isLoading:!0,error:null});try{const i=await Ht.addRelationship(parseInt(r),parseInt(n),s);return e({isLoading:!1}),i}catch(i){throw e({error:i.message||"Failed to add relationship",isLoading:!1}),i}},deleteRelationship:async r=>{e({isLoading:!0,error:null});try{await Ht.deleteRelationship(parseInt(r)),e({isLoading:!1})}catch(n){throw e({error:n.message||"Failed to delete relationship",isLoading:!1}),n}},getRelationships:async()=>{e({isLoading:!0,error:null});try{const r=await Ht.getRelationships();return e({isLoading:!1}),r}catch(r){throw e({error:r.message||"Failed to fetch relationships",isLoading:!1}),r}},uploadTreePhoto:async(r,n)=>{e({isLoading:!0,error:null});try{const s=await Ht.uploadTreePhoto(parseInt(r),n);return e({isLoading:!1}),s}catch(s){throw e({error:s.message||"Failed to upload tree photo",isLoading:!1}),s}},uploadPersonPhoto:async(r,n)=>{e({isLoading:!0,error:null});try{const s=await Ht.uploadPersonPhoto(parseInt(r),n);return e({isLoading:!1}),s}catch(s){throw e({error:s.message||"Failed to upload person photo",isLoading:!1}),s}},updateTreeGenerations:(r,n)=>{e(s=>{var i;return{trees:s.trees.map(a=>a.id===r?{...a,stats:{...a.stats,totalGenerations:n}}:a),currentTree:((i=s.currentTree)==null?void 0:i.id)===r?{...s.currentTree,stats:{...s.currentTree.stats,totalGenerations:n}}:s.currentTree}})}}),{name:"tree-storage",partialize:e=>({trees:e.trees,publicTrees:e.publicTrees})}),{name:"tree-store"})),gt=({className:e,children:t,...r})=>l.jsx("div",{className:Ka("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r,children:t}),St=({className:e,children:t,...r})=>l.jsx("div",{className:Ka("flex flex-col space-y-1.5 p-6",e),...r,children:t}),Ft=({className:e,children:t,...r})=>l.jsx("h3",{className:Ka("text-2xl font-semibold leading-none tracking-tight",e),...r,children:t}),Ds=({className:e,children:t,...r})=>l.jsx("p",{className:Ka("text-sm text-muted-foreground",e),...r,children:t}),vt=({className:e,children:t,...r})=>l.jsx("div",{className:Ka("p-6 pt-0",e),...r,children:t}),Ute="/assets/hero-C8KRVFcu.jpg",XO="/assets/aboutimg-D4G8moL-.png";var Pte="6.7.0";function Es(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Y2(e){let t=e,r=e;e.length===1&&(t=(a,o)=>e(a)-o,r=Mte(e));function n(a,o,c,u){for(c==null&&(c=0),u==null&&(u=a.length);c<u;){const A=c+u>>>1;r(a[A],o)<0?c=A+1:u=A}return c}function s(a,o,c,u){for(c==null&&(c=0),u==null&&(u=a.length);c<u;){const A=c+u>>>1;r(a[A],o)>0?u=A:c=A+1}return c}function i(a,o,c,u){c==null&&(c=0),u==null&&(u=a.length);const A=n(a,o,c,u-1);return A>c&&t(a[A-1],o)>-t(a[A],o)?A-1:A}return{left:n,center:i,right:s}}function Mte(e){return(t,r)=>Es(e(t),r)}function JO(e){return e===null?NaN:+e}function*Rte(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const ZO=Y2(Es),wA=ZO.right,Ote=ZO.left,Qte=Y2(JO).center;function X2(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(s=+s)>=s&&++r}return r}function Dte(e){return e.length|0}function Hte(e){return!(e>0)}function $te(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function qte(e){return t=>e(...t)}function Kte(...e){const t=typeof e[e.length-1]=="function"&&qte(e.pop());e=e.map($te);const r=e.map(Dte),n=e.length-1,s=new Array(n+1).fill(0),i=[];if(n<0||r.some(Hte))return i;for(;;){i.push(s.map((o,c)=>e[c][o]));let a=n;for(;++s[a]===r[a];){if(a===0)return t?i.map(t):i;s[a--]=0}}}function zte(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?s=>r+=+s||0:s=>r+=+t(s,n++,e)||0)}function Gte(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function e9(e,t){let r=0,n,s=0,i=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(n=a-s,s+=n/++r,i+=n*(a-s));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(n=o-s,s+=n/++r,i+=n*(o-s))}if(r>1)return i/(r-1)}function t9(e,t){const r=e9(e,t);return r&&Math.sqrt(r)}function tm(e,t){let r,n;if(t===void 0)for(const s of e)s!=null&&(r===void 0?s>=s&&(r=n=s):(r>s&&(r=s),n<s&&(n=s)));else{let s=-1;for(let i of e)(i=t(i,++s,e))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}class Hs{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let n=0;for(let s=0;s<this._n&&s<32;s++){const i=r[s],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(r[n++]=o),t=a}return r[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let r=this._n,n,s,i,a=0;if(r>0){for(a=t[--r];r>0&&(n=a,s=t[--r],a=n+s,i=s-(a-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(s=i*2,n=a+s,s==n-a&&(a=n))}return a}}function Vte(e,t){const r=new Hs;if(t===void 0)for(let n of e)(n=+n)&&r.add(n);else{let n=-1;for(let s of e)(s=+t(s,++n,e))&&r.add(s)}return+r}function Wte(e,t){const r=new Hs;let n=-1;return Float64Array.from(e,t===void 0?s=>r.add(+s||0):s=>r.add(+t(s,++n,e)||0))}class r9 extends Map{constructor(t,r=i9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(t_(this,t))}has(t){return super.has(t_(this,t))}set(t,r){return super.set(n9(this,t),r)}delete(t){return super.delete(s9(this,t))}}class Yte extends Set{constructor(t,r=i9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(t_(this,t))}add(t){return super.add(n9(this,t))}delete(t){return super.delete(s9(this,t))}}function t_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function n9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function s9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(r),e.delete(n)),r}function i9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Td(e){return e}function a9(e,...t){return rh(e,Td,Td,t)}function Xte(e,...t){return rh(e,Array.from,Td,t)}function o9(e,t,...r){return rh(e,Td,t,r)}function Jte(e,t,...r){return rh(e,Array.from,t,r)}function Zte(e,...t){return rh(e,Td,l9,t)}function ere(e,...t){return rh(e,Array.from,l9,t)}function l9(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function rh(e,t,r,n){return function s(i,a){if(a>=n.length)return r(i);const o=new r9,c=n[a++];let u=-1;for(const A of i){const f=c(A,++u,i),d=o.get(f);d?d.push(A):o.set(f,[A])}for(const[A,f]of o)o.set(A,s(f,a));return t(o)}(e,0)}function c9(e,t){return Array.from(t,r=>e[r])}function r_(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r=Es]=t;if(r.length===1||t.length>1){const n=Uint32Array.from(e,(s,i)=>i);return t.length>1?(t=t.map(s=>e.map(s)),n.sort((s,i)=>{for(const a of t){const o=Es(a[s],a[i]);if(o)return o}})):(r=e.map(r),n.sort((s,i)=>Es(r[s],r[i]))),c9(e,n)}return e.sort(r)}function tre(e,t,r){return(t.length===1?r_(o9(e,t,r),([n,s],[i,a])=>Es(s,a)||Es(n,i)):r_(a9(e,r),([n,s],[i,a])=>t(s,a)||Es(n,i))).map(([n])=>n)}var rre=Array.prototype,nre=rre.slice;function pg(e){return function(){return e}}var n_=Math.sqrt(50),s_=Math.sqrt(10),i_=Math.sqrt(2);function Sm(e,t,r){var n,s=-1,i,a,o;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),(o=mp(e,t,r))===0||!isFinite(o))return[];if(o>0){let c=Math.round(e/o),u=Math.round(t/o);for(c*o<e&&++c,u*o>t&&--u,a=new Array(i=u-c+1);++s<i;)a[s]=(c+s)*o}else{o=-o;let c=Math.round(e*o),u=Math.round(t*o);for(c/o<e&&++c,u/o>t&&--u,a=new Array(i=u-c+1);++s<i;)a[s]=(c+s)/o}return n&&a.reverse(),a}function mp(e,t,r){var n=(t-e)/Math.max(0,r),s=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,s);return s>=0?(i>=n_?10:i>=s_?5:i>=i_?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(i>=n_?10:i>=s_?5:i>=i_?2:1)}function Id(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),s=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/s;return i>=n_?s*=10:i>=s_?s*=5:i>=i_&&(s*=2),t<e?-s:s}function A9(e,t,r){let n;for(;;){const s=mp(e,t,r);if(s===n||s===0||!isFinite(s))return[e,t];s>0?(e=Math.floor(e/s)*s,t=Math.ceil(t/s)*s):s<0&&(e=Math.ceil(e*s)/s,t=Math.floor(t*s)/s),n=s}}function dE(e){return Math.ceil(Math.log(X2(e))/Math.LN2)+1}function l8(){var e=Td,t=tm,r=dE;function n(s){Array.isArray(s)||(s=Array.from(s));var i,a=s.length,o,c=new Array(a);for(i=0;i<a;++i)c[i]=e(s[i],i,s);var u=t(c),A=u[0],f=u[1],d=r(c,A,f);if(!Array.isArray(d)){const m=f,x=+d;if(t===tm&&([A,f]=A9(A,f,x)),d=Sm(A,f,x),d[d.length-1]>=f)if(m>=f&&t===tm){const v=mp(A,f,x);isFinite(v)&&(v>0?f=(Math.floor(f/v)+1)*v:v<0&&(f=(Math.ceil(f*-v)+1)/-v))}else d.pop()}for(var h=d.length;d[0]<=A;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var g=new Array(h+1),p;for(i=0;i<=h;++i)p=g[i]=[],p.x0=i>0?d[i-1]:A,p.x1=i<h?d[i]:f;for(i=0;i<a;++i)o=c[i],A<=o&&o<=f&&g[wA(d,o,0,h)].push(s[i]);return g}return n.value=function(s){return arguments.length?(e=typeof s=="function"?s:pg(s),n):e},n.domain=function(s){return arguments.length?(t=typeof s=="function"?s:pg([s[0],s[1]]),n):t},n.thresholds=function(s){return arguments.length?(r=typeof s=="function"?s:Array.isArray(s)?pg(nre.call(s)):pg(s),n):r},n}function dx(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function hx(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function hE(e,t,r=0,n=e.length-1,s=Es){for(;n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,A=Math.log(c),f=.5*Math.exp(2*A/3),d=.5*Math.sqrt(A*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+d)),g=Math.min(n,Math.floor(t+(c-u)*f/c+d));hE(e,t,h,g,s)}const i=e[t];let a=r,o=n;for(t0(e,r,t),s(e[n],i)>0&&t0(e,r,n);a<o;){for(t0(e,a,o),++a,--o;s(e[a],i)<0;)++a;for(;s(e[o],i)>0;)--o}s(e[r],i)===0?t0(e,r,o):(++o,t0(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function t0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Fm(e,t,r){if(e=Float64Array.from(Rte(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return hx(e);if(t>=1)return dx(e);var n,s=(n-1)*t,i=Math.floor(s),a=dx(hE(e,i).subarray(0,i+1)),o=hx(e.subarray(i+1));return a+(o-a)*(s-i)}}function u9(e,t,r=JO){if(n=e.length){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),a=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return a+(o-a)*(s-i)}}function sre(e,t,r){return Math.ceil((r-t)/(2*(Fm(e,.75)-Fm(e,.25))*Math.pow(X2(e),-1/3)))}function ire(e,t,r){return Math.ceil((r-t)/(3.5*t9(e)*Math.pow(X2(e),-1/3)))}function f9(e,t){let r,n=-1,s=-1;if(t===void 0)for(const i of e)++s,i!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=s);else for(let i of e)(i=t(i,++s,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=s);return n}function are(e,t){let r=0,n=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(++r,n+=s);else{let s=-1;for(let i of e)(i=t(i,++s,e))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function ore(e,t){return Fm(e,.5,t)}function*lre(e){for(const t of e)yield*t}function mE(e){return Array.from(lre(e))}function d9(e,t){let r,n=-1,s=-1;if(t===void 0)for(const i of e)++s,i!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=s);else for(let i of e)(i=t(i,++s,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=s);return n}function cre(e,t=Are){const r=[];let n,s=!1;for(const i of e)s&&r.push(t(n,i)),n=i,s=!0;return r}function Are(e,t){return[e,t]}function ml(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function ure(e,t=Es){let r,n=!1;if(t.length===1){let s;for(const i of e){const a=t(i);(n?Es(a,s)<0:Es(a,a)===0)&&(r=i,s=a,n=!0)}}else for(const s of e)(n?t(s,r)<0:t(s,s)===0)&&(r=s,n=!0);return r}function h9(e,t=Es){if(t.length===1)return d9(e,t);let r,n=-1,s=-1;for(const i of e)++s,(n<0?t(i,i)===0:t(i,r)<0)&&(r=i,n=s);return n}function fre(e,t=Es){let r,n=!1;if(t.length===1){let s;for(const i of e){const a=t(i);(n?Es(a,s)>0:Es(a,a)===0)&&(r=i,s=a,n=!0)}}else for(const s of e)(n?t(s,r)>0:t(s,s)===0)&&(r=s,n=!0);return r}function dre(e,t=Es){if(t.length===1)return f9(e,t);let r,n=-1,s=-1;for(const i of e)++s,(n<0?t(i,i)===0:t(i,r)>0)&&(r=i,n=s);return n}function hre(e,t){const r=h9(e,t);return r<0?void 0:r}const mre=m9(Math.random);function m9(e){return function(r,n=0,s=r.length){let i=s-(n=+n);for(;i;){const a=e()*i--|0,o=r[i+n];r[i+n]=r[a+n],r[a+n]=o}return r}}function pre(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let s of e)(s=+t(s,++n,e))&&(r+=s)}return r}function p9(e){if(!(i=e.length))return[];for(var t=-1,r=hx(e,gre),n=new Array(r);++t<r;)for(var s=-1,i,a=n[t]=new Array(i);++s<i;)a[s]=e[s][t];return n}function gre(e){return e.length}function xre(){return p9(arguments)}function vre(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const n of e)if(!t(n,++r,e))return!1;return!0}function yre(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const n of e)if(t(n,++r,e))return!0;return!1}function wre(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const r=[];let n=-1;for(const s of e)t(s,++n,e)&&r.push(s);return r}function bre(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,n)=>t(r,n,e))}function Bre(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");const n=e[Symbol.iterator]();let s,i,a=-1;if(arguments.length<3){if({done:s,value:r}=n.next(),s)return;++a}for(;{done:s,value:i}=n.next(),!s;)r=t(r,i,++a,e);return r}function Nre(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function _re(e,...t){e=new Set(e);for(const r of t)for(const n of r)e.delete(n);return e}function Cre(e,t){const r=t[Symbol.iterator](),n=new Set;for(const s of e){if(n.has(s))return!1;let i,a;for(;({value:i,done:a}=r.next())&&!a;){if(Object.is(s,i))return!1;n.add(i)}}return!0}function Ere(e){return e instanceof Set?e:new Set(e)}function Sre(e,...t){e=new Set(e),t=t.map(Ere);e:for(const r of e)for(const n of t)if(!n.has(r)){e.delete(r);continue e}return e}function g9(e,t){const r=e[Symbol.iterator](),n=new Set;for(const s of t){if(n.has(s))continue;let i,a;for(;{value:i,done:a}=r.next();){if(a)return!1;if(n.add(i),Object.is(s,i))break}}return!0}function Fre(e,t){return g9(t,e)}function jre(...e){const t=new Set;for(const r of e)for(const n of r)t.add(n);return t}var tw=Array.prototype.slice;function Tre(e){return e}var O1=1,Q1=2,a_=3,_0=4,c8=1e-6;function Ire(e){return"translate("+e+",0)"}function kre(e){return"translate(0,"+e+")"}function Lre(e){return t=>+e(t)}function Ure(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function Pre(){return!this.__axis}function J2(e,t){var r=[],n=null,s=null,i=6,a=6,o=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===O1||e===_0?-1:1,A=e===_0||e===Q1?"x":"y",f=e===O1||e===a_?Ire:kre;function d(h){var g=n??(t.ticks?t.ticks.apply(t,r):t.domain()),p=s??(t.tickFormat?t.tickFormat.apply(t,r):Tre),m=Math.max(i,0)+o,x=t.range(),v=+x[0]+c,y=+x[x.length-1]+c,w=(t.bandwidth?Ure:Lre)(t.copy(),c),S=h.selection?h.selection():h,T=S.selectAll(".domain").data([null]),j=S.selectAll(".tick").data(g,t).order(),I=j.exit(),B=j.enter().append("g").attr("class","tick"),C=j.select("line"),N=j.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge(B),C=C.merge(B.append("line").attr("stroke","currentColor").attr(A+"2",u*i)),N=N.merge(B.append("text").attr("fill","currentColor").attr(A,u*m).attr("dy",e===O1?"0em":e===a_?"0.71em":"0.32em")),h!==S&&(T=T.transition(h),j=j.transition(h),C=C.transition(h),N=N.transition(h),I=I.transition(h).attr("opacity",c8).attr("transform",function(k){return isFinite(k=w(k))?f(k+c):this.getAttribute("transform")}),B.attr("opacity",c8).attr("transform",function(k){var E=this.parentNode.__axis;return f((E&&isFinite(E=E(k))?E:w(k))+c)})),I.remove(),T.attr("d",e===_0||e===Q1?a?"M"+u*a+","+v+"H"+c+"V"+y+"H"+u*a:"M"+c+","+v+"V"+y:a?"M"+v+","+u*a+"V"+c+"H"+y+"V"+u*a:"M"+v+","+c+"H"+y),j.attr("opacity",1).attr("transform",function(k){return f(w(k)+c)}),C.attr(A+"2",u*i),N.attr(A,u*m).text(p),S.filter(Pre).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Q1?"start":e===_0?"end":"middle"),S.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return r=tw.call(arguments),d},d.tickArguments=function(h){return arguments.length?(r=h==null?[]:tw.call(h),d):r.slice()},d.tickValues=function(h){return arguments.length?(n=h==null?null:tw.call(h),d):n&&n.slice()},d.tickFormat=function(h){return arguments.length?(s=h,d):s},d.tickSize=function(h){return arguments.length?(i=a=+h,d):i},d.tickSizeInner=function(h){return arguments.length?(i=+h,d):i},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(o=+h,d):o},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function Mre(e){return J2(O1,e)}function Rre(e){return J2(Q1,e)}function Ore(e){return J2(a_,e)}function Qre(e){return J2(_0,e)}var Dre={value:()=>{}};function Gu(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new D1(r)}function D1(e){this._=e}function Hre(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}D1.prototype=Gu.prototype={constructor:D1,on:function(e,t){var r=this._,n=Hre(e+"",r),s,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((s=(e=n[i]).type)&&(s=$re(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(s=(e=n[i]).type)r[s]=A8(r[s],e.name,t);else if(t==null)for(s in r)r[s]=A8(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new D1(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,i;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,i=n.length;s<i;++s)n[s].value.apply(t,r)}};function $re(e,t){for(var r=0,n=e.length,s;r<n;++r)if((s=e[r]).name===t)return s.value}function A8(e,t,r){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=Dre,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var o_="http://www.w3.org/1999/xhtml";const l_={svg:"http://www.w3.org/2000/svg",xhtml:o_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pp(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),l_.hasOwnProperty(t)?{space:l_[t],local:e}:e}function qre(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===o_&&t.documentElement.namespaceURI===o_?t.createElement(e):t.createElementNS(r,e)}}function Kre(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Z2(e){var t=pp(e);return(t.local?Kre:qre)(t)}function zre(){}function ev(e){return e==null?zre:function(){return this.querySelector(e)}}function Gre(e){typeof e!="function"&&(e=ev(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],a=i.length,o=n[s]=new Array(a),c,u,A=0;A<a;++A)(c=i[A])&&(u=e.call(c,c.__data__,A,i))&&("__data__"in c&&(u.__data__=c.__data__),o[A]=u);return new Mi(n,this._parents)}function pE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vre(){return[]}function gE(e){return e==null?Vre:function(){return this.querySelectorAll(e)}}function Wre(e){return function(){var t=e.apply(this,arguments);return t==null?[]:pE(t)}}function Yre(e){typeof e=="function"?e=Wre(e):e=gE(e);for(var t=this._groups,r=t.length,n=[],s=[],i=0;i<r;++i)for(var a=t[i],o=a.length,c,u=0;u<o;++u)(c=a[u])&&(n.push(e.call(c,c.__data__,u,a)),s.push(c));return new Mi(n,s)}function xE(e){return function(){return this.matches(e)}}function x9(e){return function(t){return t.matches(e)}}var Xre=Array.prototype.find;function Jre(e){return function(){return Xre.call(this.children,e)}}function Zre(){return this.firstElementChild}function ene(e){return this.select(e==null?Zre:Jre(typeof e=="function"?e:x9(e)))}var tne=Array.prototype.filter;function rne(){return this.children}function nne(e){return function(){return tne.call(this.children,e)}}function sne(e){return this.selectAll(e==null?rne:nne(typeof e=="function"?e:x9(e)))}function ine(e){typeof e!="function"&&(e=xE(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],a=i.length,o=n[s]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new Mi(n,this._parents)}function v9(e){return new Array(e.length)}function ane(){return new Mi(this._enter||this._groups.map(v9),this._parents)}function mx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}mx.prototype={constructor:mx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function one(e){return function(){return e}}function lne(e,t,r,n,s,i){for(var a=0,o,c=t.length,u=i.length;a<u;++a)(o=t[a])?(o.__data__=i[a],n[a]=o):r[a]=new mx(e,i[a]);for(;a<c;++a)(o=t[a])&&(s[a]=o)}function cne(e,t,r,n,s,i,a){var o,c,u=new Map,A=t.length,f=i.length,d=new Array(A),h;for(o=0;o<A;++o)(c=t[o])&&(d[o]=h=a.call(c,c.__data__,o,t)+"",u.has(h)?s[o]=c:u.set(h,c));for(o=0;o<f;++o)h=a.call(e,i[o],o,i)+"",(c=u.get(h))?(n[o]=c,c.__data__=i[o],u.delete(h)):r[o]=new mx(e,i[o]);for(o=0;o<A;++o)(c=t[o])&&u.get(d[o])===c&&(s[o]=c)}function Ane(e){return e.__data__}function une(e,t){if(!arguments.length)return Array.from(this,Ane);var r=t?cne:lne,n=this._parents,s=this._groups;typeof e!="function"&&(e=one(e));for(var i=s.length,a=new Array(i),o=new Array(i),c=new Array(i),u=0;u<i;++u){var A=n[u],f=s[u],d=f.length,h=pE(e.call(A,A&&A.__data__,u,n)),g=h.length,p=o[u]=new Array(g),m=a[u]=new Array(g),x=c[u]=new Array(d);r(A,f,p,m,x,h,t);for(var v=0,y=0,w,S;v<g;++v)if(w=p[v]){for(v>=y&&(y=v+1);!(S=m[y])&&++y<g;);w._next=S||null}}return a=new Mi(a,n),a._enter=o,a._exit=c,a}function fne(){return new Mi(this._exit||this._groups.map(v9),this._parents)}function dne(e,t,r){var n=this.enter(),s=this,i=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(s=t(s)),r==null?i.remove():r(i),n&&s?n.merge(s).order():s}function hne(e){if(!(e instanceof Mi))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,n=t.length,s=r.length,i=Math.min(n,s),a=new Array(n),o=0;o<i;++o)for(var c=t[o],u=r[o],A=c.length,f=a[o]=new Array(A),d,h=0;h<A;++h)(d=c[h]||u[h])&&(f[h]=d);for(;o<n;++o)a[o]=t[o];return new Mi(a,this._parents)}function mne(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],s=n.length-1,i=n[s],a;--s>=0;)(a=n[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function pne(e){e||(e=gne);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i){for(var a=r[i],o=a.length,c=s[i]=new Array(o),u,A=0;A<o;++A)(u=a[A])&&(c[A]=u);c.sort(t)}return new Mi(s,this._parents).order()}function gne(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xne(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vne(){return Array.from(this)}function yne(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length;s<i;++s){var a=n[s];if(a)return a}return null}function wne(){let e=0;for(const t of this)++e;return e}function bne(){return!this.node()}function Bne(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var s=t[r],i=0,a=s.length,o;i<a;++i)(o=s[i])&&e.call(o,o.__data__,i,s);return this}function Nne(e){return function(){this.removeAttribute(e)}}function _ne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cne(e,t){return function(){this.setAttribute(e,t)}}function Ene(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Sne(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Fne(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function jne(e,t){var r=pp(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?_ne:Nne:typeof t=="function"?r.local?Fne:Sne:r.local?Ene:Cne)(r,t))}function vE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Tne(e){return function(){this.style.removeProperty(e)}}function Ine(e,t,r){return function(){this.style.setProperty(e,t,r)}}function kne(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Lne(e,t,r){return arguments.length>1?this.each((t==null?Tne:typeof t=="function"?kne:Ine)(e,t,r??"")):Iu(this.node(),e)}function Iu(e,t){return e.style.getPropertyValue(t)||vE(e).getComputedStyle(e,null).getPropertyValue(t)}function Une(e){return function(){delete this[e]}}function Pne(e,t){return function(){this[e]=t}}function Mne(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Rne(e,t){return arguments.length>1?this.each((t==null?Une:typeof t=="function"?Mne:Pne)(e,t)):this.node()[e]}function y9(e){return e.trim().split(/^|\s+/)}function yE(e){return e.classList||new w9(e)}function w9(e){this._node=e,this._names=y9(e.getAttribute("class")||"")}w9.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function b9(e,t){for(var r=yE(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function B9(e,t){for(var r=yE(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}function One(e){return function(){b9(this,e)}}function Qne(e){return function(){B9(this,e)}}function Dne(e,t){return function(){(t.apply(this,arguments)?b9:B9)(this,e)}}function Hne(e,t){var r=y9(e+"");if(arguments.length<2){for(var n=yE(this.node()),s=-1,i=r.length;++s<i;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?Dne:t?One:Qne)(r,t))}function $ne(){this.textContent=""}function qne(e){return function(){this.textContent=e}}function Kne(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zne(e){return arguments.length?this.each(e==null?$ne:(typeof e=="function"?Kne:qne)(e)):this.node().textContent}function Gne(){this.innerHTML=""}function Vne(e){return function(){this.innerHTML=e}}function Wne(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Yne(e){return arguments.length?this.each(e==null?Gne:(typeof e=="function"?Wne:Vne)(e)):this.node().innerHTML}function Xne(){this.nextSibling&&this.parentNode.appendChild(this)}function Jne(){return this.each(Xne)}function Zne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ese(){return this.each(Zne)}function tse(e){var t=typeof e=="function"?e:Z2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rse(){return null}function nse(e,t){var r=typeof e=="function"?e:Z2(e),n=t==null?rse:typeof t=="function"?t:ev(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function sse(){var e=this.parentNode;e&&e.removeChild(this)}function ise(){return this.each(sse)}function ase(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ose(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lse(e){return this.select(e?ose:ase)}function cse(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ase(e){return function(t){e.call(this,t,this.__data__)}}function use(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function fse(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function dse(e,t,r){return function(){var n=this.__on,s,i=Ase(t);if(n){for(var a=0,o=n.length;a<o;++a)if((s=n[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(s):this.__on=[s]}}function hse(e,t,r){var n=use(e+""),s,i=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,A;c<u;++c)for(s=0,A=o[c];s<i;++s)if((a=n[s]).type===A.type&&a.name===A.name)return A.value}return}for(o=t?dse:fse,s=0;s<i;++s)this.each(o(n[s],t,r));return this}function N9(e,t,r){var n=vE(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,r):(s=n.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function mse(e,t){return function(){return N9(this,e,t)}}function pse(e,t){return function(){return N9(this,e,t.apply(this,arguments))}}function gse(e,t){return this.each((typeof t=="function"?pse:mse)(e,t))}function*xse(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length,a;s<i;++s)(a=n[s])&&(yield a)}var wE=[null];function Mi(e,t){this._groups=e,this._parents=t}function Vu(){return new Mi([[document.documentElement]],wE)}function vse(){return this}Mi.prototype=Vu.prototype={constructor:Mi,select:Gre,selectAll:Yre,selectChild:ene,selectChildren:sne,filter:ine,data:une,enter:ane,exit:fne,join:dne,merge:hne,selection:vse,order:mne,sort:pne,call:xne,nodes:vne,node:yne,size:wne,empty:bne,each:Bne,attr:jne,style:Lne,property:Rne,classed:Hne,text:zne,html:Yne,raise:Jne,lower:ese,append:tse,insert:nse,remove:ise,clone:lse,datum:cse,on:hse,dispatch:gse,[Symbol.iterator]:xse};function Li(e){return typeof e=="string"?new Mi([[document.querySelector(e)]],[document.documentElement]):new Mi([[e]],wE)}function yse(e){return Li(Z2(e).call(document.documentElement))}var wse=0;function _9(){return new c_}function c_(){this._="@"+(++wse).toString(36)}c_.prototype=_9.prototype={constructor:c_,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function C9(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pa(e,t){if(e=C9(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}function bse(e,t){return e.target&&(e=C9(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>Pa(r,t))}function Bse(e){return typeof e=="string"?new Mi([document.querySelectorAll(e)],[document.documentElement]):new Mi([e==null?[]:pE(e)],wE)}function rw(e){e.stopImmediatePropagation()}function fd(e){e.preventDefault(),e.stopImmediatePropagation()}function tv(e){var t=e.document.documentElement,r=Li(e).on("dragstart.drag",fd,!0);"onselectstart"in t?r.on("selectstart.drag",fd,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function rv(e,t){var r=e.document.documentElement,n=Li(e).on("dragstart.drag",null);t&&(n.on("click.drag",fd,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const gg=e=>()=>e;function A_(e,{sourceEvent:t,subject:r,target:n,identifier:s,active:i,x:a,y:o,dx:c,dy:u,dispatch:A}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:A}})}A_.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Nse(e){return!e.ctrlKey&&!e.button}function _se(){return this.parentNode}function Cse(e,t){return t??{x:e.x,y:e.y}}function Ese(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sse(){var e=Nse,t=_se,r=Cse,n=Ese,s={},i=Gu("start","drag","end"),a=0,o,c,u,A,f=0;function d(w){w.on("mousedown.drag",h).filter(n).on("touchstart.drag",m).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,S){if(!(A||!e.call(this,w,S))){var T=y(this,t.call(this,w,S),w,S,"mouse");T&&(Li(w.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),tv(w.view),rw(w),u=!1,o=w.clientX,c=w.clientY,T("start",w))}}function g(w){if(fd(w),!u){var S=w.clientX-o,T=w.clientY-c;u=S*S+T*T>f}s.mouse("drag",w)}function p(w){Li(w.view).on("mousemove.drag mouseup.drag",null),rv(w.view,u),fd(w),s.mouse("end",w)}function m(w,S){if(e.call(this,w,S)){var T=w.changedTouches,j=t.call(this,w,S),I=T.length,B,C;for(B=0;B<I;++B)(C=y(this,j,w,S,T[B].identifier,T[B]))&&(rw(w),C("start",w,T[B]))}}function x(w){var S=w.changedTouches,T=S.length,j,I;for(j=0;j<T;++j)(I=s[S[j].identifier])&&(fd(w),I("drag",w,S[j]))}function v(w){var S=w.changedTouches,T=S.length,j,I;for(A&&clearTimeout(A),A=setTimeout(function(){A=null},500),j=0;j<T;++j)(I=s[S[j].identifier])&&(rw(w),I("end",w,S[j]))}function y(w,S,T,j,I,B){var C=i.copy(),N=Pa(B||T,S),k,E,U;if((U=r.call(w,new A_("beforestart",{sourceEvent:T,target:d,identifier:I,active:a,x:N[0],y:N[1],dx:0,dy:0,dispatch:C}),j))!=null)return k=U.x-N[0]||0,E=U.y-N[1]||0,function D(M,Q,K){var O=N,z;switch(M){case"start":s[I]=D,z=a++;break;case"end":delete s[I],--a;case"drag":N=Pa(K||Q,S),z=a;break}C.call(M,w,new A_(M,{sourceEvent:Q,subject:U,target:d,identifier:I,active:z,x:N[0]+k,y:N[1]+E,dx:N[0]-O[0],dy:N[1]-O[1],dispatch:C}),j)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:gg(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:gg(w),d):t},d.subject=function(w){return arguments.length?(r=typeof w=="function"?w:gg(w),d):r},d.touchable=function(w){return arguments.length?(n=typeof w=="function"?w:gg(!!w),d):n},d.on=function(){var w=i.on.apply(i,arguments);return w===i?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function nh(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gp(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kA(){}var ku=.7,kd=1/ku,dd="\\s*([+-]?\\d+)\\s*",jm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fse=/^#([0-9a-f]{3,8})$/,jse=new RegExp("^rgb\\("+[dd,dd,dd]+"\\)$"),Tse=new RegExp("^rgb\\("+[vl,vl,vl]+"\\)$"),Ise=new RegExp("^rgba\\("+[dd,dd,dd,jm]+"\\)$"),kse=new RegExp("^rgba\\("+[vl,vl,vl,jm]+"\\)$"),Lse=new RegExp("^hsl\\("+[jm,vl,vl]+"\\)$"),Use=new RegExp("^hsla\\("+[jm,vl,vl,jm]+"\\)$"),u8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nh(kA,bA,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:f8,formatHex:f8,formatHsl:Pse,formatRgb:d8,toString:d8});function f8(){return this.rgb().formatHex()}function Pse(){return E9(this).formatHsl()}function d8(){return this.rgb().formatRgb()}function bA(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Fse.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?h8(t):r===3?new di(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jse.exec(e))?new di(t[1],t[2],t[3],1):(t=Tse.exec(e))?new di(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ise.exec(e))?xg(t[1],t[2],t[3],t[4]):(t=kse.exec(e))?xg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lse.exec(e))?g8(t[1],t[2]/100,t[3]/100,1):(t=Use.exec(e))?g8(t[1],t[2]/100,t[3]/100,t[4]):u8.hasOwnProperty(e)?h8(u8[e]):e==="transparent"?new di(NaN,NaN,NaN,0):null}function h8(e){return new di(e>>16&255,e>>8&255,e&255,1)}function xg(e,t,r,n){return n<=0&&(e=t=r=NaN),new di(e,t,r,n)}function bE(e){return e instanceof kA||(e=bA(e)),e?(e=e.rgb(),new di(e.r,e.g,e.b,e.opacity)):new di}function Ld(e,t,r,n){return arguments.length===1?bE(e):new di(e,t,r,n??1)}function di(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nh(di,Ld,gp(kA,{brighter:function(e){return e=e==null?kd:Math.pow(kd,e),new di(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?ku:Math.pow(ku,e),new di(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m8,formatHex:m8,formatRgb:p8,toString:p8}));function m8(){return"#"+nw(this.r)+nw(this.g)+nw(this.b)}function p8(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function nw(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function g8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fl(e,t,r,n)}function E9(e){if(e instanceof fl)return new fl(e.h,e.s,e.l,e.opacity);if(e instanceof kA||(e=bA(e)),!e)return new fl;if(e instanceof fl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,o=i-s,c=(i+s)/2;return o?(t===i?a=(r-n)/o+(r<n)*6:r===i?a=(n-t)/o+2:a=(t-r)/o+4,o/=c<.5?i+s:2-i-s,a*=60):o=c>0&&c<1?0:a,new fl(a,o,c,e.opacity)}function px(e,t,r,n){return arguments.length===1?E9(e):new fl(e,t,r,n??1)}function fl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nh(fl,px,gp(kA,{brighter:function(e){return e=e==null?kd:Math.pow(kd,e),new fl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ku:Math.pow(ku,e),new fl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new di(sw(e>=240?e-240:e+120,s,n),sw(e,s,n),sw(e<120?e+240:e-120,s,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function sw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const S9=Math.PI/180,F9=180/Math.PI,gx=18,j9=.96422,T9=1,I9=.82521,k9=4/29,hd=6/29,L9=3*hd*hd,Mse=hd*hd*hd;function U9(e){if(e instanceof Uo)return new Uo(e.l,e.a,e.b,e.opacity);if(e instanceof pl)return M9(e);e instanceof di||(e=bE(e));var t=lw(e.r),r=lw(e.g),n=lw(e.b),s=iw((.2225045*t+.7168786*r+.0606169*n)/T9),i,a;return t===r&&r===n?i=a=s:(i=iw((.4360747*t+.3850649*r+.1430804*n)/j9),a=iw((.0139322*t+.0971045*r+.7141733*n)/I9)),new Uo(116*s-16,500*(i-s),200*(s-a),e.opacity)}function Rse(e,t){return new Uo(e,0,0,t??1)}function xx(e,t,r,n){return arguments.length===1?U9(e):new Uo(e,t,r,n??1)}function Uo(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}nh(Uo,xx,gp(kA,{brighter:function(e){return new Uo(this.l+gx*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Uo(this.l-gx*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=j9*aw(t),e=T9*aw(e),r=I9*aw(r),new di(ow(3.1338561*t-1.6168667*e-.4906146*r),ow(-.9787684*t+1.9161415*e+.033454*r),ow(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function iw(e){return e>Mse?Math.pow(e,1/3):e/L9+k9}function aw(e){return e>hd?e*e*e:L9*(e-k9)}function ow(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function lw(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function P9(e){if(e instanceof pl)return new pl(e.h,e.c,e.l,e.opacity);if(e instanceof Uo||(e=U9(e)),e.a===0&&e.b===0)return new pl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*F9;return new pl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ose(e,t,r,n){return arguments.length===1?P9(e):new pl(r,t,e,n??1)}function vx(e,t,r,n){return arguments.length===1?P9(e):new pl(e,t,r,n??1)}function pl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function M9(e){if(isNaN(e.h))return new Uo(e.l,0,0,e.opacity);var t=e.h*S9;return new Uo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}nh(pl,vx,gp(kA,{brighter:function(e){return new pl(this.h,this.c,this.l+gx*(e??1),this.opacity)},darker:function(e){return new pl(this.h,this.c,this.l-gx*(e??1),this.opacity)},rgb:function(){return M9(this).rgb()}}));var R9=-.14861,BE=1.78277,NE=-.29227,nv=-.90649,Tm=1.97294,x8=Tm*nv,v8=Tm*BE,y8=BE*NE-nv*R9;function Qse(e){if(e instanceof Nu)return new Nu(e.h,e.s,e.l,e.opacity);e instanceof di||(e=bE(e));var t=e.r/255,r=e.g/255,n=e.b/255,s=(y8*n+x8*t-v8*r)/(y8+x8-v8),i=n-s,a=(Tm*(r-s)-NE*i)/nv,o=Math.sqrt(a*a+i*i)/(Tm*s*(1-s)),c=o?Math.atan2(a,i)*F9-120:NaN;return new Nu(c<0?c+360:c,o,s,e.opacity)}function Qo(e,t,r,n){return arguments.length===1?Qse(e):new Nu(e,t,r,n??1)}function Nu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nh(Nu,Qo,gp(kA,{brighter:function(e){return e=e==null?kd:Math.pow(kd,e),new Nu(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ku:Math.pow(ku,e),new Nu(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*S9,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),s=Math.sin(e);return new di(255*(t+r*(R9*n+BE*s)),255*(t+r*(NE*n+nv*s)),255*(t+r*(Tm*n)),this.opacity)}}));function O9(e,t,r,n,s){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*r+(1+3*e+3*i-3*a)*n+a*s)/6}function Q9(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[n],i=e[n+1],a=n>0?e[n-1]:2*s-i,o=n<t-1?e[n+2]:2*i-s;return O9((r-n/t)*t,a,s,i,o)}}function D9(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),s=e[(n+t-1)%t],i=e[n%t],a=e[(n+1)%t],o=e[(n+2)%t];return O9((r-n/t)*t,s,i,a,o)}}const sv=e=>()=>e;function H9(e,t){return function(r){return e+r*t}}function Dse(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function iv(e,t){var r=t-e;return r?H9(e,r>180||r<-180?r-360*Math.round(r/360):r):sv(isNaN(e)?t:e)}function Hse(e){return(e=+e)==1?Vs:function(t,r){return r-t?Dse(t,r,e):sv(isNaN(t)?r:t)}}function Vs(e,t){var r=t-e;return r?H9(e,r):sv(isNaN(e)?t:e)}const Im=function e(t){var r=Hse(t);function n(s,i){var a=r((s=Ld(s)).r,(i=Ld(i)).r),o=r(s.g,i.g),c=r(s.b,i.b),u=Vs(s.opacity,i.opacity);return function(A){return s.r=a(A),s.g=o(A),s.b=c(A),s.opacity=u(A),s+""}}return n.gamma=e,n}(1);function $9(e){return function(t){var r=t.length,n=new Array(r),s=new Array(r),i=new Array(r),a,o;for(a=0;a<r;++a)o=Ld(t[a]),n[a]=o.r||0,s[a]=o.g||0,i[a]=o.b||0;return n=e(n),s=e(s),i=e(i),o.opacity=1,function(c){return o.r=n(c),o.g=s(c),o.b=i(c),o+""}}}var q9=$9(Q9),$se=$9(D9);function _E(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function K9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qse(e,t){return(K9(t)?_E:z9)(e,t)}function z9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)s[a]=LA(e[a],t[a]);for(;a<r;++a)i[a]=t[a];return function(o){for(a=0;a<n;++a)i[a]=s[a](o);return i}}function G9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ro(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function V9(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=LA(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var u_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cw=new RegExp(u_.source,"g");function Kse(e){return function(){return e}}function zse(e){return function(t){return e(t)+""}}function CE(e,t){var r=u_.lastIndex=cw.lastIndex=0,n,s,i,a=-1,o=[],c=[];for(e=e+"",t=t+"";(n=u_.exec(e))&&(s=cw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,c.push({i:a,x:ro(n,s)})),r=cw.lastIndex;return r<t.length&&(i=t.slice(r),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?zse(c[0].x):Kse(t):(t=c.length,function(u){for(var A=0,f;A<t;++A)o[(f=c[A]).i]=f.x(u);return o.join("")})}function LA(e,t){var r=typeof t,n;return t==null||r==="boolean"?sv(t):(r==="number"?ro:r==="string"?(n=bA(t))?(t=n,Im):CE:t instanceof bA?Im:t instanceof Date?G9:K9(t)?_E:Array.isArray(t)?z9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?V9:ro)(e,t)}function Gse(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function Vse(e,t){var r=iv(+e,+t);return function(n){var s=r(n);return s-360*Math.floor(s/360)}}function av(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var w8=180/Math.PI,f_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W9(e,t,r,n,s,i){var a,o,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,c/=o),e*n<t*r&&(e=-e,t=-t,c=-c,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*w8,skewX:Math.atan(c)*w8,scaleX:a,scaleY:o}}var vg;function Wse(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?f_:W9(t.a,t.b,t.c,t.d,t.e,t.f)}function Yse(e){return e==null||(vg||(vg=document.createElementNS("http://www.w3.org/2000/svg","g")),vg.setAttribute("transform",e),!(e=vg.transform.baseVal.consolidate()))?f_:(e=e.matrix,W9(e.a,e.b,e.c,e.d,e.e,e.f))}function Y9(e,t,r,n){function s(u){return u.length?u.pop()+" ":""}function i(u,A,f,d,h,g){if(u!==f||A!==d){var p=h.push("translate(",null,t,null,r);g.push({i:p-4,x:ro(u,f)},{i:p-2,x:ro(A,d)})}else(f||d)&&h.push("translate("+f+t+d+r)}function a(u,A,f,d){u!==A?(u-A>180?A+=360:A-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,n)-2,x:ro(u,A)})):A&&f.push(s(f)+"rotate("+A+n)}function o(u,A,f,d){u!==A?d.push({i:f.push(s(f)+"skewX(",null,n)-2,x:ro(u,A)}):A&&f.push(s(f)+"skewX("+A+n)}function c(u,A,f,d,h,g){if(u!==f||A!==d){var p=h.push(s(h)+"scale(",null,",",null,")");g.push({i:p-4,x:ro(u,f)},{i:p-2,x:ro(A,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,A){var f=[],d=[];return u=e(u),A=e(A),i(u.translateX,u.translateY,A.translateX,A.translateY,f,d),a(u.rotate,A.rotate,f,d),o(u.skewX,A.skewX,f,d),c(u.scaleX,u.scaleY,A.scaleX,A.scaleY,f,d),u=A=null,function(h){for(var g=-1,p=d.length,m;++g<p;)f[(m=d[g]).i]=m.x(h);return f.join("")}}}var X9=Y9(Wse,"px, ","px)","deg)"),J9=Y9(Yse,", ",")",")"),Xse=1e-12;function b8(e){return((e=Math.exp(e))+1/e)/2}function Jse(e){return((e=Math.exp(e))-1/e)/2}function Zse(e){return((e=Math.exp(2*e))-1)/(e+1)}const Z9=function e(t,r,n){function s(i,a){var o=i[0],c=i[1],u=i[2],A=a[0],f=a[1],d=a[2],h=A-o,g=f-c,p=h*h+g*g,m,x;if(p<Xse)x=Math.log(d/u)/t,m=function(j){return[o+j*h,c+j*g,u*Math.exp(t*j*x)]};else{var v=Math.sqrt(p),y=(d*d-u*u+n*p)/(2*u*r*v),w=(d*d-u*u-n*p)/(2*d*r*v),S=Math.log(Math.sqrt(y*y+1)-y),T=Math.log(Math.sqrt(w*w+1)-w);x=(T-S)/t,m=function(j){var I=j*x,B=b8(S),C=u/(r*v)*(B*Zse(t*I+S)-Jse(S));return[o+C*h,c+C*g,u*B/b8(t*I+S)]}}return m.duration=x*1e3*t/Math.SQRT2,m}return s.rho=function(i){var a=Math.max(.001,+i),o=a*a,c=o*o;return e(a,o,c)},s}(Math.SQRT2,2,4);function eQ(e){return function(t,r){var n=e((t=px(t)).h,(r=px(r)).h),s=Vs(t.s,r.s),i=Vs(t.l,r.l),a=Vs(t.opacity,r.opacity);return function(o){return t.h=n(o),t.s=s(o),t.l=i(o),t.opacity=a(o),t+""}}}const eie=eQ(iv);var tie=eQ(Vs);function rie(e,t){var r=Vs((e=xx(e)).l,(t=xx(t)).l),n=Vs(e.a,t.a),s=Vs(e.b,t.b),i=Vs(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=n(a),e.b=s(a),e.opacity=i(a),e+""}}function tQ(e){return function(t,r){var n=e((t=vx(t)).h,(r=vx(r)).h),s=Vs(t.c,r.c),i=Vs(t.l,r.l),a=Vs(t.opacity,r.opacity);return function(o){return t.h=n(o),t.c=s(o),t.l=i(o),t.opacity=a(o),t+""}}}const nie=tQ(iv);var sie=tQ(Vs);function rQ(e){return function t(r){r=+r;function n(s,i){var a=e((s=Qo(s)).h,(i=Qo(i)).h),o=Vs(s.s,i.s),c=Vs(s.l,i.l),u=Vs(s.opacity,i.opacity);return function(A){return s.h=a(A),s.s=o(A),s.l=c(Math.pow(A,r)),s.opacity=u(A),s+""}}return n.gamma=t,n}(1)}const iie=rQ(iv);var ov=rQ(Vs);function nQ(e,t){t===void 0&&(t=e,e=LA);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[o](a-o)}}function aie(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var Ud=0,C0=0,r0=0,sQ=1e3,yx,E0,wx=0,Lu=0,lv=0,km=typeof performance=="object"&&performance.now?performance:Date,iQ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xp(){return Lu||(iQ(oie),Lu=km.now()+lv)}function oie(){Lu=0}function Lm(){this._call=this._time=this._next=null}Lm.prototype=cv.prototype={constructor:Lm,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?xp():+r)+(t==null?0:+t),!this._next&&E0!==this&&(E0?E0._next=this:yx=this,E0=this),this._call=e,this._time=r,d_()},stop:function(){this._call&&(this._call=null,this._time=1/0,d_())}};function cv(e,t,r){var n=new Lm;return n.restart(e,t,r),n}function aQ(){xp(),++Ud;for(var e=yx,t;e;)(t=Lu-e._time)>=0&&e._call.call(null,t),e=e._next;--Ud}function B8(){Lu=(wx=km.now())+lv,Ud=C0=0;try{aQ()}finally{Ud=0,cie(),Lu=0}}function lie(){var e=km.now(),t=e-wx;t>sQ&&(lv-=t,wx=e)}function cie(){for(var e,t=yx,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:yx=r);E0=e,d_(n)}function d_(e){if(!Ud){C0&&(C0=clearTimeout(C0));var t=e-Lu;t>24?(e<1/0&&(C0=setTimeout(B8,e-km.now()-lv)),r0&&(r0=clearInterval(r0))):(r0||(wx=km.now(),r0=setInterval(lie,sQ)),Ud=1,iQ(B8))}}function h_(e,t,r){var n=new Lm;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}function Aie(e,t,r){var n=new Lm,s=t;return t==null?(n.restart(e,t,r),n):(n._restart=n.restart,n.restart=function(i,a,o){a=+a,o=o==null?xp():+o,n._restart(function c(u){u+=s,n._restart(c,s+=a,o),i(u)},a,o)},n.restart(e,t,r),n)}var uie=Gu("start","end","cancel","interrupt"),fie=[],oQ=0,m_=1,p_=2,H1=3,N8=4,g_=5,$1=6;function Av(e,t,r,n,s,i){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;die(e,r,{name:t,index:n,group:s,on:uie,tween:fie,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:oQ})}function EE(e,t){var r=$o(e,t);if(r.state>oQ)throw new Error("too late; already scheduled");return r}function El(e,t){var r=$o(e,t);if(r.state>H1)throw new Error("too late; already running");return r}function $o(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function die(e,t,r){var n=e.__transition,s;n[t]=r,r.timer=cv(i,0,r.time);function i(u){r.state=m_,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var A,f,d,h;if(r.state!==m_)return c();for(A in n)if(h=n[A],h.name===r.name){if(h.state===H1)return h_(a);h.state===N8?(h.state=$1,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[A]):+A<t&&(h.state=$1,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[A])}if(h_(function(){r.state===H1&&(r.state=N8,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=p_,r.on.call("start",e,e.__data__,r.index,r.group),r.state===p_){for(r.state=H1,s=new Array(d=r.tween.length),A=0,f=-1;A<d;++A)(h=r.tween[A].value.call(e,e.__data__,r.index,r.group))&&(s[++f]=h);s.length=f+1}}function o(u){for(var A=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=g_,1),f=-1,d=s.length;++f<d;)s[f].call(e,A);r.state===g_&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=$1,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function _u(e,t){var r=e.__transition,n,s,i=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){i=!1;continue}s=n.state>p_&&n.state<g_,n.state=$1,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}i&&delete e.__transition}}function hie(e){return this.each(function(){_u(this,e)})}function mie(e,t){var r,n;return function(){var s=El(this,e),i=s.tween;if(i!==r){n=r=i;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}s.tween=n}}function pie(e,t,r){var n,s;if(typeof r!="function")throw new Error;return function(){var i=El(this,e),a=i.tween;if(a!==n){s=(n=a).slice();for(var o={name:t,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=o;break}c===u&&s.push(o)}i.tween=s}}function gie(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=$o(this.node(),r).tween,s=0,i=n.length,a;s<i;++s)if((a=n[s]).name===e)return a.value;return null}return this.each((t==null?mie:pie)(r,e,t))}function SE(e,t,r){var n=e._id;return e.each(function(){var s=El(this,n);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return $o(s,n).value[t]}}function lQ(e,t){var r;return(typeof t=="number"?ro:t instanceof bA?Im:(r=bA(t))?(t=r,Im):CE)(e,t)}function xie(e){return function(){this.removeAttribute(e)}}function vie(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yie(e,t,r){var n,s=r+"",i;return function(){var a=this.getAttribute(e);return a===s?null:a===n?i:i=t(n=a,r)}}function wie(e,t,r){var n,s=r+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===n?i:i=t(n=a,r)}}function bie(e,t,r){var n,s,i;return function(){var a,o=r(this),c;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=o+"",a===c?null:a===n&&c===s?i:(s=c,i=t(n=a,o)))}}function Bie(e,t,r){var n,s,i;return function(){var a,o=r(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=o+"",a===c?null:a===n&&c===s?i:(s=c,i=t(n=a,o)))}}function Nie(e,t){var r=pp(e),n=r==="transform"?J9:lQ;return this.attrTween(e,typeof t=="function"?(r.local?Bie:bie)(r,n,SE(this,"attr."+e,t)):t==null?(r.local?vie:xie)(r):(r.local?wie:yie)(r,n,t))}function _ie(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Cie(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Eie(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Cie(e,i)),r}return s._value=t,s}function Sie(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&_ie(e,i)),r}return s._value=t,s}function Fie(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=pp(e);return this.tween(r,(n.local?Eie:Sie)(n,t))}function jie(e,t){return function(){EE(this,e).delay=+t.apply(this,arguments)}}function Tie(e,t){return t=+t,function(){EE(this,e).delay=t}}function Iie(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jie:Tie)(t,e)):$o(this.node(),t).delay}function kie(e,t){return function(){El(this,e).duration=+t.apply(this,arguments)}}function Lie(e,t){return t=+t,function(){El(this,e).duration=t}}function Uie(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kie:Lie)(t,e)):$o(this.node(),t).duration}function Pie(e,t){if(typeof t!="function")throw new Error;return function(){El(this,e).ease=t}}function Mie(e){var t=this._id;return arguments.length?this.each(Pie(t,e)):$o(this.node(),t).ease}function Rie(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;El(this,e).ease=r}}function Oie(e){if(typeof e!="function")throw new Error;return this.each(Rie(this._id,e))}function Qie(e){typeof e!="function"&&(e=xE(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],a=i.length,o=n[s]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new bl(n,this._parents,this._name,this._id)}function Die(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,s=r.length,i=Math.min(n,s),a=new Array(n),o=0;o<i;++o)for(var c=t[o],u=r[o],A=c.length,f=a[o]=new Array(A),d,h=0;h<A;++h)(d=c[h]||u[h])&&(f[h]=d);for(;o<n;++o)a[o]=t[o];return new bl(a,this._parents,this._name,this._id)}function Hie(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function $ie(e,t,r){var n,s,i=Hie(t)?EE:El;return function(){var a=i(this,e),o=a.on;o!==n&&(s=(n=o).copy()).on(t,r),a.on=s}}function qie(e,t){var r=this._id;return arguments.length<2?$o(this.node(),r).on.on(e):this.each($ie(r,e,t))}function Kie(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function zie(){return this.on("end.remove",Kie(this._id))}function Gie(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ev(e));for(var n=this._groups,s=n.length,i=new Array(s),a=0;a<s;++a)for(var o=n[a],c=o.length,u=i[a]=new Array(c),A,f,d=0;d<c;++d)(A=o[d])&&(f=e.call(A,A.__data__,d,o))&&("__data__"in A&&(f.__data__=A.__data__),u[d]=f,Av(u[d],t,r,d,u,$o(A,r)));return new bl(i,this._parents,t,r)}function Vie(e){var t=this._name,r=this._id;typeof e!="function"&&(e=gE(e));for(var n=this._groups,s=n.length,i=[],a=[],o=0;o<s;++o)for(var c=n[o],u=c.length,A,f=0;f<u;++f)if(A=c[f]){for(var d=e.call(A,A.__data__,f,c),h,g=$o(A,r),p=0,m=d.length;p<m;++p)(h=d[p])&&Av(h,t,r,p,d,g);i.push(d),a.push(A)}return new bl(i,a,t,r)}var Wie=Vu.prototype.constructor;function Yie(){return new Wie(this._groups,this._parents)}function Xie(e,t){var r,n,s;return function(){var i=Iu(this,e),a=(this.style.removeProperty(e),Iu(this,e));return i===a?null:i===r&&a===n?s:s=t(r=i,n=a)}}function cQ(e){return function(){this.style.removeProperty(e)}}function Jie(e,t,r){var n,s=r+"",i;return function(){var a=Iu(this,e);return a===s?null:a===n?i:i=t(n=a,r)}}function Zie(e,t,r){var n,s,i;return function(){var a=Iu(this,e),o=r(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),Iu(this,e))),a===c?null:a===n&&c===s?i:(s=c,i=t(n=a,o))}}function eae(e,t){var r,n,s,i="style."+t,a="end."+i,o;return function(){var c=El(this,e),u=c.on,A=c.value[i]==null?o||(o=cQ(t)):void 0;(u!==r||s!==A)&&(n=(r=u).copy()).on(a,s=A),c.on=n}}function tae(e,t,r){var n=(e+="")=="transform"?X9:lQ;return t==null?this.styleTween(e,Xie(e,n)).on("end.style."+e,cQ(e)):typeof t=="function"?this.styleTween(e,Zie(e,n,SE(this,"style."+e,t))).each(eae(this._id,e)):this.styleTween(e,Jie(e,n,t),r).on("end.style."+e,null)}function rae(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function nae(e,t,r){var n,s;function i(){var a=t.apply(this,arguments);return a!==s&&(n=(s=a)&&rae(e,a,r)),n}return i._value=t,i}function sae(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,nae(e,t,r??""))}function iae(e){return function(){this.textContent=e}}function aae(e){return function(){var t=e(this);this.textContent=t??""}}function oae(e){return this.tween("text",typeof e=="function"?aae(SE(this,"text",e)):iae(e==null?"":e+""))}function lae(e){return function(t){this.textContent=e.call(this,t)}}function cae(e){var t,r;function n(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&lae(s)),t}return n._value=e,n}function Aae(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cae(e))}function uae(){for(var e=this._name,t=this._id,r=uQ(),n=this._groups,s=n.length,i=0;i<s;++i)for(var a=n[i],o=a.length,c,u=0;u<o;++u)if(c=a[u]){var A=$o(c,t);Av(c,e,r,u,a,{time:A.time+A.delay+A.duration,delay:0,duration:A.duration,ease:A.ease})}return new bl(n,this._parents,e,r)}function fae(){var e,t,r=this,n=r._id,s=r.size();return new Promise(function(i,a){var o={value:a},c={value:function(){--s===0&&i()}};r.each(function(){var u=El(this,n),A=u.on;A!==e&&(t=(e=A).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),s===0&&i()})}var dae=0;function bl(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function AQ(e){return Vu().transition(e)}function uQ(){return++dae}var nu=Vu.prototype;bl.prototype=AQ.prototype={constructor:bl,select:Gie,selectAll:Vie,filter:Qie,merge:Die,selection:Yie,transition:uae,call:nu.call,nodes:nu.nodes,node:nu.node,size:nu.size,empty:nu.empty,each:nu.each,on:qie,attr:Nie,attrTween:Fie,style:tae,styleTween:sae,text:oae,textTween:Aae,remove:zie,tween:gie,delay:Iie,duration:Uie,ease:Mie,easeVarying:Oie,end:fae,[Symbol.iterator]:nu[Symbol.iterator]};const hae=e=>+e;function mae(e){return e*e}function pae(e){return e*(2-e)}function _8(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function gae(e){return e*e*e}function xae(e){return--e*e*e+1}function x_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FE=3,vae=function e(t){t=+t;function r(n){return Math.pow(n,t)}return r.exponent=e,r}(FE),yae=function e(t){t=+t;function r(n){return 1-Math.pow(1-n,t)}return r.exponent=e,r}(FE),C8=function e(t){t=+t;function r(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return r.exponent=e,r}(FE),fQ=Math.PI,dQ=fQ/2;function wae(e){return+e==1?1:1-Math.cos(e*dQ)}function bae(e){return Math.sin(e*dQ)}function E8(e){return(1-Math.cos(fQ*e))/2}function BA(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function Bae(e){return BA(1-+e)}function Nae(e){return 1-BA(e)}function S8(e){return((e*=2)<=1?BA(1-e):2-BA(e-1))/2}function _ae(e){return 1-Math.sqrt(1-e*e)}function Cae(e){return Math.sqrt(1- --e*e)}function F8(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var v_=4/11,Eae=6/11,Sae=8/11,Fae=3/4,jae=9/11,Tae=10/11,Iae=15/16,kae=21/22,Lae=63/64,yg=1/v_/v_;function Uae(e){return 1-Um(1-e)}function Um(e){return(e=+e)<v_?yg*e*e:e<Sae?yg*(e-=Eae)*e+Fae:e<Tae?yg*(e-=jae)*e+Iae:yg*(e-=kae)*e+Lae}function Pae(e){return((e*=2)<=1?1-Um(1-e):Um(e-1)+1)/2}var jE=1.70158,Mae=function e(t){t=+t;function r(n){return(n=+n)*n*(t*(n-1)+n)}return r.overshoot=e,r}(jE),Rae=function e(t){t=+t;function r(n){return--n*n*((n+1)*t+n)+1}return r.overshoot=e,r}(jE),j8=function e(t){t=+t;function r(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return r.overshoot=e,r}(jE),Pd=2*Math.PI,TE=1,IE=.3,Oae=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Pd);function s(i){return t*BA(- --i)*Math.sin((n-i)/r)}return s.amplitude=function(i){return e(i,r*Pd)},s.period=function(i){return e(t,i)},s}(TE,IE),T8=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Pd);function s(i){return 1-t*BA(i=+i)*Math.sin((i+n)/r)}return s.amplitude=function(i){return e(i,r*Pd)},s.period=function(i){return e(t,i)},s}(TE,IE),Qae=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Pd);function s(i){return((i=i*2-1)<0?t*BA(-i)*Math.sin((n-i)/r):2-t*BA(i)*Math.sin((n+i)/r))/2}return s.amplitude=function(i){return e(i,r*Pd)},s.period=function(i){return e(t,i)},s}(TE,IE),Dae={time:null,delay:0,duration:250,ease:x_};function Hae(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function $ae(e){var t,r;e instanceof bl?(t=e._id,e=e._name):(t=uQ(),(r=Dae).time=xp(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,i=0;i<s;++i)for(var a=n[i],o=a.length,c,u=0;u<o;++u)(c=a[u])&&Av(c,e,t,u,a,r||Hae(c,t));return new bl(n,this._parents,e,t)}Vu.prototype.interrupt=hie;Vu.prototype.transition=$ae;var qae=[null];function Kae(e,t){var r=e.__transition,n,s;if(r){t=t==null?null:t+"";for(s in r)if((n=r[s]).state>m_&&n.name===t)return new bl([[e]],qae,t,+s)}return null}const Aw=e=>()=>e;function zae(e,{sourceEvent:t,target:r,selection:n,mode:s,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:i}})}function Gae(e){e.stopImmediatePropagation()}function uw(e){e.preventDefault(),e.stopImmediatePropagation()}var I8={name:"drag"},fw={name:"space"},Ef={name:"handle"},Sf={name:"center"};const{abs:k8,max:bi,min:Bi}=Math;function L8(e){return[+e[0],+e[1]]}function y_(e){return[L8(e[0]),L8(e[1])]}var q1={name:"x",handles:["w","e"].map(Pm),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},K1={name:"y",handles:["n","s"].map(Pm),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Vae={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Pm),input:function(e){return e==null?null:y_(e)},output:function(e){return e}},Kl={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},U8={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},P8={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Wae={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Yae={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Pm(e){return{type:e}}function Xae(e){return!e.ctrlKey&&!e.button}function Jae(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Zae(){return navigator.maxTouchPoints||"ontouchstart"in this}function dw(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function eoe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function toe(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function roe(){return kE(q1)}function noe(){return kE(K1)}function soe(){return kE(Vae)}function kE(e){var t=Jae,r=Xae,n=Zae,s=!0,i=Gu("start","brush","end"),a=6,o;function c(m){var x=m.property("__brush",p).selectAll(".overlay").data([Pm("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Kl.overlay).merge(x).each(function(){var y=dw(this).extent;Li(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),m.selectAll(".selection").data([Pm("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Kl.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=m.selectAll(".handle").data(e.handles,function(y){return y.type});v.exit().remove(),v.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return Kl[y.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(n).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(m,x){m.tween?m.on("start.brush",function(v){A(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){A(this,arguments).end(v)}).tween("brush",function(){var v=this,y=v.__brush,w=A(v,arguments),S=y.selection,T=e.input(typeof x=="function"?x.apply(this,arguments):x,y.extent),j=LA(S,T);function I(B){y.selection=B===1&&T===null?null:j(B),u.call(v),w.brush()}return S!==null&&T!==null?I:I(1)}):m.each(function(){var v=this,y=arguments,w=v.__brush,S=e.input(typeof x=="function"?x.apply(v,y):x,w.extent),T=A(v,y).beforestart();_u(v),w.selection=S===null?null:S,u.call(v),T.start().brush().end()})},c.clear=function(m){c.move(m,null)};function u(){var m=Li(this),x=dw(this).selection;x?(m.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?x[1][0]-a/2:x[0][0]-a/2}).attr("y",function(v){return v.type[0]==="s"?x[1][1]-a/2:x[0][1]-a/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?x[1][0]-x[0][0]+a:a}).attr("height",function(v){return v.type==="e"||v.type==="w"?x[1][1]-x[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function A(m,x,v){var y=m.__brush.emitter;return y&&(!v||!y.clean)?y:new f(m,x,v)}function f(m,x,v){this.that=m,this.args=x,this.state=m.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,x){return this.starting?(this.starting=!1,this.emit("start",m,x)):this.emit("brush",m),this},brush:function(m,x){return this.emit("brush",m,x),this},end:function(m,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,x)),this},emit:function(m,x,v){var y=Li(this.that).datum();i.call(m,this.that,new zae(m,{sourceEvent:x,target:c,selection:e.output(this.state.selection),mode:v,dispatch:i}),y)}};function d(m){if(o&&!m.touches||!r.apply(this,arguments))return;var x=this,v=m.target.__data__.type,y=(s&&m.metaKey?v="overlay":v)==="selection"?I8:s&&m.altKey?Sf:Ef,w=e===K1?null:Wae[v],S=e===q1?null:Yae[v],T=dw(x),j=T.extent,I=T.selection,B=j[0][0],C,N,k=j[0][1],E,U,D=j[1][0],M,Q,K=j[1][1],O,z,G=0,F=0,P,L=w&&S&&s&&m.shiftKey,q,X,se=Array.from(m.touches||[m],de=>{const be=de.identifier;return de=Pa(de,x),de.point0=de.slice(),de.identifier=be,de});if(v==="overlay"){I&&(P=!0);const de=[se[0],se[1]||se[0]];T.selection=I=[[C=e===K1?B:Bi(de[0][0],de[1][0]),E=e===q1?k:Bi(de[0][1],de[1][1])],[M=e===K1?D:bi(de[0][0],de[1][0]),O=e===q1?K:bi(de[0][1],de[1][1])]],se.length>1&&Me()}else C=I[0][0],E=I[0][1],M=I[1][0],O=I[1][1];N=C,U=E,Q=M,z=O;var ae=Li(x).attr("pointer-events","none"),W=ae.selectAll(".overlay").attr("cursor",Kl[v]);_u(x);var ee=A(x,arguments,!0).beforestart();if(m.touches)ee.moved=ye,ee.ended=we;else{var Ce=Li(m.view).on("mousemove.brush",ye,!0).on("mouseup.brush",we,!0);s&&Ce.on("keydown.brush",oe,!0).on("keyup.brush",ze,!0),tv(m.view)}u.call(x),ee.start(m,y.name);function ye(de){for(const be of de.changedTouches||[de])for(const Be of se)Be.identifier===be.identifier&&(Be.cur=Pa(be,x));if(L&&!q&&!X&&se.length===1){const be=se[0];k8(be.cur[0]-be[0])>k8(be.cur[1]-be[1])?X=!0:q=!0}for(const be of se)be.cur&&(be[0]=be.cur[0],be[1]=be.cur[1]);P=!0,uw(de),Me(de)}function Me(de){const be=se[0],Be=be.point0;var et;switch(G=be[0]-Be[0],F=be[1]-Be[1],y){case fw:case I8:{w&&(G=bi(B-C,Bi(D-M,G)),N=C+G,Q=M+G),S&&(F=bi(k-E,Bi(K-O,F)),U=E+F,z=O+F);break}case Ef:{se[1]?(w&&(N=bi(B,Bi(D,se[0][0])),Q=bi(B,Bi(D,se[1][0])),w=1),S&&(U=bi(k,Bi(K,se[0][1])),z=bi(k,Bi(K,se[1][1])),S=1)):(w<0?(G=bi(B-C,Bi(D-C,G)),N=C+G,Q=M):w>0&&(G=bi(B-M,Bi(D-M,G)),N=C,Q=M+G),S<0?(F=bi(k-E,Bi(K-E,F)),U=E+F,z=O):S>0&&(F=bi(k-O,Bi(K-O,F)),U=E,z=O+F));break}case Sf:{w&&(N=bi(B,Bi(D,C-G*w)),Q=bi(B,Bi(D,M+G*w))),S&&(U=bi(k,Bi(K,E-F*S)),z=bi(k,Bi(K,O+F*S)));break}}Q<N&&(w*=-1,et=C,C=M,M=et,et=N,N=Q,Q=et,v in U8&&W.attr("cursor",Kl[v=U8[v]])),z<U&&(S*=-1,et=E,E=O,O=et,et=U,U=z,z=et,v in P8&&W.attr("cursor",Kl[v=P8[v]])),T.selection&&(I=T.selection),q&&(N=I[0][0],Q=I[1][0]),X&&(U=I[0][1],z=I[1][1]),(I[0][0]!==N||I[0][1]!==U||I[1][0]!==Q||I[1][1]!==z)&&(T.selection=[[N,U],[Q,z]],u.call(x),ee.brush(de,y.name))}function we(de){if(Gae(de),de.touches){if(de.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else rv(de.view,P),Ce.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ae.attr("pointer-events","all"),W.attr("cursor",Kl.overlay),T.selection&&(I=T.selection),eoe(I)&&(T.selection=null,u.call(x)),ee.end(de,y.name)}function oe(de){switch(de.keyCode){case 16:{L=w&&S;break}case 18:{y===Ef&&(w&&(M=Q-G*w,C=N+G*w),S&&(O=z-F*S,E=U+F*S),y=Sf,Me());break}case 32:{(y===Ef||y===Sf)&&(w<0?M=Q-G:w>0&&(C=N-G),S<0?O=z-F:S>0&&(E=U-F),y=fw,W.attr("cursor",Kl.selection),Me());break}default:return}uw(de)}function ze(de){switch(de.keyCode){case 16:{L&&(q=X=L=!1,Me());break}case 18:{y===Sf&&(w<0?M=Q:w>0&&(C=N),S<0?O=z:S>0&&(E=U),y=Ef,Me());break}case 32:{y===fw&&(de.altKey?(w&&(M=Q-G*w,C=N+G*w),S&&(O=z-F*S,E=U+F*S),y=Sf):(w<0?M=Q:w>0&&(C=N),S<0?O=z:S>0&&(E=U),y=Ef),W.attr("cursor",Kl[v]),Me());break}default:return}uw(de)}}function h(m){A(this,arguments).moved(m)}function g(m){A(this,arguments).ended(m)}function p(){var m=this.__brush||{selection:null};return m.extent=y_(t.apply(this,arguments)),m.dim=e,m}return c.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Aw(y_(m)),c):t},c.filter=function(m){return arguments.length?(r=typeof m=="function"?m:Aw(!!m),c):r},c.touchable=function(m){return arguments.length?(n=typeof m=="function"?m:Aw(!!m),c):n},c.handleSize=function(m){return arguments.length?(a=+m,c):a},c.keyModifiers=function(m){return arguments.length?(s=!!m,c):s},c.on=function(){var m=i.on.apply(i,arguments);return m===i?c:m},c}var M8=Math.abs,Ff=Math.cos,jf=Math.sin,hQ=Math.PI,wg=hQ/2,R8=hQ*2,O8=Math.max,hw=1e-12;function mw(e,t){return Array.from({length:t-e},(r,n)=>e+n)}function ioe(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function aoe(){return LE(!1,!1)}function ooe(){return LE(!1,!0)}function loe(){return LE(!0,!1)}function LE(e,t){var r=0,n=null,s=null,i=null;function a(o){var c=o.length,u=new Array(c),A=mw(0,c),f=new Array(c*c),d=new Array(c),h=0,g;o=Float64Array.from({length:c*c},t?(p,m)=>o[m%c][m/c|0]:(p,m)=>o[m/c|0][m%c]);for(let p=0;p<c;++p){let m=0;for(let x=0;x<c;++x)m+=o[p*c+x]+e*o[x*c+p];h+=u[p]=m}h=O8(0,R8-r*c)/h,g=h?r:R8/c;{let p=0;n&&A.sort((m,x)=>n(u[m],u[x]));for(const m of A){const x=p;if(e){const v=mw(~c+1,c).filter(y=>y<0?o[~y*c+m]:o[m*c+y]);s&&v.sort((y,w)=>s(y<0?-o[~y*c+m]:o[m*c+y],w<0?-o[~w*c+m]:o[m*c+w]));for(const y of v)if(y<0){const w=f[~y*c+m]||(f[~y*c+m]={source:null,target:null});w.target={index:m,startAngle:p,endAngle:p+=o[~y*c+m]*h,value:o[~y*c+m]}}else{const w=f[m*c+y]||(f[m*c+y]={source:null,target:null});w.source={index:m,startAngle:p,endAngle:p+=o[m*c+y]*h,value:o[m*c+y]}}d[m]={index:m,startAngle:x,endAngle:p,value:u[m]}}else{const v=mw(0,c).filter(y=>o[m*c+y]||o[y*c+m]);s&&v.sort((y,w)=>s(o[m*c+y],o[m*c+w]));for(const y of v){let w;if(m<y?(w=f[m*c+y]||(f[m*c+y]={source:null,target:null}),w.source={index:m,startAngle:p,endAngle:p+=o[m*c+y]*h,value:o[m*c+y]}):(w=f[y*c+m]||(f[y*c+m]={source:null,target:null}),w.target={index:m,startAngle:p,endAngle:p+=o[m*c+y]*h,value:o[m*c+y]},m===y&&(w.source=w.target)),w.source&&w.target&&w.source.value<w.target.value){const S=w.source;w.source=w.target,w.target=S}}d[m]={index:m,startAngle:x,endAngle:p,value:u[m]}}p+=g}}return f=Object.values(f),f.groups=d,i?f.sort(i):f}return a.padAngle=function(o){return arguments.length?(r=O8(0,o),a):r},a.sortGroups=function(o){return arguments.length?(n=o,a):n},a.sortSubgroups=function(o){return arguments.length?(s=o,a):s},a.sortChords=function(o){return arguments.length?(o==null?i=null:(i=ioe(o))._=o,a):i&&i._},a}const w_=Math.PI,b_=2*w_,ou=1e-6,coe=b_-ou;function B_(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function UA(){return new B_}B_.prototype=UA.prototype={constructor:B_,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,s,i){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+s)+","+(this._y1=+i)},arcTo:function(e,t,r,n,s){e=+e,t=+t,r=+r,n=+n,s=+s;var i=this._x1,a=this._y1,o=r-e,c=n-t,u=i-e,A=a-t,f=u*u+A*A;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>ou)if(!(Math.abs(A*o-c*u)>ou)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=r-i,h=n-a,g=o*o+c*c,p=d*d+h*h,m=Math.sqrt(g),x=Math.sqrt(f),v=s*Math.tan((w_-Math.acos((g+f-p)/(2*m*x)))/2),y=v/x,w=v/m;Math.abs(y-1)>ou&&(this._+="L"+(e+y*u)+","+(t+y*A)),this._+="A"+s+","+s+",0,0,"+ +(A*d>u*h)+","+(this._x1=e+w*o)+","+(this._y1=t+w*c)}},arc:function(e,t,r,n,s,i){e=+e,t=+t,r=+r,i=!!i;var a=r*Math.cos(n),o=r*Math.sin(n),c=e+a,u=t+o,A=1^i,f=i?n-s:s-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>ou||Math.abs(this._y1-u)>ou)&&(this._+="L"+c+","+u),r&&(f<0&&(f=f%b_+b_),f>coe?this._+="A"+r+","+r+",0,1,"+A+","+(e-a)+","+(t-o)+"A"+r+","+r+",0,1,"+A+","+(this._x1=c)+","+(this._y1=u):f>ou&&(this._+="A"+r+","+r+",0,"+ +(f>=w_)+","+A+","+(this._x1=e+r*Math.cos(s))+","+(this._y1=t+r*Math.sin(s))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var Aoe=Array.prototype.slice;function su(e){return function(){return e}}function uoe(e){return e.source}function foe(e){return e.target}function Q8(e){return e.radius}function doe(e){return e.startAngle}function hoe(e){return e.endAngle}function moe(){return 0}function poe(){return 10}function mQ(e){var t=uoe,r=foe,n=Q8,s=Q8,i=doe,a=hoe,o=moe,c=null;function u(){var A,f=t.apply(this,arguments),d=r.apply(this,arguments),h=o.apply(this,arguments)/2,g=Aoe.call(arguments),p=+n.apply(this,(g[0]=f,g)),m=i.apply(this,g)-wg,x=a.apply(this,g)-wg,v=+s.apply(this,(g[0]=d,g)),y=i.apply(this,g)-wg,w=a.apply(this,g)-wg;if(c||(c=A=UA()),h>hw&&(M8(x-m)>h*2+hw?x>m?(m+=h,x-=h):(m-=h,x+=h):m=x=(m+x)/2,M8(w-y)>h*2+hw?w>y?(y+=h,w-=h):(y-=h,w+=h):y=w=(y+w)/2),c.moveTo(p*Ff(m),p*jf(m)),c.arc(0,0,p,m,x),m!==y||x!==w)if(e){var S=+e.apply(this,arguments),T=v-S,j=(y+w)/2;c.quadraticCurveTo(0,0,T*Ff(y),T*jf(y)),c.lineTo(v*Ff(j),v*jf(j)),c.lineTo(T*Ff(w),T*jf(w))}else c.quadraticCurveTo(0,0,v*Ff(y),v*jf(y)),c.arc(0,0,v,y,w);if(c.quadraticCurveTo(0,0,p*Ff(m),p*jf(m)),c.closePath(),A)return c=null,A+""||null}return e&&(u.headRadius=function(A){return arguments.length?(e=typeof A=="function"?A:su(+A),u):e}),u.radius=function(A){return arguments.length?(n=s=typeof A=="function"?A:su(+A),u):n},u.sourceRadius=function(A){return arguments.length?(n=typeof A=="function"?A:su(+A),u):n},u.targetRadius=function(A){return arguments.length?(s=typeof A=="function"?A:su(+A),u):s},u.startAngle=function(A){return arguments.length?(i=typeof A=="function"?A:su(+A),u):i},u.endAngle=function(A){return arguments.length?(a=typeof A=="function"?A:su(+A),u):a},u.padAngle=function(A){return arguments.length?(o=typeof A=="function"?A:su(+A),u):o},u.source=function(A){return arguments.length?(t=A,u):t},u.target=function(A){return arguments.length?(r=A,u):r},u.context=function(A){return arguments.length?(c=A??null,u):c},u}function goe(){return mQ()}function xoe(){return mQ(poe)}var voe=Array.prototype,pQ=voe.slice;function yoe(e,t){return e-t}function woe(e){for(var t=0,r=e.length,n=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)n+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return n}const tA=e=>()=>e;function boe(e,t){for(var r=-1,n=t.length,s;++r<n;)if(s=Boe(e,t[r]))return s;return 0}function Boe(e,t){for(var r=t[0],n=t[1],s=-1,i=0,a=e.length,o=a-1;i<a;o=i++){var c=e[i],u=c[0],A=c[1],f=e[o],d=f[0],h=f[1];if(Noe(c,f,t))return 0;A>n!=h>n&&r<(d-u)*(n-A)/(h-A)+u&&(s=-s)}return s}function Noe(e,t,r){var n;return _oe(e,t,r)&&Coe(e[n=+(e[0]===t[0])],r[n],t[n])}function _oe(e,t,r){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])}function Coe(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}function Eoe(){}var zl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function gQ(){var e=1,t=1,r=dE,n=c;function s(u){var A=r(u);if(Array.isArray(A))A=A.slice().sort(yoe);else{var f=tm(u),d=f[0],h=f[1];A=Id(d,h,A),A=ml(Math.floor(d/A)*A,Math.floor(h/A)*A,A)}return A.map(function(g){return i(u,g)})}function i(u,A){var f=[],d=[];return a(u,A,function(h){n(h,u,A),woe(h)>0?f.push([h]):d.push(h)}),d.forEach(function(h){for(var g=0,p=f.length,m;g<p;++g)if(boe((m=f[g])[0],h)!==-1){m.push(h);return}}),{type:"MultiPolygon",value:A,coordinates:f}}function a(u,A,f){var d=new Array,h=new Array,g,p,m,x,v,y;for(g=p=-1,x=u[0]>=A,zl[x<<1].forEach(w);++g<e-1;)m=x,x=u[g+1]>=A,zl[m|x<<1].forEach(w);for(zl[x<<0].forEach(w);++p<t-1;){for(g=-1,x=u[p*e+e]>=A,v=u[p*e]>=A,zl[x<<1|v<<2].forEach(w);++g<e-1;)m=x,x=u[p*e+e+g+1]>=A,y=v,v=u[p*e+g+1]>=A,zl[m|x<<1|v<<2|y<<3].forEach(w);zl[x|v<<3].forEach(w)}for(g=-1,v=u[p*e]>=A,zl[v<<2].forEach(w);++g<e-1;)y=v,v=u[p*e+g+1]>=A,zl[v<<2|y<<3].forEach(w);zl[v<<3].forEach(w);function w(S){var T=[S[0][0]+g,S[0][1]+p],j=[S[1][0]+g,S[1][1]+p],I=o(T),B=o(j),C,N;(C=h[I])?(N=d[B])?(delete h[C.end],delete d[N.start],C===N?(C.ring.push(j),f(C.ring)):d[C.start]=h[N.end]={start:C.start,end:N.end,ring:C.ring.concat(N.ring)}):(delete h[C.end],C.ring.push(j),h[C.end=B]=C):(C=d[B])?(N=h[I])?(delete d[C.start],delete h[N.end],C===N?(C.ring.push(j),f(C.ring)):d[N.start]=h[C.end]={start:N.start,end:C.end,ring:N.ring.concat(C.ring)}):(delete d[C.start],C.ring.unshift(T),d[C.start=I]=C):d[I]=h[B]={start:I,end:B,ring:[T,j]}}}function o(u){return u[0]*2+u[1]*(e+1)*4}function c(u,A,f){u.forEach(function(d){var h=d[0],g=d[1],p=h|0,m=g|0,x,v=A[m*e+p];h>0&&h<e&&p===h&&(x=A[m*e+p-1],d[0]=h+(f-x)/(v-x)-.5),g>0&&g<t&&m===g&&(x=A[(m-1)*e+p],d[1]=g+(f-x)/(v-x)-.5)})}return s.contour=i,s.size=function(u){if(!arguments.length)return[e,t];var A=Math.floor(u[0]),f=Math.floor(u[1]);if(!(A>=0&&f>=0))throw new Error("invalid size");return e=A,t=f,s},s.thresholds=function(u){return arguments.length?(r=typeof u=="function"?u:Array.isArray(u)?tA(pQ.call(u)):tA(u),s):r},s.smooth=function(u){return arguments.length?(n=u?c:Eoe,s):n===c},s}function pw(e,t,r){for(var n=e.width,s=e.height,i=(r<<1)+1,a=0;a<s;++a)for(var o=0,c=0;o<n+r;++o)o<n&&(c+=e.data[o+a*n]),o>=r&&(o>=i&&(c-=e.data[o-i+a*n]),t.data[o-r+a*n]=c/Math.min(o+1,n-1+i-o,i))}function gw(e,t,r){for(var n=e.width,s=e.height,i=(r<<1)+1,a=0;a<n;++a)for(var o=0,c=0;o<s+r;++o)o<s&&(c+=e.data[a+o*n]),o>=r&&(o>=i&&(c-=e.data[a+(o-i)*n]),t.data[a+(o-r)*n]=c/Math.min(o+1,s-1+i-o,i))}function Soe(e){return e[0]}function Foe(e){return e[1]}function joe(){return 1}function Toe(){var e=Soe,t=Foe,r=joe,n=960,s=500,i=20,a=2,o=i*3,c=n+o*2>>a,u=s+o*2>>a,A=tA(20);function f(x){var v=new Float32Array(c*u),y=new Float32Array(c*u);x.forEach(function(T,j,I){var B=+e(T,j,I)+o>>a,C=+t(T,j,I)+o>>a,N=+r(T,j,I);B>=0&&B<c&&C>=0&&C<u&&(v[B+C*c]+=N)}),pw({width:c,height:u,data:v},{data:y},i>>a),gw({width:c,height:u,data:y},{data:v},i>>a),pw({width:c,height:u,data:v},{data:y},i>>a),gw({width:c,height:u,data:y},{data:v},i>>a),pw({width:c,height:u,data:v},{data:y},i>>a),gw({width:c,height:u,data:y},{data:v},i>>a);var w=A(v);if(!Array.isArray(w)){var S=dx(v);w=Id(0,S,w),w=ml(0,Math.floor(S/w)*w,w),w.shift()}return gQ().thresholds(w).size([c,u])(v).map(d)}function d(x){return x.value*=Math.pow(2,-2*a),x.coordinates.forEach(h),x}function h(x){x.forEach(g)}function g(x){x.forEach(p)}function p(x){x[0]=x[0]*Math.pow(2,a)-o,x[1]=x[1]*Math.pow(2,a)-o}function m(){return o=i*3,c=n+o*2>>a,u=s+o*2>>a,f}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:tA(+x),f):e},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:tA(+x),f):t},f.weight=function(x){return arguments.length?(r=typeof x=="function"?x:tA(+x),f):r},f.size=function(x){if(!arguments.length)return[n,s];var v=+x[0],y=+x[1];if(!(v>=0&&y>=0))throw new Error("invalid size");return n=v,s=y,m()},f.cellSize=function(x){if(!arguments.length)return 1<<a;if(!((x=+x)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(x)/Math.LN2),m()},f.thresholds=function(x){return arguments.length?(A=typeof x=="function"?x:Array.isArray(x)?tA(pQ.call(x)):tA(x),f):A},f.bandwidth=function(x){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((x=+x)>=0))throw new Error("invalid bandwidth");return i=Math.round((Math.sqrt(4*x*x+1)-1)/2),m()},f}const D8=Math.pow(2,-52),bg=new Uint32Array(512);class bx{static from(t,r=Poe,n=Moe){const s=t.length,i=new Float64Array(s*2);for(let a=0;a<s;a++){const o=t[a];i[2*a]=r(o),i[2*a+1]=n(o)}return new bx(i)}constructor(t){const r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:n,_hullTri:s,_hullHash:i}=this,a=t.length>>1;let o=1/0,c=1/0,u=-1/0,A=-1/0;for(let C=0;C<a;C++){const N=t[2*C],k=t[2*C+1];N<o&&(o=N),k<c&&(c=k),N>u&&(u=N),k>A&&(A=k),this._ids[C]=C}const f=(o+u)/2,d=(c+A)/2;let h=1/0,g,p,m;for(let C=0;C<a;C++){const N=xw(f,d,t[2*C],t[2*C+1]);N<h&&(g=C,h=N)}const x=t[2*g],v=t[2*g+1];h=1/0;for(let C=0;C<a;C++){if(C===g)continue;const N=xw(x,v,t[2*C],t[2*C+1]);N<h&&N>0&&(p=C,h=N)}let y=t[2*p],w=t[2*p+1],S=1/0;for(let C=0;C<a;C++){if(C===g||C===p)continue;const N=Loe(x,v,y,w,t[2*C],t[2*C+1]);N<S&&(m=C,S=N)}let T=t[2*m],j=t[2*m+1];if(S===1/0){for(let k=0;k<a;k++)this._dists[k]=t[2*k]-t[0]||t[2*k+1]-t[1];nd(this._ids,this._dists,0,a-1);const C=new Uint32Array(a);let N=0;for(let k=0,E=-1/0;k<a;k++){const U=this._ids[k];this._dists[U]>E&&(C[N++]=U,E=this._dists[U])}this.hull=C.subarray(0,N),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Bg(x,v,y,w,T,j)){const C=p,N=y,k=w;p=m,y=T,w=j,m=C,T=N,j=k}const I=Uoe(x,v,y,w,T,j);this._cx=I.x,this._cy=I.y;for(let C=0;C<a;C++)this._dists[C]=xw(t[2*C],t[2*C+1],I.x,I.y);nd(this._ids,this._dists,0,a-1),this._hullStart=g;let B=3;n[g]=r[m]=p,n[p]=r[g]=m,n[m]=r[p]=g,s[g]=0,s[p]=1,s[m]=2,i.fill(-1),i[this._hashKey(x,v)]=g,i[this._hashKey(y,w)]=p,i[this._hashKey(T,j)]=m,this.trianglesLen=0,this._addTriangle(g,p,m,-1,-1,-1);for(let C=0,N,k;C<this._ids.length;C++){const E=this._ids[C],U=t[2*E],D=t[2*E+1];if(C>0&&Math.abs(U-N)<=D8&&Math.abs(D-k)<=D8||(N=U,k=D,E===g||E===p||E===m))continue;let M=0;for(let G=0,F=this._hashKey(U,D);G<this._hashSize&&(M=i[(F+G)%this._hashSize],!(M!==-1&&M!==n[M]));G++);M=r[M];let Q=M,K;for(;K=n[Q],!Bg(U,D,t[2*Q],t[2*Q+1],t[2*K],t[2*K+1]);)if(Q=K,Q===M){Q=-1;break}if(Q===-1)continue;let O=this._addTriangle(Q,E,n[Q],-1,-1,s[Q]);s[E]=this._legalize(O+2),s[Q]=O,B++;let z=n[Q];for(;K=n[z],Bg(U,D,t[2*z],t[2*z+1],t[2*K],t[2*K+1]);)O=this._addTriangle(z,E,K,s[E],-1,s[z]),s[E]=this._legalize(O+2),n[z]=z,B--,z=K;if(Q===M)for(;K=r[Q],Bg(U,D,t[2*K],t[2*K+1],t[2*Q],t[2*Q+1]);)O=this._addTriangle(K,E,Q,-1,s[Q],s[K]),this._legalize(O+2),s[K]=O,n[Q]=Q,B--,Q=K;this._hullStart=r[E]=Q,n[Q]=r[z]=E,n[E]=z,i[this._hashKey(U,D)]=E,i[this._hashKey(t[2*Q],t[2*Q+1])]=Q}this.hull=new Uint32Array(B);for(let C=0,N=this._hullStart;C<B;C++)this.hull[C]=N,N=n[N];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(Ioe(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:n,coords:s}=this;let i=0,a=0;for(;;){const o=n[t],c=t-t%3;if(a=c+(t+2)%3,o===-1){if(i===0)break;t=bg[--i];continue}const u=o-o%3,A=c+(t+1)%3,f=u+(o+2)%3,d=r[a],h=r[t],g=r[A],p=r[f];if(koe(s[2*d],s[2*d+1],s[2*h],s[2*h+1],s[2*g],s[2*g+1],s[2*p],s[2*p+1])){r[t]=p,r[o]=d;const x=n[f];if(x===-1){let y=this._hullStart;do{if(this._hullTri[y]===f){this._hullTri[y]=t;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(t,x),this._link(o,n[a]),this._link(a,f);const v=u+(o+1)%3;i<bg.length&&(bg[i++]=v)}else{if(i===0)break;t=bg[--i]}}return a}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,s,i,a){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=r,this._triangles[o+2]=n,this._link(o,s),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}function Ioe(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function xw(e,t,r,n){const s=e-r,i=t-n;return s*s+i*i}function vw(e,t,r,n,s,i){const a=(n-t)*(s-e),o=(r-e)*(i-t);return Math.abs(a-o)>=33306690738754716e-32*Math.abs(a+o)?a-o:0}function Bg(e,t,r,n,s,i){return(vw(s,i,e,t,r,n)||vw(e,t,r,n,s,i)||vw(r,n,s,i,e,t))<0}function koe(e,t,r,n,s,i,a,o){const c=e-a,u=t-o,A=r-a,f=n-o,d=s-a,h=i-o,g=c*c+u*u,p=A*A+f*f,m=d*d+h*h;return c*(f*m-p*h)-u*(A*m-p*d)+g*(A*h-f*d)<0}function Loe(e,t,r,n,s,i){const a=r-e,o=n-t,c=s-e,u=i-t,A=a*a+o*o,f=c*c+u*u,d=.5/(a*u-o*c),h=(u*A-o*f)*d,g=(a*f-c*A)*d;return h*h+g*g}function Uoe(e,t,r,n,s,i){const a=r-e,o=n-t,c=s-e,u=i-t,A=a*a+o*o,f=c*c+u*u,d=.5/(a*u-o*c),h=e+(u*A-o*f)*d,g=t+(a*f-c*A)*d;return{x:h,y:g}}function nd(e,t,r,n){if(n-r<=20)for(let s=r+1;s<=n;s++){const i=e[s],a=t[i];let o=s-1;for(;o>=r&&t[e[o]]>a;)e[o+1]=e[o--];e[o+1]=i}else{const s=r+n>>1;let i=r+1,a=n;n0(e,s,i),t[e[r]]>t[e[n]]&&n0(e,r,n),t[e[i]]>t[e[n]]&&n0(e,i,n),t[e[r]]>t[e[i]]&&n0(e,r,i);const o=e[i],c=t[o];for(;;){do i++;while(t[e[i]]<c);do a--;while(t[e[a]]>c);if(a<i)break;n0(e,i,a)}e[r+1]=e[a],e[a]=o,n-i+1>=a-r?(nd(e,t,i,n),nd(e,t,r,a-1)):(nd(e,t,r,a-1),nd(e,t,i,n))}}function n0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Poe(e){return e[0]}function Moe(e){return e[1]}const H8=1e-6;class xu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;const s=t+n,i=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${i}`:(Math.abs(this._x1-s)>H8||Math.abs(this._y1-i)>H8)&&(this._+="L"+s+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=s},${this._y1=i}`)}rect(t,r,n,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+s}h${-n}Z`}value(){return this._||null}}class N_{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}}class xQ{constructor(t,[r,n,s,i]=[0,0,960,500]){if(!((s=+s)>=(r=+r))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=s,this.xmin=r,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:n},vectors:s}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let h=0,g=0,p=n.length,m,x;h<p;h+=3,g+=2){const v=n[h]*2,y=n[h+1]*2,w=n[h+2]*2,S=t[v],T=t[v+1],j=t[y],I=t[y+1],B=t[w],C=t[w+1],N=j-S,k=I-T,E=B-S,U=C-T,D=N*N+k*k,M=E*E+U*U,Q=(N*U-k*E)*2;if(!Q)m=(S+B)/2-1e8*U,x=(T+C)/2+1e8*E;else if(Math.abs(Q)<1e-8)m=(S+B)/2,x=(T+C)/2;else{const K=1/Q;m=S+(U*D-k*M)*K,x=T+(N*M-E*D)*K}i[g]=m,i[g+1]=x}let a=r[r.length-1],o,c=a*4,u,A=t[2*a],f,d=t[2*a+1];s.fill(0);for(let h=0;h<r.length;++h)a=r[h],o=c,u=A,f=d,c=a*4,A=t[2*a],d=t[2*a+1],s[o+2]=s[c]=f-d,s[o+3]=s[c+1]=A-u}render(t){const r=t==null?t=new xu:void 0,{delaunay:{halfedges:n,inedges:s,hull:i},circumcenters:a,vectors:o}=this;if(i.length<=1)return null;for(let A=0,f=n.length;A<f;++A){const d=n[A];if(d<A)continue;const h=Math.floor(A/3)*2,g=Math.floor(d/3)*2,p=a[h],m=a[h+1],x=a[g],v=a[g+1];this._renderSegment(p,m,x,v,t)}let c,u=i[i.length-1];for(let A=0;A<i.length;++A){c=u,u=i[A];const f=Math.floor(s[u]/3)*2,d=a[f],h=a[f+1],g=c*4,p=this._project(d,h,o[g+2],o[g+3]);p&&this._renderSegment(d,h,p[0],p[1],t)}return r&&r.value()}renderBounds(t){const r=t==null?t=new xu:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const n=r==null?r=new xu:void 0,s=this._clip(t);if(s===null||!s.length)return;r.moveTo(s[0],s[1]);let i=s.length;for(;s[0]===s[i-2]&&s[1]===s[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)(s[a]!==s[a-2]||s[a+1]!==s[a-1])&&r.lineTo(s[a],s[a+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){const s=this.cellPolygon(r);s&&(s.index=r,yield s)}}cellPolygon(t){const r=new N_;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,s,i){let a;const o=this._regioncode(t,r),c=this._regioncode(n,s);o===0&&c===0?(i.moveTo(t,r),i.lineTo(n,s)):(a=this._clipSegment(t,r,n,s,o,c))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){const r=this._clip(t);if(r)for(const n of this.delaunay.neighbors(t)){const s=this._clip(n);if(s){e:for(let i=0,a=r.length;i<a;i+=2)for(let o=0,c=s.length;o<c;o+=2)if(r[i]==s[o]&&r[i+1]==s[o+1]&&r[(i+2)%a]==s[(o+c-2)%c]&&r[(i+3)%a]==s[(o+c-1)%c]){yield n;break e}}}}_cell(t){const{circumcenters:r,delaunay:{inedges:n,halfedges:s,triangles:i}}=this,a=n[t];if(a===-1)return null;const o=[];let c=a;do{const u=Math.floor(c/3);if(o.push(r[u*2],r[u*2+1]),c=c%3===2?c-2:c+1,i[c]!==t)break;c=s[c]}while(c!==a&&c!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(r===null)return null;const{vectors:n}=this,s=t*4;return n[s]||n[s+1]?this._clipInfinite(t,r,n[s],n[s+1],n[s+2],n[s+3]):this._clipFinite(t,r)}_clipFinite(t,r){const n=r.length;let s=null,i,a,o=r[n-2],c=r[n-1],u,A=this._regioncode(o,c),f,d;for(let h=0;h<n;h+=2)if(i=o,a=c,o=r[h],c=r[h+1],u=A,A=this._regioncode(o,c),u===0&&A===0)f=d,d=0,s?s.push(o,c):s=[o,c];else{let g,p,m,x,v;if(u===0){if((g=this._clipSegment(i,a,o,c,u,A))===null)continue;[p,m,x,v]=g}else{if((g=this._clipSegment(o,c,i,a,A,u))===null)continue;[x,v,p,m]=g,f=d,d=this._edgecode(p,m),f&&d&&this._edge(t,f,d,s,s.length),s?s.push(p,m):s=[p,m]}f=d,d=this._edgecode(x,v),f&&d&&this._edge(t,f,d,s,s.length),s?s.push(x,v):s=[x,v]}if(s)f=d,d=this._edgecode(s[0],s[1]),f&&d&&this._edge(t,f,d,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,r,n,s,i,a){for(;;){if(i===0&&a===0)return[t,r,n,s];if(i&a)return null;let o,c,u=i||a;u&8?(o=t+(n-t)*(this.ymax-r)/(s-r),c=this.ymax):u&4?(o=t+(n-t)*(this.ymin-r)/(s-r),c=this.ymin):u&2?(c=r+(s-r)*(this.xmax-t)/(n-t),o=this.xmax):(c=r+(s-r)*(this.xmin-t)/(n-t),o=this.xmin),i?(t=o,r=c,i=this._regioncode(t,r)):(n=o,s=c,a=this._regioncode(n,s))}}_clipInfinite(t,r,n,s,i,a){let o=Array.from(r),c;if((c=this._project(o[0],o[1],n,s))&&o.unshift(c[0],c[1]),(c=this._project(o[o.length-2],o[o.length-1],i,a))&&o.push(c[0],c[1]),o=this._clipFinite(t,o))for(let u=0,A=o.length,f,d=this._edgecode(o[A-2],o[A-1]);u<A;u+=2)f=d,d=this._edgecode(o[u],o[u+1]),f&&d&&(u=this._edge(t,f,d,o,u),A=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,r,n,s,i){for(;r!==n;){let a,o;switch(r){case 5:r=4;continue;case 4:r=6,a=this.xmax,o=this.ymin;break;case 6:r=2;continue;case 2:r=10,a=this.xmax,o=this.ymax;break;case 10:r=8;continue;case 8:r=9,a=this.xmin,o=this.ymax;break;case 9:r=1;continue;case 1:r=5,a=this.xmin,o=this.ymin;break}(s[i]!==a||s[i+1]!==o)&&this.contains(t,a,o)&&(s.splice(i,0,a,o),i+=2)}if(s.length>4)for(let a=0;a<s.length;a+=2){const o=(a+2)%s.length,c=(a+4)%s.length;(s[a]===s[o]&&s[o]===s[c]||s[a+1]===s[o+1]&&s[o+1]===s[c+1])&&(s.splice(o,2),a-=2)}return i}_project(t,r,n,s){let i=1/0,a,o,c;if(s<0){if(r<=this.ymin)return null;(a=(this.ymin-r)/s)<i&&(c=this.ymin,o=t+(i=a)*n)}else if(s>0){if(r>=this.ymax)return null;(a=(this.ymax-r)/s)<i&&(c=this.ymax,o=t+(i=a)*n)}if(n>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/n)<i&&(o=this.xmax,c=r+(i=a)*s)}else if(n<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/n)<i&&(o=this.xmin,c=r+(i=a)*s)}return[o,c]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}}const Roe=2*Math.PI,Tf=Math.pow;function Ooe(e){return e[0]}function Qoe(e){return e[1]}function Doe(e){const{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){const s=2*t[n],i=2*t[n+1],a=2*t[n+2];if((r[a]-r[s])*(r[i+1]-r[s+1])-(r[i]-r[s])*(r[a+1]-r[s+1])>1e-10)return!1}return!0}function Hoe(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class UE{static from(t,r=Ooe,n=Qoe,s){return new UE("length"in t?$oe(t,r,n,s):Float64Array.from(qoe(t,r,n,s)))}constructor(t){this._delaunator=new bx(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&Doe(t)){this.collinear=Int32Array.from({length:r.length/2},(d,h)=>h).sort((d,h)=>r[2*d]-r[2*h]||r[2*d+1]-r[2*h+1]);const c=this.collinear[0],u=this.collinear[this.collinear.length-1],A=[r[2*c],r[2*c+1],r[2*u],r[2*u+1]],f=1e-8*Math.hypot(A[3]-A[1],A[2]-A[0]);for(let d=0,h=r.length/2;d<h;++d){const g=Hoe(r[2*d],r[2*d+1],f);r[2*d]=g[0],r[2*d+1]=g[1]}this._delaunator=new bx(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let c=0,u=n.length;c<u;++c){const A=i[c%3===2?c-2:c+1];(n[c]===-1||a[A]===-1)&&(a[A]=c)}for(let c=0,u=s.length;c<u;++c)o[s[c]]=c;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],this.triangles[1]=s[1],this.triangles[2]=s[1],a[s[0]]=1,s.length===2&&(a[s[1]]=0))}voronoi(t){return new xQ(this,t)}*neighbors(t){const{inedges:r,hull:n,_hullIndex:s,halfedges:i,triangles:a,collinear:o}=this;if(o){const f=o.indexOf(t);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}const c=r[t];if(c===-1)return;let u=c,A=-1;do{if(yield A=a[u],u=u%3===2?u-2:u+1,a[u]!==t)return;if(u=i[u],u===-1){const f=n[(s[t]+1)%n.length];f!==A&&(yield f);return}}while(u!==c)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;const s=n;let i;for(;(i=this._step(n,t,r))>=0&&i!==n&&i!==s;)n=i;return i}_step(t,r,n){const{inedges:s,hull:i,_hullIndex:a,halfedges:o,triangles:c,points:u}=this;if(s[t]===-1||!u.length)return(t+1)%(u.length>>1);let A=t,f=Tf(r-u[t*2],2)+Tf(n-u[t*2+1],2);const d=s[t];let h=d;do{let g=c[h];const p=Tf(r-u[g*2],2)+Tf(n-u[g*2+1],2);if(p<f&&(f=p,A=g),h=h%3===2?h-2:h+1,c[h]!==t)break;if(h=o[h],h===-1){if(h=i[(a[t]+1)%i.length],h!==g&&Tf(r-u[h*2],2)+Tf(n-u[h*2+1],2)<f)return h;break}}while(h!==d);return A}render(t){const r=t==null?t=new xu:void 0,{points:n,halfedges:s,triangles:i}=this;for(let a=0,o=s.length;a<o;++a){const c=s[a];if(c<a)continue;const u=i[a]*2,A=i[c]*2;t.moveTo(n[u],n[u+1]),t.lineTo(n[A],n[A+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r=2){const n=t==null?t=new xu:void 0,{points:s}=this;for(let i=0,a=s.length;i<a;i+=2){const o=s[i],c=s[i+1];t.moveTo(o+r,c),t.arc(o,c,r,0,Roe)}return n&&n.value()}renderHull(t){const r=t==null?t=new xu:void 0,{hull:n,points:s}=this,i=n[0]*2,a=n.length;t.moveTo(s[i],s[i+1]);for(let o=1;o<a;++o){const c=2*n[o];t.lineTo(s[c],s[c+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new N_;return this.renderHull(t),t.value()}renderTriangle(t,r){const n=r==null?r=new xu:void 0,{points:s,triangles:i}=this,a=i[t*=3]*2,o=i[t+1]*2,c=i[t+2]*2;return r.moveTo(s[a],s[a+1]),r.lineTo(s[o],s[o+1]),r.lineTo(s[c],s[c+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new N_;return this.renderTriangle(t,r),r.value()}}function $oe(e,t,r,n){const s=e.length,i=new Float64Array(s*2);for(let a=0;a<s;++a){const o=e[a];i[a*2]=t.call(n,o,a,e),i[a*2+1]=r.call(n,o,a,e)}return i}function*qoe(e,t,r,n){let s=0;for(const i of e)yield t.call(n,i,s,e),yield r.call(n,i,s,e),++s}var $8={},yw={},ww=34,s0=10,bw=13;function vQ(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function Koe(e,t){var r=vQ(e);return function(n,s){return t(r(n),s,e)}}function q8(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var s in n)s in t||r.push(t[s]=s)}),r}function ca(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function zoe(e){return e<0?"-"+ca(-e,6):e>9999?"+"+ca(e,6):ca(e,4)}function Goe(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":zoe(e.getUTCFullYear())+"-"+ca(e.getUTCMonth()+1,2)+"-"+ca(e.getUTCDate(),2)+(s?"T"+ca(t,2)+":"+ca(r,2)+":"+ca(n,2)+"."+ca(s,3)+"Z":n?"T"+ca(t,2)+":"+ca(r,2)+":"+ca(n,2)+"Z":r||t?"T"+ca(t,2)+":"+ca(r,2)+"Z":"")}function uv(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(f,d){var h,g,p=s(f,function(m,x){if(h)return h(m,x-1);g=m,h=d?Koe(m,d):vQ(m)});return p.columns=g||[],p}function s(f,d){var h=[],g=f.length,p=0,m=0,x,v=g<=0,y=!1;f.charCodeAt(g-1)===s0&&--g,f.charCodeAt(g-1)===bw&&--g;function w(){if(v)return yw;if(y)return y=!1,$8;var T,j=p,I;if(f.charCodeAt(j)===ww){for(;p++<g&&f.charCodeAt(p)!==ww||f.charCodeAt(++p)===ww;);return(T=p)>=g?v=!0:(I=f.charCodeAt(p++))===s0?y=!0:I===bw&&(y=!0,f.charCodeAt(p)===s0&&++p),f.slice(j+1,T-1).replace(/""/g,'"')}for(;p<g;){if((I=f.charCodeAt(T=p++))===s0)y=!0;else if(I===bw)y=!0,f.charCodeAt(p)===s0&&++p;else if(I!==r)continue;return f.slice(j,T)}return v=!0,f.slice(j,g)}for(;(x=w())!==yw;){for(var S=[];x!==$8&&x!==yw;)S.push(x),x=w();d&&(S=d(S,m++))==null||h.push(S)}return h}function i(f,d){return f.map(function(h){return d.map(function(g){return A(h[g])}).join(e)})}function a(f,d){return d==null&&(d=q8(f)),[d.map(A).join(e)].concat(i(f,d)).join(`
`)}function o(f,d){return d==null&&(d=q8(f)),i(f,d).join(`
`)}function c(f){return f.map(u).join(`
`)}function u(f){return f.map(A).join(e)}function A(f){return f==null?"":f instanceof Date?Goe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:n,parseRows:s,format:a,formatBody:o,formatRows:c,formatRow:u,formatValue:A}}var Wu=uv(","),yQ=Wu.parse,Voe=Wu.parseRows,Woe=Wu.format,Yoe=Wu.formatBody,Xoe=Wu.formatRows,Joe=Wu.formatRow,Zoe=Wu.formatValue,Yu=uv("	"),wQ=Yu.parse,ele=Yu.parseRows,tle=Yu.format,rle=Yu.formatBody,nle=Yu.formatRows,sle=Yu.formatRow,ile=Yu.formatValue;function ale(e){for(var t in e){var r=e[t].trim(),n,s;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(n=+r))r=n;else if(s=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))ole&&s[4]&&!s[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}const ole=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function lle(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function cle(e,t){return fetch(e,t).then(lle)}function Ale(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function ule(e,t){return fetch(e,t).then(Ale)}function fle(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function fv(e,t){return fetch(e,t).then(fle)}function bQ(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),fv(t,r).then(function(s){return e(s,n)})}}function dle(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var s=uv(e);return fv(t,r).then(function(i){return s.parse(i,n)})}var hle=bQ(yQ),mle=bQ(wQ);function ple(e,t){return new Promise(function(r,n){var s=new Image;for(var i in t)s[i]=t[i];s.onerror=n,s.onload=function(){r(s)},s.src=e})}function gle(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function xle(e,t){return fetch(e,t).then(gle)}function PE(e){return(t,r)=>fv(t,r).then(n=>new DOMParser().parseFromString(n,e))}const vle=PE("application/xml");var yle=PE("text/html"),wle=PE("image/svg+xml");function ble(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function s(){var i,a=r.length,o,c=0,u=0;for(i=0;i<a;++i)o=r[i],c+=o.x,u+=o.y;for(c=(c/a-e)*n,u=(u/a-t)*n,i=0;i<a;++i)o=r[i],o.x-=c,o.y-=u}return s.initialize=function(i){r=i},s.x=function(i){return arguments.length?(e=+i,s):e},s.y=function(i){return arguments.length?(t=+i,s):t},s.strength=function(i){return arguments.length?(n=+i,s):n},s}function Ble(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return BQ(this.cover(t,r),t,r,e)}function BQ(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var s,i=e._root,a={data:n},o=e._x0,c=e._y0,u=e._x1,A=e._y1,f,d,h,g,p,m,x,v;if(!i)return e._root=a,e;for(;i.length;)if((p=t>=(f=(o+u)/2))?o=f:u=f,(m=r>=(d=(c+A)/2))?c=d:A=d,s=i,!(i=i[x=m<<1|p]))return s[x]=a,e;if(h=+e._x.call(null,i.data),g=+e._y.call(null,i.data),t===h&&r===g)return a.next=i,s?s[x]=a:e._root=a,e;do s=s?s[x]=new Array(4):e._root=new Array(4),(p=t>=(f=(o+u)/2))?o=f:u=f,(m=r>=(d=(c+A)/2))?c=d:A=d;while((x=m<<1|p)===(v=(g>=d)<<1|h>=f));return s[v]=i,s[x]=a,e}function Nle(e){var t,r,n=e.length,s,i,a=new Array(n),o=new Array(n),c=1/0,u=1/0,A=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(s=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||(a[r]=s,o[r]=i,s<c&&(c=s),s>A&&(A=s),i<u&&(u=i),i>f&&(f=i));if(c>A||u>f)return this;for(this.cover(c,u).cover(A,f),r=0;r<n;++r)BQ(this,a[r],o[r],e[r]);return this}function _le(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,s=this._x1,i=this._y1;if(isNaN(r))s=(r=Math.floor(e))+1,i=(n=Math.floor(t))+1;else{for(var a=s-r||1,o=this._root,c,u;r>e||e>=s||n>t||t>=i;)switch(u=(t<n)<<1|e<r,c=new Array(4),c[u]=o,o=c,a*=2,u){case 0:s=r+a,i=n+a;break;case 1:r=s-a,i=n+a;break;case 2:s=r+a,n=i-a;break;case 3:r=s-a,n=i-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._y0=n,this._x1=s,this._y1=i,this}function Cle(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Ele(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xi(e,t,r,n,s){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=s}function Sle(e,t,r){var n,s=this._x0,i=this._y0,a,o,c,u,A=this._x1,f=this._y1,d=[],h=this._root,g,p;for(h&&d.push(new Xi(h,s,i,A,f)),r==null?r=1/0:(s=e-r,i=t-r,A=e+r,f=t+r,r*=r);g=d.pop();)if(!(!(h=g.node)||(a=g.x0)>A||(o=g.y0)>f||(c=g.x1)<s||(u=g.y1)<i))if(h.length){var m=(a+c)/2,x=(o+u)/2;d.push(new Xi(h[3],m,x,c,u),new Xi(h[2],a,x,m,u),new Xi(h[1],m,o,c,x),new Xi(h[0],a,o,m,x)),(p=(t>=x)<<1|e>=m)&&(g=d[d.length-1],d[d.length-1]=d[d.length-1-p],d[d.length-1-p]=g)}else{var v=e-+this._x.call(null,h.data),y=t-+this._y.call(null,h.data),w=v*v+y*y;if(w<r){var S=Math.sqrt(r=w);s=e-S,i=t-S,A=e+S,f=t+S,n=h.data}}return n}function Fle(e){if(isNaN(A=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,n,s,i,a=this._x0,o=this._y0,c=this._x1,u=this._y1,A,f,d,h,g,p,m,x;if(!r)return this;if(r.length)for(;;){if((g=A>=(d=(a+c)/2))?a=d:c=d,(p=f>=(h=(o+u)/2))?o=h:u=h,t=r,!(r=r[m=p<<1|g]))return this;if(!r.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(n=t,x=m)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):t?(i?t[m]=i:delete t[m],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[x]=r:this._root=r),this):(this._root=i,this)}function jle(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Tle(){return this._root}function Ile(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function kle(e){var t=[],r,n=this._root,s,i,a,o,c;for(n&&t.push(new Xi(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,i=r.x0,a=r.y0,o=r.x1,c=r.y1)&&n.length){var u=(i+o)/2,A=(a+c)/2;(s=n[3])&&t.push(new Xi(s,u,A,o,c)),(s=n[2])&&t.push(new Xi(s,i,A,u,c)),(s=n[1])&&t.push(new Xi(s,u,a,o,A)),(s=n[0])&&t.push(new Xi(s,i,a,u,A))}return this}function Lle(e){var t=[],r=[],n;for(this._root&&t.push(new Xi(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var s=n.node;if(s.length){var i,a=n.x0,o=n.y0,c=n.x1,u=n.y1,A=(a+c)/2,f=(o+u)/2;(i=s[0])&&t.push(new Xi(i,a,o,A,f)),(i=s[1])&&t.push(new Xi(i,A,o,c,f)),(i=s[2])&&t.push(new Xi(i,a,f,A,u)),(i=s[3])&&t.push(new Xi(i,A,f,c,u))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Ule(e){return e[0]}function Ple(e){return arguments.length?(this._x=e,this):this._x}function Mle(e){return e[1]}function Rle(e){return arguments.length?(this._y=e,this):this._y}function dv(e,t,r){var n=new ME(t??Ule,r??Mle,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function ME(e,t,r,n,s,i){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=s,this._y1=i,this._root=void 0}function K8(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var na=dv.prototype=ME.prototype;na.copy=function(){var e=new ME(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=K8(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var s=0;s<4;++s)(n=t.source[s])&&(n.length?r.push({source:n,target:t.target[s]=new Array(4)}):t.target[s]=K8(n));return e};na.add=Ble;na.addAll=Nle;na.cover=_le;na.data=Cle;na.extent=Ele;na.find=Sle;na.remove=Fle;na.removeAll=jle;na.root=Tle;na.size=Ile;na.visit=kle;na.visitAfter=Lle;na.x=Ple;na.y=Rle;function Qs(e){return function(){return e}}function lA(e){return(e()-.5)*1e-6}function Ole(e){return e.x+e.vx}function Qle(e){return e.y+e.vy}function Dle(e){var t,r,n,s=1,i=1;typeof e!="function"&&(e=Qs(e==null?1:+e));function a(){for(var u,A=t.length,f,d,h,g,p,m,x=0;x<i;++x)for(f=dv(t,Ole,Qle).visitAfter(o),u=0;u<A;++u)d=t[u],p=r[d.index],m=p*p,h=d.x+d.vx,g=d.y+d.vy,f.visit(v);function v(y,w,S,T,j){var I=y.data,B=y.r,C=p+B;if(I){if(I.index>d.index){var N=h-I.x-I.vx,k=g-I.y-I.vy,E=N*N+k*k;E<C*C&&(N===0&&(N=lA(n),E+=N*N),k===0&&(k=lA(n),E+=k*k),E=(C-(E=Math.sqrt(E)))/E*s,d.vx+=(N*=E)*(C=(B*=B)/(m+B)),d.vy+=(k*=E)*C,I.vx-=N*(C=1-C),I.vy-=k*C)}return}return w>h+C||T<h-C||S>g+C||j<g-C}}function o(u){if(u.data)return u.r=r[u.data.index];for(var A=u.r=0;A<4;++A)u[A]&&u[A].r>u.r&&(u.r=u[A].r)}function c(){if(t){var u,A=t.length,f;for(r=new Array(A),u=0;u<A;++u)f=t[u],r[f.index]=+e(f,u,t)}}return a.initialize=function(u,A){t=u,n=A,c()},a.iterations=function(u){return arguments.length?(i=+u,a):i},a.strength=function(u){return arguments.length?(s=+u,a):s},a.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Qs(+u),c(),a):e},a}function Hle(e){return e.index}function z8(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function $le(e){var t=Hle,r=f,n,s=Qs(30),i,a,o,c,u,A=1;e==null&&(e=[]);function f(m){return 1/Math.min(o[m.source.index],o[m.target.index])}function d(m){for(var x=0,v=e.length;x<A;++x)for(var y=0,w,S,T,j,I,B,C;y<v;++y)w=e[y],S=w.source,T=w.target,j=T.x+T.vx-S.x-S.vx||lA(u),I=T.y+T.vy-S.y-S.vy||lA(u),B=Math.sqrt(j*j+I*I),B=(B-i[y])/B*m*n[y],j*=B,I*=B,T.vx-=j*(C=c[y]),T.vy-=I*C,S.vx+=j*(C=1-C),S.vy+=I*C}function h(){if(a){var m,x=a.length,v=e.length,y=new Map(a.map((S,T)=>[t(S,T,a),S])),w;for(m=0,o=new Array(x);m<v;++m)w=e[m],w.index=m,typeof w.source!="object"&&(w.source=z8(y,w.source)),typeof w.target!="object"&&(w.target=z8(y,w.target)),o[w.source.index]=(o[w.source.index]||0)+1,o[w.target.index]=(o[w.target.index]||0)+1;for(m=0,c=new Array(v);m<v;++m)w=e[m],c[m]=o[w.source.index]/(o[w.source.index]+o[w.target.index]);n=new Array(v),g(),i=new Array(v),p()}}function g(){if(a)for(var m=0,x=e.length;m<x;++m)n[m]=+r(e[m],m,e)}function p(){if(a)for(var m=0,x=e.length;m<x;++m)i[m]=+s(e[m],m,e)}return d.initialize=function(m,x){a=m,u=x,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(A=+m,d):A},d.strength=function(m){return arguments.length?(r=typeof m=="function"?m:Qs(+m),g(),d):r},d.distance=function(m){return arguments.length?(s=typeof m=="function"?m:Qs(+m),p(),d):s},d}const qle=1664525,Kle=1013904223,G8=4294967296;function zle(){let e=1;return()=>(e=(qle*e+Kle)%G8)/G8}function Gle(e){return e.x}function Vle(e){return e.y}var Wle=10,Yle=Math.PI*(3-Math.sqrt(5));function Xle(e){var t,r=1,n=.001,s=1-Math.pow(n,1/300),i=0,a=.6,o=new Map,c=cv(f),u=Gu("tick","end"),A=zle();e==null&&(e=[]);function f(){d(),u.call("tick",t),r<n&&(c.stop(),u.call("end",t))}function d(p){var m,x=e.length,v;p===void 0&&(p=1);for(var y=0;y<p;++y)for(r+=(i-r)*s,o.forEach(function(w){w(r)}),m=0;m<x;++m)v=e[m],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return t}function h(){for(var p=0,m=e.length,x;p<m;++p){if(x=e[p],x.index=p,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var v=Wle*Math.sqrt(.5+p),y=p*Yle;x.x=v*Math.cos(y),x.y=v*Math.sin(y)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function g(p){return p.initialize&&p.initialize(e,A),p}return h(),t={tick:d,restart:function(){return c.restart(f),t},stop:function(){return c.stop(),t},nodes:function(p){return arguments.length?(e=p,h(),o.forEach(g),t):e},alpha:function(p){return arguments.length?(r=+p,t):r},alphaMin:function(p){return arguments.length?(n=+p,t):n},alphaDecay:function(p){return arguments.length?(s=+p,t):+s},alphaTarget:function(p){return arguments.length?(i=+p,t):i},velocityDecay:function(p){return arguments.length?(a=1-p,t):1-a},randomSource:function(p){return arguments.length?(A=p,o.forEach(g),t):A},force:function(p,m){return arguments.length>1?(m==null?o.delete(p):o.set(p,g(m)),t):o.get(p)},find:function(p,m,x){var v=0,y=e.length,w,S,T,j,I;for(x==null?x=1/0:x*=x,v=0;v<y;++v)j=e[v],w=p-j.x,S=m-j.y,T=w*w+S*S,T<x&&(I=j,x=T);return I},on:function(p,m){return arguments.length>1?(u.on(p,m),t):u.on(p)}}}function Jle(){var e,t,r,n,s=Qs(-30),i,a=1,o=1/0,c=.81;function u(h){var g,p=e.length,m=dv(e,Gle,Vle).visitAfter(f);for(n=h,g=0;g<p;++g)t=e[g],m.visit(d)}function A(){if(e){var h,g=e.length,p;for(i=new Array(g),h=0;h<g;++h)p=e[h],i[p.index]=+s(p,h,e)}}function f(h){var g=0,p,m,x=0,v,y,w;if(h.length){for(v=y=w=0;w<4;++w)(p=h[w])&&(m=Math.abs(p.value))&&(g+=p.value,x+=m,v+=m*p.x,y+=m*p.y);h.x=v/x,h.y=y/x}else{p=h,p.x=p.data.x,p.y=p.data.y;do g+=i[p.data.index];while(p=p.next)}h.value=g}function d(h,g,p,m){if(!h.value)return!0;var x=h.x-t.x,v=h.y-t.y,y=m-g,w=x*x+v*v;if(y*y/c<w)return w<o&&(x===0&&(x=lA(r),w+=x*x),v===0&&(v=lA(r),w+=v*v),w<a&&(w=Math.sqrt(a*w)),t.vx+=x*h.value*n/w,t.vy+=v*h.value*n/w),!0;if(h.length||w>=o)return;(h.data!==t||h.next)&&(x===0&&(x=lA(r),w+=x*x),v===0&&(v=lA(r),w+=v*v),w<a&&(w=Math.sqrt(a*w)));do h.data!==t&&(y=i[h.data.index]*n/w,t.vx+=x*y,t.vy+=v*y);while(h=h.next)}return u.initialize=function(h,g){e=h,r=g,A()},u.strength=function(h){return arguments.length?(s=typeof h=="function"?h:Qs(+h),A(),u):s},u.distanceMin=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.distanceMax=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.theta=function(h){return arguments.length?(c=h*h,u):Math.sqrt(c)},u}function Zle(e,t,r){var n,s=Qs(.1),i,a;typeof e!="function"&&(e=Qs(+e)),t==null&&(t=0),r==null&&(r=0);function o(u){for(var A=0,f=n.length;A<f;++A){var d=n[A],h=d.x-t||1e-6,g=d.y-r||1e-6,p=Math.sqrt(h*h+g*g),m=(a[A]-p)*i[A]*u/p;d.vx+=h*m,d.vy+=g*m}}function c(){if(n){var u,A=n.length;for(i=new Array(A),a=new Array(A),u=0;u<A;++u)a[u]=+e(n[u],u,n),i[u]=isNaN(a[u])?0:+s(n[u],u,n)}}return o.initialize=function(u){n=u,c()},o.strength=function(u){return arguments.length?(s=typeof u=="function"?u:Qs(+u),c(),o):s},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Qs(+u),c(),o):e},o.x=function(u){return arguments.length?(t=+u,o):t},o.y=function(u){return arguments.length?(r=+u,o):r},o}function ece(e){var t=Qs(.1),r,n,s;typeof e!="function"&&(e=Qs(e==null?0:+e));function i(o){for(var c=0,u=r.length,A;c<u;++c)A=r[c],A.vx+=(s[c]-A.x)*n[c]*o}function a(){if(r){var o,c=r.length;for(n=new Array(c),s=new Array(c),o=0;o<c;++o)n[o]=isNaN(s[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return i.initialize=function(o){r=o,a()},i.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Qs(+o),a(),i):t},i.x=function(o){return arguments.length?(e=typeof o=="function"?o:Qs(+o),a(),i):e},i}function tce(e){var t=Qs(.1),r,n,s;typeof e!="function"&&(e=Qs(e==null?0:+e));function i(o){for(var c=0,u=r.length,A;c<u;++c)A=r[c],A.vy+=(s[c]-A.y)*n[c]*o}function a(){if(r){var o,c=r.length;for(n=new Array(c),s=new Array(c),o=0;o<c;++o)n[o]=isNaN(s[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return i.initialize=function(o){r=o,a()},i.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Qs(+o),a(),i):t},i.y=function(o){return arguments.length?(e=typeof o=="function"?o:Qs(+o),a(),i):e},i}function rce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Md(e){return e=Bx(Math.abs(e)),e?e[1]:NaN}function nce(e,t){return function(r,n){for(var s=r.length,i=[],a=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(s-=o,s+o)),!((c+=o+1)>n));)o=e[a=(a+1)%e.length];return i.reverse().join(t)}}function sce(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ice=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mm(e){if(!(t=ice.exec(e)))throw new Error("invalid format: "+e);var t;return new hv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mm.prototype=hv.prototype;function hv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ace(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var NQ;function oce(e,t){var r=Bx(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(NQ=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bx(e,Math.max(0,t+i-1))[0]}function V8(e,t){var r=Bx(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const W8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rce,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>V8(e*100,t),r:V8,s:oce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Y8(e){return e}var X8=Array.prototype.map,J8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _Q(e){var t=e.grouping===void 0||e.thousands===void 0?Y8:nce(X8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Y8:sce(X8.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mm(f);var d=f.fill,h=f.align,g=f.sign,p=f.symbol,m=f.zero,x=f.width,v=f.comma,y=f.precision,w=f.trim,S=f.type;S==="n"?(v=!0,S="g"):W8[S]||(y===void 0&&(y=12),w=!0,S="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var T=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=p==="$"?n:/[%p]/.test(S)?a:"",I=W8[S],B=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(N){var k=T,E=j,U,D,M;if(S==="c")E=I(N)+E,N="";else{N=+N;var Q=N<0||1/N<0;if(N=isNaN(N)?c:I(Math.abs(N),y),w&&(N=ace(N)),Q&&+N==0&&g!=="+"&&(Q=!1),k=(Q?g==="("?g:o:g==="-"||g==="("?"":g)+k,E=(S==="s"?J8[8+NQ/3]:"")+E+(Q&&g==="("?")":""),B){for(U=-1,D=N.length;++U<D;)if(M=N.charCodeAt(U),48>M||M>57){E=(M===46?s+N.slice(U+1):N.slice(U))+E,N=N.slice(0,U);break}}}v&&!m&&(N=t(N,1/0));var K=k.length+N.length+E.length,O=K<x?new Array(x-K+1).join(d):"";switch(v&&m&&(N=t(O+N,O.length?x-E.length:1/0),O=""),h){case"<":N=k+N+E+O;break;case"=":N=k+O+N+E;break;case"^":N=O.slice(0,K=O.length>>1)+k+N+E+O.slice(K);break;default:N=O+k+N+E;break}return i(N)}return C.toString=function(){return f+""},C}function A(f,d){var h=u((f=Mm(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Md(d)/3)))*3,p=Math.pow(10,-g),m=J8[8+g/3];return function(x){return h(p*x)+m}}return{format:u,formatPrefix:A}}var Ng,mv,RE;CQ({thousands:",",grouping:[3],currency:["$",""]});function CQ(e){return Ng=_Q(e),mv=Ng.format,RE=Ng.formatPrefix,Ng}function EQ(e){return Math.max(0,-Md(Math.abs(e)))}function SQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Md(t)/3)))*3-Md(Math.abs(e)))}function FQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Md(t)-Md(e))+1}var cr=1e-6,Rm=1e-12,Ir=Math.PI,ss=Ir/2,Nx=Ir/4,ea=Ir*2,_n=180/Ir,Ar=Ir/180,Dr=Math.abs,sh=Math.atan,ta=Math.atan2,tr=Math.cos,_g=Math.ceil,jQ=Math.exp,__=Math.hypot,_x=Math.log,Bw=Math.pow,$t=Math.sin,io=Math.sign||function(e){return e>0?1:e<0?-1:0},Xs=Math.sqrt,OE=Math.tan;function TQ(e){return e>1?0:e<-1?Ir:Math.acos(e)}function ra(e){return e>1?ss:e<-1?-ss:Math.asin(e)}function Z8(e){return(e=$t(e/2))*e}function Gn(){}function Cx(e,t){e&&tj.hasOwnProperty(e.type)&&tj[e.type](e,t)}var ej={Feature:function(e,t){Cx(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,s=r.length;++n<s;)Cx(r[n].geometry,t)}},tj={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){C_(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)C_(r[n],t,0)},Polygon:function(e,t){rj(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)rj(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,s=r.length;++n<s;)Cx(r[n],t)}};function C_(e,t,r){var n=-1,s=e.length-r,i;for(t.lineStart();++n<s;)i=e[n],t.point(i[0],i[1],i[2]);t.lineEnd()}function rj(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)C_(e[r],t,1);t.polygonEnd()}function Fo(e,t){e&&ej.hasOwnProperty(e.type)?ej[e.type](e,t):Cx(e,t)}var Ex=new Hs,Sx=new Hs,IQ,kQ,E_,S_,F_,Bl={point:Gn,lineStart:Gn,lineEnd:Gn,polygonStart:function(){Ex=new Hs,Bl.lineStart=lce,Bl.lineEnd=cce},polygonEnd:function(){var e=+Ex;Sx.add(e<0?ea+e:e),this.lineStart=this.lineEnd=this.point=Gn},sphere:function(){Sx.add(ea)}};function lce(){Bl.point=Ace}function cce(){LQ(IQ,kQ)}function Ace(e,t){Bl.point=LQ,IQ=e,kQ=t,e*=Ar,t*=Ar,E_=e,S_=tr(t=t/2+Nx),F_=$t(t)}function LQ(e,t){e*=Ar,t*=Ar,t=t/2+Nx;var r=e-E_,n=r>=0?1:-1,s=n*r,i=tr(t),a=$t(t),o=F_*a,c=S_*i+o*tr(s),u=o*n*$t(s);Ex.add(ta(u,c)),E_=e,S_=i,F_=a}function uce(e){return Sx=new Hs,Fo(e,Bl),Sx*2}function Fx(e){return[ta(e[1],e[0]),ra(e[2])]}function Uu(e){var t=e[0],r=e[1],n=tr(r);return[n*tr(t),n*$t(t),$t(r)]}function Cg(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Rd(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Nw(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Eg(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function jx(e){var t=Xs(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var zn,fa,es,Oa,lu,UQ,PQ,md,rm,rA,xc,Jl={point:j_,lineStart:nj,lineEnd:sj,polygonStart:function(){Jl.point=RQ,Jl.lineStart=fce,Jl.lineEnd=dce,rm=new Hs,Bl.polygonStart()},polygonEnd:function(){Bl.polygonEnd(),Jl.point=j_,Jl.lineStart=nj,Jl.lineEnd=sj,Ex<0?(zn=-(es=180),fa=-(Oa=90)):rm>cr?Oa=90:rm<-cr&&(fa=-90),xc[0]=zn,xc[1]=es},sphere:function(){zn=-(es=180),fa=-(Oa=90)}};function j_(e,t){rA.push(xc=[zn=e,es=e]),t<fa&&(fa=t),t>Oa&&(Oa=t)}function MQ(e,t){var r=Uu([e*Ar,t*Ar]);if(md){var n=Rd(md,r),s=[n[1],-n[0],0],i=Rd(s,n);jx(i),i=Fx(i);var a=e-lu,o=a>0?1:-1,c=i[0]*_n*o,u,A=Dr(a)>180;A^(o*lu<c&&c<o*e)?(u=i[1]*_n,u>Oa&&(Oa=u)):(c=(c+360)%360-180,A^(o*lu<c&&c<o*e)?(u=-i[1]*_n,u<fa&&(fa=u)):(t<fa&&(fa=t),t>Oa&&(Oa=t))),A?e<lu?Ua(zn,e)>Ua(zn,es)&&(es=e):Ua(e,es)>Ua(zn,es)&&(zn=e):es>=zn?(e<zn&&(zn=e),e>es&&(es=e)):e>lu?Ua(zn,e)>Ua(zn,es)&&(es=e):Ua(e,es)>Ua(zn,es)&&(zn=e)}else rA.push(xc=[zn=e,es=e]);t<fa&&(fa=t),t>Oa&&(Oa=t),md=r,lu=e}function nj(){Jl.point=MQ}function sj(){xc[0]=zn,xc[1]=es,Jl.point=j_,md=null}function RQ(e,t){if(md){var r=e-lu;rm.add(Dr(r)>180?r+(r>0?360:-360):r)}else UQ=e,PQ=t;Bl.point(e,t),MQ(e,t)}function fce(){Bl.lineStart()}function dce(){RQ(UQ,PQ),Bl.lineEnd(),Dr(rm)>cr&&(zn=-(es=180)),xc[0]=zn,xc[1]=es,md=null}function Ua(e,t){return(t-=e)<0?t+360:t}function hce(e,t){return e[0]-t[0]}function ij(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function mce(e){var t,r,n,s,i,a,o;if(Oa=es=-(zn=fa=1/0),rA=[],Fo(e,Jl),r=rA.length){for(rA.sort(hce),t=1,n=rA[0],i=[n];t<r;++t)s=rA[t],ij(n,s[0])||ij(n,s[1])?(Ua(n[0],s[1])>Ua(n[0],n[1])&&(n[1]=s[1]),Ua(s[0],n[1])>Ua(n[0],n[1])&&(n[0]=s[0])):i.push(n=s);for(a=-1/0,r=i.length-1,t=0,n=i[r];t<=r;n=s,++t)s=i[t],(o=Ua(n[1],s[0]))>a&&(a=o,zn=s[0],es=n[1])}return rA=xc=null,zn===1/0||fa===1/0?[[NaN,NaN],[NaN,NaN]]:[[zn,fa],[es,Oa]]}var S0,Tx,Ix,kx,Lx,Ux,Px,Mx,T_,I_,k_,OQ,QQ,Vi,Wi,Yi,Io={sphere:Gn,point:QE,lineStart:aj,lineEnd:oj,polygonStart:function(){Io.lineStart=xce,Io.lineEnd=vce},polygonEnd:function(){Io.lineStart=aj,Io.lineEnd=oj}};function QE(e,t){e*=Ar,t*=Ar;var r=tr(t);vp(r*tr(e),r*$t(e),$t(t))}function vp(e,t,r){++S0,Ix+=(e-Ix)/S0,kx+=(t-kx)/S0,Lx+=(r-Lx)/S0}function aj(){Io.point=pce}function pce(e,t){e*=Ar,t*=Ar;var r=tr(t);Vi=r*tr(e),Wi=r*$t(e),Yi=$t(t),Io.point=gce,vp(Vi,Wi,Yi)}function gce(e,t){e*=Ar,t*=Ar;var r=tr(t),n=r*tr(e),s=r*$t(e),i=$t(t),a=ta(Xs((a=Wi*i-Yi*s)*a+(a=Yi*n-Vi*i)*a+(a=Vi*s-Wi*n)*a),Vi*n+Wi*s+Yi*i);Tx+=a,Ux+=a*(Vi+(Vi=n)),Px+=a*(Wi+(Wi=s)),Mx+=a*(Yi+(Yi=i)),vp(Vi,Wi,Yi)}function oj(){Io.point=QE}function xce(){Io.point=yce}function vce(){DQ(OQ,QQ),Io.point=QE}function yce(e,t){OQ=e,QQ=t,e*=Ar,t*=Ar,Io.point=DQ;var r=tr(t);Vi=r*tr(e),Wi=r*$t(e),Yi=$t(t),vp(Vi,Wi,Yi)}function DQ(e,t){e*=Ar,t*=Ar;var r=tr(t),n=r*tr(e),s=r*$t(e),i=$t(t),a=Wi*i-Yi*s,o=Yi*n-Vi*i,c=Vi*s-Wi*n,u=__(a,o,c),A=ra(u),f=u&&-A/u;T_.add(f*a),I_.add(f*o),k_.add(f*c),Tx+=A,Ux+=A*(Vi+(Vi=n)),Px+=A*(Wi+(Wi=s)),Mx+=A*(Yi+(Yi=i)),vp(Vi,Wi,Yi)}function wce(e){S0=Tx=Ix=kx=Lx=Ux=Px=Mx=0,T_=new Hs,I_=new Hs,k_=new Hs,Fo(e,Io);var t=+T_,r=+I_,n=+k_,s=__(t,r,n);return s<Rm&&(t=Ux,r=Px,n=Mx,Tx<cr&&(t=Ix,r=kx,n=Lx),s=__(t,r,n),s<Rm)?[NaN,NaN]:[ta(r,t)*_n,ra(n/s)*_n]}function If(e){return function(){return e}}function L_(e,t){function r(n,s){return n=e(n,s),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,s){return n=t.invert(n,s),n&&e.invert(n[0],n[1])}),r}function U_(e,t){return[Dr(e)>Ir?e+Math.round(-e/ea)*ea:e,t]}U_.invert=U_;function DE(e,t,r){return(e%=ea)?t||r?L_(cj(e),Aj(t,r)):cj(e):t||r?Aj(t,r):U_}function lj(e){return function(t,r){return t+=e,[t>Ir?t-ea:t<-Ir?t+ea:t,r]}}function cj(e){var t=lj(e);return t.invert=lj(-e),t}function Aj(e,t){var r=tr(e),n=$t(e),s=tr(t),i=$t(t);function a(o,c){var u=tr(c),A=tr(o)*u,f=$t(o)*u,d=$t(c),h=d*r+A*n;return[ta(f*s-h*i,A*r-d*n),ra(h*s+f*i)]}return a.invert=function(o,c){var u=tr(c),A=tr(o)*u,f=$t(o)*u,d=$t(c),h=d*s-f*i;return[ta(f*s+d*i,A*r+h*n),ra(h*r-A*n)]},a}function HQ(e){e=DE(e[0]*Ar,e[1]*Ar,e.length>2?e[2]*Ar:0);function t(r){return r=e(r[0]*Ar,r[1]*Ar),r[0]*=_n,r[1]*=_n,r}return t.invert=function(r){return r=e.invert(r[0]*Ar,r[1]*Ar),r[0]*=_n,r[1]*=_n,r},t}function $Q(e,t,r,n,s,i){if(r){var a=tr(t),o=$t(t),c=n*r;s==null?(s=t+n*ea,i=t-c/2):(s=uj(a,s),i=uj(a,i),(n>0?s<i:s>i)&&(s+=n*ea));for(var u,A=s;n>0?A>i:A<i;A-=c)u=Fx([a,-o*tr(A),-o*$t(A)]),e.point(u[0],u[1])}}function uj(e,t){t=Uu(t),t[0]-=e,jx(t);var r=TQ(-t[1]);return((-t[2]<0?-r:r)+ea-cr)%ea}function bce(){var e=If([0,0]),t=If(90),r=If(6),n,s,i={point:a};function a(c,u){n.push(c=s(c,u)),c[0]*=_n,c[1]*=_n}function o(){var c=e.apply(this,arguments),u=t.apply(this,arguments)*Ar,A=r.apply(this,arguments)*Ar;return n=[],s=DE(-c[0]*Ar,-c[1]*Ar,0).invert,$Q(i,u,A,1),c={type:"Polygon",coordinates:[n]},n=s=null,c}return o.center=function(c){return arguments.length?(e=typeof c=="function"?c:If([+c[0],+c[1]]),o):e},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:If(+c),o):t},o.precision=function(c){return arguments.length?(r=typeof c=="function"?c:If(+c),o):r},o}function qQ(){var e=[],t;return{point:function(r,n,s){t.push([r,n,s])},lineStart:function(){e.push(t=[])},lineEnd:Gn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function z1(e,t){return Dr(e[0]-t[0])<cr&&Dr(e[1]-t[1])<cr}function Sg(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function KQ(e,t,r,n,s){var i=[],a=[],o,c;if(e.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],x=g[p],v;if(z1(m,x)){if(!m[2]&&!x[2]){for(s.lineStart(),o=0;o<p;++o)s.point((m=g[o])[0],m[1]);s.lineEnd();return}x[0]+=2*cr}i.push(v=new Sg(m,g,null,!0)),a.push(v.o=new Sg(m,null,v,!1)),i.push(v=new Sg(x,g,null,!1)),a.push(v.o=new Sg(x,null,v,!0))}}),!!i.length){for(a.sort(t),fj(i),fj(a),o=0,c=a.length;o<c;++o)a[o].e=r=!r;for(var u=i[0],A,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;A=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,c=A.length;o<c;++o)s.point((f=A[o])[0],f[1]);else n(d.x,d.n.x,1,s);d=d.n}else{if(h)for(A=d.p.z,o=A.length-1;o>=0;--o)s.point((f=A[o])[0],f[1]);else n(d.x,d.p.x,-1,s);d=d.p}d=d.o,A=d.z,h=!h}while(!d.v);s.lineEnd()}}}function fj(e){if(t=e.length){for(var t,r=0,n=e[0],s;++r<t;)n.n=s=e[r],s.p=n,n=s;n.n=s=e[0],s.p=n}}function _w(e){return Dr(e[0])<=Ir?e[0]:io(e[0])*((Dr(e[0])+Ir)%ea-Ir)}function zQ(e,t){var r=_w(t),n=t[1],s=$t(n),i=[$t(r),-tr(r),0],a=0,o=0,c=new Hs;s===1?n=ss+cr:s===-1&&(n=-ss-cr);for(var u=0,A=e.length;u<A;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],g=_w(h),p=h[1]/2+Nx,m=$t(p),x=tr(p),v=0;v<d;++v,g=w,m=T,x=j,h=y){var y=f[v],w=_w(y),S=y[1]/2+Nx,T=$t(S),j=tr(S),I=w-g,B=I>=0?1:-1,C=B*I,N=C>Ir,k=m*T;if(c.add(ta(k*B*$t(C),x*j+k*tr(C))),a+=N?I+B*ea:I,N^g>=r^w>=r){var E=Rd(Uu(h),Uu(y));jx(E);var U=Rd(i,E);jx(U);var D=(N^I>=0?-1:1)*ra(U[2]);(n>D||n===D&&(E[0]||E[1]))&&(o+=N^I>=0?1:-1)}}return(a<-cr||a<cr&&c<-Rm)^o&1}function GQ(e,t,r,n){return function(s){var i=t(s),a=qQ(),o=t(a),c=!1,u,A,f,d={point:h,lineStart:p,lineEnd:m,polygonStart:function(){d.point=x,d.lineStart=v,d.lineEnd=y,A=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=p,d.lineEnd=m,A=mE(A);var w=zQ(u,n);A.length?(c||(s.polygonStart(),c=!0),KQ(A,Nce,w,r,s)):w&&(c||(s.polygonStart(),c=!0),s.lineStart(),r(null,null,1,s),s.lineEnd()),c&&(s.polygonEnd(),c=!1),A=u=null},sphere:function(){s.polygonStart(),s.lineStart(),r(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(w,S){e(w,S)&&s.point(w,S)}function g(w,S){i.point(w,S)}function p(){d.point=g,i.lineStart()}function m(){d.point=h,i.lineEnd()}function x(w,S){f.push([w,S]),o.point(w,S)}function v(){o.lineStart(),f=[]}function y(){x(f[0][0],f[0][1]),o.lineEnd();var w=o.clean(),S=a.result(),T,j=S.length,I,B,C;if(f.pop(),u.push(f),f=null,!!j){if(w&1){if(B=S[0],(I=B.length-1)>0){for(c||(s.polygonStart(),c=!0),s.lineStart(),T=0;T<I;++T)s.point((C=B[T])[0],C[1]);s.lineEnd()}return}j>1&&w&2&&S.push(S.pop().concat(S.shift())),A.push(S.filter(Bce))}}return d}}function Bce(e){return e.length>1}function Nce(e,t){return((e=e.x)[0]<0?e[1]-ss-cr:ss-e[1])-((t=t.x)[0]<0?t[1]-ss-cr:ss-t[1])}const P_=GQ(function(){return!0},_ce,Ece,[-Ir,-ss]);function _ce(e){var t=NaN,r=NaN,n=NaN,s;return{lineStart:function(){e.lineStart(),s=1},point:function(i,a){var o=i>0?Ir:-Ir,c=Dr(i-t);Dr(c-Ir)<cr?(e.point(t,r=(r+a)/2>0?ss:-ss),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(o,r),e.point(i,r),s=0):n!==o&&c>=Ir&&(Dr(t-n)<cr&&(t-=n*cr),Dr(i-o)<cr&&(i-=o*cr),r=Cce(t,r,i,a),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(o,r),s=0),e.point(t=i,r=a),n=o},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-s}}}function Cce(e,t,r,n){var s,i,a=$t(e-r);return Dr(a)>cr?sh(($t(t)*(i=tr(n))*$t(r)-$t(n)*(s=tr(t))*$t(e))/(s*i*a)):(t+n)/2}function Ece(e,t,r,n){var s;if(e==null)s=r*ss,n.point(-Ir,s),n.point(0,s),n.point(Ir,s),n.point(Ir,0),n.point(Ir,-s),n.point(0,-s),n.point(-Ir,-s),n.point(-Ir,0),n.point(-Ir,s);else if(Dr(e[0]-t[0])>cr){var i=e[0]<t[0]?Ir:-Ir;s=r*i/2,n.point(-i,s),n.point(0,s),n.point(i,s)}else n.point(t[0],t[1])}function VQ(e){var t=tr(e),r=6*Ar,n=t>0,s=Dr(t)>cr;function i(A,f,d,h){$Q(h,e,r,d,A,f)}function a(A,f){return tr(A)*tr(f)>t}function o(A){var f,d,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(m,x){var v=[m,x],y,w=a(m,x),S=n?w?0:u(m,x):w?u(m+(m<0?Ir:-Ir),x):0;if(!f&&(g=h=w)&&A.lineStart(),w!==h&&(y=c(f,v),(!y||z1(f,y)||z1(v,y))&&(v[2]=1)),w!==h)p=0,w?(A.lineStart(),y=c(v,f),A.point(y[0],y[1])):(y=c(f,v),A.point(y[0],y[1],2),A.lineEnd()),f=y;else if(s&&f&&n^w){var T;!(S&d)&&(T=c(v,f,!0))&&(p=0,n?(A.lineStart(),A.point(T[0][0],T[0][1]),A.point(T[1][0],T[1][1]),A.lineEnd()):(A.point(T[1][0],T[1][1]),A.lineEnd(),A.lineStart(),A.point(T[0][0],T[0][1],3)))}w&&(!f||!z1(f,v))&&A.point(v[0],v[1]),f=v,h=w,d=S},lineEnd:function(){h&&A.lineEnd(),f=null},clean:function(){return p|(g&&h)<<1}}}function c(A,f,d){var h=Uu(A),g=Uu(f),p=[1,0,0],m=Rd(h,g),x=Cg(m,m),v=m[0],y=x-v*v;if(!y)return!d&&A;var w=t*x/y,S=-t*v/y,T=Rd(p,m),j=Eg(p,w),I=Eg(m,S);Nw(j,I);var B=T,C=Cg(j,B),N=Cg(B,B),k=C*C-N*(Cg(j,j)-1);if(!(k<0)){var E=Xs(k),U=Eg(B,(-C-E)/N);if(Nw(U,j),U=Fx(U),!d)return U;var D=A[0],M=f[0],Q=A[1],K=f[1],O;M<D&&(O=D,D=M,M=O);var z=M-D,G=Dr(z-Ir)<cr,F=G||z<cr;if(!G&&K<Q&&(O=Q,Q=K,K=O),F?G?Q+K>0^U[1]<(Dr(U[0]-D)<cr?Q:K):Q<=U[1]&&U[1]<=K:z>Ir^(D<=U[0]&&U[0]<=M)){var P=Eg(B,(-C+E)/N);return Nw(P,j),[U,Fx(P)]}}}function u(A,f){var d=n?e:Ir-e,h=0;return A<-d?h|=1:A>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return GQ(a,o,i,n?[0,-e]:[-Ir,e-Ir])}function Sce(e,t,r,n,s,i){var a=e[0],o=e[1],c=t[0],u=t[1],A=0,f=1,d=c-a,h=u-o,g;if(g=r-a,!(!d&&g>0)){if(g/=d,d<0){if(g<A)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>A&&(A=g)}if(g=s-a,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>A&&(A=g)}else if(d>0){if(g<A)return;g<f&&(f=g)}if(g=n-o,!(!h&&g>0)){if(g/=h,h<0){if(g<A)return;g<f&&(f=g)}else if(h>0){if(g>f)return;g>A&&(A=g)}if(g=i-o,!(!h&&g<0)){if(g/=h,h<0){if(g>f)return;g>A&&(A=g)}else if(h>0){if(g<A)return;g<f&&(f=g)}return A>0&&(e[0]=a+A*d,e[1]=o+A*h),f<1&&(t[0]=a+f*d,t[1]=o+f*h),!0}}}}}var F0=1e9,Fg=-F0;function pv(e,t,r,n){function s(u,A){return e<=u&&u<=r&&t<=A&&A<=n}function i(u,A,f,d){var h=0,g=0;if(u==null||(h=a(u,f))!==(g=a(A,f))||c(u,A)<0^f>0)do d.point(h===0||h===3?e:r,h>1?n:t);while((h=(h+f+4)%4)!==g);else d.point(A[0],A[1])}function a(u,A){return Dr(u[0]-e)<cr?A>0?0:3:Dr(u[0]-r)<cr?A>0?2:1:Dr(u[1]-t)<cr?A>0?1:0:A>0?3:2}function o(u,A){return c(u.x,A.x)}function c(u,A){var f=a(u,1),d=a(A,1);return f!==d?f-d:f===0?A[1]-u[1]:f===1?u[0]-A[0]:f===2?u[1]-A[1]:A[0]-u[0]}return function(u){var A=u,f=qQ(),d,h,g,p,m,x,v,y,w,S,T,j={point:I,lineStart:k,lineEnd:E,polygonStart:C,polygonEnd:N};function I(D,M){s(D,M)&&A.point(D,M)}function B(){for(var D=0,M=0,Q=h.length;M<Q;++M)for(var K=h[M],O=1,z=K.length,G=K[0],F,P,L=G[0],q=G[1];O<z;++O)F=L,P=q,G=K[O],L=G[0],q=G[1],P<=n?q>n&&(L-F)*(n-P)>(q-P)*(e-F)&&++D:q<=n&&(L-F)*(n-P)<(q-P)*(e-F)&&--D;return D}function C(){A=f,d=[],h=[],T=!0}function N(){var D=B(),M=T&&D,Q=(d=mE(d)).length;(M||Q)&&(u.polygonStart(),M&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),Q&&KQ(d,o,D,i,u),u.polygonEnd()),A=u,d=h=g=null}function k(){j.point=U,h&&h.push(g=[]),S=!0,w=!1,v=y=NaN}function E(){d&&(U(p,m),x&&w&&f.rejoin(),d.push(f.result())),j.point=I,w&&A.lineEnd()}function U(D,M){var Q=s(D,M);if(h&&g.push([D,M]),S)p=D,m=M,x=Q,S=!1,Q&&(A.lineStart(),A.point(D,M));else if(Q&&w)A.point(D,M);else{var K=[v=Math.max(Fg,Math.min(F0,v)),y=Math.max(Fg,Math.min(F0,y))],O=[D=Math.max(Fg,Math.min(F0,D)),M=Math.max(Fg,Math.min(F0,M))];Sce(K,O,e,t,r,n)?(w||(A.lineStart(),A.point(K[0],K[1])),A.point(O[0],O[1]),Q||A.lineEnd(),T=!1):Q&&(A.lineStart(),A.point(D,M),T=!1)}v=D,y=M,w=Q}return j}}function Fce(){var e=0,t=0,r=960,n=500,s,i,a;return a={stream:function(o){return s&&i===o?s:s=pv(e,t,r,n)(i=o)},extent:function(o){return arguments.length?(e=+o[0][0],t=+o[0][1],r=+o[1][0],n=+o[1][1],s=i=null,a):[[e,t],[r,n]]}}}var M_,R_,G1,V1,Od={sphere:Gn,point:Gn,lineStart:jce,lineEnd:Gn,polygonStart:Gn,polygonEnd:Gn};function jce(){Od.point=Ice,Od.lineEnd=Tce}function Tce(){Od.point=Od.lineEnd=Gn}function Ice(e,t){e*=Ar,t*=Ar,R_=e,G1=$t(t),V1=tr(t),Od.point=kce}function kce(e,t){e*=Ar,t*=Ar;var r=$t(t),n=tr(t),s=Dr(e-R_),i=tr(s),a=$t(s),o=n*a,c=V1*r-G1*n*i,u=G1*r+V1*n*i;M_.add(ta(Xs(o*o+c*c),u)),R_=e,G1=r,V1=n}function WQ(e){return M_=new Hs,Fo(e,Od),+M_}var O_=[null,null],Lce={type:"LineString",coordinates:O_};function Rx(e,t){return O_[0]=e,O_[1]=t,WQ(Lce)}var dj={Feature:function(e,t){return Ox(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,s=r.length;++n<s;)if(Ox(r[n].geometry,t))return!0;return!1}},hj={Sphere:function(){return!0},Point:function(e,t){return mj(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)if(mj(r[n],t))return!0;return!1},LineString:function(e,t){return pj(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)if(pj(r[n],t))return!0;return!1},Polygon:function(e,t){return gj(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)if(gj(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,s=r.length;++n<s;)if(Ox(r[n],t))return!0;return!1}};function Ox(e,t){return e&&hj.hasOwnProperty(e.type)?hj[e.type](e,t):!1}function mj(e,t){return Rx(e,t)===0}function pj(e,t){for(var r,n,s,i=0,a=e.length;i<a;i++){if(n=Rx(e[i],t),n===0||i>0&&(s=Rx(e[i],e[i-1]),s>0&&r<=s&&n<=s&&(r+n-s)*(1-Math.pow((r-n)/s,2))<Rm*s))return!0;r=n}return!1}function gj(e,t){return!!zQ(e.map(Uce),YQ(t))}function Uce(e){return e=e.map(YQ),e.pop(),e}function YQ(e){return[e[0]*Ar,e[1]*Ar]}function Pce(e,t){return(e&&dj.hasOwnProperty(e.type)?dj[e.type]:Ox)(e,t)}function xj(e,t,r){var n=ml(e,t-cr,r).concat(t);return function(s){return n.map(function(i){return[s,i]})}}function vj(e,t,r){var n=ml(e,t-cr,r).concat(t);return function(s){return n.map(function(i){return[i,s]})}}function XQ(){var e,t,r,n,s,i,a,o,c=10,u=c,A=90,f=360,d,h,g,p,m=2.5;function x(){return{type:"MultiLineString",coordinates:v()}}function v(){return ml(_g(n/A)*A,r,A).map(g).concat(ml(_g(o/f)*f,a,f).map(p)).concat(ml(_g(t/c)*c,e,c).filter(function(y){return Dr(y%A)>cr}).map(d)).concat(ml(_g(i/u)*u,s,u).filter(function(y){return Dr(y%f)>cr}).map(h))}return x.lines=function(){return v().map(function(y){return{type:"LineString",coordinates:y}})},x.outline=function(){return{type:"Polygon",coordinates:[g(n).concat(p(a).slice(1),g(r).reverse().slice(1),p(o).reverse().slice(1))]}},x.extent=function(y){return arguments.length?x.extentMajor(y).extentMinor(y):x.extentMinor()},x.extentMajor=function(y){return arguments.length?(n=+y[0][0],r=+y[1][0],o=+y[0][1],a=+y[1][1],n>r&&(y=n,n=r,r=y),o>a&&(y=o,o=a,a=y),x.precision(m)):[[n,o],[r,a]]},x.extentMinor=function(y){return arguments.length?(t=+y[0][0],e=+y[1][0],i=+y[0][1],s=+y[1][1],t>e&&(y=t,t=e,e=y),i>s&&(y=i,i=s,s=y),x.precision(m)):[[t,i],[e,s]]},x.step=function(y){return arguments.length?x.stepMajor(y).stepMinor(y):x.stepMinor()},x.stepMajor=function(y){return arguments.length?(A=+y[0],f=+y[1],x):[A,f]},x.stepMinor=function(y){return arguments.length?(c=+y[0],u=+y[1],x):[c,u]},x.precision=function(y){return arguments.length?(m=+y,d=xj(i,s,90),h=vj(t,e,m),g=xj(o,a,90),p=vj(n,r,m),x):m},x.extentMajor([[-180,-90+cr],[180,90-cr]]).extentMinor([[-180,-80-cr],[180,80+cr]])}function Mce(){return XQ()()}function Rce(e,t){var r=e[0]*Ar,n=e[1]*Ar,s=t[0]*Ar,i=t[1]*Ar,a=tr(n),o=$t(n),c=tr(i),u=$t(i),A=a*tr(r),f=a*$t(r),d=c*tr(s),h=c*$t(s),g=2*ra(Xs(Z8(i-n)+a*c*Z8(s-r))),p=$t(g),m=g?function(x){var v=$t(x*=g)/p,y=$t(g-x)/p,w=y*A+v*d,S=y*f+v*h,T=y*o+v*u;return[ta(S,w)*_n,ta(T,Xs(w*w+S*S))*_n]}:function(){return[r*_n,n*_n]};return m.distance=g,m}const Om=e=>e;var Cw=new Hs,Q_=new Hs,JQ,ZQ,D_,H_,tc={point:Gn,lineStart:Gn,lineEnd:Gn,polygonStart:function(){tc.lineStart=Oce,tc.lineEnd=Dce},polygonEnd:function(){tc.lineStart=tc.lineEnd=tc.point=Gn,Cw.add(Dr(Q_)),Q_=new Hs},result:function(){var e=Cw/2;return Cw=new Hs,e}};function Oce(){tc.point=Qce}function Qce(e,t){tc.point=eD,JQ=D_=e,ZQ=H_=t}function eD(e,t){Q_.add(H_*e-D_*t),D_=e,H_=t}function Dce(){eD(JQ,ZQ)}var Qd=1/0,Qx=Qd,Qm=-Qd,Dx=Qm,Hx={point:Hce,lineStart:Gn,lineEnd:Gn,polygonStart:Gn,polygonEnd:Gn,result:function(){var e=[[Qd,Qx],[Qm,Dx]];return Qm=Dx=-(Qx=Qd=1/0),e}};function Hce(e,t){e<Qd&&(Qd=e),e>Qm&&(Qm=e),t<Qx&&(Qx=t),t>Dx&&(Dx=t)}var $_=0,q_=0,j0=0,$x=0,qx=0,sd=0,K_=0,z_=0,T0=0,tD,rD,dl,hl,so={point:Pu,lineStart:yj,lineEnd:wj,polygonStart:function(){so.lineStart=Kce,so.lineEnd=zce},polygonEnd:function(){so.point=Pu,so.lineStart=yj,so.lineEnd=wj},result:function(){var e=T0?[K_/T0,z_/T0]:sd?[$x/sd,qx/sd]:j0?[$_/j0,q_/j0]:[NaN,NaN];return $_=q_=j0=$x=qx=sd=K_=z_=T0=0,e}};function Pu(e,t){$_+=e,q_+=t,++j0}function yj(){so.point=$ce}function $ce(e,t){so.point=qce,Pu(dl=e,hl=t)}function qce(e,t){var r=e-dl,n=t-hl,s=Xs(r*r+n*n);$x+=s*(dl+e)/2,qx+=s*(hl+t)/2,sd+=s,Pu(dl=e,hl=t)}function wj(){so.point=Pu}function Kce(){so.point=Gce}function zce(){nD(tD,rD)}function Gce(e,t){so.point=nD,Pu(tD=dl=e,rD=hl=t)}function nD(e,t){var r=e-dl,n=t-hl,s=Xs(r*r+n*n);$x+=s*(dl+e)/2,qx+=s*(hl+t)/2,sd+=s,s=hl*e-dl*t,K_+=s*(dl+e),z_+=s*(hl+t),T0+=s*3,Pu(dl=e,hl=t)}function sD(e){this._context=e}sD.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ea);break}}},result:Gn};var G_=new Hs,Ew,iD,aD,I0,k0,Dm={point:Gn,lineStart:function(){Dm.point=Vce},lineEnd:function(){Ew&&oD(iD,aD),Dm.point=Gn},polygonStart:function(){Ew=!0},polygonEnd:function(){Ew=null},result:function(){var e=+G_;return G_=new Hs,e}};function Vce(e,t){Dm.point=oD,iD=I0=e,aD=k0=t}function oD(e,t){I0-=e,k0-=t,G_.add(Xs(I0*I0+k0*k0)),I0=e,k0=t}function lD(){this._string=[]}lD.prototype={_radius:4.5,_circle:bj(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=bj(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function bj(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Wce(e,t){var r=4.5,n,s;function i(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Fo(a,n(s))),s.result()}return i.area=function(a){return Fo(a,n(tc)),tc.result()},i.measure=function(a){return Fo(a,n(Dm)),Dm.result()},i.bounds=function(a){return Fo(a,n(Hx)),Hx.result()},i.centroid=function(a){return Fo(a,n(so)),so.result()},i.projection=function(a){return arguments.length?(n=a==null?(e=null,Om):(e=a).stream,i):e},i.context=function(a){return arguments.length?(s=a==null?(t=null,new lD):new sD(t=a),typeof r!="function"&&s.pointRadius(r),i):t},i.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),i):r},i.projection(e).context(t)}function Yce(e){return{stream:yp(e)}}function yp(e){return function(t){var r=new V_;for(var n in e)r[n]=e[n];return r.stream=t,r}}function V_(){}V_.prototype={constructor:V_,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function HE(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),Fo(r,e.stream(Hx)),t(Hx.result()),n!=null&&e.clipExtent(n),e}function gv(e,t,r){return HE(e,function(n){var s=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(s/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(s-a*(n[1][0]+n[0][0]))/2,c=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,c])},r)}function $E(e,t,r){return gv(e,[[0,0],t],r)}function qE(e,t,r){return HE(e,function(n){var s=+t,i=s/(n[1][0]-n[0][0]),a=(s-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])},r)}function KE(e,t,r){return HE(e,function(n){var s=+t,i=s/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(s-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])},r)}var Bj=16,Xce=tr(30*Ar);function Nj(e,t){return+t?Zce(e,t):Jce(e)}function Jce(e){return yp({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function Zce(e,t){function r(n,s,i,a,o,c,u,A,f,d,h,g,p,m){var x=u-n,v=A-s,y=x*x+v*v;if(y>4*t&&p--){var w=a+d,S=o+h,T=c+g,j=Xs(w*w+S*S+T*T),I=ra(T/=j),B=Dr(Dr(T)-1)<cr||Dr(i-f)<cr?(i+f)/2:ta(S,w),C=e(B,I),N=C[0],k=C[1],E=N-n,U=k-s,D=v*E-x*U;(D*D/y>t||Dr((x*E+v*U)/y-.5)>.3||a*d+o*h+c*g<Xce)&&(r(n,s,i,a,o,c,N,k,B,w/=j,S/=j,T,p,m),m.point(N,k),r(N,k,B,w,S,T,u,A,f,d,h,g,p,m))}}return function(n){var s,i,a,o,c,u,A,f,d,h,g,p,m={point:x,lineStart:v,lineEnd:w,polygonStart:function(){n.polygonStart(),m.lineStart=S},polygonEnd:function(){n.polygonEnd(),m.lineStart=v}};function x(I,B){I=e(I,B),n.point(I[0],I[1])}function v(){f=NaN,m.point=y,n.lineStart()}function y(I,B){var C=Uu([I,B]),N=e(I,B);r(f,d,A,h,g,p,f=N[0],d=N[1],A=I,h=C[0],g=C[1],p=C[2],Bj,n),n.point(f,d)}function w(){m.point=x,n.lineEnd()}function S(){v(),m.point=T,m.lineEnd=j}function T(I,B){y(s=I,B),i=f,a=d,o=h,c=g,u=p,m.point=y}function j(){r(f,d,A,h,g,p,i,a,s,o,c,u,Bj,n),m.lineEnd=w,w()}return m}}var eAe=yp({point:function(e,t){this.stream.point(e*Ar,t*Ar)}});function tAe(e){return yp({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function rAe(e,t,r,n,s){function i(a,o){return a*=n,o*=s,[t+e*a,r-e*o]}return i.invert=function(a,o){return[(a-t)/e*n,(r-o)/e*s]},i}function _j(e,t,r,n,s,i){if(!i)return rAe(e,t,r,n,s);var a=tr(i),o=$t(i),c=a*e,u=o*e,A=a/e,f=o/e,d=(o*r-a*t)/e,h=(o*t+a*r)/e;function g(p,m){return p*=n,m*=s,[c*p-u*m+t,r-u*p-c*m]}return g.invert=function(p,m){return[n*(A*p-f*m+d),s*(h-f*p-A*m)]},g}function Sl(e){return zE(function(){return e})()}function zE(e){var t,r=150,n=480,s=250,i=0,a=0,o=0,c=0,u=0,A,f=0,d=1,h=1,g=null,p=P_,m=null,x,v,y,w=Om,S=.5,T,j,I,B,C;function N(D){return I(D[0]*Ar,D[1]*Ar)}function k(D){return D=I.invert(D[0],D[1]),D&&[D[0]*_n,D[1]*_n]}N.stream=function(D){return B&&C===D?B:B=eAe(tAe(A)(p(T(w(C=D)))))},N.preclip=function(D){return arguments.length?(p=D,g=void 0,U()):p},N.postclip=function(D){return arguments.length?(w=D,m=x=v=y=null,U()):w},N.clipAngle=function(D){return arguments.length?(p=+D?VQ(g=D*Ar):(g=null,P_),U()):g*_n},N.clipExtent=function(D){return arguments.length?(w=D==null?(m=x=v=y=null,Om):pv(m=+D[0][0],x=+D[0][1],v=+D[1][0],y=+D[1][1]),U()):m==null?null:[[m,x],[v,y]]},N.scale=function(D){return arguments.length?(r=+D,E()):r},N.translate=function(D){return arguments.length?(n=+D[0],s=+D[1],E()):[n,s]},N.center=function(D){return arguments.length?(i=D[0]%360*Ar,a=D[1]%360*Ar,E()):[i*_n,a*_n]},N.rotate=function(D){return arguments.length?(o=D[0]%360*Ar,c=D[1]%360*Ar,u=D.length>2?D[2]%360*Ar:0,E()):[o*_n,c*_n,u*_n]},N.angle=function(D){return arguments.length?(f=D%360*Ar,E()):f*_n},N.reflectX=function(D){return arguments.length?(d=D?-1:1,E()):d<0},N.reflectY=function(D){return arguments.length?(h=D?-1:1,E()):h<0},N.precision=function(D){return arguments.length?(T=Nj(j,S=D*D),U()):Xs(S)},N.fitExtent=function(D,M){return gv(N,D,M)},N.fitSize=function(D,M){return $E(N,D,M)},N.fitWidth=function(D,M){return qE(N,D,M)},N.fitHeight=function(D,M){return KE(N,D,M)};function E(){var D=_j(r,0,0,d,h,f).apply(null,t(i,a)),M=_j(r,n-D[0],s-D[1],d,h,f);return A=DE(o,c,u),j=L_(t,M),I=L_(A,j),T=Nj(j,S),U()}function U(){return B=C=null,N}return function(){return t=e.apply(this,arguments),N.invert=t.invert&&k,E()}}function GE(e){var t=0,r=Ir/3,n=zE(e),s=n(t,r);return s.parallels=function(i){return arguments.length?n(t=i[0]*Ar,r=i[1]*Ar):[t*_n,r*_n]},s}function nAe(e){var t=tr(e);function r(n,s){return[n*t,$t(s)/t]}return r.invert=function(n,s){return[n/t,ra(s*t)]},r}function cD(e,t){var r=$t(e),n=(r+$t(t))/2;if(Dr(n)<cr)return nAe(e);var s=1+r*(2*n-r),i=Xs(s)/n;function a(o,c){var u=Xs(s-2*n*$t(c))/n;return[u*$t(o*=n),i-u*tr(o)]}return a.invert=function(o,c){var u=i-c,A=ta(o,Dr(u))*io(u);return u*n<0&&(A-=Ir*io(o)*io(u)),[A/n,ra((s-(o*o+u*u)*n*n)/(2*n))]},a}function Kx(){return GE(cD).scale(155.424).center([0,33.6442])}function AD(){return Kx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sAe(e){var t=e.length;return{point:function(r,n){for(var s=-1;++s<t;)e[s].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function iAe(){var e,t,r=AD(),n,s=Kx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=Kx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,c,u={point:function(d,h){c=[d,h]}};function A(d){var h=d[0],g=d[1];return c=null,n.point(h,g),c||(i.point(h,g),c)||(o.point(h,g),c)}A.invert=function(d){var h=r.scale(),g=r.translate(),p=(d[0]-g[0])/h,m=(d[1]-g[1])/h;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?s:m>=.166&&m<.234&&p>=-.214&&p<-.115?a:r).invert(d)},A.stream=function(d){return e&&t===d?e:e=sAe([r.stream(t=d),s.stream(d),a.stream(d)])},A.precision=function(d){return arguments.length?(r.precision(d),s.precision(d),a.precision(d),f()):r.precision()},A.scale=function(d){return arguments.length?(r.scale(d),s.scale(d*.35),a.scale(d),A.translate(r.translate())):r.scale()},A.translate=function(d){if(!arguments.length)return r.translate();var h=r.scale(),g=+d[0],p=+d[1];return n=r.translate(d).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(u),i=s.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+cr,p+.12*h+cr],[g-.214*h-cr,p+.234*h-cr]]).stream(u),o=a.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+cr,p+.166*h+cr],[g-.115*h-cr,p+.234*h-cr]]).stream(u),f()},A.fitExtent=function(d,h){return gv(A,d,h)},A.fitSize=function(d,h){return $E(A,d,h)},A.fitWidth=function(d,h){return qE(A,d,h)},A.fitHeight=function(d,h){return KE(A,d,h)};function f(){return e=t=null,A}return A.scale(1070)}function uD(e){return function(t,r){var n=tr(t),s=tr(r),i=e(n*s);return i===1/0?[2,0]:[i*s*$t(t),i*$t(r)]}}function wp(e){return function(t,r){var n=Xs(t*t+r*r),s=e(n),i=$t(s),a=tr(s);return[ta(t*i,n*a),ra(n&&r*i/n)]}}var VE=uD(function(e){return Xs(2/(1+e))});VE.invert=wp(function(e){return 2*ra(e/2)});function aAe(){return Sl(VE).scale(124.75).clipAngle(180-.001)}var WE=uD(function(e){return(e=TQ(e))&&e/$t(e)});WE.invert=wp(function(e){return e});function oAe(){return Sl(WE).scale(79.4188).clipAngle(180-.001)}function bp(e,t){return[e,_x(OE((ss+t)/2))]}bp.invert=function(e,t){return[e,2*sh(jQ(t))-ss]};function lAe(){return fD(bp).scale(961/ea)}function fD(e){var t=Sl(e),r=t.center,n=t.scale,s=t.translate,i=t.clipExtent,a=null,o,c,u;t.scale=function(f){return arguments.length?(n(f),A()):n()},t.translate=function(f){return arguments.length?(s(f),A()):s()},t.center=function(f){return arguments.length?(r(f),A()):r()},t.clipExtent=function(f){return arguments.length?(f==null?a=o=c=u=null:(a=+f[0][0],o=+f[0][1],c=+f[1][0],u=+f[1][1]),A()):a==null?null:[[a,o],[c,u]]};function A(){var f=Ir*n(),d=t(HQ(t.rotate()).invert([0,0]));return i(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===bp?[[Math.max(d[0]-f,a),o],[Math.min(d[0]+f,c),u]]:[[a,Math.max(d[1]-f,o)],[c,Math.min(d[1]+f,u)]])}return A()}function jg(e){return OE((ss+e)/2)}function dD(e,t){var r=tr(e),n=e===t?$t(e):_x(r/tr(t))/_x(jg(t)/jg(e)),s=r*Bw(jg(e),n)/n;if(!n)return bp;function i(a,o){s>0?o<-ss+cr&&(o=-ss+cr):o>ss-cr&&(o=ss-cr);var c=s/Bw(jg(o),n);return[c*$t(n*a),s-c*tr(n*a)]}return i.invert=function(a,o){var c=s-o,u=io(n)*Xs(a*a+c*c),A=ta(a,Dr(c))*io(c);return c*n<0&&(A-=Ir*io(a)*io(c)),[A/n,2*sh(Bw(s/u,1/n))-ss]},i}function cAe(){return GE(dD).scale(109.5).parallels([30,30])}function Hm(e,t){return[e,t]}Hm.invert=Hm;function AAe(){return Sl(Hm).scale(152.63)}function hD(e,t){var r=tr(e),n=e===t?$t(e):(r-tr(t))/(t-e),s=r/n+e;if(Dr(n)<cr)return Hm;function i(a,o){var c=s-o,u=n*a;return[c*$t(u),s-c*tr(u)]}return i.invert=function(a,o){var c=s-o,u=ta(a,Dr(c))*io(c);return c*n<0&&(u-=Ir*io(a)*io(c)),[u/n,s-io(n)*Xs(a*a+c*c)]},i}function uAe(){return GE(hD).scale(131.154).center([0,13.9389])}var nm=1.340264,sm=-.081106,im=893e-6,am=.003796,zx=Xs(3)/2,fAe=12;function YE(e,t){var r=ra(zx*$t(t)),n=r*r,s=n*n*n;return[e*tr(r)/(zx*(nm+3*sm*n+s*(7*im+9*am*n))),r*(nm+sm*n+s*(im+am*n))]}YE.invert=function(e,t){for(var r=t,n=r*r,s=n*n*n,i=0,a,o,c;i<fAe&&(o=r*(nm+sm*n+s*(im+am*n))-t,c=nm+3*sm*n+s*(7*im+9*am*n),r-=a=o/c,n=r*r,s=n*n*n,!(Dr(a)<Rm));++i);return[zx*e*(nm+3*sm*n+s*(7*im+9*am*n))/tr(r),ra($t(r)/zx)]};function dAe(){return Sl(YE).scale(177.158)}function XE(e,t){var r=tr(t),n=tr(e)*r;return[r*$t(e)/n,$t(t)/n]}XE.invert=wp(sh);function hAe(){return Sl(XE).scale(144.049).clipAngle(60)}function mAe(){var e=1,t=0,r=0,n=1,s=1,i=0,a,o,c=null,u,A,f,d=1,h=1,g=yp({point:function(w,S){var T=y([w,S]);this.stream.point(T[0],T[1])}}),p=Om,m,x;function v(){return d=e*n,h=e*s,m=x=null,y}function y(w){var S=w[0]*d,T=w[1]*h;if(i){var j=T*a-S*o;S=S*a+T*o,T=j}return[S+t,T+r]}return y.invert=function(w){var S=w[0]-t,T=w[1]-r;if(i){var j=T*a+S*o;S=S*a-T*o,T=j}return[S/d,T/h]},y.stream=function(w){return m&&x===w?m:m=g(p(x=w))},y.postclip=function(w){return arguments.length?(p=w,c=u=A=f=null,v()):p},y.clipExtent=function(w){return arguments.length?(p=w==null?(c=u=A=f=null,Om):pv(c=+w[0][0],u=+w[0][1],A=+w[1][0],f=+w[1][1]),v()):c==null?null:[[c,u],[A,f]]},y.scale=function(w){return arguments.length?(e=+w,v()):e},y.translate=function(w){return arguments.length?(t=+w[0],r=+w[1],v()):[t,r]},y.angle=function(w){return arguments.length?(i=w%360*Ar,o=$t(i),a=tr(i),v()):i*_n},y.reflectX=function(w){return arguments.length?(n=w?-1:1,v()):n<0},y.reflectY=function(w){return arguments.length?(s=w?-1:1,v()):s<0},y.fitExtent=function(w,S){return gv(y,w,S)},y.fitSize=function(w,S){return $E(y,w,S)},y.fitWidth=function(w,S){return qE(y,w,S)},y.fitHeight=function(w,S){return KE(y,w,S)},y}function JE(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}JE.invert=function(e,t){var r=t,n=25,s;do{var i=r*r,a=i*i;r-=s=(r*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-t)/(1.007226+i*(.015085*3+a*(-.044475*7+.028874*9*i-.005916*11*a)))}while(Dr(s)>cr&&--n>0);return[e/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]};function pAe(){return Sl(JE).scale(175.295)}function ZE(e,t){return[tr(t)*$t(e),$t(t)]}ZE.invert=wp(ra);function gAe(){return Sl(ZE).scale(249.5).clipAngle(90+cr)}function eS(e,t){var r=tr(t),n=1+tr(e)*r;return[r*$t(e)/n,$t(t)/n]}eS.invert=wp(function(e){return 2*sh(e)});function xAe(){return Sl(eS).scale(250).clipAngle(142)}function tS(e,t){return[_x(OE((ss+t)/2)),-e]}tS.invert=function(e,t){return[-t,2*sh(jQ(e))-ss]};function vAe(){var e=fD(tS),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function yAe(e,t){return e.parent===t.parent?1:2}function wAe(e){return e.reduce(bAe,0)/e.length}function bAe(e,t){return e+t.x}function BAe(e){return 1+e.reduce(NAe,0)}function NAe(e,t){return Math.max(e,t.y)}function _Ae(e){for(var t;t=e.children;)e=t[0];return e}function CAe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function EAe(){var e=yAe,t=1,r=1,n=!1;function s(i){var a,o=0;i.eachAfter(function(d){var h=d.children;h?(d.x=wAe(h),d.y=BAe(h)):(d.x=a?o+=e(d,a):0,d.y=0,a=d)});var c=_Ae(i),u=CAe(i),A=c.x-e(c,u)/2,f=u.x+e(u,c)/2;return i.eachAfter(n?function(d){d.x=(d.x-i.x)*t,d.y=(i.y-d.y)*r}:function(d){d.x=(d.x-A)/(f-A)*t,d.y=(1-(i.y?d.y/i.y:1))*r})}return s.separation=function(i){return arguments.length?(e=i,s):e},s.size=function(i){return arguments.length?(n=!1,t=+i[0],r=+i[1],s):n?null:[t,r]},s.nodeSize=function(i){return arguments.length?(n=!0,t=+i[0],r=+i[1],s):n?[t,r]:null},s}function SAe(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function FAe(){return this.eachAfter(SAe)}function jAe(e,t){let r=-1;for(const n of this)e.call(t,n,++r,this);return this}function TAe(e,t){for(var r=this,n=[r],s,i,a=-1;r=n.pop();)if(e.call(t,r,++a,this),s=r.children)for(i=s.length-1;i>=0;--i)n.push(s[i]);return this}function IAe(e,t){for(var r=this,n=[r],s=[],i,a,o,c=-1;r=n.pop();)if(s.push(r),i=r.children)for(a=0,o=i.length;a<o;++a)n.push(i[a]);for(;r=s.pop();)e.call(t,r,++c,this);return this}function kAe(e,t){let r=-1;for(const n of this)if(e.call(t,n,++r,this))return n}function LAe(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,s=n&&n.length;--s>=0;)r+=n[s].value;t.value=r})}function UAe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function PAe(e){for(var t=this,r=MAe(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var s=n.length;e!==r;)n.splice(s,0,e),e=e.parent;return n}function MAe(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),s=null;for(e=r.pop(),t=n.pop();e===t;)s=e,e=r.pop(),t=n.pop();return s}function RAe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function OAe(){return Array.from(this)}function QAe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function DAe(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*HAe(){var e=this,t,r=[e],n,s,i;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(s=0,i=n.length;s<i;++s)r.push(n[s]);while(r.length)}function rS(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=KAe)):t===void 0&&(t=qAe);for(var r=new Dd(e),n,s=[r],i,a,o,c;n=s.pop();)if((a=t(n.data))&&(c=(a=Array.from(a)).length))for(n.children=a,o=c-1;o>=0;--o)s.push(i=a[o]=new Dd(a[o])),i.parent=n,i.depth=n.depth+1;return r.eachBefore(mD)}function $Ae(){return rS(this).eachBefore(zAe)}function qAe(e){return e.children}function KAe(e){return Array.isArray(e)?e[1]:null}function zAe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function mD(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Dd(e){this.data=e,this.depth=this.height=0,this.parent=null}Dd.prototype=rS.prototype={constructor:Dd,count:FAe,each:jAe,eachAfter:IAe,eachBefore:TAe,find:kAe,sum:LAe,sort:UAe,path:PAe,ancestors:RAe,descendants:OAe,leaves:QAe,links:DAe,copy:$Ae,[Symbol.iterator]:HAe};function GAe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VAe(e){for(var t=e.length,r,n;t;)n=Math.random()*t--|0,r=e[t],e[t]=e[n],e[n]=r;return e}function pD(e){for(var t=0,r=(e=VAe(Array.from(e))).length,n=[],s,i;t<r;)s=e[t],i&&gD(i,s)?++t:(i=YAe(n=WAe(n,s)),t=0);return i}function WAe(e,t){var r,n;if(Sw(t,e))return[t];for(r=0;r<e.length;++r)if(Tg(t,e[r])&&Sw(L0(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(n=r+1;n<e.length;++n)if(Tg(L0(e[r],e[n]),t)&&Tg(L0(e[r],t),e[n])&&Tg(L0(e[n],t),e[r])&&Sw(xD(e[r],e[n],t),e))return[e[r],e[n],t];throw new Error}function Tg(e,t){var r=e.r-t.r,n=t.x-e.x,s=t.y-e.y;return r<0||r*r<n*n+s*s}function gD(e,t){var r=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,n=t.x-e.x,s=t.y-e.y;return r>0&&r*r>n*n+s*s}function Sw(e,t){for(var r=0;r<t.length;++r)if(!gD(e,t[r]))return!1;return!0}function YAe(e){switch(e.length){case 1:return XAe(e[0]);case 2:return L0(e[0],e[1]);case 3:return xD(e[0],e[1],e[2])}}function XAe(e){return{x:e.x,y:e.y,r:e.r}}function L0(e,t){var r=e.x,n=e.y,s=e.r,i=t.x,a=t.y,o=t.r,c=i-r,u=a-n,A=o-s,f=Math.sqrt(c*c+u*u);return{x:(r+i+c/f*A)/2,y:(n+a+u/f*A)/2,r:(f+s+o)/2}}function xD(e,t,r){var n=e.x,s=e.y,i=e.r,a=t.x,o=t.y,c=t.r,u=r.x,A=r.y,f=r.r,d=n-a,h=n-u,g=s-o,p=s-A,m=c-i,x=f-i,v=n*n+s*s-i*i,y=v-a*a-o*o+c*c,w=v-u*u-A*A+f*f,S=h*g-d*p,T=(g*w-p*y)/(S*2)-n,j=(p*m-g*x)/S,I=(h*y-d*w)/(S*2)-s,B=(d*x-h*m)/S,C=j*j+B*B-1,N=2*(i+T*j+I*B),k=T*T+I*I-i*i,E=-(C?(N+Math.sqrt(N*N-4*C*k))/(2*C):k/N);return{x:n+T+j*E,y:s+I+B*E,r:E}}function Cj(e,t,r){var n=e.x-t.x,s,i,a=e.y-t.y,o,c,u=n*n+a*a;u?(i=t.r+r.r,i*=i,c=e.r+r.r,c*=c,i>c?(s=(u+c-i)/(2*u),o=Math.sqrt(Math.max(0,c/u-s*s)),r.x=e.x-s*n-o*a,r.y=e.y-s*a+o*n):(s=(u+i-c)/(2*u),o=Math.sqrt(Math.max(0,i/u-s*s)),r.x=t.x+s*n-o*a,r.y=t.y+s*a+o*n)):(r.x=t.x+r.r,r.y=t.y)}function Ej(e,t){var r=e.r+t.r-1e-6,n=t.x-e.x,s=t.y-e.y;return r>0&&r*r>n*n+s*s}function Sj(e){var t=e._,r=e.next._,n=t.r+r.r,s=(t.x*r.r+r.x*t.r)/n,i=(t.y*r.r+r.y*t.r)/n;return s*s+i*i}function Ig(e){this._=e,this.next=null,this.previous=null}function vD(e){if(!(s=(e=GAe(e)).length))return 0;var t,r,n,s,i,a,o,c,u,A,f;if(t=e[0],t.x=0,t.y=0,!(s>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(s>2))return t.r+r.r;Cj(r,t,n=e[2]),t=new Ig(t),r=new Ig(r),n=new Ig(n),t.next=n.previous=r,r.next=t.previous=n,n.next=r.previous=t;e:for(o=3;o<s;++o){Cj(t._,r._,n=e[o]),n=new Ig(n),c=r.next,u=t.previous,A=r._.r,f=t._.r;do if(A<=f){if(Ej(c._,n._)){r=c,t.next=r,r.previous=t,--o;continue e}A+=c._.r,c=c.next}else{if(Ej(u._,n._)){t=u,t.next=r,r.previous=t,--o;continue e}f+=u._.r,u=u.previous}while(c!==u.next);for(n.previous=t,n.next=r,t.next=r.previous=r=n,i=Sj(t);(n=n.next)!==r;)(a=Sj(n))<i&&(t=n,i=a);r=t.next}for(t=[r._],n=r;(n=n.next)!==r;)t.push(n._);for(n=pD(t),o=0;o<s;++o)t=e[o],t.x-=n.x,t.y-=n.y;return n.r}function JAe(e){return vD(e),e}function ZAe(e){return e==null?null:Gx(e)}function Gx(e){if(typeof e!="function")throw new Error;return e}function uu(){return 0}function Yf(e){return function(){return e}}function eue(e){return Math.sqrt(e.value)}function tue(){var e=null,t=1,r=1,n=uu;function s(i){return i.x=t/2,i.y=r/2,e?i.eachBefore(Fj(e)).eachAfter(Fw(n,.5)).eachBefore(jj(1)):i.eachBefore(Fj(eue)).eachAfter(Fw(uu,1)).eachAfter(Fw(n,i.r/Math.min(t,r))).eachBefore(jj(Math.min(t,r)/(2*i.r))),i}return s.radius=function(i){return arguments.length?(e=ZAe(i),s):e},s.size=function(i){return arguments.length?(t=+i[0],r=+i[1],s):[t,r]},s.padding=function(i){return arguments.length?(n=typeof i=="function"?i:Yf(+i),s):n},s}function Fj(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Fw(e,t){return function(r){if(n=r.children){var n,s,i=n.length,a=e(r)*t||0,o;if(a)for(s=0;s<i;++s)n[s].r+=a;if(o=vD(n),a)for(s=0;s<i;++s)n[s].r-=a;r.r=o+a}}}function jj(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function yD(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Bp(e,t,r,n,s){for(var i=e.children,a,o=-1,c=i.length,u=e.value&&(n-t)/e.value;++o<c;)a=i[o],a.y0=r,a.y1=s,a.x0=t,a.x1=t+=a.value*u}function rue(){var e=1,t=1,r=0,n=!1;function s(a){var o=a.height+1;return a.x0=a.y0=r,a.x1=e,a.y1=t/o,a.eachBefore(i(t,o)),n&&a.eachBefore(yD),a}function i(a,o){return function(c){c.children&&Bp(c,c.x0,a*(c.depth+1)/o,c.x1,a*(c.depth+2)/o);var u=c.x0,A=c.y0,f=c.x1-r,d=c.y1-r;f<u&&(u=f=(u+f)/2),d<A&&(A=d=(A+d)/2),c.x0=u,c.y0=A,c.x1=f,c.y1=d}}return s.round=function(a){return arguments.length?(n=!!a,s):n},s.size=function(a){return arguments.length?(e=+a[0],t=+a[1],s):[e,t]},s.padding=function(a){return arguments.length?(r=+a,s):r},s}var nue={depth:-1},Tj={};function sue(e){return e.id}function iue(e){return e.parentId}function aue(){var e=sue,t=iue;function r(n){var s=Array.from(n),i=s.length,a,o,c,u,A,f,d,h=new Map;for(o=0;o<i;++o)a=s[o],A=s[o]=new Dd(a),(f=e(a,o,n))!=null&&(f+="")&&(d=A.id=f,h.set(d,h.has(d)?Tj:A)),(f=t(a,o,n))!=null&&(f+="")&&(A.parent=f);for(o=0;o<i;++o)if(A=s[o],f=A.parent){if(u=h.get(f),!u)throw new Error("missing: "+f);if(u===Tj)throw new Error("ambiguous: "+f);u.children?u.children.push(A):u.children=[A],A.parent=u}else{if(c)throw new Error("multiple roots");c=A}if(!c)throw new Error("no root");if(c.parent=nue,c.eachBefore(function(g){g.depth=g.parent.depth+1,--i}).eachBefore(mD),c.parent=null,i>0)throw new Error("cycle");return c}return r.id=function(n){return arguments.length?(e=Gx(n),r):e},r.parentId=function(n){return arguments.length?(t=Gx(n),r):t},r}function oue(e,t){return e.parent===t.parent?1:2}function jw(e){var t=e.children;return t?t[0]:e.t}function Tw(e){var t=e.children;return t?t[t.length-1]:e.t}function lue(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}function cue(e){for(var t=0,r=0,n=e.children,s=n.length,i;--s>=0;)i=n[s],i.z+=t,i.m+=t,t+=i.s+(r+=i.c)}function Aue(e,t,r){return e.a.parent===t.parent?e.a:r}function W1(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}W1.prototype=Object.create(Dd.prototype);function uue(e){for(var t=new W1(e,0),r,n=[t],s,i,a,o;r=n.pop();)if(i=r._.children)for(r.children=new Array(o=i.length),a=o-1;a>=0;--a)n.push(s=r.children[a]=new W1(i[a],a)),s.parent=r;return(t.parent=new W1(null,0)).children=[t],t}function fue(){var e=oue,t=1,r=1,n=null;function s(u){var A=uue(u);if(A.eachAfter(i),A.parent.m=-A.z,A.eachBefore(a),n)u.eachBefore(c);else{var f=u,d=u,h=u;u.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var g=f===d?1:e(f,d)/2,p=g-f.x,m=t/(d.x+g+p),x=r/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+p)*m,v.y=v.depth*x})}return u}function i(u){var A=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(A){cue(u);var h=(A[0].z+A[A.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=o(u,d,u.parent.A||f[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function o(u,A,f){if(A){for(var d=u,h=u,g=A,p=d.parent.children[0],m=d.m,x=h.m,v=g.m,y=p.m,w;g=Tw(g),d=jw(d),g&&d;)p=jw(p),h=Tw(h),h.a=u,w=g.z+v-d.z-m+e(g._,d._),w>0&&(lue(Aue(g,u,f),u,w),m+=w,x+=w),v+=g.m,m+=d.m,y+=p.m,x+=h.m;g&&!Tw(h)&&(h.t=g,h.m+=v-x),d&&!jw(p)&&(p.t=d,p.m+=m-y,f=u)}return f}function c(u){u.x*=t,u.y=u.depth*r}return s.separation=function(u){return arguments.length?(e=u,s):e},s.size=function(u){return arguments.length?(n=!1,t=+u[0],r=+u[1],s):n?null:[t,r]},s.nodeSize=function(u){return arguments.length?(n=!0,t=+u[0],r=+u[1],s):n?[t,r]:null},s}function xv(e,t,r,n,s){for(var i=e.children,a,o=-1,c=i.length,u=e.value&&(s-r)/e.value;++o<c;)a=i[o],a.x0=t,a.x1=n,a.y0=r,a.y1=r+=a.value*u}var wD=(1+Math.sqrt(5))/2;function bD(e,t,r,n,s,i){for(var a=[],o=t.children,c,u,A=0,f=0,d=o.length,h,g,p=t.value,m,x,v,y,w,S,T;A<d;){h=s-r,g=i-n;do m=o[f++].value;while(!m&&f<d);for(x=v=m,S=Math.max(g/h,h/g)/(p*e),T=m*m*S,w=Math.max(v/T,T/x);f<d;++f){if(m+=u=o[f].value,u<x&&(x=u),u>v&&(v=u),T=m*m*S,y=Math.max(v/T,T/x),y>w){m-=u;break}w=y}a.push(c={value:m,dice:h<g,children:o.slice(A,f)}),c.dice?Bp(c,r,n,s,p?n+=g*m/p:i):xv(c,r,n,p?r+=h*m/p:s,i),p-=m,A=f}return a}const BD=function e(t){function r(n,s,i,a,o){bD(t,n,s,i,a,o)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(wD);function due(){var e=BD,t=!1,r=1,n=1,s=[0],i=uu,a=uu,o=uu,c=uu,u=uu;function A(d){return d.x0=d.y0=0,d.x1=r,d.y1=n,d.eachBefore(f),s=[0],t&&d.eachBefore(yD),d}function f(d){var h=s[d.depth],g=d.x0+h,p=d.y0+h,m=d.x1-h,x=d.y1-h;m<g&&(g=m=(g+m)/2),x<p&&(p=x=(p+x)/2),d.x0=g,d.y0=p,d.x1=m,d.y1=x,d.children&&(h=s[d.depth+1]=i(d)/2,g+=u(d)-h,p+=a(d)-h,m-=o(d)-h,x-=c(d)-h,m<g&&(g=m=(g+m)/2),x<p&&(p=x=(p+x)/2),e(d,g,p,m,x))}return A.round=function(d){return arguments.length?(t=!!d,A):t},A.size=function(d){return arguments.length?(r=+d[0],n=+d[1],A):[r,n]},A.tile=function(d){return arguments.length?(e=Gx(d),A):e},A.padding=function(d){return arguments.length?A.paddingInner(d).paddingOuter(d):A.paddingInner()},A.paddingInner=function(d){return arguments.length?(i=typeof d=="function"?d:Yf(+d),A):i},A.paddingOuter=function(d){return arguments.length?A.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):A.paddingTop()},A.paddingTop=function(d){return arguments.length?(a=typeof d=="function"?d:Yf(+d),A):a},A.paddingRight=function(d){return arguments.length?(o=typeof d=="function"?d:Yf(+d),A):o},A.paddingBottom=function(d){return arguments.length?(c=typeof d=="function"?d:Yf(+d),A):c},A.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Yf(+d),A):u},A}function hue(e,t,r,n,s){var i=e.children,a,o=i.length,c,u=new Array(o+1);for(u[0]=c=a=0;a<o;++a)u[a+1]=c+=i[a].value;A(0,o,e.value,t,r,n,s);function A(f,d,h,g,p,m,x){if(f>=d-1){var v=i[f];v.x0=g,v.y0=p,v.x1=m,v.y1=x;return}for(var y=u[f],w=h/2+y,S=f+1,T=d-1;S<T;){var j=S+T>>>1;u[j]<w?S=j+1:T=j}w-u[S-1]<u[S]-w&&f+1<S&&--S;var I=u[S]-y,B=h-I;if(m-g>x-p){var C=h?(g*B+m*I)/h:m;A(f,S,I,g,p,C,x),A(S,d,B,C,p,m,x)}else{var N=h?(p*B+x*I)/h:x;A(f,S,I,g,p,m,N),A(S,d,B,g,N,m,x)}}}function mue(e,t,r,n,s){(e.depth&1?xv:Bp)(e,t,r,n,s)}const pue=function e(t){function r(n,s,i,a,o){if((c=n._squarify)&&c.ratio===t)for(var c,u,A,f,d=-1,h,g=c.length,p=n.value;++d<g;){for(u=c[d],A=u.children,f=u.value=0,h=A.length;f<h;++f)u.value+=A[f].value;u.dice?Bp(u,s,i,a,p?i+=(o-i)*u.value/p:o):xv(u,s,i,p?s+=(a-s)*u.value/p:a,o),p-=u.value}else n._squarify=c=bD(t,n,s,i,a,o),c.ratio=t}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(wD);function gue(e){for(var t=-1,r=e.length,n,s=e[r-1],i=0;++t<r;)n=s,s=e[t],i+=n[1]*s[0]-n[0]*s[1];return i/2}function xue(e){for(var t=-1,r=e.length,n=0,s=0,i,a=e[r-1],o,c=0;++t<r;)i=a,a=e[t],c+=o=i[0]*a[1]-a[0]*i[1],n+=(i[0]+a[0])*o,s+=(i[1]+a[1])*o;return c*=3,[n/c,s/c]}function vue(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}function yue(e,t){return e[0]-t[0]||e[1]-t[1]}function Ij(e){const t=e.length,r=[0,1];let n=2,s;for(s=2;s<t;++s){for(;n>1&&vue(e[r[n-2]],e[r[n-1]],e[s])<=0;)--n;r[n++]=s}return r.slice(0,n)}function wue(e){if((r=e.length)<3)return null;var t,r,n=new Array(r),s=new Array(r);for(t=0;t<r;++t)n[t]=[+e[t][0],+e[t][1],t];for(n.sort(yue),t=0;t<r;++t)s[t]=[n[t][0],-n[t][1]];var i=Ij(n),a=Ij(s),o=a[0]===i[0],c=a[a.length-1]===i[i.length-1],u=[];for(t=i.length-1;t>=0;--t)u.push(e[n[i[t]][2]]);for(t=+o;t<a.length-c;++t)u.push(e[n[a[t]][2]]);return u}function bue(e,t){for(var r=e.length,n=e[r-1],s=t[0],i=t[1],a=n[0],o=n[1],c,u,A=!1,f=0;f<r;++f)n=e[f],c=n[0],u=n[1],u>i!=o>i&&s<(a-c)*(i-u)/(o-u)+c&&(A=!A),a=c,o=u;return A}function Bue(e){for(var t=-1,r=e.length,n=e[r-1],s,i,a=n[0],o=n[1],c=0;++t<r;)s=a,i=o,n=e[t],a=n[0],o=n[1],s-=a,i-=o,c+=Math.hypot(s,i);return c}const gi=Math.random,Nue=function e(t){function r(n,s){return n=n==null?0:+n,s=s==null?1:+s,arguments.length===1?(s=n,n=0):s-=n,function(){return t()*s+n}}return r.source=e,r}(gi),_ue=function e(t){function r(n,s){return arguments.length<2&&(s=n,n=0),n=Math.floor(n),s=Math.floor(s)-n,function(){return Math.floor(t()*s+n)}}return r.source=e,r}(gi),nS=function e(t){function r(n,s){var i,a;return n=n==null?0:+n,s=s==null?1:+s,function(){var o;if(i!=null)o=i,i=null;else do i=t()*2-1,o=t()*2-1,a=i*i+o*o;while(!a||a>1);return n+s*o*Math.sqrt(-2*Math.log(a)/a)}}return r.source=e,r}(gi),Cue=function e(t){var r=nS.source(t);function n(){var s=r.apply(this,arguments);return function(){return Math.exp(s())}}return n.source=e,n}(gi),ND=function e(t){function r(n){return(n=+n)<=0?()=>0:function(){for(var s=0,i=n;i>1;--i)s+=t();return s+i*t()}}return r.source=e,r}(gi),Eue=function e(t){var r=ND.source(t);function n(s){if((s=+s)==0)return t;var i=r(s);return function(){return i()/s}}return n.source=e,n}(gi),Sue=function e(t){function r(n){return function(){return-Math.log1p(-t())/n}}return r.source=e,r}(gi),Fue=function e(t){function r(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-t(),n)}}return r.source=e,r}(gi),jue=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+n)}}return r.source=e,r}(gi),_D=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return n===0?()=>1/0:n===1?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-t())/n)})}return r.source=e,r}(gi),sS=function e(t){var r=nS.source(t)();function n(s,i){if((s=+s)<0)throw new RangeError("invalid k");if(s===0)return()=>0;if(i=i==null?1:+i,s===1)return()=>-Math.log1p(-t())*i;var a=(s<1?s+1:s)-1/3,o=1/(3*Math.sqrt(a)),c=s<1?()=>Math.pow(t(),1/s):()=>1;return function(){do{do var u=r(),A=1+o*u;while(A<=0);A*=A*A;var f=1-t()}while(f>=1-.0331*u*u*u*u&&Math.log(f)>=.5*u*u+a*(1-A+Math.log(A)));return a*A*c()*i}}return n.source=e,n}(gi),CD=function e(t){var r=sS.source(t);function n(s,i){var a=r(s),o=r(i);return function(){var c=a();return c===0?0:c/(c+o())}}return n.source=e,n}(gi),ED=function e(t){var r=_D.source(t),n=CD.source(t);function s(i,a){return i=+i,(a=+a)>=1?()=>i:a<=0?()=>0:function(){for(var o=0,c=i,u=a;c*u>16&&c*(1-u)>16;){var A=Math.floor((c+1)*u),f=n(A,c-A+1)();f<=u?(o+=A,c-=A,u=(u-f)/(1-f)):(c=A-1,u/=f)}for(var d=u<.5,h=d?u:1-u,g=r(h),p=g(),m=0;p<=c;++m)p+=g();return o+(d?m:c-m)}}return s.source=e,s}(gi),Tue=function e(t){function r(n,s,i){var a;return(n=+n)==0?a=o=>-Math.log(o):(n=1/n,a=o=>Math.pow(o,n)),s=s==null?0:+s,i=i==null?1:+i,function(){return s+i*a(-Math.log1p(-t()))}}return r.source=e,r}(gi),Iue=function e(t){function r(n,s){return n=n==null?0:+n,s=s==null?1:+s,function(){return n+s*Math.tan(Math.PI*t())}}return r.source=e,r}(gi),kue=function e(t){function r(n,s){return n=n==null?0:+n,s=s==null?1:+s,function(){var i=t();return n+s*Math.log(i/(1-i))}}return r.source=e,r}(gi),Lue=function e(t){var r=sS.source(t),n=ED.source(t);function s(i){return function(){for(var a=0,o=i;o>16;){var c=Math.floor(.875*o),u=r(c)();if(u>o)return a+n(c-1,o/u)();a+=c,o-=u}for(var A=-Math.log1p(-t()),f=0;A<=o;++f)A-=Math.log1p(-t());return a+f}}return s.source=e,s}(gi),Uue=1664525,Pue=1013904223,kj=1/4294967296;function Mue(e=Math.random()){let t=(0<=e&&e<1?e/kj:Math.abs(e))|0;return()=>(t=Uue*t+Pue|0,kj*(t>>>0))}function mo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W_=Symbol("implicit");function iS(){var e=new Map,t=[],r=[],n=W_;function s(i){var a=i+"",o=e.get(a);if(!o){if(n!==W_)return n;e.set(a,o=t.push(i))}return r[(o-1)%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Map;for(const a of i){const o=a+"";e.has(o)||e.set(o,t.push(a))}return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return iS(t,r).unknown(n)},mo.apply(s,arguments),s}function aS(){var e=iS().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,a,o=!1,c=0,u=0,A=.5;delete e.unknown;function f(){var d=t().length,h=s<n,g=h?s:n,p=h?n:s;i=(p-g)/Math.max(1,d-c+u*2),o&&(i=Math.floor(i)),g+=(p-g-i*(d-c))*A,a=i*(1-c),o&&(g=Math.round(g),a=Math.round(a));var m=ml(d).map(function(x){return g+i*x});return r(h?m.reverse():m)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,s]=d,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(d){return[n,s]=d,n=+n,s=+s,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(d){return arguments.length?(o=!!d,f()):o},e.padding=function(d){return arguments.length?(c=Math.min(1,u=+d),f()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(A=Math.max(0,Math.min(1,d)),f()):A},e.copy=function(){return aS(t(),[n,s]).round(o).paddingInner(c).paddingOuter(u).align(A)},mo.apply(f(),arguments)}function SD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SD(t())},e}function Rue(){return SD(aS.apply(null,arguments).paddingInner(1))}function Oue(e){return function(){return e}}function Vx(e){return+e}var Lj=[0,1];function Ji(e){return e}function Y_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Oue(isNaN(t)?NaN:.5)}function Que(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Due(e,t,r){var n=e[0],s=e[1],i=t[0],a=t[1];return s<n?(n=Y_(s,n),i=r(a,i)):(n=Y_(n,s),i=r(i,a)),function(o){return i(n(o))}}function Hue(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)s[a]=Y_(e[a],e[a+1]),i[a]=r(t[a],t[a+1]);return function(o){var c=wA(e,o,1,n)-1;return i[c](s[c](o))}}function Np(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vv(){var e=Lj,t=Lj,r=LA,n,s,i,a=Ji,o,c,u;function A(){var d=Math.min(e.length,t.length);return a!==Ji&&(a=Que(e[0],e[d-1])),o=d>2?Hue:Due,c=u=null,f}function f(d){return d==null||isNaN(d=+d)?i:(c||(c=o(e.map(n),t,r)))(n(a(d)))}return f.invert=function(d){return a(s((u||(u=o(t,e.map(n),ro)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Vx),A()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),A()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=av,A()},f.clamp=function(d){return arguments.length?(a=d?!0:Ji,A()):a!==Ji},f.interpolate=function(d){return arguments.length?(r=d,A()):r},f.unknown=function(d){return arguments.length?(i=d,f):i},function(d,h){return n=d,s=h,A()}}function oS(){return vv()(Ji,Ji)}function FD(e,t,r,n){var s=Id(e,t,r),i;switch(n=Mm(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=SQ(s,a))&&(n.precision=i),RE(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=FQ(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=EQ(s))&&(n.precision=i-(n.type==="%")*2);break}}return mv(n)}function PA(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return FD(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,a=n[s],o=n[i],c,u,A=10;for(o<a&&(u=a,a=o,o=u,u=s,s=i,i=u);A-- >0;){if(u=mp(a,o,r),u===c)return n[s]=a,n[i]=o,t(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function jD(){var e=oS();return e.copy=function(){return Np(e,jD())},mo.apply(e,arguments),PA(e)}function TD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return TD(e).unknown(t)},e=arguments.length?Array.from(e,Vx):[0,1],PA(r)}function ID(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],a;return i<s&&(a=r,r=n,n=a,a=s,s=i,i=a),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Uj(e){return Math.log(e)}function Pj(e){return Math.exp(e)}function $ue(e){return-Math.log(-e)}function que(e){return-Math.exp(-e)}function Kue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zue(e){return e===10?Kue:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Gue(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Mj(e){return function(t){return-e(-t)}}function lS(e){var t=e(Uj,Pj),r=t.domain,n=10,s,i;function a(){return s=Gue(n),i=zue(n),r()[0]<0?(s=Mj(s),i=Mj(i),e($ue,que)):e(Uj,Pj),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=function(o){var c=r(),u=c[0],A=c[c.length-1],f;(f=A<u)&&(d=u,u=A,A=d);var d=s(u),h=s(A),g,p,m,x=o==null?10:+o,v=[];if(!(n%1)&&h-d<x){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1,g=i(d);p<n;++p)if(m=g*p,!(m<u)){if(m>A)break;v.push(m)}}else for(;d<=h;++d)for(p=n-1,g=i(d);p>=1;--p)if(m=g*p,!(m<u)){if(m>A)break;v.push(m)}v.length*2<x&&(v=Sm(u,A,x))}else v=Sm(d,h,Math.min(h-d,x)).map(i);return f?v.reverse():v},t.tickFormat=function(o,c){if(c==null&&(c=n===10?".0e":","),typeof c!="function"&&(c=mv(c)),o===1/0)return c;o==null&&(o=10);var u=Math.max(1,n*o/t.ticks().length);return function(A){var f=A/i(Math.round(s(A)));return f*n<n-.5&&(f*=n),f<=u?c(A):""}},t.nice=function(){return r(ID(r(),{floor:function(o){return i(Math.floor(s(o)))},ceil:function(o){return i(Math.ceil(s(o)))}}))},t}function kD(){var e=lS(vv()).domain([1,10]);return e.copy=function(){return Np(e,kD()).base(e.base())},mo.apply(e,arguments),e}function Rj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Oj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cS(e){var t=1,r=e(Rj(t),Oj(t));return r.constant=function(n){return arguments.length?e(Rj(t=+n),Oj(t)):t},PA(r)}function LD(){var e=cS(vv());return e.copy=function(){return Np(e,LD()).constant(e.constant())},mo.apply(e,arguments)}function Qj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vue(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Wue(e){return e<0?-e*e:e*e}function AS(e){var t=e(Ji,Ji),r=1;function n(){return r===1?e(Ji,Ji):r===.5?e(Vue,Wue):e(Qj(r),Qj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},PA(t)}function uS(){var e=AS(vv());return e.copy=function(){return Np(e,uS()).exponent(e.exponent())},mo.apply(e,arguments),e}function Yue(){return uS.apply(null,arguments).exponent(.5)}function Dj(e){return Math.sign(e)*e*e}function Xue(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UD(){var e=oS(),t=[0,1],r=!1,n;function s(i){var a=Xue(e(i));return isNaN(a)?n:r?Math.round(a):a}return s.invert=function(i){return e.invert(Dj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Vx)).map(Dj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return UD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},mo.apply(s,arguments),PA(s)}function PD(){var e=[],t=[],r=[],n;function s(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=u9(e,a/o);return i}function i(a){return a==null||isNaN(a=+a)?n:t[wA(r,a)]}return i.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Es),s()},i.range=function(a){return arguments.length?(t=Array.from(a),s()):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return PD().domain(e).range(t).unknown(n)},mo.apply(i,arguments)}function MD(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function a(c){return c!=null&&c<=c?s[wA(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},a.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,o()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return MD().domain([e,t]).range(s).unknown(i)},mo.apply(PA(a),arguments)}function RD(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[wA(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var a=t.indexOf(i);return[e[a-1],e[a]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return RD().domain(e).range(t).unknown(r)},mo.apply(s,arguments)}var Iw=new Date,kw=new Date;function $s(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=function(i){return e(i=new Date(+i)),i},s.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},s.round=function(i){var a=s(i),o=s.ceil(i);return i-a<o-i?a:o},s.offset=function(i,a){return t(i=new Date(+i),a==null?1:Math.floor(a)),i},s.range=function(i,a,o){var c=[],u;if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<a)||!(o>0))return c;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<a);return c},s.filter=function(i){return $s(function(a){if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!i(a););else for(;--o>=0;)for(;t(a,1),!i(a););})},r&&(s.count=function(i,a){return Iw.setTime(+i),kw.setTime(+a),e(Iw),e(kw),Math.floor(r(Iw,kw))},s.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?function(a){return n(a)%i===0}:function(a){return s.count(0,a)%i===0}):s}),s}var Hd=$s(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Hd.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$s(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):Hd};var Hj=Hd.range;const nc=1e3,ao=nc*60,sc=ao*60,Mu=sc*24,fS=Mu*7,$j=Mu*30,Lw=Mu*365;var ic=$s(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*nc)},function(e,t){return(t-e)/nc},function(e){return e.getUTCSeconds()}),qj=ic.range,yv=$s(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc)},function(e,t){e.setTime(+e+t*ao)},function(e,t){return(t-e)/ao},function(e){return e.getMinutes()}),Jue=yv.range,wv=$s(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc-e.getMinutes()*ao)},function(e,t){e.setTime(+e+t*sc)},function(e,t){return(t-e)/sc},function(e){return e.getHours()}),Zue=wv.range,ih=$s(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ao)/Mu,e=>e.getDate()-1),efe=ih.range;function Xu(e){return $s(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ao)/fS})}var $d=Xu(0),$m=Xu(1),OD=Xu(2),QD=Xu(3),Ru=Xu(4),DD=Xu(5),HD=Xu(6),Kj=$d.range,tfe=$m.range,rfe=OD.range,nfe=QD.range,sfe=Ru.range,ife=DD.range,afe=HD.range,bv=$s(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),ofe=bv.range,Nl=$s(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Nl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:$s(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var lfe=Nl.range,Bv=$s(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*ao)},function(e,t){return(t-e)/ao},function(e){return e.getUTCMinutes()}),cfe=Bv.range,Nv=$s(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*sc)},function(e,t){return(t-e)/sc},function(e){return e.getUTCHours()}),Afe=Nv.range,ah=$s(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Mu},function(e){return e.getUTCDate()-1}),ufe=ah.range;function Ju(e){return $s(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/fS})}var qd=Ju(0),qm=Ju(1),$D=Ju(2),qD=Ju(3),Ou=Ju(4),KD=Ju(5),zD=Ju(6),zj=qd.range,ffe=qm.range,dfe=$D.range,hfe=qD.range,mfe=Ou.range,pfe=KD.range,gfe=zD.range,_v=$s(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),xfe=_v.range,_l=$s(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});_l.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:$s(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var vfe=_l.range;function GD(e,t,r,n,s,i){const a=[[ic,1,nc],[ic,5,5*nc],[ic,15,15*nc],[ic,30,30*nc],[i,1,ao],[i,5,5*ao],[i,15,15*ao],[i,30,30*ao],[s,1,sc],[s,3,3*sc],[s,6,6*sc],[s,12,12*sc],[n,1,Mu],[n,2,2*Mu],[r,1,fS],[t,1,$j],[t,3,3*$j],[e,1,Lw]];function o(u,A,f){const d=A<u;d&&([u,A]=[A,u]);const h=f&&typeof f.range=="function"?f:c(u,A,f),g=h?h.range(u,+A+1):[];return d?g.reverse():g}function c(u,A,f){const d=Math.abs(A-u)/f,h=Y2(([,,m])=>m).right(a,d);if(h===a.length)return e.every(Id(u/Lw,A/Lw,f));if(h===0)return Hd.every(Math.max(Id(u,A,f),1));const[g,p]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return g.every(p)}return[o,c]}const[VD,WD]=GD(_l,_v,qd,ah,Nv,Bv),[YD,XD]=GD(Nl,bv,$d,ih,wv,yv);function Uw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function JD(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,u=a0(s),A=o0(s),f=a0(i),d=o0(i),h=a0(a),g=o0(a),p=a0(o),m=o0(o),x=a0(c),v=o0(c),y={a:Q,A:K,b:O,B:z,c:null,d:Jj,e:Jj,f:Hfe,g:Jfe,G:ede,H:Ofe,I:Qfe,j:Dfe,L:ZD,m:$fe,M:qfe,p:G,q:F,Q:tT,s:rT,S:Kfe,u:zfe,U:Gfe,V:Vfe,w:Wfe,W:Yfe,x:null,X:null,y:Xfe,Y:Zfe,Z:tde,"%":eT},w={a:P,A:L,b:q,B:X,c:null,d:Zj,e:Zj,f:ide,g:mde,G:gde,H:rde,I:nde,j:sde,L:tH,m:ade,M:ode,p:se,q:ae,Q:tT,s:rT,S:lde,u:cde,U:Ade,V:ude,w:fde,W:dde,x:null,X:null,y:hde,Y:pde,Z:xde,"%":eT},S={a:C,A:N,b:k,B:E,c:U,d:Yj,e:Yj,f:Ufe,g:Wj,G:Vj,H:Xj,I:Xj,j:Tfe,L:Lfe,m:jfe,M:Ife,p:B,q:Ffe,Q:Mfe,s:Rfe,S:kfe,u:Nfe,U:_fe,V:Cfe,w:Bfe,W:Efe,x:D,X:M,y:Wj,Y:Vj,Z:Sfe,"%":Pfe};y.x=T(r,y),y.X=T(n,y),y.c=T(t,y),w.x=T(r,w),w.X=T(n,w),w.c=T(t,w);function T(W,ee){return function(Ce){var ye=[],Me=-1,we=0,oe=W.length,ze,de,be;for(Ce instanceof Date||(Ce=new Date(+Ce));++Me<oe;)W.charCodeAt(Me)===37&&(ye.push(W.slice(we,Me)),(de=Gj[ze=W.charAt(++Me)])!=null?ze=W.charAt(++Me):de=ze==="e"?" ":"0",(be=ee[ze])&&(ze=be(Ce,de)),ye.push(ze),we=Me+1);return ye.push(W.slice(we,Me)),ye.join("")}}function j(W,ee){return function(Ce){var ye=i0(1900,void 0,1),Me=I(ye,W,Ce+="",0),we,oe;if(Me!=Ce.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(ee&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(we=Pw(i0(ye.y,0,1)),oe=we.getUTCDay(),we=oe>4||oe===0?qm.ceil(we):qm(we),we=ah.offset(we,(ye.V-1)*7),ye.y=we.getUTCFullYear(),ye.m=we.getUTCMonth(),ye.d=we.getUTCDate()+(ye.w+6)%7):(we=Uw(i0(ye.y,0,1)),oe=we.getDay(),we=oe>4||oe===0?$m.ceil(we):$m(we),we=ih.offset(we,(ye.V-1)*7),ye.y=we.getFullYear(),ye.m=we.getMonth(),ye.d=we.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),oe="Z"in ye?Pw(i0(ye.y,0,1)).getUTCDay():Uw(i0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(oe+5)%7:ye.w+ye.U*7-(oe+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Pw(ye)):Uw(ye)}}function I(W,ee,Ce,ye){for(var Me=0,we=ee.length,oe=Ce.length,ze,de;Me<we;){if(ye>=oe)return-1;if(ze=ee.charCodeAt(Me++),ze===37){if(ze=ee.charAt(Me++),de=S[ze in Gj?ee.charAt(Me++):ze],!de||(ye=de(W,Ce,ye))<0)return-1}else if(ze!=Ce.charCodeAt(ye++))return-1}return ye}function B(W,ee,Ce){var ye=u.exec(ee.slice(Ce));return ye?(W.p=A.get(ye[0].toLowerCase()),Ce+ye[0].length):-1}function C(W,ee,Ce){var ye=h.exec(ee.slice(Ce));return ye?(W.w=g.get(ye[0].toLowerCase()),Ce+ye[0].length):-1}function N(W,ee,Ce){var ye=f.exec(ee.slice(Ce));return ye?(W.w=d.get(ye[0].toLowerCase()),Ce+ye[0].length):-1}function k(W,ee,Ce){var ye=x.exec(ee.slice(Ce));return ye?(W.m=v.get(ye[0].toLowerCase()),Ce+ye[0].length):-1}function E(W,ee,Ce){var ye=p.exec(ee.slice(Ce));return ye?(W.m=m.get(ye[0].toLowerCase()),Ce+ye[0].length):-1}function U(W,ee,Ce){return I(W,t,ee,Ce)}function D(W,ee,Ce){return I(W,r,ee,Ce)}function M(W,ee,Ce){return I(W,n,ee,Ce)}function Q(W){return a[W.getDay()]}function K(W){return i[W.getDay()]}function O(W){return c[W.getMonth()]}function z(W){return o[W.getMonth()]}function G(W){return s[+(W.getHours()>=12)]}function F(W){return 1+~~(W.getMonth()/3)}function P(W){return a[W.getUTCDay()]}function L(W){return i[W.getUTCDay()]}function q(W){return c[W.getUTCMonth()]}function X(W){return o[W.getUTCMonth()]}function se(W){return s[+(W.getUTCHours()>=12)]}function ae(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var ee=T(W+="",y);return ee.toString=function(){return W},ee},parse:function(W){var ee=j(W+="",!1);return ee.toString=function(){return W},ee},utcFormat:function(W){var ee=T(W+="",w);return ee.toString=function(){return W},ee},utcParse:function(W){var ee=j(W+="",!0);return ee.toString=function(){return W},ee}}}var Gj={"-":"",_:" ",0:"0"},Zs=/^\s*\d+/,yfe=/^%/,wfe=/[\\^$*+?|[\]().{}]/g;function Xr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function bfe(e){return e.replace(wfe,"\\$&")}function a0(e){return new RegExp("^(?:"+e.map(bfe).join("|")+")","i")}function o0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Bfe(e,t,r){var n=Zs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Nfe(e,t,r){var n=Zs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _fe(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Cfe(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Efe(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Vj(e,t,r){var n=Zs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Wj(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Sfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ffe(e,t,r){var n=Zs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jfe(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Yj(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tfe(e,t,r){var n=Zs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Xj(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ife(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kfe(e,t,r){var n=Zs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Lfe(e,t,r){var n=Zs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ufe(e,t,r){var n=Zs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Pfe(e,t,r){var n=yfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Mfe(e,t,r){var n=Zs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Rfe(e,t,r){var n=Zs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Jj(e,t){return Xr(e.getDate(),t,2)}function Ofe(e,t){return Xr(e.getHours(),t,2)}function Qfe(e,t){return Xr(e.getHours()%12||12,t,2)}function Dfe(e,t){return Xr(1+ih.count(Nl(e),e),t,3)}function ZD(e,t){return Xr(e.getMilliseconds(),t,3)}function Hfe(e,t){return ZD(e,t)+"000"}function $fe(e,t){return Xr(e.getMonth()+1,t,2)}function qfe(e,t){return Xr(e.getMinutes(),t,2)}function Kfe(e,t){return Xr(e.getSeconds(),t,2)}function zfe(e){var t=e.getDay();return t===0?7:t}function Gfe(e,t){return Xr($d.count(Nl(e)-1,e),t,2)}function eH(e){var t=e.getDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function Vfe(e,t){return e=eH(e),Xr(Ru.count(Nl(e),e)+(Nl(e).getDay()===4),t,2)}function Wfe(e){return e.getDay()}function Yfe(e,t){return Xr($m.count(Nl(e)-1,e),t,2)}function Xfe(e,t){return Xr(e.getFullYear()%100,t,2)}function Jfe(e,t){return e=eH(e),Xr(e.getFullYear()%100,t,2)}function Zfe(e,t){return Xr(e.getFullYear()%1e4,t,4)}function ede(e,t){var r=e.getDay();return e=r>=4||r===0?Ru(e):Ru.ceil(e),Xr(e.getFullYear()%1e4,t,4)}function tde(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xr(t/60|0,"0",2)+Xr(t%60,"0",2)}function Zj(e,t){return Xr(e.getUTCDate(),t,2)}function rde(e,t){return Xr(e.getUTCHours(),t,2)}function nde(e,t){return Xr(e.getUTCHours()%12||12,t,2)}function sde(e,t){return Xr(1+ah.count(_l(e),e),t,3)}function tH(e,t){return Xr(e.getUTCMilliseconds(),t,3)}function ide(e,t){return tH(e,t)+"000"}function ade(e,t){return Xr(e.getUTCMonth()+1,t,2)}function ode(e,t){return Xr(e.getUTCMinutes(),t,2)}function lde(e,t){return Xr(e.getUTCSeconds(),t,2)}function cde(e){var t=e.getUTCDay();return t===0?7:t}function Ade(e,t){return Xr(qd.count(_l(e)-1,e),t,2)}function rH(e){var t=e.getUTCDay();return t>=4||t===0?Ou(e):Ou.ceil(e)}function ude(e,t){return e=rH(e),Xr(Ou.count(_l(e),e)+(_l(e).getUTCDay()===4),t,2)}function fde(e){return e.getUTCDay()}function dde(e,t){return Xr(qm.count(_l(e)-1,e),t,2)}function hde(e,t){return Xr(e.getUTCFullYear()%100,t,2)}function mde(e,t){return e=rH(e),Xr(e.getUTCFullYear()%100,t,2)}function pde(e,t){return Xr(e.getUTCFullYear()%1e4,t,4)}function gde(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ou(e):Ou.ceil(e),Xr(e.getUTCFullYear()%1e4,t,4)}function xde(){return"+0000"}function eT(){return"%"}function tT(e){return+e}function rT(e){return Math.floor(+e/1e3)}var kf,dS,nH,Cv,hS;sH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sH(e){return kf=JD(e),dS=kf.format,nH=kf.parse,Cv=kf.utcFormat,hS=kf.utcParse,kf}var iH="%Y-%m-%dT%H:%M:%S.%LZ";function vde(e){return e.toISOString()}var yde=Date.prototype.toISOString?vde:Cv(iH);function wde(e){var t=new Date(e);return isNaN(t)?null:t}var bde=+new Date("2000-01-01T00:00:00.000Z")?wde:hS(iH);function Bde(e){return new Date(e)}function Nde(e){return e instanceof Date?+e:+new Date(+e)}function mS(e,t,r,n,s,i,a,o,c,u){var A=oS(),f=A.invert,d=A.domain,h=u(".%L"),g=u(":%S"),p=u("%I:%M"),m=u("%I %p"),x=u("%a %d"),v=u("%b %d"),y=u("%B"),w=u("%Y");function S(T){return(c(T)<T?h:o(T)<T?g:a(T)<T?p:i(T)<T?m:n(T)<T?s(T)<T?x:v:r(T)<T?y:w)(T)}return A.invert=function(T){return new Date(f(T))},A.domain=function(T){return arguments.length?d(Array.from(T,Nde)):d().map(Bde)},A.ticks=function(T){var j=d();return e(j[0],j[j.length-1],T??10)},A.tickFormat=function(T,j){return j==null?S:u(j)},A.nice=function(T){var j=d();return(!T||typeof T.range!="function")&&(T=t(j[0],j[j.length-1],T??10)),T?d(ID(j,T)):A},A.copy=function(){return Np(A,mS(e,t,r,n,s,i,a,o,c,u))},A}function _de(){return mo.apply(mS(YD,XD,Nl,bv,$d,ih,wv,yv,ic,dS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cde(){return mo.apply(mS(VD,WD,_l,_v,qd,ah,Nv,Bv,ic,Cv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ev(){var e=0,t=1,r,n,s,i,a=Ji,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(s===0?.5:(f=(i(f)-r)*s,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function A(f){return function(d){var h,g;return arguments.length?([h,g]=d,a=f(h,g),u):[a(0),a(1)]}}return u.range=A(LA),u.rangeRound=A(av),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function MA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aH(){var e=PA(Ev()(Ji));return e.copy=function(){return MA(e,aH())},Nc.apply(e,arguments)}function oH(){var e=lS(Ev()).domain([1,10]);return e.copy=function(){return MA(e,oH()).base(e.base())},Nc.apply(e,arguments)}function lH(){var e=cS(Ev());return e.copy=function(){return MA(e,lH()).constant(e.constant())},Nc.apply(e,arguments)}function pS(){var e=AS(Ev());return e.copy=function(){return MA(e,pS()).exponent(e.exponent())},Nc.apply(e,arguments)}function Ede(){return pS.apply(null,arguments).exponent(.5)}function cH(){var e=[],t=Ji;function r(n){if(n!=null&&!isNaN(n=+n))return t((wA(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Es),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Fm(e,i/n))},r.copy=function(){return cH(t).domain(e)},Nc.apply(r,arguments)}function Sv(){var e=0,t=.5,r=1,n=1,s,i,a,o,c,u=Ji,A,f=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+A(p))-i)*(n*p<n*i?o:c),u(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,s=A(e=+e),i=A(t=+t),a=A(r=+r),o=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(u=p,h):u};function g(p){return function(m){var x,v,y;return arguments.length?([x,v,y]=m,u=nQ(p,[x,v,y]),h):[u(0),u(.5),u(1)]}}return h.range=g(LA),h.rangeRound=g(av),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return A=p,s=p(e),i=p(t),a=p(r),o=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,h}}function AH(){var e=PA(Sv()(Ji));return e.copy=function(){return MA(e,AH())},Nc.apply(e,arguments)}function uH(){var e=lS(Sv()).domain([.1,1,10]);return e.copy=function(){return MA(e,uH()).base(e.base())},Nc.apply(e,arguments)}function fH(){var e=cS(Sv());return e.copy=function(){return MA(e,fH()).constant(e.constant())},Nc.apply(e,arguments)}function gS(){var e=AS(Sv());return e.copy=function(){return MA(e,gS()).exponent(e.exponent())},Nc.apply(e,arguments)}function Sde(){return gS.apply(null,arguments).exponent(.5)}function Er(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const Fde=Er("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),jde=Er("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Tde=Er("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ide=Er("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),kde=Er("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Lde=Er("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ude=Er("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Pde=Er("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Mde=Er("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Rde=Er("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Cn=e=>q9(e[e.length-1]);var dH=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Er);const Ode=Cn(dH);var hH=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Er);const Qde=Cn(hH);var mH=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Er);const Dde=Cn(mH);var pH=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Er);const Hde=Cn(pH);var gH=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Er);const $de=Cn(gH);var xH=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Er);const qde=Cn(xH);var vH=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Er);const Kde=Cn(vH);var yH=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Er);const zde=Cn(yH);var wH=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Er);const Gde=Cn(wH);var bH=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Er);const Vde=Cn(bH);var BH=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Er);const Wde=Cn(BH);var NH=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Er);const Yde=Cn(NH);var _H=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Er);const Xde=Cn(_H);var CH=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Er);const Jde=Cn(CH);var EH=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Er);const Zde=Cn(EH);var SH=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Er);const ehe=Cn(SH);var FH=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Er);const the=Cn(FH);var jH=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Er);const rhe=Cn(jH);var TH=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Er);const nhe=Cn(TH);var IH=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Er);const she=Cn(IH);var kH=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Er);const ihe=Cn(kH);var LH=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Er);const ahe=Cn(LH);var UH=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Er);const ohe=Cn(UH);var PH=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Er);const lhe=Cn(PH);var MH=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Er);const che=Cn(MH);var RH=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Er);const Ahe=Cn(RH);var OH=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Er);const uhe=Cn(OH);function fhe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const dhe=ov(Qo(300,.5,0),Qo(-240,.5,1));var hhe=ov(Qo(-100,.75,.35),Qo(80,1.5,.8)),mhe=ov(Qo(260,.75,.35),Qo(80,1.5,.8)),kg=Qo();function phe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return kg.h=360*e-100,kg.s=1.5-1.5*t,kg.l=.8-.9*t,kg+""}var Lg=Ld(),ghe=Math.PI/3,xhe=Math.PI*2/3;function vhe(e){var t;return e=(.5-e)*Math.PI,Lg.r=255*(t=Math.sin(e))*t,Lg.g=255*(t=Math.sin(e+ghe))*t,Lg.b=255*(t=Math.sin(e+xhe))*t,Lg+""}function yhe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Fv(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const whe=Fv(Er("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var bhe=Fv(Er("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Bhe=Fv(Er("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Nhe=Fv(Er("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function wr(e){return function(){return e}}var nT=Math.abs,Ni=Math.atan2,iu=Math.cos,_he=Math.max,Mw=Math.min,sl=Math.sin,id=Math.sqrt,Fi=1e-12,NA=Math.PI,Wx=NA/2,mA=2*NA;function Che(e){return e>1?0:e<-1?NA:Math.acos(e)}function sT(e){return e>=1?Wx:e<=-1?-Wx:Math.asin(e)}function Ehe(e){return e.innerRadius}function She(e){return e.outerRadius}function Fhe(e){return e.startAngle}function jhe(e){return e.endAngle}function The(e){return e&&e.padAngle}function Ihe(e,t,r,n,s,i,a,o){var c=r-e,u=n-t,A=a-s,f=o-i,d=f*c-A*u;if(!(d*d<Fi))return d=(A*(t-i)-f*(e-s))/d,[e+d*c,t+d*u]}function Ug(e,t,r,n,s,i,a){var o=e-r,c=t-n,u=(a?i:-i)/id(o*o+c*c),A=u*c,f=-u*o,d=e+A,h=t+f,g=r+A,p=n+f,m=(d+g)/2,x=(h+p)/2,v=g-d,y=p-h,w=v*v+y*y,S=s-i,T=d*p-g*h,j=(y<0?-1:1)*id(_he(0,S*S*w-T*T)),I=(T*y-v*j)/w,B=(-T*v-y*j)/w,C=(T*y+v*j)/w,N=(-T*v+y*j)/w,k=I-m,E=B-x,U=C-m,D=N-x;return k*k+E*E>U*U+D*D&&(I=C,B=N),{cx:I,cy:B,x01:-A,y01:-f,x11:I*(s/S-1),y11:B*(s/S-1)}}function khe(){var e=Ehe,t=She,r=wr(0),n=null,s=Fhe,i=jhe,a=The,o=null;function c(){var u,A,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=s.apply(this,arguments)-Wx,g=i.apply(this,arguments)-Wx,p=nT(g-h),m=g>h;if(o||(o=u=UA()),d<f&&(A=d,d=f,f=A),!(d>Fi))o.moveTo(0,0);else if(p>mA-Fi)o.moveTo(d*iu(h),d*sl(h)),o.arc(0,0,d,h,g,!m),f>Fi&&(o.moveTo(f*iu(g),f*sl(g)),o.arc(0,0,f,g,h,m));else{var x=h,v=g,y=h,w=g,S=p,T=p,j=a.apply(this,arguments)/2,I=j>Fi&&(n?+n.apply(this,arguments):id(f*f+d*d)),B=Mw(nT(d-f)/2,+r.apply(this,arguments)),C=B,N=B,k,E;if(I>Fi){var U=sT(I/f*sl(j)),D=sT(I/d*sl(j));(S-=U*2)>Fi?(U*=m?1:-1,y+=U,w-=U):(S=0,y=w=(h+g)/2),(T-=D*2)>Fi?(D*=m?1:-1,x+=D,v-=D):(T=0,x=v=(h+g)/2)}var M=d*iu(x),Q=d*sl(x),K=f*iu(w),O=f*sl(w);if(B>Fi){var z=d*iu(v),G=d*sl(v),F=f*iu(y),P=f*sl(y),L;if(p<NA&&(L=Ihe(M,Q,F,P,z,G,K,O))){var q=M-L[0],X=Q-L[1],se=z-L[0],ae=G-L[1],W=1/sl(Che((q*se+X*ae)/(id(q*q+X*X)*id(se*se+ae*ae)))/2),ee=id(L[0]*L[0]+L[1]*L[1]);C=Mw(B,(f-ee)/(W-1)),N=Mw(B,(d-ee)/(W+1))}}T>Fi?N>Fi?(k=Ug(F,P,M,Q,d,N,m),E=Ug(z,G,K,O,d,N,m),o.moveTo(k.cx+k.x01,k.cy+k.y01),N<B?o.arc(k.cx,k.cy,N,Ni(k.y01,k.x01),Ni(E.y01,E.x01),!m):(o.arc(k.cx,k.cy,N,Ni(k.y01,k.x01),Ni(k.y11,k.x11),!m),o.arc(0,0,d,Ni(k.cy+k.y11,k.cx+k.x11),Ni(E.cy+E.y11,E.cx+E.x11),!m),o.arc(E.cx,E.cy,N,Ni(E.y11,E.x11),Ni(E.y01,E.x01),!m))):(o.moveTo(M,Q),o.arc(0,0,d,x,v,!m)):o.moveTo(M,Q),!(f>Fi)||!(S>Fi)?o.lineTo(K,O):C>Fi?(k=Ug(K,O,z,G,f,-C,m),E=Ug(M,Q,F,P,f,-C,m),o.lineTo(k.cx+k.x01,k.cy+k.y01),C<B?o.arc(k.cx,k.cy,C,Ni(k.y01,k.x01),Ni(E.y01,E.x01),!m):(o.arc(k.cx,k.cy,C,Ni(k.y01,k.x01),Ni(k.y11,k.x11),!m),o.arc(0,0,f,Ni(k.cy+k.y11,k.cx+k.x11),Ni(E.cy+E.y11,E.cx+E.x11),m),o.arc(E.cx,E.cy,C,Ni(E.y11,E.x11),Ni(E.y01,E.x01),!m))):o.arc(0,0,f,w,y,m)}if(o.closePath(),u)return o=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,A=(+s.apply(this,arguments)+ +i.apply(this,arguments))/2-NA/2;return[iu(A)*u,sl(A)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:wr(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:wr(+u),c):t},c.cornerRadius=function(u){return arguments.length?(r=typeof u=="function"?u:wr(+u),c):r},c.padRadius=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:wr(+u),c):n},c.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:wr(+u),c):s},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:wr(+u),c):i},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:wr(+u),c):a},c.context=function(u){return arguments.length?(o=u??null,c):o},c}var Lhe=Array.prototype.slice;function jv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QH(e){this._context=e}QH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tv(e){return new QH(e)}function xS(e){return e[0]}function vS(e){return e[1]}function yS(e,t){var r=wr(!0),n=null,s=Tv,i=null;e=typeof e=="function"?e:e===void 0?xS:wr(e),t=typeof t=="function"?t:t===void 0?vS:wr(t);function a(o){var c,u=(o=jv(o)).length,A,f=!1,d;for(n==null&&(i=s(d=UA())),c=0;c<=u;++c)!(c<u&&r(A=o[c],c,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(A,c,o),+t(A,c,o));if(d)return i=null,d+""||null}return a.x=function(o){return arguments.length?(e=typeof o=="function"?o:wr(+o),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:wr(+o),a):t},a.defined=function(o){return arguments.length?(r=typeof o=="function"?o:wr(!!o),a):r},a.curve=function(o){return arguments.length?(s=o,n!=null&&(i=s(n)),a):s},a.context=function(o){return arguments.length?(o==null?n=i=null:i=s(n=o),a):n},a}function DH(e,t,r){var n=null,s=wr(!0),i=null,a=Tv,o=null;e=typeof e=="function"?e:e===void 0?xS:wr(+e),t=typeof t=="function"?t:wr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vS:wr(+r);function c(A){var f,d,h,g=(A=jv(A)).length,p,m=!1,x,v=new Array(g),y=new Array(g);for(i==null&&(o=a(x=UA())),f=0;f<=g;++f){if(!(f<g&&s(p=A[f],f,A))===m)if(m=!m)d=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=f-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}m&&(v[f]=+e(p,f,A),y[f]=+t(p,f,A),o.point(n?+n(p,f,A):v[f],r?+r(p,f,A):y[f]))}if(x)return o=null,x+""||null}function u(){return yS().defined(s).curve(a).context(i)}return c.x=function(A){return arguments.length?(e=typeof A=="function"?A:wr(+A),n=null,c):e},c.x0=function(A){return arguments.length?(e=typeof A=="function"?A:wr(+A),c):e},c.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:wr(+A),c):n},c.y=function(A){return arguments.length?(t=typeof A=="function"?A:wr(+A),r=null,c):t},c.y0=function(A){return arguments.length?(t=typeof A=="function"?A:wr(+A),c):t},c.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:wr(+A),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(A){return arguments.length?(s=typeof A=="function"?A:wr(!!A),c):s},c.curve=function(A){return arguments.length?(a=A,i!=null&&(o=a(i)),c):a},c.context=function(A){return arguments.length?(A==null?i=o=null:o=a(i=A),c):i},c}function Uhe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Phe(e){return e}function Mhe(){var e=Phe,t=Uhe,r=null,n=wr(0),s=wr(mA),i=wr(0);function a(o){var c,u=(o=jv(o)).length,A,f,d=0,h=new Array(u),g=new Array(u),p=+n.apply(this,arguments),m=Math.min(mA,Math.max(-mA,s.apply(this,arguments)-p)),x,v=Math.min(Math.abs(m)/u,i.apply(this,arguments)),y=v*(m<0?-1:1),w;for(c=0;c<u;++c)(w=g[h[c]=c]=+e(o[c],c,o))>0&&(d+=w);for(t!=null?h.sort(function(S,T){return t(g[S],g[T])}):r!=null&&h.sort(function(S,T){return r(o[S],o[T])}),c=0,f=d?(m-u*y)/d:0;c<u;++c,p=x)A=h[c],w=g[A],x=p+(w>0?w*f:0)+y,g[A]={data:o[A],index:c,value:w,startAngle:p,endAngle:x,padAngle:v};return g}return a.value=function(o){return arguments.length?(e=typeof o=="function"?o:wr(+o),a):e},a.sortValues=function(o){return arguments.length?(t=o,r=null,a):t},a.sort=function(o){return arguments.length?(r=o,t=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:wr(+o),a):n},a.endAngle=function(o){return arguments.length?(s=typeof o=="function"?o:wr(+o),a):s},a.padAngle=function(o){return arguments.length?(i=typeof o=="function"?o:wr(+o),a):i},a}var HH=wS(Tv);function $H(e){this._curve=e}$H.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function wS(e){function t(r){return new $H(e(r))}return t._curve=e,t}function U0(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(wS(r)):t()._curve},e}function iT(){return U0(yS().curve(HH))}function aT(){var e=DH().curve(HH),t=e.curve,r=e.lineX0,n=e.lineX1,s=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return U0(r())},delete e.lineX0,e.lineEndAngle=function(){return U0(n())},delete e.lineX1,e.lineInnerRadius=function(){return U0(s())},delete e.lineY0,e.lineOuterRadius=function(){return U0(i())},delete e.lineY1,e.curve=function(a){return arguments.length?t(wS(a)):t()._curve},e}function P0(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}function Rhe(e){return e.source}function Ohe(e){return e.target}function bS(e){var t=Rhe,r=Ohe,n=xS,s=vS,i=null;function a(){var o,c=Lhe.call(arguments),u=t.apply(this,c),A=r.apply(this,c);if(i||(i=o=UA()),e(i,+n.apply(this,(c[0]=u,c)),+s.apply(this,c),+n.apply(this,(c[0]=A,c)),+s.apply(this,c)),o)return i=null,o+""||null}return a.source=function(o){return arguments.length?(t=o,a):t},a.target=function(o){return arguments.length?(r=o,a):r},a.x=function(o){return arguments.length?(n=typeof o=="function"?o:wr(+o),a):n},a.y=function(o){return arguments.length?(s=typeof o=="function"?o:wr(+o),a):s},a.context=function(o){return arguments.length?(i=o??null,a):i},a}function Qhe(e,t,r,n,s){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,s,n,s)}function Dhe(e,t,r,n,s){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+s)/2,n,r,n,s)}function Hhe(e,t,r,n,s){var i=P0(t,r),a=P0(t,r=(r+s)/2),o=P0(n,r),c=P0(n,s);e.moveTo(i[0],i[1]),e.bezierCurveTo(a[0],a[1],o[0],o[1],c[0],c[1])}function $he(){return bS(Qhe)}function qhe(){return bS(Dhe)}function Khe(){var e=bS(Hhe);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const BS={draw:function(e,t){var r=Math.sqrt(t/NA);e.moveTo(r,0),e.arc(0,0,r,0,mA)}},qH={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}};var KH=Math.sqrt(1/3),zhe=KH*2;const zH={draw:function(e,t){var r=Math.sqrt(t/zhe),n=r*KH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}};var Ghe=.8908130915292852,GH=Math.sin(NA/10)/Math.sin(7*NA/10),Vhe=Math.sin(mA/10)*GH,Whe=-Math.cos(mA/10)*GH;const VH={draw:function(e,t){var r=Math.sqrt(t*Ghe),n=Vhe*r,s=Whe*r;e.moveTo(0,-r),e.lineTo(n,s);for(var i=1;i<5;++i){var a=mA*i/5,o=Math.cos(a),c=Math.sin(a);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*s,c*n+o*s)}e.closePath()}},WH={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}};var Rw=Math.sqrt(3);const YH={draw:function(e,t){var r=-Math.sqrt(t/(Rw*3));e.moveTo(0,r*2),e.lineTo(-Rw*r,-r),e.lineTo(Rw*r,-r),e.closePath()}};var Xa=-.5,Ja=Math.sqrt(3)/2,X_=1/Math.sqrt(12),Yhe=(X_/2+1)*3;const XH={draw:function(e,t){var r=Math.sqrt(t/Yhe),n=r/2,s=r*X_,i=n,a=r*X_+r,o=-i,c=a;e.moveTo(n,s),e.lineTo(i,a),e.lineTo(o,c),e.lineTo(Xa*n-Ja*s,Ja*n+Xa*s),e.lineTo(Xa*i-Ja*a,Ja*i+Xa*a),e.lineTo(Xa*o-Ja*c,Ja*o+Xa*c),e.lineTo(Xa*n+Ja*s,Xa*s-Ja*n),e.lineTo(Xa*i+Ja*a,Xa*a-Ja*i),e.lineTo(Xa*o+Ja*c,Xa*c-Ja*o),e.closePath()}};var Xhe=[BS,qH,zH,WH,VH,YH,XH];function Jhe(e,t){var r=null;e=typeof e=="function"?e:wr(e||BS),t=typeof t=="function"?t:wr(t===void 0?64:+t);function n(){var s;if(r||(r=s=UA()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return n.type=function(s){return arguments.length?(e=typeof s=="function"?s:wr(s),n):e},n.size=function(s){return arguments.length?(t=typeof s=="function"?s:wr(+s),n):t},n.context=function(s){return arguments.length?(r=s??null,n):r},n}function _A(){}function Yx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Iv(e){this._context=e}Iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zhe(e){return new Iv(e)}function JH(e){this._context=e}JH.prototype={areaStart:_A,areaEnd:_A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e0e(e){return new JH(e)}function ZH(e){this._context=e}ZH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t0e(e){return new ZH(e)}class e${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function r0e(e){return new e$(e,!0)}function n0e(e){return new e$(e,!1)}function t$(e,t){this._basis=new Iv(e),this._beta=t}t$.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],s=t[0],i=e[r]-n,a=t[r]-s,o=-1,c;++o<=r;)c=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+c*i),this._beta*t[o]+(1-this._beta)*(s+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const s0e=function e(t){function r(n){return t===1?new Iv(n):new t$(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Xx(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function NS(e,t){this._context=e,this._k=(1-t)/6}NS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xx(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i0e=function e(t){function r(n){return new NS(n,t)}return r.tension=function(n){return e(+n)},r}(0);function _S(e,t){this._context=e,this._k=(1-t)/6}_S.prototype={areaStart:_A,areaEnd:_A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a0e=function e(t){function r(n){return new _S(n,t)}return r.tension=function(n){return e(+n)},r}(0);function CS(e,t){this._context=e,this._k=(1-t)/6}CS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o0e=function e(t){function r(n){return new CS(n,t)}return r.tension=function(n){return e(+n)},r}(0);function ES(e,t,r){var n=e._x1,s=e._y1,i=e._x2,a=e._y2;if(e._l01_a>Fi){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,s=(s*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Fi){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,A=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*u+e._x1*e._l23_2a-t*e._l12_2a)/A,a=(a*u+e._y1*e._l23_2a-r*e._l12_2a)/A}e._context.bezierCurveTo(n,s,i,a,e._x2,e._y2)}function r$(e,t){this._context=e,this._alpha=t}r$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ES(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const l0e=function e(t){function r(n){return t?new r$(n,t):new NS(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function n$(e,t){this._context=e,this._alpha=t}n$.prototype={areaStart:_A,areaEnd:_A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ES(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c0e=function e(t){function r(n){return t?new n$(n,t):new _S(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function s$(e,t){this._context=e,this._alpha=t}s$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ES(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const A0e=function e(t){function r(n){return t?new s$(n,t):new CS(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function i$(e){this._context=e}i$.prototype={areaStart:_A,areaEnd:_A,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u0e(e){return new i$(e)}function oT(e){return e<0?-1:1}function lT(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),a=(r-e._y1)/(s||n<0&&-0),o=(i*s+a*n)/(n+s);return(oT(i)+oT(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(o))||0}function cT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ow(e,t,r){var n=e._x0,s=e._y0,i=e._x1,a=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,s+o*t,i-o,a-o*r,i,a)}function Jx(e){this._context=e}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ow(this,this._t0,cT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ow(this,cT(this,r=lT(this,e,t)),r);break;default:Ow(this,this._t0,r=lT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function a$(e){this._context=new o$(e)}(a$.prototype=Object.create(Jx.prototype)).point=function(e,t){Jx.prototype.point.call(this,t,e)};function o$(e){this._context=e}o$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function f0e(e){return new Jx(e)}function d0e(e){return new a$(e)}function l$(e){this._context=e}l$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AT(e),s=AT(t),i=0,a=1;a<r;++i,++a)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AT(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),a=new Array(r);for(s[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(s[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(a[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function h0e(e){return new l$(e)}function kv(e,t){this._context=e,this._t=t}kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function m0e(e){return new kv(e,.5)}function p0e(e){return new kv(e,0)}function g0e(e){return new kv(e,1)}function Kd(e,t){if((a=e.length)>1)for(var r=1,n,s,i=e[t[0]],a,o=i.length;r<a;++r)for(s=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function zd(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function x0e(e,t){return e[t]}function v0e(e){const t=[];return t.key=e,t}function y0e(){var e=wr([]),t=zd,r=Kd,n=x0e;function s(i){var a=Array.from(e.apply(this,arguments),v0e),o,c=a.length,u=-1,A;for(const f of i)for(o=0,++u;o<c;++o)(a[o][u]=[0,+n(f,a[o].key,u,i)]).data=f;for(o=0,A=jv(t(a));o<c;++o)a[A[o]].index=o;return r(a,A),a}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:wr(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?zd:typeof i=="function"?i:wr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Kd,s):r},s}function w0e(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,a;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}Kd(e,t)}}function b0e(e,t){if((c=e.length)>0)for(var r,n=0,s,i,a,o,c,u=e[t[0]].length;n<u;++n)for(a=o=0,r=0;r<c;++r)(i=(s=e[t[r]][n])[1]-s[0])>0?(s[0]=a,s[1]=a+=i):i<0?(s[1]=o,s[0]=o+=i):(s[0]=0,s[1]=i)}function B0e(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var a=0,o=0;a<s;++a)o+=e[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Kd(e,t)}}function N0e(e,t){if(!(!((a=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,a;n<i;++n){for(var o=0,c=0,u=0;o<a;++o){for(var A=e[t[o]],f=A[n][1]||0,d=A[n-1][1]||0,h=(f-d)/2,g=0;g<o;++g){var p=e[t[g]],m=p[n][1]||0,x=p[n-1][1]||0;h+=m-x}c+=f,u+=h*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Kd(e,t)}}function c$(e){var t=e.map(_0e);return zd(e).sort(function(r,n){return t[r]-t[n]})}function _0e(e){for(var t=-1,r=0,n=e.length,s,i=-1/0;++t<n;)(s=+e[t][1])>i&&(i=s,r=t);return r}function A$(e){var t=e.map(u$);return zd(e).sort(function(r,n){return t[r]-t[n]})}function u$(e){for(var t=0,r=-1,n=e.length,s;++r<n;)(s=+e[r][1])&&(t+=s);return t}function C0e(e){return A$(e).reverse()}function E0e(e){var t=e.length,r,n,s=e.map(u$),i=c$(e),a=0,o=0,c=[],u=[];for(r=0;r<t;++r)n=i[r],a<o?(a+=s[n],c.push(n)):(o+=s[n],u.push(n));return u.reverse().concat(c)}function S0e(e){return zd(e).reverse()}const Pg=e=>()=>e;function F0e(e,{sourceEvent:t,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function ac(e,t,r){this.k=e,this.x=t,this.y=r}ac.prototype={constructor:ac,scale:function(e){return e===1?this:new ac(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ac(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lv=new ac(1,0,0);f$.prototype=ac.prototype;function f$(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Lv;return e.__zoom}function Qw(e){e.stopImmediatePropagation()}function l0(e){e.preventDefault(),e.stopImmediatePropagation()}function j0e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function T0e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function uT(){return this.__zoom||Lv}function I0e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function k0e(){return navigator.maxTouchPoints||"ontouchstart"in this}function L0e(e,t,r){var n=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function U0e(){var e=j0e,t=T0e,r=L0e,n=I0e,s=k0e,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,c=Z9,u=Gu("start","zoom","end"),A,f,d,h=500,g=150,p=0,m=10;function x(U){U.property("__zoom",uT).on("wheel.zoom",I).on("mousedown.zoom",B).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",N).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(U,D,M,Q){var K=U.selection?U.selection():U;K.property("__zoom",uT),U!==K?S(U,D,M,Q):K.interrupt().each(function(){T(this,arguments).event(Q).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},x.scaleBy=function(U,D,M,Q){x.scaleTo(U,function(){var K=this.__zoom.k,O=typeof D=="function"?D.apply(this,arguments):D;return K*O},M,Q)},x.scaleTo=function(U,D,M,Q){x.transform(U,function(){var K=t.apply(this,arguments),O=this.__zoom,z=M==null?w(K):typeof M=="function"?M.apply(this,arguments):M,G=O.invert(z),F=typeof D=="function"?D.apply(this,arguments):D;return r(y(v(O,F),z,G),K,a)},M,Q)},x.translateBy=function(U,D,M,Q){x.transform(U,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),a)},null,Q)},x.translateTo=function(U,D,M,Q,K){x.transform(U,function(){var O=t.apply(this,arguments),z=this.__zoom,G=Q==null?w(O):typeof Q=="function"?Q.apply(this,arguments):Q;return r(Lv.translate(G[0],G[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof M=="function"?-M.apply(this,arguments):-M),O,a)},Q,K)};function v(U,D){return D=Math.max(i[0],Math.min(i[1],D)),D===U.k?U:new ac(D,U.x,U.y)}function y(U,D,M){var Q=D[0]-M[0]*U.k,K=D[1]-M[1]*U.k;return Q===U.x&&K===U.y?U:new ac(U.k,Q,K)}function w(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function S(U,D,M,Q){U.on("start.zoom",function(){T(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(Q).end()}).tween("zoom",function(){var K=this,O=arguments,z=T(K,O).event(Q),G=t.apply(K,O),F=M==null?w(G):typeof M=="function"?M.apply(K,O):M,P=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),L=K.__zoom,q=typeof D=="function"?D.apply(K,O):D,X=c(L.invert(F).concat(P/L.k),q.invert(F).concat(P/q.k));return function(se){if(se===1)se=q;else{var ae=X(se),W=P/ae[2];se=new ac(W,F[0]-ae[0]*W,F[1]-ae[1]*W)}z.zoom(null,se)}})}function T(U,D,M){return!M&&U.__zooming||new j(U,D)}function j(U,D){this.that=U,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(U,D),this.taps=0}j.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,D){return this.mouse&&U!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var D=Li(this.that).datum();u.call(U,this.that,new F0e(U,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),D)}};function I(U,...D){if(!e.apply(this,arguments))return;var M=T(this,D).event(U),Q=this.__zoom,K=Math.max(i[0],Math.min(i[1],Q.k*Math.pow(2,n.apply(this,arguments)))),O=Pa(U);if(M.wheel)(M.mouse[0][0]!==O[0]||M.mouse[0][1]!==O[1])&&(M.mouse[1]=Q.invert(M.mouse[0]=O)),clearTimeout(M.wheel);else{if(Q.k===K)return;M.mouse=[O,Q.invert(O)],_u(this),M.start()}l0(U),M.wheel=setTimeout(z,g),M.zoom("mouse",r(y(v(Q,K),M.mouse[0],M.mouse[1]),M.extent,a));function z(){M.wheel=null,M.end()}}function B(U,...D){if(d||!e.apply(this,arguments))return;var M=T(this,D,!0).event(U),Q=Li(U.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",P,!0),K=Pa(U,O),O=U.currentTarget,z=U.clientX,G=U.clientY;tv(U.view),Qw(U),M.mouse=[K,this.__zoom.invert(K)],_u(this),M.start();function F(L){if(l0(L),!M.moved){var q=L.clientX-z,X=L.clientY-G;M.moved=q*q+X*X>p}M.event(L).zoom("mouse",r(y(M.that.__zoom,M.mouse[0]=Pa(L,O),M.mouse[1]),M.extent,a))}function P(L){Q.on("mousemove.zoom mouseup.zoom",null),rv(L.view,M.moved),l0(L),M.event(L).end()}}function C(U,...D){if(e.apply(this,arguments)){var M=this.__zoom,Q=Pa(U.changedTouches?U.changedTouches[0]:U,this),K=M.invert(Q),O=M.k*(U.shiftKey?.5:2),z=r(y(v(M,O),Q,K),t.apply(this,D),a);l0(U),o>0?Li(this).transition().duration(o).call(S,z,Q,U):Li(this).call(x.transform,z,Q,U)}}function N(U,...D){if(e.apply(this,arguments)){var M=U.touches,Q=M.length,K=T(this,D,U.changedTouches.length===Q).event(U),O,z,G,F;for(Qw(U),z=0;z<Q;++z)G=M[z],F=Pa(G,this),F=[F,this.__zoom.invert(F),G.identifier],K.touch0?!K.touch1&&K.touch0[2]!==F[2]&&(K.touch1=F,K.taps=0):(K.touch0=F,O=!0,K.taps=1+!!A);A&&(A=clearTimeout(A)),O&&(K.taps<2&&(f=F[0],A=setTimeout(function(){A=null},h)),_u(this),K.start())}}function k(U,...D){if(this.__zooming){var M=T(this,D).event(U),Q=U.changedTouches,K=Q.length,O,z,G,F;for(l0(U),O=0;O<K;++O)z=Q[O],G=Pa(z,this),M.touch0&&M.touch0[2]===z.identifier?M.touch0[0]=G:M.touch1&&M.touch1[2]===z.identifier&&(M.touch1[0]=G);if(z=M.that.__zoom,M.touch1){var P=M.touch0[0],L=M.touch0[1],q=M.touch1[0],X=M.touch1[1],se=(se=q[0]-P[0])*se+(se=q[1]-P[1])*se,ae=(ae=X[0]-L[0])*ae+(ae=X[1]-L[1])*ae;z=v(z,Math.sqrt(se/ae)),G=[(P[0]+q[0])/2,(P[1]+q[1])/2],F=[(L[0]+X[0])/2,(L[1]+X[1])/2]}else if(M.touch0)G=M.touch0[0],F=M.touch0[1];else return;M.zoom("touch",r(y(z,G,F),M.extent,a))}}function E(U,...D){if(this.__zooming){var M=T(this,D).event(U),Q=U.changedTouches,K=Q.length,O,z;for(Qw(U),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),O=0;O<K;++O)z=Q[O],M.touch0&&M.touch0[2]===z.identifier?delete M.touch0:M.touch1&&M.touch1[2]===z.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(z=Pa(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<m)){var G=Li(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return x.wheelDelta=function(U){return arguments.length?(n=typeof U=="function"?U:Pg(+U),x):n},x.filter=function(U){return arguments.length?(e=typeof U=="function"?U:Pg(!!U),x):e},x.touchable=function(U){return arguments.length?(s=typeof U=="function"?U:Pg(!!U),x):s},x.extent=function(U){return arguments.length?(t=typeof U=="function"?U:Pg([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),x):t},x.scaleExtent=function(U){return arguments.length?(i[0]=+U[0],i[1]=+U[1],x):[i[0],i[1]]},x.translateExtent=function(U){return arguments.length?(a[0][0]=+U[0][0],a[1][0]=+U[1][0],a[0][1]=+U[0][1],a[1][1]=+U[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(U){return arguments.length?(r=U,x):r},x.duration=function(U){return arguments.length?(o=+U,x):o},x.interpolate=function(U){return arguments.length?(c=U,x):c},x.on=function(){var U=u.on.apply(u,arguments);return U===u?x:U},x.clickDistance=function(U){return arguments.length?(p=(U=+U)*U,x):Math.sqrt(p)},x.tapDistance=function(U){return arguments.length?(m=+U,x):m},x}const P0e=Object.freeze(Object.defineProperty({__proto__:null,Adder:Hs,Delaunay:UE,FormatSpecifier:hv,InternMap:r9,InternSet:Yte,Voronoi:xQ,active:Kae,arc:khe,area:DH,areaRadial:aT,ascending:Es,autoType:ale,axisBottom:Ore,axisLeft:Qre,axisRight:Rre,axisTop:Mre,bin:l8,bisect:wA,bisectCenter:Qte,bisectLeft:Ote,bisectRight:wA,bisector:Y2,blob:cle,brush:soe,brushSelection:toe,brushX:roe,brushY:noe,buffer:ule,chord:aoe,chordDirected:loe,chordTranspose:ooe,cluster:EAe,color:bA,contourDensity:Toe,contours:gQ,count:X2,create:yse,creator:Z2,cross:Kte,csv:hle,csvFormat:Woe,csvFormatBody:Yoe,csvFormatRow:Joe,csvFormatRows:Xoe,csvFormatValue:Zoe,csvParse:yQ,csvParseRows:Voe,cubehelix:Qo,cumsum:zte,curveBasis:Zhe,curveBasisClosed:e0e,curveBasisOpen:t0e,curveBumpX:r0e,curveBumpY:n0e,curveBundle:s0e,curveCardinal:i0e,curveCardinalClosed:a0e,curveCardinalOpen:o0e,curveCatmullRom:l0e,curveCatmullRomClosed:c0e,curveCatmullRomOpen:A0e,curveLinear:Tv,curveLinearClosed:u0e,curveMonotoneX:f0e,curveMonotoneY:d0e,curveNatural:h0e,curveStep:m0e,curveStepAfter:g0e,curveStepBefore:p0e,descending:Gte,deviation:t9,difference:_re,disjoint:Cre,dispatch:Gu,drag:Sse,dragDisable:tv,dragEnable:rv,dsv:dle,dsvFormat:uv,easeBack:j8,easeBackIn:Mae,easeBackInOut:j8,easeBackOut:Rae,easeBounce:Um,easeBounceIn:Uae,easeBounceInOut:Pae,easeBounceOut:Um,easeCircle:F8,easeCircleIn:_ae,easeCircleInOut:F8,easeCircleOut:Cae,easeCubic:x_,easeCubicIn:gae,easeCubicInOut:x_,easeCubicOut:xae,easeElastic:T8,easeElasticIn:Oae,easeElasticInOut:Qae,easeElasticOut:T8,easeExp:S8,easeExpIn:Bae,easeExpInOut:S8,easeExpOut:Nae,easeLinear:hae,easePoly:C8,easePolyIn:vae,easePolyInOut:C8,easePolyOut:yae,easeQuad:_8,easeQuadIn:mae,easeQuadInOut:_8,easeQuadOut:pae,easeSin:E8,easeSinIn:wae,easeSinInOut:E8,easeSinOut:bae,every:vre,extent:tm,fcumsum:Wte,filter:wre,forceCenter:ble,forceCollide:Dle,forceLink:$le,forceManyBody:Jle,forceRadial:Zle,forceSimulation:Xle,forceX:ece,forceY:tce,get format(){return mv},formatDefaultLocale:CQ,formatLocale:_Q,get formatPrefix(){return RE},formatSpecifier:Mm,fsum:Vte,geoAlbers:AD,geoAlbersUsa:iAe,geoArea:uce,geoAzimuthalEqualArea:aAe,geoAzimuthalEqualAreaRaw:VE,geoAzimuthalEquidistant:oAe,geoAzimuthalEquidistantRaw:WE,geoBounds:mce,geoCentroid:wce,geoCircle:bce,geoClipAntimeridian:P_,geoClipCircle:VQ,geoClipExtent:Fce,geoClipRectangle:pv,geoConicConformal:cAe,geoConicConformalRaw:dD,geoConicEqualArea:Kx,geoConicEqualAreaRaw:cD,geoConicEquidistant:uAe,geoConicEquidistantRaw:hD,geoContains:Pce,geoDistance:Rx,geoEqualEarth:dAe,geoEqualEarthRaw:YE,geoEquirectangular:AAe,geoEquirectangularRaw:Hm,geoGnomonic:hAe,geoGnomonicRaw:XE,geoGraticule:XQ,geoGraticule10:Mce,geoIdentity:mAe,geoInterpolate:Rce,geoLength:WQ,geoMercator:lAe,geoMercatorRaw:bp,geoNaturalEarth1:pAe,geoNaturalEarth1Raw:JE,geoOrthographic:gAe,geoOrthographicRaw:ZE,geoPath:Wce,geoProjection:Sl,geoProjectionMutator:zE,geoRotation:HQ,geoStereographic:xAe,geoStereographicRaw:eS,geoStream:Fo,geoTransform:Yce,geoTransverseMercator:vAe,geoTransverseMercatorRaw:tS,gray:Rse,greatest:fre,greatestIndex:dre,group:a9,groupSort:tre,groups:Xte,hcl:vx,hierarchy:rS,histogram:l8,hsl:px,html:yle,image:ple,index:Zte,indexes:ere,interpolate:LA,interpolateArray:qse,interpolateBasis:Q9,interpolateBasisClosed:D9,interpolateBlues:ahe,interpolateBrBG:Ode,interpolateBuGn:Vde,interpolateBuPu:Wde,interpolateCividis:fhe,interpolateCool:mhe,interpolateCubehelix:iie,interpolateCubehelixDefault:dhe,interpolateCubehelixLong:ov,interpolateDate:G9,interpolateDiscrete:Gse,interpolateGnBu:Yde,interpolateGreens:ohe,interpolateGreys:lhe,interpolateHcl:nie,interpolateHclLong:sie,interpolateHsl:eie,interpolateHslLong:tie,interpolateHue:Vse,interpolateInferno:Bhe,interpolateLab:rie,interpolateMagma:bhe,interpolateNumber:ro,interpolateNumberArray:_E,interpolateObject:V9,interpolateOrRd:Xde,interpolateOranges:uhe,interpolatePRGn:Qde,interpolatePiYG:Dde,interpolatePlasma:Nhe,interpolatePuBu:Zde,interpolatePuBuGn:Jde,interpolatePuOr:Hde,interpolatePuRd:ehe,interpolatePurples:che,interpolateRainbow:phe,interpolateRdBu:$de,interpolateRdGy:qde,interpolateRdPu:the,interpolateRdYlBu:Kde,interpolateRdYlGn:zde,interpolateReds:Ahe,interpolateRgb:Im,interpolateRgbBasis:q9,interpolateRgbBasisClosed:$se,interpolateRound:av,interpolateSinebow:vhe,interpolateSpectral:Gde,interpolateString:CE,interpolateTransformCss:X9,interpolateTransformSvg:J9,interpolateTurbo:yhe,interpolateViridis:whe,interpolateWarm:hhe,interpolateYlGn:nhe,interpolateYlGnBu:rhe,interpolateYlOrBr:she,interpolateYlOrRd:ihe,interpolateZoom:Z9,interrupt:_u,intersection:Sre,interval:Aie,isoFormat:yde,isoParse:bde,json:xle,lab:xx,lch:Ose,least:ure,leastIndex:h9,line:yS,lineRadial:iT,linkHorizontal:$he,linkRadial:Khe,linkVertical:qhe,local:_9,map:bre,matcher:xE,max:dx,maxIndex:f9,mean:are,median:ore,merge:mE,min:hx,minIndex:d9,namespace:pp,namespaces:l_,nice:A9,now:xp,pack:tue,packEnclose:pD,packSiblings:JAe,pairs:cre,partition:rue,path:UA,permute:c9,pie:Mhe,piecewise:nQ,pointRadial:P0,pointer:Pa,pointers:bse,polygonArea:gue,polygonCentroid:xue,polygonContains:bue,polygonHull:wue,polygonLength:Bue,precisionFixed:EQ,precisionPrefix:SQ,precisionRound:FQ,quadtree:dv,quantile:Fm,quantileSorted:u9,quantize:aie,quickselect:hE,radialArea:aT,radialLine:iT,randomBates:Eue,randomBernoulli:jue,randomBeta:CD,randomBinomial:ED,randomCauchy:Iue,randomExponential:Sue,randomGamma:sS,randomGeometric:_D,randomInt:_ue,randomIrwinHall:ND,randomLcg:Mue,randomLogNormal:Cue,randomLogistic:kue,randomNormal:nS,randomPareto:Fue,randomPoisson:Lue,randomUniform:Nue,randomWeibull:Tue,range:ml,reduce:Bre,reverse:Nre,rgb:Ld,ribbon:goe,ribbonArrow:xoe,rollup:o9,rollups:Jte,scaleBand:aS,scaleDiverging:AH,scaleDivergingLog:uH,scaleDivergingPow:gS,scaleDivergingSqrt:Sde,scaleDivergingSymlog:fH,scaleIdentity:TD,scaleImplicit:W_,scaleLinear:jD,scaleLog:kD,scaleOrdinal:iS,scalePoint:Rue,scalePow:uS,scaleQuantile:PD,scaleQuantize:MD,scaleRadial:UD,scaleSequential:aH,scaleSequentialLog:oH,scaleSequentialPow:pS,scaleSequentialQuantile:cH,scaleSequentialSqrt:Ede,scaleSequentialSymlog:lH,scaleSqrt:Yue,scaleSymlog:LD,scaleThreshold:RD,scaleTime:_de,scaleUtc:Cde,scan:hre,schemeAccent:jde,schemeBlues:LH,schemeBrBG:dH,schemeBuGn:bH,schemeBuPu:BH,schemeCategory10:Fde,schemeDark2:Tde,schemeGnBu:NH,schemeGreens:UH,schemeGreys:PH,schemeOrRd:_H,schemeOranges:OH,schemePRGn:hH,schemePaired:Ide,schemePastel1:kde,schemePastel2:Lde,schemePiYG:mH,schemePuBu:EH,schemePuBuGn:CH,schemePuOr:pH,schemePuRd:SH,schemePurples:MH,schemeRdBu:gH,schemeRdGy:xH,schemeRdPu:FH,schemeRdYlBu:vH,schemeRdYlGn:yH,schemeReds:RH,schemeSet1:Ude,schemeSet2:Pde,schemeSet3:Mde,schemeSpectral:wH,schemeTableau10:Rde,schemeYlGn:TH,schemeYlGnBu:jH,schemeYlOrBr:IH,schemeYlOrRd:kH,select:Li,selectAll:Bse,selection:Vu,selector:ev,selectorAll:gE,shuffle:mre,shuffler:m9,some:yre,sort:r_,stack:y0e,stackOffsetDiverging:b0e,stackOffsetExpand:w0e,stackOffsetNone:Kd,stackOffsetSilhouette:B0e,stackOffsetWiggle:N0e,stackOrderAppearance:c$,stackOrderAscending:A$,stackOrderDescending:C0e,stackOrderInsideOut:E0e,stackOrderNone:zd,stackOrderReverse:S0e,stratify:aue,style:Iu,subset:Fre,sum:pre,superset:g9,svg:wle,symbol:Jhe,symbolCircle:BS,symbolCross:qH,symbolDiamond:zH,symbolSquare:WH,symbolStar:VH,symbolTriangle:YH,symbolWye:XH,symbols:Xhe,text:fv,thresholdFreedmanDiaconis:sre,thresholdScott:ire,thresholdSturges:dE,tickFormat:FD,tickIncrement:mp,tickStep:Id,ticks:Sm,timeDay:ih,timeDays:efe,get timeFormat(){return dS},timeFormatDefaultLocale:sH,timeFormatLocale:JD,timeFriday:DD,timeFridays:ife,timeHour:wv,timeHours:Zue,timeInterval:$s,timeMillisecond:Hd,timeMilliseconds:Hj,timeMinute:yv,timeMinutes:Jue,timeMonday:$m,timeMondays:tfe,timeMonth:bv,timeMonths:ofe,get timeParse(){return nH},timeSaturday:HD,timeSaturdays:afe,timeSecond:ic,timeSeconds:qj,timeSunday:$d,timeSundays:Kj,timeThursday:Ru,timeThursdays:sfe,timeTickInterval:XD,timeTicks:YD,timeTuesday:OD,timeTuesdays:rfe,timeWednesday:QD,timeWednesdays:nfe,timeWeek:$d,timeWeeks:Kj,timeYear:Nl,timeYears:lfe,timeout:h_,timer:cv,timerFlush:aQ,transition:AQ,transpose:p9,tree:fue,treemap:due,treemapBinary:hue,treemapDice:Bp,treemapResquarify:pue,treemapSlice:xv,treemapSliceDice:mue,treemapSquarify:BD,tsv:mle,tsvFormat:tle,tsvFormatBody:rle,tsvFormatRow:sle,tsvFormatRows:nle,tsvFormatValue:ile,tsvParse:wQ,tsvParseRows:ele,union:jre,utcDay:ah,utcDays:ufe,get utcFormat(){return Cv},utcFriday:KD,utcFridays:pfe,utcHour:Nv,utcHours:Afe,utcMillisecond:Hd,utcMilliseconds:Hj,utcMinute:Bv,utcMinutes:cfe,utcMonday:qm,utcMondays:ffe,utcMonth:_v,utcMonths:xfe,get utcParse(){return hS},utcSaturday:zD,utcSaturdays:gfe,utcSecond:ic,utcSeconds:qj,utcSunday:qd,utcSundays:zj,utcThursday:Ou,utcThursdays:mfe,utcTickInterval:WD,utcTicks:VD,utcTuesday:$D,utcTuesdays:dfe,utcWednesday:qD,utcWednesdays:hfe,utcWeek:qd,utcWeeks:zj,utcYear:_l,utcYears:vfe,variance:e9,version:Pte,window:vE,xml:vle,zip:xre,zoom:U0e,zoomIdentity:Lv,zoomTransform:f$},Symbol.toStringTag,{value:"Module"}));var dt=typeof window=="object"&&window.d3?window.d3:P0e;function M0e(e,t,r){if(!t.rels.children)return;const n=t.rels.spouses||[];return e.sort((s,i)=>{const a=fT(s,t,r)||{},o=fT(i,t,r)||{},c=n.indexOf(a.id),u=n.indexOf(o.id);return t.data.gender==="M"?c-u:u-c})}function R0e(e){return e.sort((t,r)=>{const n=t._new_rel_data,s=r._new_rel_data;return n&&!s?1:!n&&s?-1:0})}function fT(e,t,r){return r.find(n=>n.id!==t.id&&(n.id===e.rels.mother||n.id===e.rels.father))}function Gd(e,t,r){if(e.exiting=r,t)e.depth===0&&!e.spouse?(e._x=e.x,e._y=e.y):e.spouse?(e._x=e.spouse.x,e._y=e.spouse.y):e.is_ancestry?(e._x=e.parent.x,e._y=e.parent.y):(e._x=e.psx,e._y=e.psy);else if(r){const n=e.x>0?1:-1,s=e.y>0?1:-1;e._x=e.x+400*n,e._y=e.y+400*s}}function d$(e,t){const r=t?"rels":"_rels",n=t?"_rels":"rels";e.is_ancestry||e.data.main?(s("father"),s("mother")):i();function s(a){!e.data[r]||!e.data[r][a]||(e.data[n]||(e.data[n]={}),e.data[n][a]=e.data[r][a],delete e.data[r][a])}function i(){if(!e.data[r]||!e.data[r].children)return;const a=e.data[r].children.slice(0),o=e.spouse?[e.spouse]:e.spouses||[];[e,...o].forEach(c=>a.forEach(u=>{c.data[r].children.includes(u)&&(c.data[n]||(c.data[n]={}),c.data[n].children||(c.data[n].children=[]),c.data[n].children.push(u),c.data[r].children.splice(c.data[r].children.indexOf(u),1))}))}}function O0e(e,t){e.forEach(r=>{r.data.hide_rels=t,d$(r,t)})}function Q0e({tree:e,data_stash:t,node_separation:r,sortChildrenFunction:n}){const s=e.find(d=>d.data.main),i=s.data.rels.father,a=s.data.rels.mother,o=u(),c=A();f();function u(){return t.filter(d=>d.id===s.data.id?!1:!!(i&&d.rels.father===i||a&&d.rels.mother===a))}function A(){const d=[];for(let h=0;h<o.length;h++){const g={data:o[h],sibling:!0};g.parents=[];const p=s.parents.find(x=>x.data.id===g.data.rels.father),m=s.parents.find(x=>x.data.id===g.data.rels.mother);p&&g.parents.push(p),m&&g.parents.push(m),g.x=void 0,g.y=s.y,g.depth=s.depth-1,e.push(g),d.push(g)}return d}function f(){const d=[s,...c];n&&d.sort((x,v)=>n(x.data,v.data)),d.sort((x,v)=>{const y=s.parents.find(j=>j.data.id===x.data.rels.father),w=s.parents.find(j=>j.data.id===x.data.rels.mother),S=s.parents.find(j=>j.data.id===v.data.rels.father),T=s.parents.find(j=>j.data.id===v.data.rels.mother);return!w&&T?-1:w&&!T||!y&&S?1:y&&!S?-1:0});const h=s.x,g=(s.spouses||[]).map(x=>x.x),p=dt.extent([h,...g]),m=d.findIndex(x=>x.data.id===s.data.id);for(let x=0;x<d.length;x++){if(x===m)continue;const v=d[x];x<m?v.x=p[0]-r*(m-x):v.x=p[1]+r*(x-m)}}}function D0e({tree:e,data_stash:t,private_cards_config:r}){const n={},s=r.condition;if(!s)return console.error("private_cards_config.condition is not set");e.forEach(a=>{if(a.data._new_rel_data)return;const o=i(a.data.id);o&&(a.is_private=o)});function i(a){const o=[];let c=!1;return u(a),n[a]=c,c;function u(A){if(c)return;if(n.hasOwnProperty(A))return c=n[A],c;const f=t.find(h=>h.id===A);if(f._new_rel_data)return;if(s(f))return c=!0,!0;const d=f.rels;[d.father,d.mother,...d.spouses||[]].forEach(h=>{h&&(o.includes(h)||(o.push(h),u(h)))})}}}function H0e(e,t){const r=t.find(o=>o.id===e),n=dt.hierarchy(r,a),s=dt.hierarchy(r,i);return{ancestry:n.height,progeny:s.height};function i(o){return[...o.rels.children||[]].map(c=>t.find(u=>u.id===c)).filter(c=>c&&!c._new_rel_data&&!c.to_add)}function a(o){return[o.rels.father,o.rels.mother].filter(c=>c).map(c=>t.find(u=>u.id===c)).filter(c=>c&&!c._new_rel_data&&!c.to_add)}}function h$(e,t){const r=e.rels,n=[r.father,r.mother,...r.spouses||[],...r.children||[]].filter(s=>!!s);for(const s of n){const i=t.find(a=>a.id===s);if(!SS(i,t,[e.id]))return!1}return!0}function SS(e,t,r=[]){const n=t[0];if(e.id===n.id)return!0;const s=[...r];let i=!1;return a(e),i;function a(o){if(i)return;const c=o.rels;[c.father,c.mother,...c.spouses||[],...c.children||[]].filter(A=>!!A).forEach(A=>{if(s.includes(A))return;s.push(A);const f=t.find(d=>d.id===A);f.id===n.id?i=!0:a(f)})}}function m$(e,t,r){const n=e.id;r.forEach(a=>{a.rels.father===n&&(a.rels.father=t),a.rels.mother===n&&(a.rels.mother=t),(a.rels.spouses||[]).includes(n)&&(a.rels.spouses=a.rels.spouses.filter(o=>o!==n),a.rels.spouses.includes(t)||a.rels.spouses.push(t)),(a.rels.children||[]).includes(n)&&(a.rels.children=a.rels.children.filter(o=>o!==n),a.rels.children.includes(t)||a.rels.children.push(t))});const s=r.find(a=>a.id===t),i=r.find(a=>a.id===n);(i.rels.children||[]).forEach(a=>{s.rels.children||(s.rels.children=[]),s.rels.children.includes(a)||s.rels.children.push(a)}),(i.rels.spouses||[]).forEach(a=>{s.rels.spouses||(s.rels.spouses=[]),s.rels.spouses.includes(a)||s.rels.spouses.push(a)}),s.rels.father&&i.rels.father&&console.error("link rel already has father"),s.rels.mother&&i.rels.mother&&console.error("link rel already has mother"),i.rels.father&&(s.rels.father=i.rels.father),i.rels.mother&&(s.rels.mother=i.rels.mother),r.splice(r.findIndex(a=>a.id===n),1)}function $0e(e,t){const r=e._new_rel_data?t.find(o=>o.id===e._new_rel_data.rel_id):null,n=i(e,t),s=a(e,t);return e._new_rel_data&&["son","daughter"].includes(e._new_rel_data.rel_type)&&s.push(...a(r,t)),t.filter(o=>o.id!==e.id&&o.id!==(r==null?void 0:r.id)&&!o._new_rel_data&&!o.to_add&&!o.unknown).filter(o=>!n.includes(o.id)).filter(o=>!s.includes(o.id)).filter(o=>!(o.rels.spouses||[]).includes(e.id));function i(o,c){const u=[];return A(o),u;function A(f){[f.rels.father,f.rels.mother].forEach(h=>{h&&(u.push(h),A(c.find(g=>g.id===h)))})}}function a(o,c){const u=[];return A(o),u;function A(f){(f.rels.children?[...f.rels.children]:[]).forEach(h=>{u.push(h),A(c.find(g=>g.id===h))})}}}function q0e({datum:e,store:t,fields:r,postSubmit:n,addRelative:s,removeRelative:i,deletePerson:a,onCancel:o,editFirst:c,link_existing_rel_config:u,getKinshipInfo:A,onFormCreation:f}){const d={datum_id:e.id,fields:[],onSubmit:x,getKinshipInfo:A,onFormCreation:f};e._new_rel_data||(d.onDelete=y,d.addRelative=()=>s.activate(e),d.addRelativeCancel=()=>s.onCancel(),d.addRelativeActive=s.is_active,d.removeRelative=()=>i.activate(e),d.removeRelativeCancel=()=>i.onCancel(),d.removeRelativeActive=i.is_active,d.editable=!1),e._new_rel_data&&(d.title=e._new_rel_data.label,d.new_rel=!0,d.editable=!0,d.onCancel=o),(e._new_rel_data||e.to_add||e.unknown)&&u&&(d.linkExistingRelative=m(e,t.getData(),u)),d.onDelete&&(d.can_delete=!0),c&&(d.editable=!0);const h=(e.rels.children||[]).some(w=>!t.getDatum(w)._new_rel_data);return d.gender_field={id:"gender",type:"switch",label:"Gender",initial_value:e.data.gender,disabled:["father","mother"].some(w=>{var S;return w===((S=e._new_rel_data)==null?void 0:S.rel_type)})||h,options:[{value:"M",label:"Male"},{value:"F",label:"Female"}]},r.forEach(w=>{w.type==="rel_reference"?g(w):w.type==="select"?p(w):d.fields.push({id:w.id,type:w.type,label:w.label,initial_value:e.data[w.id]})}),d;function g(w){w.getRelLabel||console.error("getRelLabel is not set"),w.rel_type==="spouse"&&(e.rels.spouses||[]).forEach(S=>{const T=t.getDatum(S),j=`${w.id}__ref__${S}`;d.fields.push({id:j,type:"rel_reference",label:w.label,rel_id:S,rel_label:w.getRelLabel(T),initial_value:e.data[j]})})}function p(w){if(!w.optionCreator&&!w.options)return console.error("optionCreator or options is not set for field",w);d.fields.push({id:w.id,type:w.type,label:w.label,initial_value:e.data[w.id],placeholder:w.placeholder,options:w.options||w.optionCreator(e)})}function m(w,S,T){return{label:T.label,options:$0e(w,S).map(I=>({value:I.id,label:T.linkRelLabel(I)})).sort((I,B)=>typeof I.label=="string"&&typeof B.label=="string"?I.label.localeCompare(B.label):I.label<B.label?-1:1),onSelect:v}}function x(w){w.preventDefault(),new FormData(w.target).forEach((T,j)=>e.data[j]=T),p$(e,t.getData()),e.to_add&&delete e.to_add,e.unknown&&delete e.unknown,n()}function v(w){const S=w.target.value;n({link_rel_id:S})}function y(){a(),n({delete:!0})}}function p$(e,t){Object.keys(e.data).forEach(r=>{if(r.includes("__ref__")){const n=r.split("__ref__")[1],s=t.find(a=>a.id===n);if(!s)return;const i=r.split("__ref__")[0]+"__ref__"+e.id;s.data[i]=e.data[r]}})}function J_(e,t){Object.keys(e.data).forEach(r=>{if(r.includes("__ref__")){const n=r.split("__ref__")[1],s=t.find(a=>a.id===n);if(!s)return;const i=r.split("__ref__")[0]+"__ref__"+e.id;delete s.data[i]}})}function g$(e,t){return delete e.to_add,e}function Zx(e,t){return Uv(e,t),!1}function Uv(e,t){if(h$(e,t))return r(),{success:!0};return n(),{success:!0};function r(){t.forEach(s=>{for(let i in s.rels)s.rels.hasOwnProperty(i)&&(s.rels[i]===e.id?delete s.rels[i]:Array.isArray(s.rels[i])&&s.rels[i].includes(e.id)&&s.rels[i].splice(s.rels[i].findIndex(a=>a===e.id),1))}),J_(e,t),t.splice(t.findIndex(s=>s.id===e.id),1),t.length===0&&t.push(w$({}).data[0])}function n(){J_(e,t),e.data={gender:e.data.gender},e.unknown=!0}}function K0e(e){return x$(e),e.forEach(t=>{delete t.main,delete t._tgdp,delete t._tgdp_sp,delete t.__tgdp_sp}),e.forEach(t=>{Object.keys(t).forEach(r=>{r[0]==="_"&&console.error("key starts with _",r)})}),e}function x$(e){for(let t=e.length-1;t>=0;t--)e[t].to_add&&Zx(e[t],e)}function v$({datum:e,data_stash:t,rel_type:r,rel_datum:n}){r==="daughter"||r==="son"?s(e):r==="father"||r==="mother"?i(e):r==="spouse"&&a(e);function s(o){return o.data.other_parent&&(c(o.data.other_parent),delete o.data.other_parent),o.rels[n.data.gender==="M"?"father":"mother"]=n.id,n.rels.children||(n.rels.children=[]),n.rels.children.push(o.id),o;function c(u){u==="_new"&&(u=f().id);const A=t.find(d=>d.id===u);o.rels[A.data.gender==="M"?"father":"mother"]=A.id,A.rels.hasOwnProperty("children")||(A.rels.children=[]),A.rels.children.push(o.id);function f(){const d=y$({rel_type:"spouse",rel_datum:n});return a(d),FS({data_stash:t,datum:d}),d}}}function i(o){const c=o.data.gender==="M",u=n.rels[c?"father":"mother"];u&&Zx(t.find(f=>f.id===u),t),A();function A(){return n.rels[c?"father":"mother"]=o.id,f(),o.rels.children=[n.id],o;function f(){const d=n.rels[c?"mother":"father"];if(!d)return;const h=t.find(g=>g.id===d);return o.rels.spouses=[d],h.rels.spouses||(h.rels.spouses=[]),h.rels.spouses.push(o.id),h}}}function a(o){c(),n.rels.spouses||(n.rels.spouses=[]),n.rels.spouses.push(o.id),o.rels.spouses=[n.id];function c(){n.rels.spouses&&n.rels.spouses.forEach(u=>{const A=t.find(f=>f.id===u);A.to_add&&Zx(A,t)})}}}function So({data:e,rels:t}){return{id:G0e(),data:e||{},rels:t||{}}}function y$({data:e,rel_type:t,rel_datum:r}){const n=s(r,t);return e=Object.assign(e||{},{gender:n}),So({data:e});function s(i,a){return["daughter","mother"].includes(a)||a==="spouse"&&i.data.gender==="M"?"F":"M"}}function FS({data_stash:e,datum:t}){e.push(t)}function w$({data:e,version:t}){return{data:[So({data:e})],version:t}}function z0e({datum:e,data_stash:t,rel_type:r,rel_datum:n}){FS({data_stash:t,datum:e}),v$({datum:e,data_stash:t,rel_type:r,rel_datum:n})}function G0e(){var e=new Date().getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16;return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(t+n)%16|0,t=Math.floor(t/16)),(r==="x"?n:n&3|8).toString(16)})}function b$({amount:e,svg:t,transition_time:r=500}){const n=t.__zoomObj?t:t.parentNode,s=n.__zoomObj;dt.select(n).transition().duration(r||0).delay(r?100:0).call(s.scaleBy,e)}function V0e(e){const t=e.__zoomObj?e:e.parentNode;return dt.zoomTransform(t)}function W0e(e,t){const r=e.__zoomObj?e:e.parentNode,n=dt.zoomTransform(r);b$({amount:t/n.k,svg:e})}function B$(e,t){const r=e.data.rels;return[r.father,r.mother,...r.spouses||[],...r.children||[]].filter(s=>s).every(s=>t.some(i=>i.data.id===s))}function Y0e(e){e.forEach(t=>{var n;if(!t.spouse)return;const r=t.spouse;if(t.duplicate&&r.data._tgdp_sp){const s=r.data.main?"main":r.parent.data.id;(n=r.data._tgdp_sp[s])!=null&&n.hasOwnProperty(t.data.id)&&(t._toggle=r.data._tgdp_sp[s][t.data.id])}})}function X0e(e,t,r=!0){const n=[];s(e),d(n);function s(h){if(!h.children)return;const g=h.data,p=(h.data.rels.spouses||[]).map(x=>t.find(v=>v.id===x)),m=f(h);p.forEach(x=>{if(n.some(y=>y.some(w=>A([g,x],[w.p1,w.p2]))))return;const v=u(h,g,x);if(v.length>0){const y=[{d:h,p1:g,p2:x},...v];n.push(y),i(y),a(y)}else{let y=e===h?"main":h.parent.data.id;o(h,y,x),(m[x.id]||[]).forEach(w=>{s(w)})}})}function i(h){if(h.forEach(({d:g,p1:p,p2:m},x)=>{g.data._tgdp_sp||(g.data._tgdp_sp={});let v=e===g?"main":g.parent.data.id;c(g,v,m),g.data._tgdp_sp[v]||(g.data._tgdp_sp[v]={});let y=1;g.data._tgdp_sp[v].hasOwnProperty(m.id)?y=g.data._tgdp_sp[v][m.id]:g.data._tgdp_sp[v][m.id]=y,h[x].val=y}),r){if(h.every(g=>g.val<0)){const g=h.sort((y,w)=>w.val-y.val)[0],{d:p,p1:m,p2:x}=g,v=e===p?"main":p.parent.data.id;p.data._tgdp_sp[v][x.id]=1}if(h.filter(g=>g.val>0).length>1){const g=h.sort((p,m)=>m.val-p.val)[0];h.forEach(p=>{if(p===g)return;const{d:m,p1:x,p2:v}=p,y=e===m?"main":m.parent.data.id;m.data._tgdp_sp[y][v.id]=-1})}}}function a(h){h.forEach(({d:g,p1:p,p2:m})=>{const x=e===g?"main":g.parent.data.id;if(g.data._tgdp_sp[x][m.id]<0){const v=f(g);v[m.id]&&(g.children=g.children.filter(y=>!v[m.id].includes(y)),g.children.length===0&&delete g.children)}})}function o(h,g,p){h.data._tgdp_sp&&h.data._tgdp_sp[g]&&h.data._tgdp_sp[g].hasOwnProperty(p.id)&&(h.data.__tgdp_sp||(h.data.__tgdp_sp={}),h.data.__tgdp_sp[g]||(h.data.__tgdp_sp[g]={}),h.data.__tgdp_sp[g][p.id]=h.data._tgdp_sp[g][p.id],delete h.data._tgdp_sp[g][p.id])}function c(h,g,p){h.data.__tgdp_sp&&h.data.__tgdp_sp[g]&&h.data.__tgdp_sp[g].hasOwnProperty(p.id)&&(h.data._tgdp_sp[g][p.id]=h.data.__tgdp_sp[g][p.id],delete h.data.__tgdp_sp[g][p.id])}function u(h,g,p){const m=[];return x(e),m;function x(v){if(v!==h&&v.children){const y=v.data,w=(v.data.rels.spouses||[]).map(T=>t.find(j=>j.id===T)),S=f(v);w.forEach(T=>{A([g,p],[y,T])?m.push({d:v,p1:y,p2:T}):(S[T.id]||[]).forEach(j=>{x(j)})})}}}function A(h,g){return h.every(p=>g.some(m=>p.id===m.id))}function f(h){const g={},p=h;return(h.children||[]).forEach(m=>{const x=m.data.rels,v=x.father===p.data.id?x.mother:x.father;g[v]||(g[v]=[]),g[v].push(m)}),g}function d(h){let g=0;h.forEach(p=>{g=g+1,p.forEach(m=>{m.d._toggle_id_sp||(m.d._toggle_id_sp={}),m.d._toggle_id_sp[m.p2.id]=g})})}}function J0e(e,t=!0){const r=[];n(e),c(r);function n(u){if(u.children){if(r.some(f=>f.includes(u)))return;const A=a(u.children);if(A.length>0){const f=[u,...A];r.push(f),s(f),i(f)}else u.children.forEach(f=>{n(f)})}}function s(u){if(u.forEach(A=>{A.data._tgdp||(A.data._tgdp={});const f=e===A?"main":A.parent.data.id;A.data._tgdp[f]||(A.data._tgdp[f]=-1),A._toggle=A.data._tgdp[f]}),t){if(u.every(A=>A._toggle<0)){const f=u.sort((h,g)=>g._toggle-h._toggle)[0],d=e===f?"main":f.parent.data.id;f.data._tgdp[d]=1}if(u.filter(A=>A._toggle>0).length>1){const A=u.sort((f,d)=>d._toggle-f._toggle)[0];u.forEach(f=>{if(f===A)return;const d=f,h=e===d?"main":d.parent.data.id;d.data._tgdp[h]=-1})}}}function i(u){u.forEach(A=>{const f=e===A?"main":A.parent.data.id;A.data._tgdp[f]<0&&delete A.children})}function a(u){const A=[];return f(e),A;function f(d){d.children&&(o(u,d.children)?A.push(d):d.children.forEach(h=>{f(h)}))}}function o(u,A){return u!==A&&u.every(f=>A.some(d=>f.data.id===d.data.id))}function c(u){let A=0;u.forEach(f=>{A=A+1,f.forEach(d=>{d._toggle_id=A})})}}function N$({data:e,main_id:t=null,node_separation:r=250,level_separation:n=150,single_parent_empty_card:s=!0,is_horizontal:i=!1,one_level_rels:a=!1,sortChildrenFunction:o=void 0,sortSpousesFunction:c=void 0,ancestry_depth:u=void 0,progeny_depth:A=void 0,show_siblings_of_main:f=!1,modifyTreeHierarchy:d=void 0,private_cards_config:h=void 0,duplicate_branch_toggle:g=!1,on_toggle_one_close_others:p=!0}){if(!e||!e.length)return{data:[],data_stash:[],dim:{width:0,height:0},main_id:null};i&&([r,n]=[n,r]);const m=s?U(e):e,x=t!==null&&m.find(O=>O.id===t)||m[0],v=T(x,"children",!1),y=T(x,"parents",!0);m.forEach(O=>O.main=O===x),j(y,v);const w=I(y,v);k({tree:w}),C({tree:w,node_separation:r}),f&&!a&&Q0e({tree:w,data_stash:m,node_separation:r,sortChildrenFunction:o}),N({tree:w}),B({tree:w}),w.forEach(O=>O.all_rels_displayed=B$(O,w)),h&&D0e({tree:w,data_stash:m,private_cards_config:h}),Z0e({tree:w}),Q(w),g&&Y0e(w);const S=E(w,r,n);return{data:w,data_stash:m,dim:S,main_id:x.id,is_horizontal:i};function T(O,z,G){const F=z==="children"?ee:Ce,P=dt.tree().nodeSize([r,n]).separation(q),L=dt.hierarchy(O,F);return G&&M(L),D(L,G),g&&K(L,m,G),d&&d(L,G),P(L),L.descendants();function q(Me,we){let oe=1;return G||(X(Me,we)||(oe+=.25),a||W(Me,we)&&(oe+=ye(Me,we)),X(Me,we)&&!se(Me,we)&&(oe+=.125)),oe}function X(Me,we){return Me.parent==we.parent}function se(Me,we){return Me.data.rels.father===we.data.rels.father&&Me.data.rels.mother===we.data.rels.mother}function ae(Me){return Me.data.rels.spouses&&Me.data.rels.spouses.length>0}function W(Me,we){return ae(Me)||ae(we)}function ee(Me){const we=[...Me.rels.children||[]].map(oe=>m.find(ze=>ze.id===oe));return o&&we.sort(o),R0e(we),c&&c(Me,m),M0e(we,Me,m),we}function Ce(Me){return[Me.rels.father,Me.rels.mother].filter(we=>we).map(we=>m.find(oe=>oe.id===we))}function ye(Me,we){return((Me.data.rels.spouses||[]).length+(we.data.rels.spouses||[]).length)*.5}}function j(O,z){const G=(O[0].x-z[0].x)/2;O.forEach(F=>F.x-=G),z.forEach(F=>F.x+=G)}function I(O,z){return O.forEach(G=>{G.is_ancestry=!0}),O.forEach(G=>G.depth===1?G.parent=z[0]:null),[...z,...O.slice(1)]}function B({tree:O}){O.forEach(z=>{if(z.y*=z.is_ancestry?-1:1,i){const G=z.x;z.x=z.y,z.y=G}})}function C({tree:O,node_separation:z}){for(let G=O.length;G--;){const F=O[G];if(!F.is_ancestry){let P=F.data.rels.spouses;if(F._ignore_spouses&&(P=P.filter(L=>!F._ignore_spouses.includes(L))),P&&P.length>0){if(a&&F.depth>0)continue;const L=F.data.data.gender==="M"?-1:1;F.x+=P.length/2*z*L,P.forEach((q,X)=>{if(F._ignore_spouses&&F._ignore_spouses.includes(q))return;const se={data:m.find(ae=>ae.id===q),added:!0};se.x=F.x-z*(X+1)*L,se.y=F.y,se.sx=X>0?se.x:se.x+z/2*L,se.sy=X>0?se.y:se.y+z/2*L,se.depth=F.depth,se.spouse=F,F.spouses||(F.spouses=[]),F.spouses.push(se),O.push(se)})}}if(F.parents&&F.parents.length===2){const P=F.parents[0],L=F.parents[1],q=P.x-(P.x-L.x)/2,X=(se,ae)=>q+z/2*(se.x<ae.x?1:-1);L.x=X(P,L),P.x=X(L,P)}}}function N({tree:O}){O.forEach(z=>{if(z.is_ancestry||z.depth===0||z.added||z.sibling)return;const G=z.parent,F=(G.spouses||[]).find(L=>L.data.id===z.data.rels.father||L.data.id===z.data.rels.mother);if(G&&F){!G.added&&!F.added&&console.error("no added spouse",G,F);const L=G.added?G:F;P(z,L)}else if(G||F){const L=G||F;L.sx=L.x,L.sy=L.y,P(z,L)}function P(L,q){L.psx=i?q.y:q.sx,L.psy=i?q.sx:q.y}})}function k({tree:O}){O.forEach(z=>{delete z.children,O.forEach(G=>{G.parent===z&&(G.is_ancestry?(z.parents||(z.parents=[]),z.parents.push(G)):(z.children||(z.children=[]),z.children.push(G)))})})}function E(O,z,G){i&&([z,G]=[G,z]);const F=dt.extent(O,L=>L.x),P=dt.extent(O,L=>L.y);return{width:F[1]-F[0]+z,height:P[1]-P[0]+G,x_off:-F[0]+z/2,y_off:-P[0]+G/2}}function U(O){const z=[];for(let P=0;P<O.length;P++){const L=O[P];if(L.rels.children&&L.rels.children.length>0){L.rels.spouses||(L.rels.spouses=[]);const q=L.data.gender==="M";let X;L.rels.children.forEach(se=>{const ae=O.find(W=>W.id===se);ae.rels[q?"father":"mother"]===L.id&&(ae.rels[q?"mother":"father"]||(X||(X=G(L)),X.rels.children.push(ae.id),ae.rels[q?"mother":"father"]=X.id))})}}return z.forEach(P=>O.push(P)),O;function G(P){return P.rels.spouses.map(q=>O.find(X=>X.id===q)).find(q=>q.to_add)||F(P)}function F(P){const L=So({data:{gender:P.data.gender==="M"?"F":"M"},rels:{spouses:[P.id],children:[]}});return L.to_add=!0,z.push(L),P.rels.spouses.push(L.id),L}}function D(O,z){let G=z?u:A;if(a&&(G=1),!G&&G!==0)return O;return F(O,0),O;function F(P,L){L===G?P.children&&delete P.children:P.children&&P.children.forEach(q=>{F(q,L+1)})}}function M(O){z(O);function z(G){G.children&&G.children.length===2&&(G.children[0]._spouse=G.children[1],G.children[1]._spouse=G.children[0]),G.children&&G.children.forEach(F=>z(F))}}function Q(O){O.forEach(z=>{if(z.data.main)z.from=[],z.to=[],z.to_ancestry=z.parents;else if(z.is_ancestry)z.from=[z.parent],z.to=z.parents;else{if(z.added){z.from=[],z.from_spouse=z.spouse,z.to=[];return}if(z.sibling)return;const G=z.parent,F=(z.parent.spouses||[]).find(P=>P.data.id===z.data.rels.father||P.data.id===z.data.rels.mother);z.from=[G],F&&z.from.push(F),G.to||(G.to=[]),G.to.push(z),F&&(F.to||(F.to=[]),F.to.push(z))}})}function K(O,z,G){G?J0e(O,p):X0e(O,z,p)}}function Z0e({tree:e}){const t=[];e.forEach(r=>{if(t.includes(r.data.id)){const n=e.filter(s=>s.data.id===r.data.id);n.forEach((s,i)=>{s.tid=`${r.data.id}--x${i+1}`,s.duplicate=n.length,t.push(r.data.id)})}else r.tid=r.data.id,t.push(r.data.id)})}function eme(e){let t;const r=e;return r.main_id_history=[],{state:r,updateTree:f=>{r.tree=s(),r.main_id||u(r.tree.main_id),t&&t(f)},updateData:f=>r.data=f,updateMainId:u,getMainId:()=>r.main_id,getData:()=>r.data,getTree:()=>r.tree,setOnUpdate:f=>t=f,getMainDatum:i,getDatum:a,getTreeMainDatum:o,getTreeDatum:c,getLastAvailableMainDatum:A,methods:{}};function s(){return N$({data:r.data,main_id:r.main_id,node_separation:r.node_separation,level_separation:r.level_separation,single_parent_empty_card:r.single_parent_empty_card,is_horizontal:r.is_horizontal,one_level_rels:r.one_level_rels,sortChildrenFunction:r.sortChildrenFunction,sortSpousesFunction:r.sortSpousesFunction,ancestry_depth:r.ancestry_depth,progeny_depth:r.progeny_depth,show_siblings_of_main:r.show_siblings_of_main,modifyTreeHierarchy:r.modifyTreeHierarchy,private_cards_config:r.private_cards_config,duplicate_branch_toggle:r.duplicate_branch_toggle})}function i(){return r.data.find(f=>f.id===r.main_id)}function a(f){return r.data.find(d=>d.id===f)}function o(){return r.tree?r.tree.data.find(f=>f.data.id===r.main_id):null}function c(f){return r.tree?r.tree.data.find(d=>d.data.id===f):null}function u(f){f!==r.main_id&&(r.main_id_history=r.main_id_history.filter(d=>d!==f).slice(-10),r.main_id_history.push(f),r.main_id=f)}function A(){let f=r.main_id_history.slice(0).reverse().find(d=>a(d));return f||(f=r.data[0].id),f!==r.main_id&&u(f),a(f)}}function _$({t:e,svg:t,transition_time:r=2e3}){const n=t.__zoomObj?t:t.parentNode,s=n.__zoomObj;dt.select(n).transition().duration(r||0).delay(r?100:0).call(s.transform,dt.zoomIdentity.scale(e.k).translate(e.x,e.y))}function Z_({svg:e,svg_dim:t,tree_dim:r,with_transition:n,transition_time:s}){const i=C$(t,r);_$({t:i,svg:e,transition_time:s})}function C$(e,t){let r=Math.min(e.width/t.width,e.height/t.height);r>1&&(r=1);const n=t.x_off+(e.width-t.width*r)/r/2,s=t.y_off+(e.height-t.height*r)/r/2;return{k:r,x:n,y:s}}function E$({datum:e,svg:t,svg_dim:r,scale:n,transition_time:s}){const i=n||1,a=r.width/2-e.x*i,o=r.height/2-e.y,c={k:i,x:a/i,y:o/i};_$({t:c,svg:t,transition_time:s})}function tme({d:e,tree:t,is_horizontal:r=!1}){const n=[];return(e.spouses||e._spouse)&&a({d:e}),s({d:e}),i({d:e}),n;function s({d:g}){if(!g.parents)return;const p=g.parents[0],m=g.parents[1]||p,x={x:o(p,m,"x"),y:o(p,m,"y")};n.push({d:u(g,x),_d:()=>{const v={x:g.x,y:g.y},y={x:g.x,y:g.y};return u(v,y)},curve:!0,id:d(g,p,m),depth:g.depth+1,is_ancestry:!0,source:g,target:[p,m]})}function i({d:g}){!g.children||g.children.length===0||g.children.forEach((p,m)=>{const x=h(p,g)||g,v=x.sx,y=r?{x:g.x,y:v}:{x:v,y:g.y};n.push({d:u(p,y),_d:()=>u(y,{x:c(y,"x"),y:c(y,"y")}),curve:!0,id:d(p,g,x),depth:g.depth+1,is_ancestry:!1,source:[g,x],target:p})})}function a({d:g}){g.spouses?g.spouses.forEach(m=>n.push(p(g,m))):g._spouse&&n.push(p(g,g._spouse));function p(m,x){return{d:[[m.x,m.y],[x.x,x.y]],_d:()=>[m.is_ancestry?[c(m,"x")-1e-4,c(m,"y")]:[m.x,m.y],m.is_ancestry?[c(x,"x"),c(x,"y")]:[m.x-1e-4,m.y]],curve:!1,id:d(m,x),depth:m.depth,spouse:!0,is_ancestry:x.is_ancestry,source:m,target:x}}}function o(g,p,m,x){return g[m]-(g[m]-p[m])/2}function c(g,p){return g.hasOwnProperty("_"+p)?g["_"+p]:g[p]}function u(g,p){return r?f(g,p):A(g,p)}function A(g,p){const m=g.y+(p.y-g.y)/2;return[[g.x,g.y],[g.x,m],[g.x,m],[p.x,m],[p.x,m],[p.x,p.y]]}function f(g,p){const m=g.x+(p.x-g.x)/2;return[[g.x,g.y],[m,g.y],[m,g.y],[m,p.y],[m,p.y],[p.x,p.y]]}function d(...g){return g.map(p=>p.tid).sort().join(", ")}function h(g,p){return(p.spouses||[]).find(x=>x.data.id===g.data.rels.mother||x.data.id===g.data.rels.father)}}function rme(e,t,r,n){const s=r.is_ancestry,i=t.data();let a=[],o=[];if(s){const f=[];let d=r,h=0;for(;d!==n.data&&h<100;){h++;const p=i.find(m=>m.spouse===!0&&(m.source===d||m.target===d));if(p){const m=i.filter(v=>Array.isArray(v.target)&&v.target.includes(p.source)&&v.target.includes(p.target)),x=A(m,n);if(!x)break;f.push(p),f.push(x),d=x.source}else{const m=i.filter(v=>Array.isArray(v.target)&&v.target.includes(d)),x=A(m,n);if(!x)break;f.push(x),d=x.source}}t.each(function(p){f.includes(p)&&a.push({link:p,node:this})});const g=u(r,f);e.each(function(p){g.includes(p)&&o.push({card:p,node:this})})}else if(r.spouse&&r.spouse.data===n.data){t.each(function(d){d.target===r&&a.push({link:d,node:this})});const f=[n,r];e.each(function(d){f.includes(d)&&o.push({card:d,node:this})})}else if(r.sibling){t.each(function(d){d.source===r&&a.push({link:d,node:this}),d.source===n&&d.target.length===2&&a.push({link:d,node:this}),r.parents.includes(d.source)&&r.parents.includes(d.target)&&a.push({link:d,node:this})});const f=[n,r,...r.parents];e.each(function(d){f.includes(d)&&o.push({card:d,node:this})})}else{let f=[],d=r,h=0;for(;d!==n.data&&h<100;){h++;const p=i.find(m=>m.target===d&&Array.isArray(m.source));if(p){const m=i.find(x=>x.spouse===!0&&c([x.source,x.target],p.source));f.push(p),f.push(m),m?d=m.source:d=p.source[0]}else{const m=i.find(x=>x.target===d&&!Array.isArray(x.source));if(!m)break;f.push(m),d=m.source}}t.each(function(p){f.includes(p)&&a.push({link:p,node:this})});const g=u(n,f);e.each(function(p){g.includes(p)&&o.push({card:p,node:this})})}return[o,a];function c(f,d){return f.every(h=>d.some(g=>h===g))}function u(f,d){const h=d.filter(m=>m).reduce((m,x)=>(Array.isArray(x.target)?m.push(...x.target):m.push(x.target),Array.isArray(x.source)?m.push(...x.source):m.push(x.source),m),[]),g=[n,r];return p(f),g;function p(m){m.data.rels.children&&m.data.rels.children.forEach(x=>{const v=h.find(y=>y.data.id===x);v&&(g.push(v),p(v))})}}function A(f,d){return f.length===0?null:f.length===1?f[0]:f.find(h=>h.source===d)}}function Dw(e,t){const r=dt.line().curve(dt.curveMonotoneY),n=dt.line().curve(dt.curveBasis),s=t?e._d():e.d;if(e.curve){if(e.curve===!0)return n(s)}else return r(s)}function nme(e,t,r={}){const n=t.data.reduce((d,h)=>(tme({d:h,tree:t.data,is_horizontal:t.is_horizontal}).forEach(g=>d[g.id]=g),d),{}),s=Object.values(n),i=dt.select(e).select(".links_view").selectAll("path.link").data(s,d=>d.id),a=i.exit(),o=i.enter().append("path").attr("class","link"),c=o.merge(i);a.each(f),o.each(u),c.each(A);function u(d){dt.select(this).attr("fill","none").attr("stroke","#fff").attr("stroke-width",1).style("opacity",0).attr("d",Dw(d,!0))}function A(d){const h=dt.select(this),g=r.initial?_p(t,d,r.transition_time):0;h.transition("path").duration(r.transition_time).delay(g).attr("d",Dw(d)).style("opacity",1)}function f(d){const h=dt.select(this);h.transition("op").duration(800).style("opacity",0),h.transition("path").duration(r.transition_time).attr("d",Dw(d,!0)).on("end",()=>h.remove())}}function sme(e,t,r,n={}){const s=dt.select(e).select(".cards_view").selectAll("g.card_cont").data(t.data,d=>d.data.id),i=s.exit(),a=s.enter().append("g").attr("class","card_cont"),o=a.merge(s);i.each(d=>Gd(d,!1,!0)),a.each(d=>Gd(d,!0,!1)),i.each(f),s.each(u),a.each(c),o.each(A);function c(d){dt.select(this).attr("transform",`translate(${d._x}, ${d._y})`).style("opacity",0),r.call(this,d)}function u(d){}function A(d){r.call(this,d);const h=n.initial?_p(t,d,n.transition_time):0;dt.select(this).transition().duration(n.transition_time).delay(h).attr("transform",`translate(${d.x}, ${d.y})`).style("opacity",1)}function f(d){const h=dt.select(this);h.transition().duration(n.transition_time).style("opacity",0).attr("transform",`translate(${d._x}, ${d._y})`).on("end",()=>h.remove())}}function ime(e,t,r,n={}){const s=dt.select(e).select(".cards_view").selectAll("div.card_cont").data(t.data,d=>d.tid),i=s.exit(),a=s.enter().append("div").attr("class","card_cont").style("pointer-events","none"),o=a.merge(s);i.each(d=>Gd(d,!1,!0)),a.each(d=>Gd(d,!0,!1)),i.each(f),s.each(u),a.each(c),o.each(A);function c(d){dt.select(this).style("position","absolute").style("top","0").style("left","0").style("transform",`translate(${d._x}px, ${d._y}px)`).style("opacity",0),r.call(this,d)}function u(d){}function A(d){r.call(this,d);const h=n.initial?_p(t,d,n.transition_time):0;dt.select(this).transition().duration(n.transition_time).delay(h).style("transform",`translate(${d.x}px, ${d.y}px)`).style("opacity",1)}function f(d){const h=dt.select(this);h.transition().duration(n.transition_time).style("opacity",0).style("transform",`translate(${d._x}px, ${d._y}px)`).on("end",()=>h.remove())}}function S$(e,t){const r=dt.select(e).selectAll("div.card_cont_2fake").data(t,u=>u.data.id),n=r.exit(),s=r.enter().append("div").attr("class","card_cont_2fake").style("display","none").attr("data-id",()=>Math.random()),i=s.merge(r);n.each(c),s.each(a),i.each(o);function a(u){u.unique_id=dt.select(this).attr("data-id")}function o(u){u.unique_id=dt.select(this).attr("data-id")}function c(u){u.unique_id=dt.select(this).attr("data-id"),dt.select(this).remove()}}function F$(e){dt.select(e()).append("div").attr("class","cards_view_fake").style("display","none")}function jS(e){return dt.select(e()).select("div.cards_view_fake").node()}function ame(e,t){return function(n){const s=n.transform;dt.select(e()).style("transform",`translate(${s.x}px, ${s.y}px) scale(${s.k}) `),dt.select(t()).style("transform",`translate(${s.x}px, ${s.y}px) scale(${s.k}) `)}}function ome(e){let t=[];return function(n){const s=cme(n,t);return t=[...n,...s],S$(jS(e),t),t}}function lme(e){const r=dt.select(e).select("#f3Canvas").append("div").attr("id","htmlSvg").attr("style","position: absolute; width: 100%; height: 100%; z-index: 2; top: 0; left: 0");return r.append("div").attr("class","cards_view").style("transform-origin","0 0"),F$(()=>r.node()),r.node()}function cme(e,t){return t.length>0?t.filter(r=>!e.find(n=>n.data.id===r.data.id)):[]}function Ame(e){return e.unique_id}var ume=Object.freeze({__proto__:null,assignUniqueIdToTreeData:S$,setupHtmlSvg:F$,getCardsViewFake:jS,onZoomSetup:ame,setupReactiveTreeData:ome,createHtmlSvg:lme,getUniqueId:Ame});function fme(e,t,r,n={}){const s=dt.select(jS(()=>e)).selectAll("div.card_cont_fake").data(t.data,d=>d.data.id),i=s.exit(),a=s.enter().append("div").attr("class","card_cont_fake").style("display","none"),o=a.merge(s);i.each(d=>Gd(d,!1,!0)),a.each(d=>Gd(d,!0,!1)),i.each(f),s.each(u),a.each(c),o.each(A);function c(d){dt.select(r(d)).style("position","absolute").style("top","0").style("left","0").style("opacity",0).style("transform",`translate(${d._x}px, ${d._y}px)`)}function u(d){}function A(d){const h=dt.select(r(d)),g=n.initial?_p(t,d,n.transition_time):0;h.transition().duration(n.transition_time).delay(g).style("transform",`translate(${d.x}px, ${d.y}px)`).style("opacity",1)}function f(d){const h=dt.select(r(d)),g=dt.select(this);h.transition().duration(n.transition_time).style("opacity",0).style("transform",`translate(${d._x}px, ${d._y}px)`).on("end",()=>g.remove())}}function dme(e,t,r,n={}){n.initial=n.hasOwnProperty("initial")?n.initial:!dt.select(t.parentNode).select(".card_cont").node(),n.transition_time=n.hasOwnProperty("transition_time")?n.transition_time:2e3,n.cardComponent?fme(n.cardComponent,e,r,n):n.cardHtml?ime(n.cardHtml,e,r,n):sme(t,e,r,n),nme(t,e,n);const s=n.tree_position||"fit";return n.initial?Z_({svg:t,svg_dim:t.getBoundingClientRect(),tree_dim:e.dim,transition_time:0}):s==="fit"?Z_({svg:t,svg_dim:t.getBoundingClientRect(),tree_dim:e.dim,transition_time:n.transition_time}):s==="main_to_middle"&&E$({datum:e.data[0],svg:t,svg_dim:t.getBoundingClientRect(),scale:n.scale,transition_time:n.transition_time}),!0}function _p(e,t,r){const n=r*.4,s=Math.max(...e.data.map(a=>a.is_ancestry?a.depth:0));let i=t.depth*n;return(t.depth!==0||t.spouse)&&!t.is_ancestry&&(i+=s*n,t.spouse&&(i+=n),i+=t.depth*n),i}function hme(e,t={}){const r=e.getBoundingClientRect(),n=`
    <svg class="main_svg">
      <rect width="${r.width}" height="${r.height}" fill="transparent" />
      <g class="view">
        <g class="links_view"></g>
        <g class="cards_view"></g>
      </g>
      <g style="transform: translate(100%, 100%)">
        <g class="fit_screen_icon cursor-pointer" style="transform: translate(-50px, -50px); display: none">
          <rect width="27" height="27" stroke-dasharray="${27/2}" stroke-dashoffset="${27/4}" 
            style="stroke:#fff;stroke-width:4px;fill:transparent;"/>
          <circle r="5" cx="${27/2}" cy="${27/2}" style="fill:#fff" />          
        </g>
      </g>
    </svg>
  `,s=o(e),i=dt.create("div").node();i.innerHTML=n;const a=i.querySelector("svg");return s.appendChild(a),e.appendChild(s),mme(s,t),a;function o(c){let u=c.querySelector("#f3Canvas");return u||(u=dt.create("div").attr("id","f3Canvas").attr("style","position: relative; overflow: hidden; width: 100%; height: 100%;").node()),u}}function mme(e,t={}){if(e.__zoom)return;const r=e.querySelector(".view"),n=dt.zoom().on("zoom",t.onZoom||s);dt.select(e).call(n),e.__zoomObj=n,t.zoom_polite&&n.filter(i);function s(a){dt.select(r).attr("transform",a.transform)}function i(a){return a.type==="wheel"&&!a.ctrlKey?!1:!(a.touches&&a.touches.length<2)}}function TS(e,{d:t}){return O0e(e.getTree().data,!1),e.updateMainId(t.data.id),e.updateTree({tree_position:e.state.tree_fit_on_change}),!0}function IS(e,{d:t,cardEditForm:r}){const n=t.data;r({datum:n,postSubmit:i=>{n.to_add&&g$(n,e.getData()),i&&i.delete&&(n.main&&e.updateMainId(null),Uv(n,e.getData())),e.updateTree()},store:e})}function j$(e,{d:t}){t.data.hide_rels=!t.data.hide_rels,d$(t,t.data.hide_rels),e.updateTree({tree_position:e.state.tree_fit_on_change})}function T$(){return`
    <g data-icon="user">
      ${Ri()}
      <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" />
    </g>
  `}function I$(){return`
    <g data-icon="user-edit">
      ${Ri()}
      <path d="M21.7,13.35L20.7,14.35L18.65,12.3L19.65,11.3C19.86,11.09 20.21,11.09 20.42,11.3L21.7,12.58C21.91,
      12.79 21.91,13.14 21.7,13.35M12,18.94L18.06,12.88L20.11,14.93L14.06,21H12V18.94M12,14C7.58,14 4,15.79 4,
      18V20H10V18.11L14,14.11C13.34,14.03 12.67,14 12,14M12,4A4,4 0 0,0 8,8A4,4 0 0,0 12,12A4,4 0 0,0 16,8A4,4 0 0,0 12,4Z" />
    </g>
  `}function k$(){return`
    <g data-icon="user-plus">
      ${Ri()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
    </g>
  `}function L$(){return`
    <g data-icon="user-plus-close">
      ${Ri()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
      <line x1="3" y1="3" x2="24" y2="24" stroke="currentColor" stroke-width="2" />
    </g>
  `}function kS(){return`
    <g data-icon="plus">
      ${Ri()}
      <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
    </g>
  `}function U$(){return`
    <g data-icon="pencil">
      ${Ri()}
      <path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />
    </g>
  `}function P$(){return`
    <g data-icon="pencil-off">
      ${Ri()}
      <path d="M18.66,2C18.4,2 18.16,2.09 17.97,2.28L16.13,4.13L19.88,7.88L21.72,6.03C22.11,5.64 22.11,5 21.72,4.63L19.38,2.28C19.18,2.09 18.91,2 18.66,2M3.28,4L2,5.28L8.5,11.75L4,16.25V20H7.75L12.25,15.5L18.72,22L20,20.72L13.5,14.25L9.75,10.5L3.28,4M15.06,5.19L11.03,9.22L14.78,12.97L18.81,8.94L15.06,5.19Z" />
    </g>
  `}function M$(){return`
    <g data-icon="trash">
      ${Ri()}
      <path d="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z" />
    </g>
  `}function R$(){return`
    <g data-icon="history-back">
      ${Ri()}
      <path d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
    </g>
  `}function O$(){return`
    <g data-icon="history-forward">
      ${Ri()}
      <path d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
    </g>
  `}function Q$(){return`
    <g data-icon="person">
      <path d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
        64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
        0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
    </g>
  `}function D$(){return`
    <g transform="translate(31,25)" data-icon="mini-tree">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g>
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}function H$(){return`
    <g data-icon="toggle-on">
      ${Ri()}
      <circle class="f3-small-circle" r="4" cx="18" cy="12" />
      <path d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z" />
    </g>
  `}function $$(){return`
    <g data-icon="toggle-off">
      ${Ri()}
      <circle class="f3-small-circle" r="4" cx="6" cy="12" />
      <path d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z" />
    </g>
  `}function q$(){return`
    <g data-icon="chevron-down">
      ${Ri()}
      <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
    </g>
  `}function K$(){return`
    <g data-icon="chevron-up">
      ${Ri()}
      <path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
    </g>
  `}function z$(){return`
    <g data-icon="link-off">
      ${Ri()}
      <path d="M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.43 19.12,14.63 17.79,15L19.25,16.44C20.88,15.61 22,13.95 
      22,12A5,5 0 0,0 17,7M16,11H13.81L15.81,13H16V11M2,4.27L5.11,7.38C3.29,8.12 2,9.91 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 
      3.9,13.71 3.9,12C3.9,10.41 5.11,9.1 6.66,8.93L8.73,11H8V13H10.73L13,15.27V17H14.73L18.74,21L20,19.74L3.27,3L2,4.27Z" />
    </g>
  `}function G$(){return`
    <g data-icon="info">
      ${Ri()}
      <path d="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" />
    </g>
  `}function pme(){return ei(T$())}function gme(){return ei(I$())}function V$(){return ei(k$())}function W$(){return ei(L$())}function Y$(){return ei(kS())}function X$(){return ei(U$())}function J$(){return ei(P$())}function xme(){return ei(M$())}function Z$(){return ei(R$())}function eq(){return ei(O$())}function LS(){return ei(Q$(),"0 0 512 512")}function US(){return ei(D$(),"0 0 72 25")}function tq(){return ei(H$())}function rq(){return ei($$())}function nq(){return ei(q$())}function vme(){return ei(K$())}function sq(){return ei(z$())}function iq(){return ei(G$())}function ei(e,t="0 0 24 24"){const r=e.match(/data-icon="([^"]+)"/),n=r?`data-icon="${r[1]}"`:"";return`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="${t}" style="fill: currentColor" ${n}>
      ${e}
    </svg>
  `}function Ri(){return`
    <circle r="12" cx="12" cy="12" style="fill: rgba(0,0,0,0)" />
  `}var yme=Object.freeze({__proto__:null,userIcon:T$,userEditIcon:I$,userPlusIcon:k$,userPlusCloseIcon:L$,plusIcon:kS,pencilIcon:U$,pencilOffIcon:P$,trashIcon:M$,historyBackIcon:R$,historyForwardIcon:O$,personIcon:Q$,miniTreeIcon:D$,toggleIconOn:H$,toggleIconOff:$$,chevronDownIcon:q$,chevronUpIcon:K$,linkOffIcon:z$,infoIcon:G$,userSvgIcon:pme,userEditSvgIcon:gme,userPlusSvgIcon:V$,userPlusCloseSvgIcon:W$,plusSvgIcon:Y$,pencilSvgIcon:X$,pencilOffSvgIcon:J$,trashSvgIcon:xme,historyBackSvgIcon:Z$,historyForwardSvgIcon:eq,personSvgIcon:LS,miniTreeSvgIcon:US,toggleSvgIconOn:tq,toggleSvgIconOff:rq,chevronDownSvgIcon:nq,chevronUpSvgIcon:vme,linkOffSvgIcon:sq,infoSvgIcon:iq});function wme(e,t){const r=document.createElement("div");return n(),r;function n(){const i=bme(e);return r.innerHTML=i,s(),r}function s(){const i=r.querySelector("form");i.addEventListener("submit",e.onSubmit),i.querySelector(".f3-cancel-btn").addEventListener("click",h);const o=i.querySelector(".f3-edit-btn");o&&o.addEventListener("click",g);const c=i.querySelector(".f3-delete-btn");c&&e.onDelete&&c.addEventListener("click",e.onDelete);const u=i.querySelector(".f3-add-relative-btn");u&&e.addRelative&&u.addEventListener("click",()=>{e.addRelativeActive?e.addRelativeCancel():e.addRelative(),e.addRelativeActive=!e.addRelativeActive,n()});const A=i.querySelector(".f3-remove-relative-btn");A&&e.removeRelative&&A.addEventListener("click",()=>{e.removeRelativeActive?e.removeRelativeCancel():e.removeRelative(),e.removeRelativeActive=!e.removeRelativeActive,n()}),i.querySelector(".f3-close-btn").addEventListener("click",t);const d=i.querySelector(".f3-link-existing-relative select");if(d&&d.addEventListener("change",e.linkExistingRelative.onSelect),e.onFormCreation&&e.onFormCreation({cont:r,form_creator:e}),e.getKinshipInfo){const p=e.getKinshipInfo();p&&r.appendChild(p)}function h(){e.editable=!1,e.onCancel&&e.onCancel(),n()}function g(){e.editable=!e.editable,n()}}}function bme(e){return` 
    <form id="familyForm" class="f3-form ${e.editable?"":"non-editable"}">
      ${c()}
      ${e.title?`<h3 class="f3-form-title">${e.title}</h3>`:""}
      <div style="text-align: right; display: ${e.new_rel?"none":"block"}">
        ${e.addRelative&&!e.no_edit?n():""}
        ${e.no_edit?u():s()}
      </div>

      ${i()}

      ${a()}
      
      <div class="f3-form-buttons">
        <button type="button" class="f3-cancel-btn">Cancel</button>
        <button type="submit">Submit</button>
      </div>

      ${e.linkExistingRelative?o():""}

      <hr>

      ${e.onDelete?t():""}

      ${e.removeRelative?r():""}
    </form>
  `;function t(){return`
      <div>
        <button type="button" class="f3-delete-btn" ${e.can_delete?"":"disabled"}>
          Delete
        </button>
      </div>
    `}function r(){return`
      <div>
        <button type="button" class="f3-remove-relative-btn${e.removeRelativeActive?" active":""}">
          ${e.removeRelativeActive?"Cancel Remove Relation":"Remove Relation"}
        </button>
      </div>
    `}function n(){return`
      <span class="f3-add-relative-btn">
        ${e.addRelativeActive?W$():V$()}
      </span>
    `}function s(){return`
      <span class="f3-edit-btn">
        ${e.editable?J$():X$()}
      </span>
    `}function i(){return e.editable?`
      <div class="f3-radio-group">
        ${e.gender_field.options.map(A=>`
          <label>
            <input type="radio" name="${e.gender_field.id}" 
              value="${A.value}" 
              ${A.value===e.gender_field.initial_value?"checked":""}
              ${e.gender_field.disabled?"disabled":""}
            >
            ${A.label}
          </label>
        `).join("")}
      </div>
    `:""}function a(){if(!e.editable)return f();let A="";return e.fields.forEach(d=>{d.type==="text"?A+=`
        <div class="f3-form-field">
          <label>${d.label}</label>
          <input type="${d.type}" 
            name="${d.id}" 
            value="${d.initial_value||""}"
            placeholder="${d.label}">
        </div>`:d.type==="textarea"?A+=`
        <div class="f3-form-field">
          <label>${d.label}</label>
          <textarea name="${d.id}" 
            placeholder="${d.label}">${d.initial_value||""}</textarea>
        </div>`:d.type==="select"?A+=`
        <div class="f3-form-field">
          <label>${d.label}</label>
          <select name="${d.id}" value="${d.initial_value||""}">
            <option value="">${d.placeholder||`Select ${d.label}`}</option>
            ${d.options.map(h=>`<option ${h.value===d.initial_value?"selected":""} value="${h.value}">${h.label}</option>`).join("")}
          </select>
        </div>`:d.type==="rel_reference"&&(A+=`
        <div class="f3-form-field">
          <label>${d.label} - <i>${d.rel_label}</i></label>
          <input type="text" 
            name="${d.id}" 
            value="${d.initial_value||""}"
            placeholder="${d.label}">
        </div>`)}),A;function f(){let d="";return e.fields.forEach(h=>{var g;if(h.type==="rel_reference"){if(!h.initial_value)return;d+=`
          <div class="f3-info-field">
            <span class="f3-info-field-label">${h.label} - <i>${h.rel_label}</i></span>
            <span class="f3-info-field-value">${h.initial_value||""}</span>
          </div>`}else if(h.type==="select"){if(!h.initial_value)return;d+=`
          <div class="f3-info-field">
            <span class="f3-info-field-label">${h.label}</span>
            <span class="f3-info-field-value">${((g=h.options.find(p=>p.value===h.initial_value))==null?void 0:g.label)||""}</span>
          </div>`}else d+=`
          <div class="f3-info-field">
            <span class="f3-info-field-label">${h.label}</span>
            <span class="f3-info-field-value">${h.initial_value||""}</span>
          </div>`}),d}}function o(){const A=e.linkExistingRelative.hasOwnProperty("title")?e.linkExistingRelative.title:"Profile already exists?",f=e.linkExistingRelative.hasOwnProperty("select_placeholder")?e.linkExistingRelative.select_placeholder:"Select profile",d=e.linkExistingRelative.options;return`
      <div>
        <hr>
        <div class="f3-link-existing-relative">
          <label>${A}</label>
          <select>
            <option value="">${f}</option>
            ${d.map(h=>`<option value="${h.value}">${h.label}</option>`).join("")}
          </select>
        </div>
      </div>
    `}function c(){return`
      <span class="f3-close-btn">
        
      </span>
    `}function u(){return'<div style="height: 24px;"></div>'}}function Bme(e,t,r){let n=[],s=-1;return{changed:i,back:a,forward:o,canForward:c,canBack:u};function i(){s<n.length-1&&(n=n.slice(0,s+1));const f=t();f.main_id=e.getMainId(),n.push(f),s++}function a(){u()&&(s--,A(n[s]))}function o(){c()&&(s++,A(n[s]))}function c(){return s<n.length-1}function u(){return s>0}function A(f){const d=e.getMainId();f=JSON.parse(JSON.stringify(f)),f.find(h=>h.id===d)||e.updateMainId(f.main_id),e.updateData(f),r()}}function Nme(e,t){const r=dt.select(e).append("div").attr("class","f3-history-controls");e.insertBefore(r.node(),e.firstChild);const n=r.append("button").attr("class","f3-back-button").on("click",()=>{t.back(),i()}),s=r.append("button").attr("class","f3-forward-button").on("click",()=>{t.forward(),i()});return n.html(Z$()),s.html(eq()),{back_btn:n.node(),forward_btn:s.node(),updateButtons:i,destroy:a};function i(){n.classed("disabled",!t.canBack()),s.classed("disabled",!t.canForward()),!t.canBack()&&!t.canForward()?r.style("opacity",0).style("pointer-events","none"):r.style("opacity",1).style("pointer-events","auto")}function a(){t=null,dt.select(e).select(".f3-history-controls").remove()}}var _me=Object.freeze({__proto__:null,manualZoom:b$,getCurrentZoom:V0e,zoomTo:W0e,isAllRelativeDisplayed:B$,cardChangeMain:TS,cardEdit:IS,cardShowHideRels:j$,handleRelsOfNewDatum:v$,createNewPerson:So,createNewPersonWithGenderFromRel:y$,addNewPerson:FS,createTreeDataWithMainNode:w$,addNewPersonAndHandleRels:z0e,checkIfRelativesConnectedWithoutPerson:h$,checkIfConnectedToFirstPerson:SS,createForm:q0e,syncRelReference:p$,onDeleteSyncRelReference:J_,moveToAddToAdded:g$,removeToAdd:Zx,deletePerson:Uv,cleanupDataJson:K0e,removeToAddFromData:x$,formInfoSetup:wme,createHistory:Bme,createHistoryControls:Nme,treeFit:Z_,calculateTreeFit:C$,cardToMiddle:E$});function aq({d:e,card_dim:t,card_display:r}){return{template:`
    <g class="card-body">
      <rect width="${t.w}" height="${t.h}" class="card-body-rect" />
      ${Cme({d:e,card_dim:t,card_display:r}).template}
    </g>
  `}}function Cme({d:e,card_dim:t,card_display:r}){return{template:`
    <g>
      <g class="card-text" clip-path="url(#card_text_clip)">
        <g transform="translate(${t.text_x}, ${t.text_y})">
          <text>
            ${Array.isArray(r)?r.map(n=>`<tspan x="0" dy="14">${n(e.data)}</tspan>`).join(`
`):r(e.data)}
          </text>
        </g>
      </g>
      <rect width="${t.w-10}" height="${t.h}" style="mask: url(#fade)" class="text-overflow-mask" /> 
    </g>
  `}}function Eme({d:e,card_dim:t,card_add:r,label:n}){return{template:`
    <g class="card-body ${r?"card_add":"card-unknown"}">
      <rect class="card-body-rect" width="${t.w}" height="${t.h}" fill="rgb(59, 85, 96)" />
      <text transform="translate(${t.w/2}, ${t.h/2})" text-anchor="middle" fill="#fff">
        <tspan font-size="18" dy="8">${n}</tspan>
      </text>
    </g>
  `}}function Sme({d:e,card_dim:t,label:r}){return{template:`
    <g class="card-body">
      <rect class="card-body-rect" width="${t.w}" height="${t.h}" />
      <text transform="translate(${t.img_w+5}, ${t.h/2})">
        <tspan font-size="18" dy="8" pointer-events="none">${r}</tspan>
      </text>
    </g>
  `}}function eC({d:e,card_dim:t,is_new:r}){return{template:`
    <rect width="${t.w}" height="${t.h}" rx="4" ry="4" class="card-outline ${e.data.main&&!r?"card-main-outline":""} ${r?"card-new-outline":""}" />
  `}}function Fme({d:e,card_dim:t,x:r,y:n}){return{template:`
    <g transform="translate(${r||t.w-20},${n||t.h-20})scale(.6)" style="cursor: pointer" class="card_edit pencil_icon">
      <circle fill="rgba(0,0,0,0)" r="17" cx="8.5" cy="8.5" />
      <path fill="currentColor" transform="translate(-1.5, -1.5)"
         d="M19.082,2.123L17.749,0.79c-1.052-1.052-2.766-1.054-3.819,0L1.925,12.794c-0.06,0.06-0.104,0.135-0.127,0.216
          l-1.778,6.224c-0.05,0.175-0.001,0.363,0.127,0.491c0.095,0.095,0.223,0.146,0.354,0.146c0.046,0,0.092-0.006,0.137-0.02
          l6.224-1.778c0.082-0.023,0.156-0.066,0.216-0.127L19.082,5.942C20.134,4.89,20.134,3.176,19.082,2.123z M3.076,13.057l9.428-9.428
          l3.738,3.739l-9.428,9.428L3.076,13.057z M2.566,13.961l3.345,3.344l-4.683,1.339L2.566,13.961z M18.375,5.235L16.95,6.66
          l-3.738-3.739l1.425-1.425c0.664-0.663,1.741-0.664,2.405,0l1.333,1.333C19.038,3.493,19.038,4.572,18.375,5.235z"/>
    </g>
  `}}function jme({d:e,card_dim:t}){return{template:`
    <g class="card_family_tree" style="cursor: pointer">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g transform="translate(${t.w*.8},6)scale(.9)">
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}}function Tme({d:e,card_dim:t,x:r,y:n}){return{template:`
    <g class="card_add_relative">
      <g transform="translate(${r||t.w/2},${n||t.h})scale(.13)">
        <circle r="80" cx="40" cy="40" fill="rgba(0,0,0,0)" />
        <g transform="translate(-10, -8)">
          <line
            x1="10" x2="90" y1="50" y2="50"
            stroke="currentColor" stroke-width="15" stroke-linecap="round"
          />
          <line
            x1="50" x2="50" y1="10" y2="90"
            stroke="currentColor" stroke-width="15" stroke-linecap="round"
          />
        </g>
      </g>
    </g>
  `}}function dT({x:e,y:t,rt:r,closed:n}){return{template:`
    <g style="
          transform: translate(-12.2px, -.5px);
          cursor: pointer;
        " 
        fill="currentColor" class="card_break_link${n?" closed":""}"
      >
      <g style="transform: translate(${e}px,${t}px)scale(.02)rotate(${r+"deg"})">
        <rect width="1000" height="700" y="150" style="opacity: 0" />
        <g class="link_upper">
          <g>
            <path d="M616.3,426.4c19,4.5,38.1-7.4,42.6-26.4c4.4-19-7.4-38-26.5-42.5L522.5,332c-18,11.1-53.9,33.4-53.9,33.4l80.4,18.6c-7.8,4.9-19.5,12.1-31.3,19.4L616.3,426.4L616.3,426.4z"/>
            <path d="M727.4,244.2c-50.2-11.6-100.3,3.3-135.7,35.4c28.6,22.6,64.5,30.2,116.4,51.3l141,32.6c23.9,5.6,56.6,47.2,51.1,71l-4.1,17c-5.6,23.7-47.3,56.4-71.2,51l-143.4-33.2c-66.8-8.6-104.1-16.6-132.9-7.5c17.4,44.9,55.9,80.8,106.5,92.4L800.9,588c81.3,18.8,162.3-31.5,181.2-112.4l4-17c18.8-81.1-31.7-161.8-112.9-180.6L727.4,244.2z"/>
          </g>
        </g>
        <g class="link_lower">
          <path d="M421.2,384.9l-128,127.6c-13.9,13.8-13.9,36.2,0,50s36.3,13.8,50.2,0.1l136.2-135.8v-36.7l-58.4,58.1V384.9L421.2,384.9z"/>
          <path d="M204.6,742.8c-17.4,17.3-63.3,17.2-80.6,0.1l-12.3-12.3c-17.3-17.3,0.6-81.2,17.9-98.5l100.2-99.9c12.5-14.9,45.8-40.8,66.1-103.7c-47.7-9.4-98.9,4.2-135.8,40.9L54.2,575c-58.9,58.8-58.9,154,0,212.8L66.6,800c58.9,58.8,154.5,58.8,213.4,0l105.8-105.6c38.4-38.3,51.3-91.9,39.7-141c-44,22.7-89,62.3-116,84.8L204.6,742.8z"/>
        </g>
        <g class="link_particles">
          <path d="M351.9,248.4l-26.5,63.4l80.6,30.1L351.9,248.4z"/>
          <path d="M529.3,208l-43,26.6l35.4,52.3L529.3,208z"/>
          <path d="M426.6,158.8l-44-2.9l61.7,134.6L426.6,158.8z"/>
        </g>
      </g>
    </g>
  `}}function Ime({d:e,card_dim:t}){let r="",n=e.data.rels,s=e.data._rels||{},i=e.data.hide_rels,a=c=>c.father||c.mother,o=c=>c.children&&c.children.length>0;if((e.is_ancestry||e.data.main)&&(a(n)||a(s))&&(r+=dT({x:t.w/2,y:0,rt:-45,closed:i}).template),!e.is_ancestry&&e.added){const c=e.spouse,u=c.data.rels,A=c.data._rels||{};(o(n)||o(s))&&(o(u)||o(A))&&(r+=dT({x:e.sx-e.x+t.w/2+24.4,y:(e.x!==e.sx?t.h/2:t.h)+1,rt:135,closed:i}).template)}return{template:r}}function kme({d:e,image:t,card_dim:r,maleIcon:n,femaleIcon:s}){return{template:`
    <g style="transform: translate(${r.img_x}px,${r.img_y}px);" class="card_image" clip-path="url(#card_image_clip)">
      ${t?`<image href="${t}" height="${r.img_h}" width="${r.img_w}" preserveAspectRatio="xMidYMin slice" />`:(e.data.data.gender,e.data.data.gender,i())}      
    </g>
  `};function i(){return`
      <g class="genderless-icon">
        <rect height="${r.img_h}" width="${r.img_w}" fill="rgb(59, 85, 96)" />
        <g transform="scale(${r.img_w*.001616})">
         <path transform="translate(50,40)" fill="lightgrey" d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
            64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
            0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
        </g>
      </g>
    `}}function M0(e,t,r){const n=document.createElementNS("http://www.w3.org/2000/svg","g");n.innerHTML=e,r?t.insertBefore(n,t.firstChild):t.appendChild(n)}const Zl={miniTree:Lme,lineBreak:Ume,cardBody:Pme,cardImage:Mme,cardEdit:Rme,cardAdd:Ome};function Lme(e,t){if(e.data.to_add)return;const r=t.card_dim;if(e.all_rels_displayed)return;const n=dt.create("svg:g").html(jme({d:e,card_dim:r}).template);return n.on("click",function(s){s.stopPropagation(),t.onMiniTreeClick?t.onMiniTreeClick.call(this,s,e):TS(t.store,{d:e})}),n.node()}function Ume(e,t){if(e.data.to_add)return;const r=t.card_dim,n=dt.create("svg:g").html(Ime({d:e,card_dim:r}).template);return n.on("click",s=>{s.stopPropagation(),j$(t.store,{d:e})}),n.node()}function Pme(e,t){const r=t.cardEditForm?"ADD":"UNKNOWN",n=t.card_dim;let s;return e.data.to_add?(s=dt.create("svg:g").html(Eme({d:e,card_dim:n,card_add:t.cardEditForm,label:r}).template),s.on("click",i=>{i.stopPropagation(),IS(t.store,{d:e,cardEditForm:t.cardEditForm})})):(s=dt.create("svg:g").html(aq({d:e,card_dim:n,card_display:t.card_display}).template),s.on("click",function(i){i.stopPropagation(),t.onCardClick?t.onCardClick.call(this,i,e):TS(t.store,{d:e})})),s.node()}function Mme(e,t){if(e.data.to_add)return;const r=t.card_dim;return dt.create("svg:g").html(kme({d:e,image:e.data.data.avatar||null,card_dim:r,maleIcon:null,femaleIcon:null}).template).node()}function Rme(e,t){if(e.data.to_add)return;const r=t.card_dim,n=dt.create("svg:g").html(Fme({card_dim:r,x:r.w-46,y:r.h-20}).template);return n.on("click",s=>{s.stopPropagation(),IS(t.store,{d:e,cardEditForm:t.cardEditForm})}),n.node()}function Ome(e,t){if(e.data.to_add)return;const r=t.card_dim,n=dt.create("svg:g").html(Tme({card_dim:r,x:r.w-26,y:r.h-20}).template);return n.on("click",s=>{s.stopPropagation(),t.addRelative({d:e})}),n.node()}function Al(e,t,r){e&&(r?t.insertBefore(e,t.firstChild):t.appendChild(e))}function PS(e,t){if(e.querySelector("defs#f3CardDef"))return;e.insertAdjacentHTML("afterbegin",`
      <defs id="f3CardDef">
        <linearGradient id="fadeGrad">
          <stop offset="0.9" stop-color="white" stop-opacity="0"/>
          <stop offset=".91" stop-color="white" stop-opacity=".5"/>
          <stop offset="1" stop-color="white" stop-opacity="1"/>
        </linearGradient>
        <mask id="fade" maskContentUnits="objectBoundingBox"><rect width="1" height="1" fill="url(#fadeGrad)"/></mask>
        <clipPath id="card_clip"><path d="${r({w:t.w,h:t.h},5)}"></clipPath>
        <clipPath id="card_text_clip"><rect width="${t.w-10}" height="${t.h}"></rect></clipPath>
        <clipPath id="card_image_clip"><path d="M0,0 Q 0,0 0,0 H${t.img_w} V${t.img_h} H0 Q 0,${t.img_h} 0,${t.img_h} z"></clipPath>
        <clipPath id="card_image_clip_curved"><path d="${r({w:t.img_w,h:t.img_h},5,["rx","ry"])}"></clipPath>
      </defs>
    `);function r(n,s,i){const{w:a,h:o}=n,c=s,u=i||[],A=p=>u.includes(p),f=A("lx")?"M0,0":`M0,${c} Q 0,0 5,0`,d=A("rx")?`H${a}`:`H${a-c} Q ${a},0 ${a},5`,h=A("ry")?`V${o}`:`V${o-c} Q ${a},${o} ${a-c},${o}`,g=A("ly")?"H0":`H${c} Q 0,${o} 0,${o-c}`;return`${f} ${d} ${h} ${g} z`}}function Qme(e,t){e.querySelector("defs#f3CardDef")&&e.querySelector("defs#f3CardDef").remove(),PS(e,t)}function Dme(e){return e=t(e),PS(e.svg,e.card_dim),function(r){const n=r.data.data.gender==="M"?"card-male":r.data.data.gender==="F"?"card-female":"card-genderless",s=e.card_dim,i=dt.create("svg:g").attr("class",`card ${n}`).attr("transform",`translate(${[-s.w/2,-s.h/2]})`);i.append("g").attr("class","card-inner").attr("clip-path","url(#card_clip)"),this.innerHTML="",this.appendChild(i.node()),M0(eC({d:r,card_dim:s,is_new:r.data.to_add}).template,i.node(),!0),Al(Zl.cardBody(r,e),this.querySelector(".card-inner")),e.img&&Al(Zl.cardImage(r,e),this.querySelector(".card")),e.mini_tree&&Al(Zl.miniTree(r,e),this.querySelector(".card"),!0),e.link_break&&Al(Zl.lineBreak(r,e),this.querySelector(".card")),e.cardEditForm&&(Al(Zl.cardEdit(r,e),this.querySelector(".card-inner")),Al(Zl.cardAdd(r,e),this.querySelector(".card-inner"))),e.onCardUpdates&&e.onCardUpdates.map(a=>a.call(this,r)),e.onCardUpdate&&e.onCardUpdate.call(this,r)};function t(r){const n={img:!0,mini_tree:!0,link_break:!1,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5}};r||(r={});for(const s in n)typeof r[s]>"u"&&(r[s]=n[s]);return r}}function Hme(e,t,r,n){if(!t.hasOwnProperty("_toggle"))return;const s=e.querySelector(".card"),i=s.querySelector(".card-inner"),a=e.querySelector(".card").offsetWidth;e.querySelector(".card").offsetHeight;let o,c;const u={};if(t.spouse){const f=t.spouse,d=f.data.main?"main":f.parent.data.id;if(o=f.data._tgdp_sp[d][t.data.id]<0,u.top=60,u.left=t.sx-t.x-30+a/2,r&&(u.top=t.sy-t.x+4,u.left=a/2+4,Math.abs(t.sx-t.y)<10&&(u.left=a-4)),c=f._toggle_id_sp?f._toggle_id_sp[t.data.id]:-1,c===-1)return}else{const f=t.data.main?"main":t.parent.data.id;o=t.data._tgdp[f]<0,u.top=-65,u.left=-30+a/2,r&&(u.top=5,u.left=-55),c=t._toggle_id}if(i.style.zIndex=1,dt.select(s).append("div").attr("class","f3-toggle-div").attr("style","cursor: pointer; width: 60px; height: 60px;position: absolute; z-index: -1;").style("top",u.top+"px").style("left",u.left+"px").on("click",f=>{if(f.stopPropagation(),t.spouse){const d=t.spouse,h=d.data.main?"main":d.parent.data.id;d.data._tgdp_sp[h].hasOwnProperty(t.data.id)||console.error("no toggle",t,d);let g=d.data._tgdp_sp[h][t.data.id];g<0?g=new Date().getTime():g=-new Date().getTime(),d.data._tgdp_sp[h][t.data.id]=g}else{const d=t.data.main?"main":t.parent.data.id;let h=t.data._tgdp[d];h<0?h=new Date().getTime():h=-new Date().getTime(),t.data._tgdp[d]=h}n()}).append("div").html(o?rq():tq()).select("svg").classed("f3-toggle-icon",!0).style("color",o?"#585656":"#61bf52").style("padding","0"),dt.select(s).select(".f3-toggle-icon .f3-small-circle").style("fill","#fff"),dt.select(s).select(".f3-toggle-icon").append("text").attr("transform",o?"translate(10.6, 14.5)":"translate(4.1, 14.5)").attr("fill","#fff").attr("font-size","7px").text("C"+c),o){let f;t.is_ancestry?r?f="translate(5, -30)rotate(-90)":f="translate(0, -10)":r?f="translate(11, -22)rotate(90)":f="translate(-7, -32)rotate(180)",dt.select(s).select(".f3-toggle-div").insert("div").html(US()).select("svg").attr("style","position: absolute; z-index: -1;top: 0;left: 0;border-radius: 0;").style("width","66px").style("height","112px").attr("transform",f).attr("viewBox","0 0 72 125").select("line").attr("y1",t.is_ancestry?"62":"92")}}function $me(e){const t=e.style==="default"?u:e.style==="imageCircleRect"?c:e.style==="imageCircle"?A:e.style==="imageRect"?f:e.style==="rect"?d:u;return function(y){if(this.innerHTML=`
    <div class="card ${h(y).join(" ")}" data-id="${y.tid}" style="transform: translate(-50%, -50%); pointer-events: auto;">
      ${e.mini_tree?o(y):""}
      ${e.cardInnerHtmlCreator&&!y.data._new_rel_data?e.cardInnerHtmlCreator(y):t(y)}
    </div>
    `,this.querySelector(".card").addEventListener("click",w=>e.onCardClick(w,y)),e.onCardUpdate&&e.onCardUpdate.call(this,y),e.onCardMouseenter&&dt.select(this).select(".card").on("mouseenter",w=>e.onCardMouseenter(w,y)),e.onCardMouseleave&&dt.select(this).select(".card").on("mouseleave",w=>e.onCardMouseleave(w,y)),y.duplicate&&v(this,y),e.duplicate_branch_toggle&&Hme(this,y,e.store.state.is_horizontal,e.store.updateTree),location.origin.includes("localhost")&&(y.__node=this.querySelector(".card"),y.__label=y.data.data["first name"],y.data.to_add)){const w=y.spouse||y._spouse||null;w&&dt.select(this).select(".card").attr("data-to-add",w.data.data["first name"])}};function r(y){return`
    <div class="card-inner card-image-circle" ${g()}>
      ${y.data.data[e.cardImageField]?`<img src="${y.data.data[e.cardImageField]}" ${p()}>`:m(y)}
      <div class="card-label">${i(y)}</div>
      ${y.duplicate?x(y):""}
    </div>
    `}function n(y){return`
    <div class="card-inner card-image-rect" ${g()}>
      ${y.data.data[e.cardImageField]?`<img src="${y.data.data[e.cardImageField]}" ${p()}>`:m(y)}
      <div class="card-label">${i(y)}</div>
      ${y.duplicate?x(y):""}
    </div>
    `}function s(y){return`
    <div class="card-inner card-rect" ${g()}>
      ${i(y)}
      ${y.duplicate?x(y):""}
    </div>
    `}function i(y){return y.data._new_rel_data?a(y):y.data.to_add?`<div>${e.empty_card_label||"ADD"}</div>`:y.data.unknown?`<div>${e.unknown_card_label||"UNKNOWN"}</div>`:`
      ${e.card_display.map(w=>`<div>${w(y.data)}</div>`).join("")}
    `}function a(y){const w=[];return w.push(`data-rel-type="${y.data._new_rel_data.rel_type}"`),["son","daughter"].includes(y.data._new_rel_data.rel_type)&&w.push(`data-other-parent-id="${y.data._new_rel_data.other_parent_id}"`),`<div ${w.join(" ")}>${y.data._new_rel_data.label}</div>`}function o(y){return!e.mini_tree||y.data.to_add||y.data._new_rel_data||y.all_rels_displayed?"":`<div class="mini-tree">${US()}</div>`}function c(y){return y.data.data[e.cardImageField]?A(y):d(y)}function u(y){return n(y)}function A(y){return r(y)}function f(y){return n(y)}function d(y){return s(y)}function h(y){const w=[];return y.data.data.gender==="M"?w.push("card-male"):y.data.data.gender==="F"?w.push("card-female"):w.push("card-genderless"),w.push(`card-depth-${y.is_ancestry?-y.depth:y.depth}`),y.data.main&&w.push("card-main"),y.data._new_rel_data&&w.push("card-new-rel"),y.data.to_add&&w.push("card-to-add"),y.data.unknown&&w.push("card-unknown"),w}function g(){let y='style="';if(e.card_dim.w||e.card_dim.h)y+=`width: ${e.card_dim.w}px; min-height: ${e.card_dim.h}px;`,e.card_dim.height_auto?y+="height: auto;":y+=`height: ${e.card_dim.h}px;`;else return"";return y+='"',y}function p(){let y='style="position: relative;';if(e.card_dim.img_w||e.card_dim.img_h||e.card_dim.img_x||e.card_dim.img_y)y+=`width: ${e.card_dim.img_w}px; height: ${e.card_dim.img_h}px;`,y+=`left: ${e.card_dim.img_x}px; top: ${e.card_dim.img_y}px;`;else return"";return y+='"',y}function m(y){return y.data._new_rel_data?`<div class="person-icon" ${p()}>${Y$()}</div>`:`<div class="person-icon" ${p()}>${e.defaultPersonIcon?e.defaultPersonIcon(y):LS()}</div>`}function x(y){return`<div class="f3-card-duplicate-tag">x${y.duplicate}</div>`}function v(y,w){dt.select(y).on("mouseenter",S=>{dt.select(y.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",T=>T.data.id===w.data.id)}),dt.select(y).on("mouseleave",S=>{dt.select(y.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",!1)})}}function qme(e){return e=t(e),PS(e.svg,e.card_dim),function(r){const n=r.data.data.gender==="M"?"card-male":r.data.data.gender==="F"?"card-female":"card-genderless",s=e.card_dim,i=dt.create("svg:g").attr("class",`card ${n}`).attr("transform",`translate(${[-s.w/2,-s.h/2]})`);i.append("g").attr("class","card-inner").attr("clip-path","url(#card_clip)"),this.innerHTML="",this.appendChild(i.node()),i.on("click",function(a){a.stopPropagation(),e.onCardClick.call(this,a,r)}),r.data._new_rel_data?(M0(eC({d:r,card_dim:s,is_new:r.data.to_add}).template,i.node(),!0),M0(Sme({d:r,card_dim:s,label:r.data._new_rel_data.label}).template,this.querySelector(".card-inner"),!0),dt.select(this.querySelector(".card-inner")).append("g").attr("class","card-edit-icon").attr("fill","currentColor").attr("transform",`translate(-1,2)scale(${s.img_h/22})`).html(kS())):(M0(eC({d:r,card_dim:s,is_new:r.data.to_add}).template,i.node(),!0),M0(aq({d:r,card_dim:s,card_display:e.card_display}).template,this.querySelector(".card-inner")),e.img&&Al(Zl.cardImage(r,e),this.querySelector(".card")),e.mini_tree&&Al(Zl.miniTree(r,e),this.querySelector(".card"),!0),e.link_break&&Al(Zl.lineBreak(r,e),this.querySelector(".card"))),e.onCardUpdate&&e.onCardUpdate.call(this,r)};function t(r){const n={img:!0,mini_tree:!0,link_break:!1,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5}};r||(r={});for(const s in n)typeof r[s]>"u"&&(r[s]=n[s]);return r}}function Kme(...e){return new oh(...e)}function oh(e,t){this.cont=e,this.popup_cont=null,this.active=!1,this.onClose=t,this.init()}oh.prototype.init=function(){this.popup_cont=dt.select(this.cont).append("div").attr("class","f3-popup").node(),this.create()};oh.prototype.create=function(){const e=dt.select(this.popup_cont);e.html(`
    <div class="f3-popup-content">
      <span class="f3-popup-close">&times;</span>
      <div class="f3-popup-content-inner"></div>
    </div>
  `),e.select(".f3-popup-close").on("click",()=>{this.close()}),e.on("click",t=>{t.target==e.node()&&this.close()})};oh.prototype.activate=function(e){e&&dt.select(this.popup_cont).select(".f3-popup-content-inner").node().appendChild(e),this.open()};oh.prototype.open=function(){this.active=!0};oh.prototype.close=function(){this.popup_cont.remove(),this.active=!1,this.onClose&&this.onClose()};var zme=Object.freeze({__proto__:null,infoPopup:Kme,appendElement:Al,Card:Dme,CardHtml:$me,CardSvg:qme}),Gme=(...e)=>new lh(...e);function lh(e,t,r){return this.store=e,this.onActivate=t,this.cancelCallback=r,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this.addRelLabels=this.addRelLabelsDefault(),this}lh.prototype.activate=function(e){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const t=this.store;this.datum=e;let r=this.datum.data.gender;Vme(e,this.getStoreData(),this.addRelLabels),t.updateTree({}),this.onChange=n.bind(this),this.onCancel=s.bind(this);function n(i,a){i!=null&&i._new_rel_data?a!=null&&a.link_rel_id?m$(i,a.link_rel_id,t.getData()):delete i._new_rel_data:i.id===e.id?i.data.gender!==r&&o():console.error("Something went wrong");function o(){r=i.data.gender,t.getData().forEach(u=>{const A=u._new_rel_data;A&&(A.rel_type==="spouse"&&(u.data.gender=u.data.gender==="M"?"F":"M"),["son","daughter"].includes(A.rel_type)&&([u.rels.father,u.rels.mother]=[u.rels.mother,u.rels.father]))})}}function s(){this.is_active&&(this.is_active=!1,this.store.state.one_level_rels=!1,this.cleanUp(),this.cancelCallback(this.datum),this.datum=null,this.onChange=null,this.onCancel=null)}};lh.prototype.setAddRelLabels=function(e){if(typeof e!="object"){console.error("add_rel_labels must be an object");return}for(let t in e)this.addRelLabels[t]=e[t];return this};lh.prototype.addRelLabelsDefault=function(){return{father:"Add Father",mother:"Add Mother",spouse:"Add Spouse",son:"Add Son",daughter:"Add Daughter"}};lh.prototype.getStoreData=function(){return this.store.getData()};lh.prototype.cleanUp=function(e){e||(e=this.store.getData());for(let t=e.length-1;t>=0;t--){const r=e[t];r._new_rel_data&&(e.forEach(n=>{n.rels.father===r.id&&delete n.rels.father,n.rels.mother===r.id&&delete n.rels.mother,(n.rels.children||[]).includes(r.id)&&n.rels.children.splice(n.rels.children.indexOf(r.id),1),(n.rels.spouses||[]).includes(r.id)&&n.rels.spouses.splice(n.rels.spouses.indexOf(r.id),1)}),e.splice(t,1))}return e};function Vme(e,t,r){if(!e.rels.father){const o=So({data:{gender:"M"},rels:{children:[e.id]}});o._new_rel_data={rel_type:"father",label:r.father,rel_id:e.id},e.rels.father=o.id,t.push(o)}if(!e.rels.mother){const o=So({data:{gender:"F"},rels:{children:[e.id]}});o._new_rel_data={rel_type:"mother",label:r.mother,rel_id:e.id},e.rels.mother=o.id,t.push(o)}const n=t.find(o=>o.id===e.rels.mother),s=t.find(o=>o.id===e.rels.father);if(n.rels.spouses||(n.rels.spouses=[]),s.rels.spouses||(s.rels.spouses=[]),n.rels.spouses.includes(s.id)||n.rels.spouses.push(s.id),s.rels.spouses.includes(n.id)||s.rels.spouses.push(n.id),n.rels.children||(n.rels.children=[]),s.rels.children||(s.rels.children=[]),n.rels.children.includes(e.id)||n.rels.children.push(e.id),s.rels.children.includes(e.id)||s.rels.children.push(e.id),e.rels.spouses||(e.rels.spouses=[]),e.rels.children){let o;e.rels.children.forEach(c=>{const u=t.find(A=>A.id===c);u.rels.mother||(o||(o=So({data:{gender:"F"},rels:{spouses:[e.id],children:[]}})),o._new_rel_data={rel_type:"spouse",label:r.spouse,rel_id:e.id},o.rels.children.push(u.id),e.rels.spouses.push(o.id),u.rels.mother=o.id,t.push(o)),u.rels.father||(o||(o=So({data:{gender:"M"},rels:{spouses:[e.id],children:[]}})),o._new_rel_data={rel_type:"spouse",label:r.spouse,rel_id:e.id},o.rels.children.push(u.id),e.rels.spouses.push(o.id),u.rels.father=o.id,t.push(o))})}const i=e.data.gender==="M"?"F":"M",a=So({data:{gender:i},rels:{spouses:[e.id]}});return a._new_rel_data={rel_type:"spouse",label:r.spouse,rel_id:e.id},e.rels.spouses.push(a.id),t.push(a),e.rels.children||(e.rels.children=[]),e.rels.spouses.forEach(o=>{const c=t.find(h=>h.id===o),u=e.data.gender==="M"?c.id:e.id,A=e.data.gender==="F"?c.id:e.id;c.rels.children||(c.rels.children=[]);const f=So({data:{gender:"M"},rels:{father:A,mother:u}});f._new_rel_data={rel_type:"son",label:r.son,other_parent_id:c.id,rel_id:e.id},c.rels.children.push(f.id),e.rels.children.push(f.id),t.push(f);const d=So({data:{gender:"F"},rels:{mother:u,father:A}});d._new_rel_data={rel_type:"daughter",label:r.daughter,other_parent_id:c.id,rel_id:e.id},c.rels.children.push(d.id),e.rels.children.push(d.id),t.push(d)}),t}var Wme=(...e)=>new oq(...e);function oq(e,t,r,n){return this.store=e,this.onActivate=t,this.cancelCallback=r,this.modal=n,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this}oq.prototype.activate=function(e){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const t=this.store;this.datum=e,t.updateTree({}),this.onChange=r.bind(this),this.onCancel=n.bind(this);function r(s,i){const a=d(s),o=e.rels;a==="father"?c.call(this):a==="mother"?u.call(this):a==="spouse"?A.call(this):a==="children"&&f.call(this);function c(){const h=t.getDatum(o.father);h.rels.children=h.rels.children.filter(g=>g!==e.id),o.father=null,i()}function u(){const h=t.getDatum(o.mother);h.rels.children=h.rels.children.filter(g=>g!==e.id),o.mother=null,i()}function A(){const h=s.data;g()?p.call(this):m.call(this,!0);function g(){return(h.rels.children||[]).some(v=>{const y=t.getDatum(v);return y.rels.father===h.id||y.rels.mother===h.id})}function p(){const x=e.data.gender==="M"?"f3-male-bg":e.data.gender==="F"?"f3-female-bg":null,v=h.data.gender==="M"?"f3-male-bg":h.data.gender==="F"?"f3-female-bg":null,y=dt.create("div").html(`
          <p>You are removing a spouse relationship. Since there are shared children, please choose which parent should keep them in the family tree.</p>
          <div class="f3-modal-options">
            <button data-option="assign-to-current" class="f3-btn ${x}">Keep children with current person</button>
            <button data-option="assign-to-spouse" class="f3-btn ${v}">Keep children with spouse</button>
          </div>
        `);y.selectAll('[data-option="assign-to-current"]').on("click",()=>{m(!0),this.modal.close()}),y.selectAll('[data-option="assign-to-spouse"]').on("click",()=>{m(!1),this.modal.close()}),this.modal.activate(y.node())}function m(x){s.data.rels.spouses=s.data.rels.spouses.filter(w=>w!==e.id),o.spouses=o.spouses.filter(w=>w!==s.data.id);const v=x?e:s.data,y=x?s.data:e;(o.children||[]).forEach(w=>{const S=t.getDatum(w);S.rels.father===y.id&&(S.rels.father=null),S.rels.mother===y.id&&(S.rels.mother=null)}),y.rels.children&&(y.rels.children=y.rels.children.filter(w=>!(v.rels.children||[]).includes(w))),i()}}function f(){o.children=o.children.filter(g=>g!==s.data.id);const h=s.data.rels.father===e.id?"father":"mother";s.data.rels[h]=null,i()}function d(h){if(h.is_ancestry){if(e.rels.father===h.data.id)return"father";if(e.rels.mother===h.data.id)return"mother"}else if(h.spouse){if(e.rels.spouses.includes(h.data.id))return"spouse"}else if(e.rels.children.includes(h.data.id))return"children";return null}}function n(){this.is_active&&(this.is_active=!1,this.store.state.one_level_rels=!1,this.cancelCallback(this.datum),this.datum=null,this.onChange=null,this.onCancel=null)}};function Yme(...e){return new Zu(...e)}function Zu(e){this.cont=e,this.modal_cont=null,this.active=!1,this.onClose=null,this.init()}Zu.prototype.init=function(){this.modal_cont=dt.select(this.cont).append("div").attr("class","f3-modal").node(),dt.select(this.modal_cont).style("display","none"),this.create()};Zu.prototype.create=function(){const e=dt.select(this.modal_cont);e.html(`
    <div class="f3-modal-content">
      <span class="f3-modal-close">&times;</span>
      <div class="f3-modal-content-inner"></div>
      <div class="f3-modal-content-bottom"></div>
    </div>
  `),e.select(".f3-modal-close").on("click",()=>{this.close()}),e.on("click",t=>{t.target==e.node()&&this.close()})};Zu.prototype.activate=function(e,{boolean:t,onAccept:r,onCancel:n}={}){this.reset(),typeof e=="string"?dt.select(this.modal_cont).select(".f3-modal-content-inner").html(e):dt.select(this.modal_cont).select(".f3-modal-content-inner").node().appendChild(e),t&&(dt.select(this.modal_cont).select(".f3-modal-content-bottom").html(`
      <button class="f3-modal-accept f3-btn">Accept</button>
      <button class="f3-modal-cancel f3-btn">Cancel</button>
    `),dt.select(this.modal_cont).select(".f3-modal-accept").on("click",()=>{r(),this.reset(),this.close()}),dt.select(this.modal_cont).select(".f3-modal-cancel").on("click",()=>{this.close()}),this.onClose=n),this.open()};Zu.prototype.reset=function(){this.onClose=null,dt.select(this.modal_cont).select(".f3-modal-content-inner").html(""),dt.select(this.modal_cont).select(".f3-modal-content-bottom").html("")};Zu.prototype.open=function(){this.modal_cont.style.display="block",this.active=!0};Zu.prototype.close=function(){this.modal_cont.style.display="none",this.active=!1,this.onClose&&this.onClose()};function lq(e,t,r={}){const n=t.find(A=>A.id===e),s={};return i(n.id,"self",0),a(s),r.show_in_law&&o(s,t),c(s),s;function i(A,f,d,h=void 0){if(!A||(s[A]&&s[A]!==f&&console.error("kinship mismatch, kinship 1: ",s[A],"kinship 2: ",f),s[A]))return;f&&(s[A]=f);const p=t.find(m=>m.id===A).rels;if(f==="self")i(p.father,"parent",d-1,A),i(p.mother,"parent",d-1,A),(p.spouses||[]).forEach(m=>i(m,"spouse",d)),(p.children||[]).forEach(m=>i(m,"child",d+1));else if(f==="parent")i(p.father,"grandparent",d-1,A),i(p.mother,"grandparent",d-1,A),(p.children||[]).forEach(m=>{h&&h===m||i(m,"sibling",d+1)});else if(f!=="spouse")if(f==="child")(p.children||[]).forEach(m=>i(m,"grandchild",d+1));else if(f==="sibling")(p.children||[]).forEach(m=>i(m,"nephew",d+1));else if(f==="grandparent")h||console.error(`${f} should have prev_rel_id`),i(p.father,"great-grandparent",d-1,A),i(p.mother,"great-grandparent",d-1,A),(p.children||[]).forEach(m=>{h&&h===m||i(m,"uncle",d+1)});else if(f.includes("grandchild"))(p.children||[]).forEach(m=>i(m,c0(f,d+1),d+1));else if(f.includes("great-grandparent"))h||console.error(`${f} should have prev_rel_id`),i(p.father,c0(f,d-1),d-1,A),i(p.mother,c0(f,d-1),d-1,A),(p.children||[]).forEach(m=>{if(h&&h===m)return;const x=uq(d+1);x===0?i(m,"granduncle",d+1):x>0?i(m,c0("granduncle",d+1),d+1):console.error(`${f} should have great_count > -1`)});else if(f==="nephew")(p.children||[]).forEach(m=>i(m,"grandnephew",d+1));else if(f.includes("grandnephew"))(p.children||[]).forEach(m=>i(m,c0(f,d+1),d+1));else if(f==="uncle")(p.children||[]).forEach(m=>i(m,"1st Cousin",d+1));else if(f==="granduncle")(p.children||[]).forEach(m=>i(m,"1st Cousin 1x removed",d+1));else if(f.includes("great-granduncle")){const m=d+1,x=Math.abs(m);(p.children||[]).forEach(v=>i(v,`1st Cousin ${x}x removed`,m))}else f.slice(4).startsWith("Cousin")?(p.children||[]).forEach(m=>{const x=d+1,v=Math.abs(x),y=+f[0];x===0?i(m,`${Hw(y+1)} Cousin`,x):x<0?i(m,`${Hw(y+1)} Cousin ${v}x removed`,x):x>0&&i(m,`${Hw(y)} Cousin ${v}x removed`,x)}):console.error(`${f} not found`)}function a(A){const f=[];Object.keys(A).forEach(d=>{const h=A[d];if(h.includes("child")||h==="spouse")return;const g=cq(n.id,d,t);if(!g)return console.error(`${t.find(p=>p.id===d).data} not found in main_ancestry`);g.is_half_kin&&f.push(d)}),f.forEach(d=>{A[d]=`Half ${A[d]}`})}function o(A,f){Object.keys(A).forEach(d=>{const h=A[d],g=f.find(p=>p.id===d);if(h==="spouse"){const p=[];g.rels.mother&&(u(g.rels.mother).rels.children||[]).forEach(m=>p.push(m)),g.rels.father&&(u(g.rels.father).rels.children||[]).forEach(m=>p.push(m)),p.forEach(m=>{A[m]||(A[m]="sibling-in-law")})}h==="sibling"&&(g.rels.spouses||[]).forEach(p=>{A[p]||(A[p]="sibling-in-law")}),h==="child"&&(g.rels.spouses||[]).forEach(p=>{A[p]||(A[p]="child-in-law")}),h==="uncle"&&(g.rels.spouses||[]).forEach(p=>{A[p]||(A[p]="uncle-in-law")}),h.includes("Cousin")&&(g.rels.spouses||[]).forEach(p=>{A[p]||(A[p]=`${h} in-law`)})})}function c(A){Object.keys(A).forEach(f=>{const d=A[f],g=t.find(p=>p.id===f).data.gender;if(d.includes("parent")){const m=g==="M"?"father":g==="F"?"mother":"parent";A[f]=A[f].replace("parent",m)}else if(d.includes("sibling")){const m=g==="M"?"brother":g==="F"?"sister":"sibling";A[f]=A[f].replace("sibling",m)}else if(d.includes("child")){const m=g==="M"?"son":g==="F"?"daughter":"child";A[f]=A[f].replace("child",m)}else if(d.includes("uncle")){const m=g==="M"?"uncle":g==="F"?"aunt":"aunt/uncle";A[f]=A[f].replace("uncle",m)}else if(d.includes("nephew")){const m=g==="M"?"nephew":g==="F"?"niece":"neice/nephew";A[f]=A[f].replace("nephew",m)}})}function u(A){return t.find(f=>f.id===A)}}function cq(e,t,r){const n=c(e);let s,i,a;if(A(t),f(t),o(t),!s)return null;return{found:s,is_ancestor:i,is_half_kin:a};function o(h){if(s)return;if(h===e){i=!0,s=h,a=!1;return}const p=r.find(v=>v.id===h).rels,m=u(p),x=n.find(v=>v[0]&&m[0]&&v[0]===m[0]||v[1]&&m[1]&&v[1]===m[1]);if(x){s=m.filter((v,y)=>v===x[y]),a=d(m,x);return}p.father&&o(p.father),p.mother&&o(p.mother)}function c(h){const g=[];return p(h),g;function p(m){const v=r.find(y=>y.id===m).rels;g.push(u(v)),v.father&&p(v.father),v.mother&&p(v.mother)}}function u(h){return[h.father,h.mother]}function A(h){const g=r.find(m=>m.id===h);n.find(m=>m[0]===g.id||m[1]===g.id)&&(i=!0,s=h,a=!1)}function f(h){(r.find(p=>p.id===e).rels.spouses||[]).includes(h)&&(s=[e,h])}function d(h,g){return h[0]!==g[0]||h[1]!==g[1]}}function Aq(e,t,r,n){let s;const i=n[t].toLowerCase();if(i.includes("in-law")){s=t;const T=r.find(j=>j.id===s);i.includes("sister")||i.includes("brother")?t=e:t=T.rels.spouses.find(j=>n[j]&&!n[j].includes("in-law"))}const a=cq(e,t,r);if(!a)return console.error(`${t} not found in main_ancestry`);const o=a.is_ancestor?a.found:a.found[0],c=r.find(T=>T.id===o),u=dt.hierarchy(c,p),A=u.descendants().map(T=>T.data.id),f=m(e,A),d=m(t,A);g(u);const h=u.descendants().map(T=>{const j={id:T.data.id,data:JSON.parse(JSON.stringify(T.data.data)),kinship:n[T.data.id],rels:{}};return T.children&&T.children.length>0&&(j.rels.children=T.children.map(I=>I.data.id)),j});return h.length>0&&!a.is_ancestor&&!a.is_half_kin&&x(h),s&&v(h),h;function g(T){T.children=(T.children||[]).filter(j=>!!(f.includes(j.data.id)||d.includes(j.data.id))),T.children.forEach(j=>g(j)),T.children.length===0&&delete T.children}function p(T){return[...T.rels.children||[]].map(I=>r.find(B=>B.id===I))}function m(T,j){const I=[T];return B(T),I;function B(C){const k=r.find(E=>E.id===C).rels;j.includes(k.mother)&&(I.push(k.mother),B(k.mother)),j.includes(k.father)&&(I.push(k.father),B(k.father))}}function x(T){const j=T[0],I=o===a.found[0]?a.found[1]:a.found[0];j.rels.spouses=[I];const B=r.find(N=>N.id===I),C={id:B.id,data:JSON.parse(JSON.stringify(B.data)),kinship:n[B.id],rels:{spouses:[j.id],children:j.rels.children}};T.push(C),(j.rels.children||[]).forEach(N=>{const k=r.find(U=>U.id===N),E=T.find(U=>U.id===N);E.rels.father=k.rels.father,E.rels.mother=k.rels.mother})}function v(T){i.includes("sister")||i.includes("brother")?w(T):y(T)}function y(T){const j=T.find(N=>N.id===t),I=s;j.rels.spouses=[I];const B=r.find(N=>N.id===I),C={id:B.id,data:JSON.parse(JSON.stringify(B.data)),kinship:n[B.id],rels:{spouses:[j.id],children:[]}};T.push(C)}function w(T){const j=T.find(E=>E.id===t),I=S(s);T.push({id:s,data:JSON.parse(JSON.stringify(I.data)),kinship:n[s],rels:{spouses:[],children:[]}});const B=[];I.rels.mother&&(S(I.rels.mother).rels.children||[]).forEach(E=>B.push(E)),I.rels.father&&(S(I.rels.father).rels.children||[]).forEach(E=>B.push(E));const C=S(t).rels.spouses.find(E=>B.includes(E));j.rels.spouses=[C];const N=S(C),k={id:N.id,data:JSON.parse(JSON.stringify(N.data)),kinship:n[N.id],rels:{spouses:[j.id],children:[]}};if(T.push(k),I.rels.father){const E=I.rels.father,U=S(E),D={id:U.id,data:JSON.parse(JSON.stringify(U.data)),kinship:"Father-in-law",rels:{spouses:[],children:[C,s]}};I.rels.mother&&D.rels.spouses.push(I.rels.mother),T.unshift(D)}if(I.rels.mother){const E=I.rels.mother,U=S(E),D={id:U.id,data:JSON.parse(JSON.stringify(U.data)),kinship:"Mother-in-law",rels:{spouses:[],children:[C,s]}};I.rels.father&&D.rels.spouses.push(I.rels.father),T.unshift(D)}}function S(T){return r.find(j=>j.id===T)}}function Hw(e){const t=["st","nd","rd"];return t[e-1]?e+t[e-1]:e+"th"}function uq(e){return Math.abs(e)-2}function c0(e,t){const r=uq(t);return e.includes("great-")&&(e=e.split("great-")[1]),r===1?`great-${e}`:r>1?`${r}x-great-${e}`:(console.error(`${e} should have great_count > 1`),e)}function Xme(e,t,r){const{self_id:n,getLabel:s,title:i}=e,a=lq(n,r,e),o=a[t];if(!o)return;let c=o;o==="self"?c="You":c=fq(c);const u=`
    <div class="f3-kinship-info">
      <div class="f3-info-field">
        <span class="f3-info-field-label">${i}</span>
        <span class="f3-info-field-value">
          <span>${c}</span>
          <span class="f3-kinship-info-icon">${iq()}</span>
        </span>
      </div>
    </div>
  `,A=dt.create("div").html(u).select("div").node();let f;return dt.select(A).select(".f3-kinship-info-icon").on("click",h=>d(h,A)),A;function d(h,g){let x=h.clientX-250-10,v=h.clientY-400-10;if(x+250>window.innerWidth&&(x=window.innerWidth-250-10),v<0&&(v=10),f&&f.active){f.close(),f=null;return}f=Cs.elements.infoPopup(g),dt.select(f.popup_cont).style("width","250px").style("height","400px").style("left",`${x}px`).style("top",`${v}px`);const y=f.popup_cont.querySelector(".f3-popup-content-inner");f.activate(),Jme(n,t,r,a,y,s)}}function Jme(e,t,r,n,s,i){dt.select(s).select("#SmallChart").node()||dt.select(s).append("div").attr("id","SmallChart").attr("class","f3");const a=dt.select("#SmallChart");a.selectAll("*").remove();const o=Aq(e,t,r,n);let c=!0;const u=a.append("div");A(o);function A(f){const d=Cs.createChart("#SmallChart",f).setTransitionTime(500).setCardXSpacing(170).setCardYSpacing(70).setSingleParentEmptyCard(!1),h=d.setCard(Cs.CardHtml).setStyle("rect").setCardInnerHtmlCreator(x=>g(x)).setOnCardUpdate(function(x){dt.select(this).select(".card").classed("card-main",!1)});h.onCardClick=(x,v)=>{},d.updateTree({initial:!0}),setTimeout(()=>m(.65),100),p();function g(x){let v=x.data.kinship==="self"?"You":x.data.kinship;return v=fq(v),c||(v=i(x.data)),`
        <div class="card-inner card-rect ${y()}">
          <div class="card-label">${v}</div>
        </div>
      `;function y(){return x.data.kinship==="self"?"card-kinship-self"+(c?"":" f3-real-label"):x.data.id===t?"card-kinship-rel":"card-kinship-default"}}function p(){u.classed("f3-kinship-labels-toggle",!0),u.append("label").text("Kinship labels").append("input").attr("type","checkbox").attr("checked",!0).on("change",x=>{c=!c,d.updateTree({initial:!1,tree_position:"inherit"})})}function m(x){const v=d.cont.querySelector("svg.main_svg");Cs.handlers.getCurrentZoom(v).k>x&&Cs.handlers.zoomTo(v,x)}}}function fq(e){return e=e[0].toUpperCase()+e.slice(1),e.includes("great-")&&(e=e.replace("great-","Great-")),e}function Zme(...e){return new Jr(...e)}function Jr(e,t){return this.cont=e,this.store=t,this.fields=[{type:"text",label:"first name",id:"first name"},{type:"text",label:"last name",id:"last name"},{type:"text",label:"birthday",id:"birthday"},{type:"text",label:"avatar",id:"avatar"}],this.form_cont=null,this.is_fixed=!0,this.history=null,this.no_edit=!1,this.onChange=null,this.editFirst=!1,this.postSubmit=null,this.link_existing_rel_config=null,this.onFormCreation=null,this.kinship_info_config=null,this.init(),this}Jr.prototype.init=function(){this.form_cont=dt.select(this.cont).append("div").classed("f3-form-cont",!0).node(),this.modal=this.setupModal(),this.addRelativeInstance=this.setupAddRelative(),this.removeRelativeInstance=this.setupRemoveRelative(),this.createHistory()};Jr.prototype.open=function(e){e.data.data&&typeof e.data.data=="object"&&(e=e.data);const t=this.store.getTreeDatum(e.id);this.addRelativeInstance.is_active?r.call(this,e):this.removeRelativeInstance.is_active?n.call(this,t):this.cardEditForm(e);function r(){e._new_rel_data?this.cardEditForm(e):(this.addRelativeInstance.onCancel(),this.cardEditForm(e),this.store.updateMainId(e.id),this.store.updateTree({}))}function n(){if(e.id===this.removeRelativeInstance.datum.id)this.removeRelativeInstance.onCancel(),this.cardEditForm(e);else{let s=function(){this.removeRelativeInstance.onCancel(),this.updateHistory(),this.store.updateTree({})};this.removeRelativeInstance.onChange(t,s.bind(this))}}};Jr.prototype.openWithoutRelCancel=function(e){this.cardEditForm(e)};Jr.prototype.cardEditForm=function(e){const t={};(e==null?void 0:e._new_rel_data)?t.onCancel=()=>this.addRelativeInstance.onCancel():(t.addRelative=this.addRelativeInstance,t.removeRelative=this.removeRelativeInstance,t.deletePerson=()=>{Uv(e,this.store.getData()),this.openFormWithId(this.store.getLastAvailableMainDatum().id),this.store.updateTree({})});const n=Cs.handlers.createForm({store:this.store,datum:e,postSubmit:i.bind(this),fields:this.fields,addRelative:null,onCancel:()=>{},editFirst:this.editFirst,link_existing_rel_config:this.link_existing_rel_config,getKinshipInfo:this.kinship_info_config?()=>Xme(this.kinship_info_config,e.id,this.store.getData()):null,onFormCreation:this.onFormCreation,...t});n.no_edit=this.no_edit,this.no_edit&&(n.editable=!1);const s=Cs.handlers.formInfoSetup(n,this.closeForm.bind(this));this.form_cont.innerHTML="",this.form_cont.appendChild(s),this.openForm();function i(a){if(this.addRelativeInstance.is_active){this.addRelativeInstance.onChange(e,a),this.postSubmit&&this.postSubmit(e,this.store.getData());const o=this.addRelativeInstance.datum;this.store.updateMainId(o.id),this.openWithoutRelCancel(o)}else(e.to_add||e.unknown)&&(a!=null&&a.link_rel_id)?(m$(e,a.link_rel_id,this.store.getData()),this.store.updateMainId(a.link_rel_id),this.openFormWithId(a.link_rel_id)):a!=null&&a.delete||(this.postSubmit&&this.postSubmit(e,this.store.getData()),this.openFormWithId(e.id));this.is_fixed||this.closeForm(),this.store.updateTree({}),this.updateHistory()}};Jr.prototype.openForm=function(){dt.select(this.form_cont).classed("opened",!0)};Jr.prototype.closeForm=function(){dt.select(this.form_cont).classed("opened",!1).html(""),this.store.updateTree({})};Jr.prototype.fixed=function(){return this.is_fixed=!0,dt.select(this.form_cont).style("position","relative"),this};Jr.prototype.absolute=function(){return this.is_fixed=!1,dt.select(this.form_cont).style("position","absolute"),this};Jr.prototype.setCardClickOpen=function(e){return e.setOnCardClick((t,r)=>{this.isAddingRelative()?this.open(r.data):this.isRemovingRelative()?this.open(r.data):(this.open(r.data),e.onCardClickDefault(t,r))}),this};Jr.prototype.openFormWithId=function(e){if(e){const t=this.store.getDatum(e);this.openWithoutRelCancel(t)}else{const t=this.store.getMainDatum();this.openWithoutRelCancel(t)}};Jr.prototype.createHistory=function(){return this.history=Cs.handlers.createHistory(this.store,this.getStoreDataCopy.bind(this),e.bind(this)),this.history.controls=Cs.handlers.createHistoryControls(this.cont.querySelector(".f3-nav-cont"),this.history),this.history.changed(),this.history.controls.updateButtons(),this;function e(){var t;this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),this.removeRelativeInstance.is_active&&this.removeRelativeInstance.onCancel(),this.store.updateTree({initial:!1}),this.history.controls.updateButtons(),this.openFormWithId((t=this.store.getMainDatum())==null?void 0:t.id),this.onChange&&this.onChange()}};Jr.prototype.setNoEdit=function(){return this.no_edit=!0,this};Jr.prototype.setEdit=function(){return this.no_edit=!1,this};Jr.prototype.setFields=function(e){const t=[];if(!Array.isArray(e))return console.error("fields must be an array"),this;for(const r of e)typeof r=="string"?t.push({type:"text",label:r,id:r}):typeof r=="object"?r.id?t.push(r):console.error("fields must be an array of objects with id property"):console.error("fields must be an array of strings or objects");return this.fields=t,this};Jr.prototype.setOnChange=function(e){return this.onChange=e,this};Jr.prototype.addRelative=function(e){return e||(e=this.store.getMainDatum()),this.addRelativeInstance.activate(e),this};Jr.prototype.setupAddRelative=function(){return Gme(this.store,e.bind(this),t.bind(this));function e(){this.removeRelativeInstance.is_active&&this.removeRelativeInstance.onCancel()}function t(r){this.store.updateMainId(r.id),this.store.updateTree({}),this.openFormWithId(r.id)}};Jr.prototype.setupRemoveRelative=function(){return Wme(this.store,e.bind(this),t.bind(this),this.modal);function e(){this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),r(this.cont,!0)}function t(n){r(this.cont,!1),this.store.updateMainId(n.id),this.store.updateTree({}),this.openFormWithId(n.id)}function r(n,s){dt.select(n).select("#f3Canvas").classed("f3-remove-relative-active",s)}};Jr.prototype.setupModal=function(){return Yme(this.cont)};Jr.prototype.setEditFirst=function(e){return this.editFirst=e,this};Jr.prototype.isAddingRelative=function(){return this.addRelativeInstance.is_active};Jr.prototype.isRemovingRelative=function(){return this.removeRelativeInstance.is_active};Jr.prototype.setAddRelLabels=function(e){return this.addRelativeInstance.setAddRelLabels(e),this};Jr.prototype.setLinkExistingRelConfig=function(e){return this.link_existing_rel_config=e,this};Jr.prototype.setOnFormCreation=function(e){return this.onFormCreation=e,this};Jr.prototype.setKinshipInfo=function(e){return this.kinship_info_config=e,this};Jr.prototype.getStoreDataCopy=function(){let e=JSON.parse(JSON.stringify(this.store.getData()));return this.addRelativeInstance.is_active&&(e=this.addRelativeInstance.cleanUp(e)),e=Cs.handlers.cleanupDataJson(e),e};Jr.prototype.getDataJson=function(){return JSON.stringify(this.getStoreDataCopy(),null,2)};Jr.prototype.updateHistory=function(){this.history&&(this.history.changed(),this.history.controls.updateButtons()),this.onChange&&this.onChange()};Jr.prototype.setPostSubmit=function(e){return this.postSubmit=e,this};Jr.prototype.destroy=function(){return this.history.controls.destroy(),this.history=null,dt.select(this.cont).select(".f3-form-cont").remove(),this.addRelativeInstance.onCancel&&this.addRelativeInstance.onCancel(),this.store.updateTree({}),this};function epe(e,t,r={}){const n=[];t.data.forEach(d=>{d._spouse&&d.data.data.gender==="F"&&n.push({nodes:[d,d._spouse],id:`${d.data.id}--${d._spouse.data.id}`}),d.spouses&&d.spouses.forEach(h=>n.push({nodes:[h,d],id:`${h.data.id}--${d.data.id}`}))});const s=dt.select(e).select(".links_view").selectAll("g.link-text").data(n,d=>d.id),i=s.exit(),a=s.enter().append("g").attr("class","link-text"),o=a.merge(s),c=(d,h)=>d.spouse&&d.data.data.gender==="F"?d.x-r.node_separation/2:h.spouse&&h.data.data.gender==="M"?h.x+r.node_separation/2:Math.min(d.x,h.x)+r.node_separation/2;i.each(f),a.each(u),o.each(A);function u(d){const[h,g]=d.nodes,p=dt.select(this);p.attr("transform",`translate(${c(h,g)}, ${h.y-3})`).style("opacity",0),p.append("text").style("font-size","12px").style("fill","#fff").style("text-anchor","middle")}function A(d){const[h,g]=d.nodes,p=dt.select(this),m=r.initial?_p(t,h,r.transition_time):0;p.select("text").text(r.linkSpouseText(h,g)),p.transition("text").duration(r.transition_time).delay(m).attr("transform",`translate(${c(h,g)}, ${h.y-3})`),p.transition("text-op").duration(100).delay(m+r.transition_time).style("opacity",1)}function f(d){const h=dt.select(this);h.transition("text").duration(100).style("opacity",0).on("end",()=>h.remove())}}function tpe(...e){return new ch(...e)}function ch(e,t){this.cont=e,this.autocomplete_cont=null,this.options=[],this.onSelect=t,this.init()}ch.prototype.init=function(){this.autocomplete_cont=dt.select(this.cont).append("div").attr("class","f3-autocomplete-cont").node(),dt.select(this.autocomplete_cont),this.create()};ch.prototype.create=function(){const e=this;dt.select(this.autocomplete_cont).html(`
    <div class="f3-autocomplete">
      <div class="f3-autocomplete-input-cont">
        <input type="text" placeholder="Search">
        <span class="f3-autocomplete-toggle">${nq()}</span>
      </div>
      <div class="f3-autocomplete-items" tabindex="0"></div>
    </div>
  `);const t=dt.select(this.autocomplete_cont).select(".f3-autocomplete"),r=t.select("input"),n=t.select(".f3-autocomplete-items");t.on("focusout",()=>{setTimeout(()=>{t.node().contains(document.activeElement)||i()},200)}),r.on("focus",()=>{o(),s()}).on("input",s).on("keydown",c),n.on("wheel",u=>u.stopPropagation()),t.select(".f3-autocomplete-toggle").on("click",u=>{u.stopPropagation();const A=t.classed("active");t.classed("active",!A),A?i():(r.node().focus(),s())});function s(){t.classed("active",!0);const u=r.property("value"),A=e.options.filter(h=>h.label.toLowerCase().includes(u.toLowerCase()));A.forEach(f),A.sort(d),a(A);function f(h){const g=h.label.toLowerCase().indexOf(u.toLowerCase());g!==-1?h.label_html=p():h.label_html=h.label;function p(){return h.label.substring(0,g)+"<strong>"+h.label.substring(g,g+u.length)+"</strong>"+h.label.substring(g+u.length)}}function d(h,g){return h.label<g.label?-1:h.label>g.label?1:0}}function i(){t.classed("active",!1),a([])}function a(u){n.selectAll("div.f3-autocomplete-item").data(u,f=>f==null?void 0:f.value).join("div").attr("class","f3-autocomplete-item").on("click",(f,d)=>{e.onSelect(d.value)}).html(f=>f.optionHtml?f.optionHtml(f):A(f));function A(f){return`<div class="${f.class?f.class:""}">${f.label_html}</div>`}}function o(){e.options=e.getOptions()}function c(u){const A=n.selectAll("div.f3-autocomplete-item").nodes(),f=A.findIndex(h=>dt.select(h).classed("f3-selected"));if(u.key==="ArrowDown"){u.preventDefault();const h=f<A.length-1?f+1:0;d(A,h)}else if(u.key==="ArrowUp"){u.preventDefault();const h=f>0?f-1:A.length-1;d(A,h)}else if(u.key==="Enter"&&f!==-1){u.preventDefault();const h=dt.select(A[f]).datum();h&&e.onSelect(h.value)}function d(h,g){h.forEach(p=>dt.select(p).classed("f3-selected",!1)),h[g]&&(dt.select(h[g]).classed("f3-selected",!0),h[g].scrollIntoView({block:"nearest"}))}}};ch.prototype.setOptionsGetter=function(e){return this.getOptions=e,this};ch.prototype.setOptionsGetterPerson=function(e,t){return this.getOptions=()=>{const s=[];return e().forEach(a=>{a.to_add||a.unknown||a._new_rel_data||s.find(o=>o.value===a.id)||s.push({label:t(a),value:a.id,optionHtml:r(a)})}),s},this;function r(s){const i=!SS(s,e());return a=>`
      <div>
        <span style="float: left; width: 10px; height: 10px; margin-right: 10px;" class="f3-${n(s)}-color">${LS()}</span>
        <span>${a.label_html}</span>
        ${i?`<span style="float: right; width: 10px; height: 10px; margin-left: 5px;" title="This profile is not connected to the main profile">${sq()}</span>`:""}
      </div>
    `}function n(s){return s.data.gender==="M"?"male":s.data.gender==="F"?"female":"genderless"}};ch.prototype.destroy=function(){this.autocomplete_cont.remove()};function rpe(...e){return new Zr(...e)}function Zr(e,t){return this.cont=null,this.store=null,this.svg=null,this.getCard=null,this.node_separation=250,this.level_separation=150,this.is_horizontal=!1,this.single_parent_empty_card=!0,this.transition_time=2e3,this.linkSpouseText=!1,this.personSearch=null,this.is_card_html=!1,this.beforeUpdate=null,this.afterUpdate=null,this.init(e,t),this}Zr.prototype.init=function(e,t){this.cont=e=npe(e);const r=()=>e.querySelector("svg .view"),n=()=>e.querySelector("#htmlSvg"),s=()=>e.querySelector("#htmlSvg .cards_view");this.svg=Cs.createSvg(e,{onZoom:Cs.htmlHandlers.onZoomSetup(r,s)}),Cs.htmlHandlers.createHtmlSvg(e),spe(this.cont),this.store=Cs.createStore({data:t,node_separation:this.node_separation,level_separation:this.level_separation,single_parent_empty_card:this.single_parent_empty_card,is_horizontal:this.is_horizontal}),this.store.setOnUpdate(i=>{this.beforeUpdate&&this.beforeUpdate(i),i=Object.assign({transition_time:this.transition_time},i||{}),this.is_card_html&&(i=Object.assign({},i||{},{cardHtml:n()})),Cs.view(this.store.getTree(),this.svg,this.getCard(),i||{}),this.linkSpouseText&&epe(this.svg,this.store.getTree(),Object.assign({},i||{},{linkSpouseText:this.linkSpouseText,node_separation:this.node_separation})),this.afterUpdate&&this.afterUpdate(i)})};Zr.prototype.updateTree=function(e={initial:!1}){return this.store.updateTree(e),this};Zr.prototype.updateData=function(e){return this.store.updateData(e),this};Zr.prototype.setCardYSpacing=function(e){return typeof e!="number"?(console.error("card_y_spacing must be a number"),this):(this.level_separation=e,this.store.state.level_separation=e,this)};Zr.prototype.setCardXSpacing=function(e){return typeof e!="number"?(console.error("card_x_spacing must be a number"),this):(this.node_separation=e,this.store.state.node_separation=e,this)};Zr.prototype.setOrientationVertical=function(){return this.is_horizontal=!1,this.store.state.is_horizontal=!1,this};Zr.prototype.setOrientationHorizontal=function(){return this.is_horizontal=!0,this.store.state.is_horizontal=!0,this};Zr.prototype.setShowSiblingsOfMain=function(e){return this.store.state.show_siblings_of_main=e,this};Zr.prototype.setModifyTreeHierarchy=function(e){return this.store.state.modifyTreeHierarchy=e,this};Zr.prototype.setPrivateCardsConfig=function(e){return this.store.state.private_cards_config=e,this};Zr.prototype.setLinkSpouseText=function(e){return this.linkSpouseText=e,this};Zr.prototype.setSingleParentEmptyCard=function(e,{label:t="Unknown"}={}){return this.single_parent_empty_card=e,this.store.state.single_parent_empty_card=e,this.store.state.single_parent_empty_card_label=t,this.editTreeInstance&&this.editTreeInstance.addRelativeInstance.is_active&&this.editTreeInstance.addRelativeInstance.onCancel(),Cs.handlers.removeToAddFromData(this.store.getData()||[]),this};Zr.prototype.setCard=function(e){this.is_card_html=e.is_html,this.is_card_html?(this.svg.querySelector(".cards_view").innerHTML="",this.cont.querySelector("#htmlSvg").style.display="block"):(this.cont.querySelector("#htmlSvg .cards_view").innerHTML="",this.cont.querySelector("#htmlSvg").style.display="none");const t=e(this.cont,this.store);return this.getCard=()=>t.getCard(),t};Zr.prototype.setTransitionTime=function(e){return this.transition_time=e,this};Zr.prototype.setSortChildrenFunction=function(e){return this.store.state.sortChildrenFunction=e,this};Zr.prototype.setSortSpousesFunction=function(e){return this.store.state.sortSpousesFunction=e,this};Zr.prototype.setAncestryDepth=function(e){return this.store.state.ancestry_depth=e,this};Zr.prototype.setProgenyDepth=function(e){return this.store.state.progeny_depth=e,this};Zr.prototype.getMaxDepth=function(e){return H0e(e,this.store.getData())};Zr.prototype.calculateKinships=function(e,t){return lq(e,this.store.getData(),t)};Zr.prototype.getKinshipsDataStash=function(e,t){return Aq(e,t,this.store.getData(),this.calculateKinships(e))};Zr.prototype.setDuplicateBranchToggle=function(e){return this.store.state.duplicate_branch_toggle=e,this};Zr.prototype.editTree=function(){return this.editTreeInstance=Zme(this.cont,this.store)};Zr.prototype.updateMain=function(e){return this.store.updateMainId(e.data.id),this.store.updateTree({}),this};Zr.prototype.updateMainId=function(e){return this.store.updateMainId(e),this};Zr.prototype.getMainDatum=function(){return this.store.getMainDatum()};Zr.prototype.updateData=function(e){this.store.updateData(e)};Zr.prototype.setBeforeUpdate=function(e){return this.beforeUpdate=e,this};Zr.prototype.setAfterUpdate=function(e){return this.afterUpdate=e,this};Zr.prototype.setPersonDropdown=function(e,t=this.cont.querySelector(".f3-nav-cont")){this.personSearch=tpe(t,r.bind(this)),this.personSearch.setOptionsGetterPerson(this.store.getData,e);function r(n){this.editTreeInstance&&this.editTreeInstance.open(this.store.getDatum(n)),this.updateMainId(n),this.updateTree({initial:!1})}return this};Zr.prototype.unSetPersonSearch=function(){return this.personSearch.destroy(),this.personSearch=null,this};function npe(e){return typeof e=="string"&&(e=document.querySelector(e)),e}function spe(e){dt.select(e).append("div").attr("class","f3-nav-cont")}function dq(e){const t=[];return Array.isArray(e)?e.forEach(r=>{typeof r=="function"?t.push(r):typeof r=="string"?t.push(n=>n.data[r]):Array.isArray(r)&&t.push(n=>r.map(s=>n.data[s]).join(" "))}):typeof e=="function"?t.push(e):typeof e=="string"&&t.push(r=>r.data[e]),t}hq.is_html=!1;function hq(...e){return new _c(...e)}function _c(e,t){return this.cont=e,this.store=t,this.svg=null,this.getCard=null,this.card_dim={w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},this.card_display=[r=>`${r.data["first name"]} ${r.data["last name"]}`],this.mini_tree=!0,this.link_break=!1,this.onCardClick=this.onCardClickDefault.bind(this),this.onCardUpdate=null,this.init(),this}_c.prototype.init=function(){this.svg=this.cont.querySelector("svg.main_svg"),this.getCard=()=>Cs.elements.CardSvg({store:this.store,svg:this.svg,card_dim:this.card_dim,card_display:this.card_display,mini_tree:this.mini_tree,link_break:this.link_break,onCardClick:this.onCardClick,onCardUpdate:this.onCardUpdate})};_c.prototype.setCardDisplay=function(e){return this.card_display=dq(e),this};_c.prototype.setCardDim=function(e){if(typeof e!="object")return console.error("card_dim must be an object"),this;for(let t in e){const r=e[t];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${t} must be a number or boolean`),this;t==="width"&&(t="w"),t==="height"&&(t="h"),t==="img_width"&&(t="img_w"),t==="img_height"&&(t="img_h"),t==="img_x"&&(t="img_x"),t==="img_y"&&(t="img_y"),this.card_dim[t]=r}return Qme(this.svg,this.card_dim),this};_c.prototype.setOnCardUpdate=function(e){return this.onCardUpdate=e,this};_c.prototype.setMiniTree=function(e){return this.mini_tree=e,this};_c.prototype.setLinkBreak=function(e){return this.link_break=e,this};_c.prototype.onCardClickDefault=function(e,t){this.store.updateMainId(t.data.id),this.store.updateTree({})};_c.prototype.setOnCardClick=function(e){return this.onCardClick=e,this};mq.is_html=!0;function mq(...e){return new ti(...e)}ti.prototype.is_html=!0;function ti(e,t){return this.cont=e,this.store=t,this.getCard=null,this.card_display=[r=>`${r.data["first name"]} ${r.data["last name"]}`],this.cardImageField="avatar",this.onCardClick=this.onCardClickDefault,this.style="default",this.mini_tree=!1,this.onCardUpdate=null,this.card_dim={},this.cardInnerHtmlCreator=null,this.init(),this}ti.prototype.init=function(){this.svg=this.cont.querySelector("svg.main_svg"),this.getCard=()=>Cs.elements.CardHtml({store:this.store,card_display:this.card_display,cardImageField:this.cardImageField,defaultPersonIcon:this.defaultPersonIcon,onCardClick:this.onCardClick,style:this.style,mini_tree:this.mini_tree,onCardUpdate:this.onCardUpdate,card_dim:this.card_dim,empty_card_label:this.store.state.single_parent_empty_card_label,cardInnerHtmlCreator:this.cardInnerHtmlCreator,duplicate_branch_toggle:this.store.state.duplicate_branch_toggle,onCardMouseenter:this.onCardMouseenter?this.onCardMouseenter.bind(this):null,onCardMouseleave:this.onCardMouseleave?this.onCardMouseleave.bind(this):null})};ti.prototype.setCardDisplay=function(e){return this.card_display=dq(e),this};ti.prototype.setCardImageField=function(e){return this.cardImageField=e,this};ti.prototype.setDefaultPersonIcon=function(e){return this.defaultPersonIcon=e,this};ti.prototype.setOnCardClick=function(e){return this.onCardClick=e,this};ti.prototype.onCardClickDefault=function(e,t){this.store.updateMainId(t.data.id),this.store.updateTree({})};ti.prototype.setStyle=function(e){return this.style=e,this};ti.prototype.setMiniTree=function(e){return this.mini_tree=e,this};ti.prototype.setOnCardUpdate=function(e){return this.onCardUpdate=e,this};ti.prototype.setCardDim=function(e){if(typeof e!="object")return console.error("card_dim must be an object"),this;for(let t in e){const r=e[t];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${t} must be a number or boolean`),this;t==="width"&&(t="w"),t==="height"&&(t="h"),t==="img_width"&&(t="img_w"),t==="img_height"&&(t="img_h"),t==="img_x"&&(t="img_x"),t==="img_y"&&(t="img_y"),this.card_dim[t]=r}return this};ti.prototype.resetCardDim=function(){return this.card_dim={},this};ti.prototype.setCardInnerHtmlCreator=function(e){return this.cardInnerHtmlCreator=e,this};ti.prototype.setOnHoverPathToMain=function(){return this.onCardMouseenter=this.onEnterPathToMain.bind(this),this.onCardMouseleave=this.onLeavePathToMain.bind(this),this};ti.prototype.unsetOnHoverPathToMain=function(){return this.onCardMouseenter=null,this.onCardMouseleave=null,this};ti.prototype.onEnterPathToMain=function(e,t){this.to_transition=t.data.id;const r=this.store.getTreeMainDatum(),n=dt.select(this.cont).select("div.cards_view").selectAll(".card_cont"),s=dt.select(this.cont).select("svg.main_svg .links_view").selectAll(".link"),[i,a]=rme(n,s,t,r);return i.forEach(o=>{const c=Math.abs(t.depth-o.card.depth)*200;dt.select(o.node.querySelector("div.card-inner")).transition().duration(0).delay(c).on("end",()=>this.to_transition===t.data.id&&dt.select(o.node.querySelector("div.card-inner")).classed("f3-path-to-main",!0))}),a.forEach(o=>{const c=Math.abs(t.depth-o.link.depth)*200;dt.select(o.node).transition().duration(0).delay(c).on("end",()=>this.to_transition===t.data.id&&dt.select(o.node).classed("f3-path-to-main",!0))}),this};ti.prototype.onLeavePathToMain=function(e,t){return this.to_transition=!1,dt.select(this.cont).select("div.cards_view").selectAll("div.card-inner").classed("f3-path-to-main",!1),dt.select(this.cont).select("svg.main_svg .links_view").selectAll(".link").classed("f3-path-to-main",!1),this};var Cs={CalculateTree:N$,createStore:eme,view:dme,createSvg:hme,handlers:_me,elements:zme,htmlHandlers:ume,icons:yme,createChart:rpe,CardSvg:hq,CardHtml:mq};const ipe={w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},ape=({isRTL:e=!1})=>{const t=ke.useRef(null);return ke.useEffect(()=>{if(!t.current)return;const r=Cs.createChart(t.current,n()).setTransitionTime(500).setCardXSpacing(250).setCardYSpacing(150);return r.setCard(Cs.CardSvg).setCardDim(ipe).setCardDisplay([s=>`${s.data["first name"]||""}`,s=>`${s.data["last name"]||""}`,s=>`${s.data.birthday||""}`]).setMiniTree(!0),r.updateTree({initial:!0}),()=>{};function n(){return[{id:"0",rels:{spouses:["ninapopova"],father:"0c09cfa0-5e7c-4073-8beb-94f6c69ada19",mother:"0fa5c6bc-5b58-40f5-a07e-d787e26d8b56",children:["popovKonstantinViktorovich","f626d086-e2d6-4722-b4f3-ca4f15b109ab"]},data:{"first name":" ","last name":"",birthday:"1939",avatar:"https://static8.depositphotos.com/1009634/988/v/950/depositphotos_9883921-stock-illustration-no-user-profile-picture.jpg",gender:"M"}},{id:"ninapopova",data:{gender:"F","first name":"","last name":"()",birthday:"",avatar:""},rels:{spouses:["0"],children:["popovKonstantinViktorovich","f626d086-e2d6-4722-b4f3-ca4f15b109ab"]}},{id:"0c09cfa0-5e7c-4073-8beb-94f6c69ada19",data:{gender:"M","first name":" ","last name":"",birthday:"",avatar:""},rels:{children:["0"],spouses:["0fa5c6bc-5b58-40f5-a07e-d787e26d8b56"]}},{id:"0fa5c6bc-5b58-40f5-a07e-d787e26d8b56",data:{gender:"F","first name":"?","last name":"",birthday:"",avatar:""},rels:{spouses:["0c09cfa0-5e7c-4073-8beb-94f6c69ada19"],children:["0"],father:"12a9bddf-855a-4583-a695-c73fa8c0e9b2",mother:"bd56a527-b613-474d-9f38-fcac0aae218b"}},{id:"popovKonstantinViktorovich",data:{gender:"M","first name":" ","last name":"",birthday:"",avatar:""},rels:{mother:"ninapopova",father:"0",spouses:["popovaVera"],children:["vityapopov98","nadiapopova","lilinpo"]}},{id:"f626d086-e2d6-4722-b4f3-ca4f15b109ab",data:{gender:"M","first name":"","last name":"",birthday:"",avatar:""},rels:{mother:"ninapopova",father:"0"}},{id:"vityapopov98",data:{gender:"M","first name":"","last name":"",birthday:"",avatar:""},rels:{mother:"popovaVera",father:"popovKonstantinViktorovich"}},{id:"popovaVera",data:{gender:"F","first name":"","last name":"",birthday:"",avatar:""},rels:{spouses:["popovKonstantinViktorovich"],children:["vityapopov98","nadiapopova"]}},{id:"nadiapopova",data:{gender:"F","first name":"","last name":"",birthday:"",avatar:""},rels:{mother:"popovaVera",father:"popovKonstantinViktorovich"}},{id:"lilinpo",data:{gender:"F","first name":"","last name":"",birthday:"",avatar:""},rels:{mother:"popovaVera",father:"popovKonstantinViktorovich"}},{id:"12a9bddf-855a-4583-a695-c73fa8c0e9b2",data:{gender:"M","first name":"Yvo","last name":"",birthday:"",avatar:""},rels:{children:["0fa5c6bc-5b58-40f5-a07e-d787e26d8b56"],spouses:["bd56a527-b613-474d-9f38-fcac0aae218b"]}},{id:"bd56a527-b613-474d-9f38-fcac0aae218b",data:{gender:"F","first name":"Yva","last name":"",birthday:"",avatar:""},rels:{spouses:["12a9bddf-855a-4583-a695-c73fa8c0e9b2"],children:["0fa5c6bc-5b58-40f5-a07e-d787e26d8b56"]}}]}},[]),l.jsx("div",{className:"f3",ref:t,style:{direction:e?"rtl":"ltr"}})},ope=()=>{const{language:e}=ir(),{publicTrees:t,fetchPublicTrees:r}=Ti(),[n,s]=re.useState(1),[i,a]=re.useState(!0),o=10,c=e==="ar";re.useEffect(()=>{(async()=>{try{a(!0),await r()}catch{}finally{a(!1)}})()},[r]);const u=n*o,A=u-o,f=t.slice(A,u),d=Math.ceil(t.length/o),h=m=>{s(m),window.scrollTo({top:0,behavior:"smooth"})},g=[{icon:qr,title:"Build Your Family Tree",titleAr:"  ",description:"Create detailed family trees with photos, documents, and life stories.",descriptionAr:"        ."},{icon:To,title:"Smart Search & Suggestions",titleAr:"  ",description:"Find relatives and get intelligent suggestions to complete your tree.",descriptionAr:"        ."},{icon:V2,title:"Collaborate with Family",titleAr:"  ",description:"Share your trees and work together with family members.",descriptionAr:"     ."},{icon:W2,title:"Privacy & Security",titleAr:" ",description:"Your family data is secure with advanced privacy controls.",descriptionAr:"      ."},{icon:pc,title:"Bilingual Support",titleAr:"  ",description:"Full support for Arabic and English languages.",descriptionAr:"    ."},{icon:_te,title:"Modern Interface",titleAr:" ",description:"Beautiful, intuitive interface that works on all devices.",descriptionAr:"      ."}],p=[{name:"Basic",nameAr:"",price:"$9.99",period:"/month",periodAr:"/",description:"Perfect for individuals",descriptionAr:" ",features:["1 family tree","Up to 5 people per tree","1GB storage","Email support"],featuresAr:["  "," 5   ","1  ","  "],popular:!1},{name:"Premium",nameAr:"",price:"$19.99",period:"/month",periodAr:"/",description:"Great for growing families",descriptionAr:"  ",features:["3 family trees","Up to 150 people per tree","10GB storage","Smart suggestions","Priority support"],featuresAr:["3  "," 150   ","10  "," "," "],popular:!0},{name:"Family",nameAr:"",price:"$29.99",period:"/month",periodAr:"/",description:"Perfect for large families",descriptionAr:"  ",features:["Unlimited trees & people","Unlimited storage","Smart suggestions","Priority support","Custom themes","Advanced search"],featuresAr:["   ","  "," "," "," "," "],popular:!1}];return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative min-h-[80vh] sm:min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-primary/5 to-background overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"w-full h-full bg-cover bg-center animate-zoomEffect",style:{backgroundImage:`url(${Ute})`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/80 to-background/40"})]}),l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:[c?"  ":"Discover Your",l.jsx("span",{className:"text-primary",children:c?"":" Heritage"})]}),l.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:c?"         .       .":"Build, explore, and share your family tree with our comprehensive genealogy platform. Connect with your roots and preserve your family's story for future generations."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(je,{asChild:!0,size:"lg",className:"text-base sm:text-lg px-6 sm:px-8",children:l.jsxs(Dt,{to:"/register",className:"flex items-center",children:[c?" ":"Get Started Free",l.jsx(Eo,{className:`ml-2 h-5 w-5 ${c?"rotate-180":""}`})]})}),l.jsx(je,{asChild:!0,variant:"outline",size:"lg",className:"text-base sm:text-lg px-6 sm:px-8",children:l.jsx(Dt,{to:"/pricing",children:c?" ":"View Plans"})})]})]})})]}),l.jsx("section",{className:"py-20 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:c?"  ":"Interactive Family Tree"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:c?"             .":"Explore our interactive family tree that allows you to easily add and modify family members."})]}),l.jsx("div",{className:"bg-muted p-6 rounded-lg shadow-lg",children:l.jsx(ape,{isRTL:c})}),l.jsx("div",{className:"text-center mt-12",children:l.jsx(je,{asChild:!0,size:"lg",children:l.jsxs(Dt,{to:"/tree",className:"flex items-center justify-center",children:[c?"   ":"Start Building Your Tree",l.jsx(Eo,{className:`ml-2 h-4 w-4 ${c?"rotate-180":""}`})]})})})]})}),l.jsx("section",{className:"py-16 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:c?"  ":"Family Tree Archive"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:c?"        .        .":"Explore public family trees created by thousands of users. Discover new families and join our genealogy community."})]}),i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsx(l.Fragment,{children:f.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:f.map(m=>{var x;return l.jsxs(gt,{className:"hover:shadow-lg transition-shadow h-full flex flex-col",children:[l.jsxs(St,{className:"pb-3 flex-grow",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx(Ft,{className:"text-base sm:text-lg line-clamp-2",children:m.name}),l.jsx(cn,{className:"h-4 w-4 sm:h-5 w-5 text-primary flex-shrink-0 ml-2 mt-1"})]}),l.jsx(Ds,{className:"text-xs sm:text-sm mt-2 line-clamp-2",children:c?m.description||"  ":m.description||"No description"})]}),l.jsxs(vt,{className:"mt-auto",children:[l.jsx("div",{className:"space-y-2 text-xs sm:text-sm",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:c?"":"Members"}),l.jsx("span",{className:"font-medium",children:((x=m.stats)==null?void 0:x.totalPeople)||0})]})}),l.jsx(je,{asChild:!0,variant:"outline",size:"sm",className:"w-full mt-4 text-xs sm:text-sm",children:l.jsx(Dt,{to:`/shared/${m.id}`,children:c?" ":"View Tree"})})]})]},m.id)})}),d>1&&l.jsx("div",{className:"flex justify-center mt-12",children:l.jsxs("nav",{className:"flex items-center gap-2",children:[l.jsx(je,{variant:"outline",size:"sm",onClick:()=>h(Math.max(1,n-1)),disabled:n===1,className:c?"rotate-180":"",children:l.jsx(Eo,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,d)},(m,x)=>{let v;return d<=5||n<=3?v=x+1:n>=d-2?v=d-4+x:v=n-2+x,l.jsx(je,{variant:n===v?"default":"outline",size:"sm",onClick:()=>h(v),children:v},v)}),l.jsx(je,{variant:"outline",size:"sm",onClick:()=>h(Math.min(d,n+1)),disabled:n===d,className:c?"rotate-180":"",children:l.jsx(Eo,{className:"h-4 w-4"})})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(cn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-foreground mb-2",children:c?"    ":"No Public Family Trees"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:c?"      !":"Be the first to publish a public family tree!"}),l.jsx(je,{asChild:!0,children:l.jsx(Dt,{to:"/register",children:c?" ":"Get Started"})})]})})]})}),l.jsx("section",{className:"py-20 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:c?"     ":"Everything You Need to Build Your Family Tree"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:c?"         .":"Powerful features designed to help you discover, document, and share your family history."})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:g.map((m,x)=>l.jsxs(gt,{className:"text-center hover:shadow-lg transition-shadow h-full flex flex-col",children:[l.jsxs(St,{children:[l.jsx("div",{className:"mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:l.jsx(m.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),l.jsx(Ft,{className:"text-lg sm:text-xl",children:c?m.titleAr:m.title})]}),l.jsx(vt,{className:"flex-grow",children:l.jsx(Ds,{className:"text-sm sm:text-base",children:c?m.descriptionAr:m.description})})]},x))}),l.jsx("div",{className:"text-center mt-12",children:l.jsx(je,{asChild:!0,variant:"outline",size:"lg",children:l.jsxs(Dt,{to:"/features",className:"flex items-center justify-center",children:[c?"  ":"View All Features",l.jsx(Eo,{className:`ml-2 h-4 w-4 ${c?"rotate-180":""}`})]})})})]})}),l.jsx("section",{className:"py-20 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:c?" ":"Choose Your Plan"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:c?"     .     .":"Choose the plan that fits your family needs. All plans include our core features."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:p.map((m,x)=>l.jsxs(gt,{className:`relative ${m.popular?"ring-2 ring-primary shadow-lg":""} h-full flex flex-col`,children:[m.popular&&l.jsx("div",{className:`absolute -top-3 left-1/2 transform -translate-x-1/2 ${c?"flex-row-reverse":""}`,children:l.jsxs("div",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex items-center",children:[l.jsx(uE,{className:`h-3 w-3 sm:h-4 sm:w-4 ${c?"ml-1":"mr-1"}`}),c?" ":"Most Popular"]})}),l.jsxs(St,{className:"text-center pt-8",children:[l.jsx(Ft,{className:"text-xl sm:text-2xl",children:c?m.nameAr:m.name}),l.jsxs("div",{className:"mt-3 sm:mt-4",children:[l.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:m.price}),l.jsx("span",{className:"text-muted-foreground text-sm sm:text-base",children:c?m.periodAr:m.period})]}),l.jsx(Ds,{className:"mt-2 text-sm",children:c?m.descriptionAr:m.description})]}),l.jsxs(vt,{className:"flex-grow flex flex-col",children:[l.jsx("ul",{className:"space-y-2 sm:space-3 mb-6 flex-grow",children:(c?m.featuresAr:m.features).map((v,y)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx(rte,{className:`h-4 w-4 sm:h-5 w-5 text-primary flex-shrink-0 ${c?"ml-2 sm:ml-3":"mr-2 sm:mr-3"} mt-0.5`}),l.jsx("span",{className:"text-xs sm:text-sm",children:v})]},y))}),l.jsx(je,{asChild:!0,className:"w-full text-sm sm:text-base",variant:m.popular?"default":"outline",children:l.jsx(Dt,{to:"/register",children:c?" ":"Choose Plan"})})]})]},x))})]})}),l.jsx("section",{className:"py-20 bg-muted/50",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-4 sm:mb-6",children:c?"  Nasabna":"Why Choose Nasabna?"}),l.jsx("p",{className:"text-base sm:text-lg text-muted-foreground mb-4 sm:mb-6",children:c?"         .             .":"We're passionate about helping families preserve their heritage and connect across generations. Our platform combines cutting-edge technology with intuitive design to make genealogy accessible to everyone."}),l.jsxs("ul",{className:"space-y-3 mb-6",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx(Ha,{className:`h-5 w-5 text-primary flex-shrink-0 ${c?"ml-3":"mr-3"} mt-0.5`}),l.jsx("span",{className:"text-sm sm:text-base",children:c?"      ":"Trusted by thousands of families worldwide"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(Ha,{className:`h-5 w-5 text-primary flex-shrink-0 ${c?"ml-3":"mr-3"} mt-0.5`}),l.jsx("span",{className:"text-sm sm:text-base",children:c?"     ":"Bank-level security for your family data"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(Ha,{className:`h-5 w-5 text-primary flex-shrink-0 ${c?"ml-3":"mr-3"} mt-0.5`}),l.jsx("span",{className:"text-sm sm:text-base",children:c?"   ":"Continuous updates and new features"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(Ha,{className:`h-5 w-5 text-primary flex-shrink-0 ${c?"ml-3":"mr-3"} mt-0.5`}),l.jsx("span",{className:"text-sm sm:text-base",children:c?"   ":"Dedicated customer support team"})]})]}),l.jsx(je,{asChild:!0,variant:"outline",size:"lg",className:"px-6",children:l.jsxs(Dt,{to:"/about",className:"flex items-center justify-center",children:[c?"  ":"Learn More About Us",l.jsx(Eo,{className:`ml-2 h-4 w-4 ${c?"rotate-180":""}`})]})})]}),l.jsx("div",{className:"relative flex items-center justify-center",children:l.jsx("img",{src:XO,alt:c?" ":"Happy family",className:"rounded-2xl shadow-lg w-full max-w-[280px] sm:max-w-xs md:max-w-sm lg:max-w-md h-auto object-cover"})})]})})}),l.jsx("section",{className:"py-20 bg-muted/50",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 text-foreground",children:c?"     ":"Start Building Your Family Tree Today"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-muted-foreground",children:c?"         Nasabna.     .":"Join thousands of families who are preserving their heritage with Nasabna. Choose the plan that fits your needs."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(je,{asChild:!0,size:"lg",className:"text-base sm:text-lg px-6 sm:px-8",children:l.jsxs(Dt,{to:"/register",className:"flex items-center",children:[c?"  ":"Create Your Free Account",l.jsx(Eo,{className:`ml-2 h-5 w-5 ${c?"rotate-180":""}`})]})}),l.jsx(je,{asChild:!0,size:"lg",variant:"outline",className:"text-base sm:text-lg px-6 sm:px-8",children:l.jsx(Dt,{to:"/features",children:c?" ":"Explore Features"})})]})]})})]})};var lpe=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(A){return A.errors.forEach(function(f){return e.push(f)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=mX(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Pv=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&dX({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:hX(lpe(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const cpe=(e,t)=>{if(!(e!=null&&e.message))return{en:"Registration failed. Please try again.",ar:"  .    ."};const r=e.message.toLowerCase();return r.includes("email")&&(r.includes("exists")||r.includes("taken")||r.includes("duplicate"))?{en:"This email address is already registered. Please use a different email or try logging in.",ar:"    .         ."}:r.includes("username")&&(r.includes("exists")||r.includes("taken")||r.includes("duplicate"))?{en:"This username is already taken. Please choose a different username.",ar:"   .     ."}:r.includes("invalid email")||r.includes("email format")?{en:"Please enter a valid email address (example@domain.com).",ar:"      (@.com)."}:r.includes("password")&&(r.includes("requirements")||r.includes("weak")||r.includes("short"))?{en:"Password must be at least 8 characters long and contain uppercase letters, lowercase letters, and numbers.",ar:"       8         ."}:r.includes("network")||r.includes("connection")||r.includes("timeout")?{en:"Network connection error. Please check your internet connection and try again.",ar:"   .        ."}:r.includes("server")||r.includes("500")||r.includes("internal")?{en:"Server is temporarily unavailable. Please try again in a few minutes.",ar:"   .       ."}:r.includes("validation")||r.includes("invalid data")||r.includes("bad request")?{en:"Please check all fields and make sure they are filled correctly.",ar:"         ."}:r.includes("terms")||r.includes("conditions")?{en:"You must accept the terms and conditions to create an account.",ar:"       ."}:{en:e.message||"Registration failed. Please try again.",ar:e.message||"  .    ."}},Ape=(e,t)=>{if(!(e!=null&&e.message))return{en:"Login failed. Please try again.",ar:"  .    ."};const r=e.message.toLowerCase();return r.includes("invalid")&&(r.includes("email")||r.includes("password")||r.includes("credentials"))?{en:"Invalid email or password. Please check your credentials and try again.",ar:"      .       ."}:r.includes("disabled")||r.includes("suspended")||r.includes("blocked")?{en:"Your account has been disabled. Please contact support for assistance.",ar:"  .      ."}:r.includes("too many")||r.includes("attempts")||r.includes("rate limit")?{en:"Too many failed login attempts. Please wait a few minutes before trying again.",ar:"    .        ."}:r.includes("network")||r.includes("connection")||r.includes("timeout")?{en:"Network connection error. Please check your internet connection and try again.",ar:"   .        ."}:r.includes("server")||r.includes("500")||r.includes("internal")?{en:"Server is temporarily unavailable. Please try again in a few minutes.",ar:"   .       ."}:{en:e.message||"Login failed. Please try again.",ar:e.message||"  .    ."}},or=ke.forwardRef(({className:e,type:t="text",leftIcon:r,rightIcon:n,showPasswordToggle:s,error:i,...a},o)=>{const[c,u]=ke.useState(!1),[A,f]=ke.useState(t);ke.useEffect(()=>{f(s&&t==="password"?c?"text":"password":t)},[c,t,s]);const d=()=>{u(!c)};return l.jsxs("div",{className:"relative",children:[r&&l.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:r}),l.jsx("input",{type:A,className:Ka("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"pl-10",(n||s)&&"pr-10",i&&"border-red-500 focus-visible:ring-red-500",e),ref:o,...a}),s&&t==="password"&&l.jsx("button",{type:"button",onClick:d,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:c?l.jsx($O,{className:"h-4 w-4"}):l.jsx(Mo,{className:"h-4 w-4"})}),n&&!s&&l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:n}),i&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]})});or.displayName="Input";const Kt={success:(e,t)=>{const{showSuccess:r}=ir.getState();return r(e,""),{dismiss:()=>{}}},error:(e,t)=>{const{showError:r,showErrorWithAction:n}=ir.getState();return t!=null&&t.action?n(e,"",t.action):r(e,""),{dismiss:()=>{}}},warning:(e,t)=>{const{showWarning:r}=ir.getState();return r(e,""),{dismiss:()=>{}}},info:(e,t)=>{const{showInfo:r}=ir.getState();return r(e,""),{dismiss:()=>{}}},custom:(e,t)=>{const{showInfo:r}=ir.getState();return r(typeof e=="string"?e:"Custom notification",""),{dismiss:()=>{}}},dismiss:()=>{},promise:async(e,t,r)=>{const n=Kt.loading(t.loading);try{const s=await e;return n.dismiss(),Kt.success(t.success),s}catch(s){throw Kt.error(t.error),s}},loading:(e,t)=>{const{showInfo:r}=ir.getState();return r(e,""),{dismiss:()=>{}}}};function cs(){const[e,t]=re.useState(!1);return re.useEffect(()=>{const r=()=>{t(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),{isMobile:e}}const upe=P2({email:rc().email("Please enter a valid email address"),password:rc().min(6,"Password must be at least 6 characters")}),fpe=()=>{var p,m;const e=ls(),{setAuthData:t,clearAuth:r}=os(),{language:n}=ir(),[s,i]=ke.useState(!1),[a,o]=ke.useState(!1),[c,u]=ke.useState(""),{isMobile:A}=cs(),{register:f,handleSubmit:d,formState:{errors:h}}=lp({resolver:Pv(upe)}),g=async x=>{if(!a){o(!0),u("");try{const v=await hn.login(x);if(!v||!v.token||!v.user)throw new Error(n==="ar"?"    ":"Invalid login response");t(v.user,v.token),Kt.success({en:"Welcome back! Login successful",ar:" !    "});const y=localStorage.getItem("attemptedPlan"),w=localStorage.getItem("attemptedBillingCycle");if(y&&w)localStorage.removeItem("attemptedPlan"),localStorage.removeItem("attemptedBillingCycle"),e(`/subscription/checkout?plan=${y}&billing=${w}`);else{const S=localStorage.getItem("attemptedUrl");S?(localStorage.removeItem("attemptedUrl"),e(S)):e("/dashboard")}}catch(v){r();const y=Ape(v);Kt.error(y),u(n==="ar"?y.ar:y.en)}finally{o(!1)}}};return l.jsxs(gt,{className:`w-full ${A?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1",children:[l.jsx(Ft,{className:`text-2xl font-bold text-center ${A?"text-xl":""}`,children:n==="ar"?" ":"Sign In"}),l.jsx(Ds,{className:"text-center",children:n==="ar"?"    ":"Enter your credentials to access your account"})]}),l.jsxs(vt,{children:[l.jsxs("form",{onSubmit:d(g),className:"space-y-4",children:[c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c}),l.jsx("div",{className:"space-y-2",children:l.jsx(or,{...f("email"),type:"email",placeholder:n==="ar"?" ":"Email address",leftIcon:l.jsx(yl,{className:"h-4 w-4"}),error:(p=h.email)==null?void 0:p.message,disabled:a,className:A?"text-sm":""})}),l.jsx("div",{className:"space-y-2",children:l.jsx(or,{...f("password"),type:"password",placeholder:n==="ar"?" ":"Password",leftIcon:l.jsx(fo,{className:"h-4 w-4"}),showPasswordToggle:!0,error:(m=h.password)==null?void 0:m.message,disabled:a,className:A?"text-sm":""})}),l.jsx("div",{className:`flex justify-end ${A?"text-sm":""}`,children:l.jsx(Dt,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 underline",children:n==="ar"?"  ":"Forgot password?"})}),l.jsx(je,{type:"submit",className:`w-full ${A?"h-10 text-sm":""}`,loading:a,disabled:a,loadingText:n==="ar"?"  ...":"Signing in...",children:n==="ar"?" ":"Sign In"})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t border-border"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:n==="ar"?"":"or"})})]}),l.jsx("div",{className:`text-center ${A?"text-sm":""}`,children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[n==="ar"?"   ":"Don't have an account? ",l.jsx(Dt,{to:"/register",className:"text-primary hover:text-primary/80 underline font-medium",children:n==="ar"?"  ":"Sign up"})]})}),!1]})]})},dpe=e=>P2({name:rc().min(2,e==="ar"?"        ":"Name must be at least 2 characters"),email:rc().email(e==="ar"?"     ":"Please enter a valid email address"),password:rc().min(8,e==="ar"?"       8   ":"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,e==="ar"?"             ":"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:rc(),acceptTerms:pX({required_error:e==="ar"?"     ":"You must accept the terms and conditions"}).refine(t=>t===!0,{message:e==="ar"?"     ":"You must accept the terms and conditions"})}).refine(t=>t.password===t.confirmPassword,{message:e==="ar"?"   ":"Passwords don't match",path:["confirmPassword"]}),hpe=()=>{var S,T,j,I;const e=ls(),[t]=tE(),{setAuthData:r,clearAuth:n}=os(),{language:s}=ir(),{isMobile:i}=cs(),[a,o]=ke.useState(!1),[c,u]=ke.useState(""),A=t.get("plan"),f=dpe(s),{register:d,handleSubmit:h,formState:{errors:g},watch:p}=lp({resolver:Pv(f),defaultValues:{acceptTerms:!1}}),m=p("password"),x=p("acceptTerms"),v=async B=>{if(!a){o(!0),u("");try{const C=await hn.register({name:B.name,firstName:B.name,lastName:"",email:B.email,password:B.password,confirmPassword:B.confirmPassword,language:s,acceptTerms:B.acceptTerms});if(!C||!C.token||!C.user)throw new Error(s==="ar"?"   ":"Invalid registration response");r(C.user,C.token),Kt.success({en:"Welcome! Your account has been created successfully",ar:"!    "}),e(A?`/subscription?plan=${A}`:"/dashboard")}catch(C){n();const N=cpe(C);Kt.error(N),u(s==="ar"?N.ar:N.en)}finally{o(!1)}}},w=(B=>{if(!B)return{strength:0,label:""};let C=0;return C=[B.length>=8,/[a-z]/.test(B),/[A-Z]/.test(B),/\d/.test(B),/[!@#$%^&*(),.?":{}|<>]/.test(B)].filter(Boolean).length,{strength:C,label:{en:["Very Weak","Weak","Fair","Good","Strong"],ar:[" ","","","",""]}[s][Math.max(0,C-1)]||""}})(m||"");return l.jsxs(gt,{className:`w-full ${i?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1",children:[l.jsx(Ft,{className:`text-2xl font-bold text-center ${i?"text-xl":""}`,children:s==="ar"?"  ":"Create Account"}),l.jsx(Ds,{className:"text-center",children:s==="ar"?"    ":"Enter your information to create a new account"})]}),l.jsxs(vt,{children:[l.jsxs("form",{onSubmit:h(v),className:"space-y-4",children:[c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(or,{...d("name"),placeholder:s==="ar"?" ":"Full name",leftIcon:l.jsx(ur,{className:"h-4 w-4"}),error:(S=g.name)==null?void 0:S.message,disabled:a,className:i?"text-sm":""}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(pa,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s==="ar"?"    ":"Name should be unique"})]})]}),l.jsx(or,{...d("email"),type:"email",placeholder:s==="ar"?" ":"Email address",leftIcon:l.jsx(yl,{className:"h-4 w-4"}),error:(T=g.email)==null?void 0:T.message,disabled:a,className:i?"text-sm":""}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(or,{...d("password"),type:"password",placeholder:s==="ar"?" ":"Password",leftIcon:l.jsx(fo,{className:"h-4 w-4"}),showPasswordToggle:!0,error:(j=g.password)==null?void 0:j.message,disabled:a,className:i?"text-sm":""}),m&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w.strength<=2?"bg-destructive":w.strength<=3?"bg-yellow-500":"bg-green-500"}`,style:{width:`${w.strength/5*100}%`}})}),l.jsx("span",{className:`text-xs text-muted-foreground min-w-0 ${i?"text-xs":""}`,children:w.label})]})})]}),l.jsx(or,{...d("confirmPassword"),type:"password",placeholder:s==="ar"?"  ":"Confirm password",leftIcon:l.jsx(fo,{className:"h-4 w-4"}),showPasswordToggle:!0,error:(I=g.confirmPassword)==null?void 0:I.message,disabled:a,className:i?"text-sm":""}),l.jsxs("div",{className:`flex items-start space-x-2 ${i?"text-sm":""}`,children:[l.jsx("div",{className:"flex items-center h-5",children:l.jsx("input",{...d("acceptTerms"),type:"checkbox",className:"h-4 w-4 rounded border-border text-primary focus:ring-primary focus:ring-offset-0",disabled:a})}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("label",{className:"text-muted-foreground",children:[s==="ar"?"  ":"I agree to the ",l.jsx(Dt,{to:"/terms",className:"text-primary hover:text-primary/80 underline",children:s==="ar"?" ":"Terms and Conditions"}),s==="ar"?" ":" and ",l.jsx(Dt,{to:"/privacy",className:"text-primary hover:text-primary/80 underline",children:s==="ar"?" ":"Privacy Policy"})]}),g.acceptTerms&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:g.acceptTerms.message})]})]}),l.jsx(je,{type:"submit",className:`w-full ${i?"h-10 text-sm":""}`,loading:a,disabled:a||!x,loadingText:s==="ar"?"  ...":"Creating account...",children:s==="ar"?" ":"Create Account"})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t border-border"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:s==="ar"?"":"or"})})]}),l.jsx("div",{className:`text-center ${i?"text-sm":""}`,children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==="ar"?"   ":"Already have an account? ",l.jsx(Dt,{to:"/login",className:"text-primary hover:text-primary/80 underline font-medium",children:s==="ar"?" ":"Sign in"})]})})]})]})},mpe=P2({email:rc().email("Please enter a valid email address")}),ppe=()=>{var f;const{language:e}=ir(),[t,r]=ke.useState(!1),[n,s]=ke.useState(!1),{isMobile:i}=cs(),{register:a,handleSubmit:o,formState:{errors:c},getValues:u}=lp({resolver:Pv(mpe)}),A=async d=>{r(!0);try{await hn.forgotPassword(d.email),s(!0),Kt.success({en:"Password reset link sent to your email",ar:"         "})}catch{s(!0)}finally{r(!1)}};return n?l.jsxs(gt,{className:`w-full ${i?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Ha,{className:"h-6 w-6 text-green-600"})}),l.jsx(Ft,{className:`text-2xl font-bold ${i?"text-xl":""}`,children:e==="ar"?"   ":"Email Sent"}),l.jsx(Ds,{children:e==="ar"?"          ":"Check your email for a password reset link"})]}),l.jsxs(vt,{className:"space-y-4",children:[l.jsxs("div",{className:`text-center space-y-4 ${i?"text-sm":""}`,children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?"       :":"We sent a password reset link to:"}),l.jsx("p",{className:"font-medium text-foreground",children:u("email")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?"           .":"If you don't see the email, check your spam folder."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(je,{onClick:()=>s(!1),variant:"outline",className:`w-full ${i?"h-10 text-sm":""}`,children:e==="ar"?"  ":"Send Again"}),l.jsx(je,{asChild:!0,variant:"ghost",className:`w-full ${i?"h-10 text-sm":""}`,children:l.jsxs(Dt,{to:"/login",className:"flex items-center justify-center",children:[l.jsx(mc,{className:`w-4 h-4 ${i?"mr-1":"mr-2"}`}),e==="ar"?"  ":"Back to Sign In"]})})]})]})]}):l.jsxs(gt,{className:`w-full ${i?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1",children:[l.jsx(Ft,{className:`text-2xl font-bold text-center ${i?"text-xl":""}`,children:e==="ar"?"  ":"Forgot Password?"}),l.jsx(Ds,{className:"text-center",children:e==="ar"?"         ":"Enter your email address and we'll send you a password reset link"})]}),l.jsxs(vt,{children:[l.jsxs("form",{onSubmit:o(A),className:"space-y-4",children:[l.jsx(or,{...a("email"),type:"email",placeholder:e==="ar"?" ":"Email address",leftIcon:l.jsx(yl,{className:"h-4 w-4"}),error:(f=c.email)==null?void 0:f.message,disabled:t,className:i?"text-sm":""}),l.jsx(je,{type:"submit",className:`w-full ${i?"h-10 text-sm":""}`,loading:t,loadingText:e==="ar"?" ...":"Sending...",children:e==="ar"?"   ":"Send Reset Link"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(je,{asChild:!0,variant:"ghost",className:`w-full ${i?"h-10 text-sm":""}`,children:l.jsxs(Dt,{to:"/login",className:"flex items-center justify-center",children:[l.jsx(mc,{className:`w-4 h-4 ${i?"mr-1":"mr-2"}`}),e==="ar"?"  ":"Back to Sign In"]})})}),l.jsx("div",{className:`mt-6 text-center ${i?"text-sm":""}`,children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[e==="ar"?"   ":"Remember your password? ",l.jsx(Dt,{to:"/login",className:"text-primary hover:text-primary/80 underline font-medium",children:e==="ar"?" ":"Sign in"})]})})]})]})},gpe=P2({password:rc().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:rc()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),xpe=()=>{var y,w;const e=ls(),[t]=tE(),{language:r}=ir(),[n,s]=ke.useState(!1),[i,a]=ke.useState(!1),[o,c]=ke.useState(!0),{isMobile:u}=cs(),A=t.get("token"),{register:f,handleSubmit:d,formState:{errors:h},watch:g}=lp({resolver:Pv(gpe)}),p=g("password");ke.useEffect(()=>{A||c(!1)},[A]);const m=async S=>{var T,j;if(A){s(!0);try{await hn.resetPassword("",A,S.password,S.confirmPassword),a(!0),Kt.success({en:"Password reset successfully",ar:"     "})}catch(I){const B=(I==null?void 0:I.message)||(r==="ar"?"      ":"Failed to reset password");Kt.error({en:B,ar:B}),((T=I==null?void 0:I.message)!=null&&T.includes("invalid")||(j=I==null?void 0:I.message)!=null&&j.includes("expired"))&&c(!1)}finally{s(!1)}}},v=(S=>{if(!S)return{strength:0,label:""};let T=0;return T=[S.length>=8,/[a-z]/.test(S),/[A-Z]/.test(S),/\d/.test(S),/[!@#$%^&*(),.?":{}|<>]/.test(S)].filter(Boolean).length,{strength:T,label:{en:["Very Weak","Weak","Fair","Good","Strong"],ar:[" ","","","",""]}[r][Math.max(0,T-1)]||""}})(p||"");return o?i?l.jsxs(gt,{className:`w-full ${u?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Ha,{className:"h-6 w-6 text-green-600"})}),l.jsx(Ft,{className:`text-2xl font-bold ${u?"text-xl":""}`,children:r==="ar"?"    ":"Password Reset Complete"}),l.jsx(Ds,{children:r==="ar"?"     .       .":"Your password has been successfully reset. You can now sign in with your new password."})]}),l.jsx(vt,{children:l.jsx(je,{asChild:!0,className:`w-full ${u?"h-10 text-sm":""}`,onClick:()=>e("/login"),children:l.jsx(Dt,{to:"/login",children:r==="ar"?" ":"Sign In"})})})]}):l.jsxs(gt,{className:`w-full ${u?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1",children:[l.jsx(Ft,{className:`text-2xl font-bold text-center ${u?"text-xl":""}`,children:r==="ar"?"   ":"Reset Password"}),l.jsx(Ds,{className:"text-center",children:r==="ar"?"   ":"Enter your new password"})]}),l.jsxs(vt,{children:[l.jsxs("form",{onSubmit:d(m),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(or,{...f("password"),type:"password",placeholder:r==="ar"?"  ":"New password",leftIcon:l.jsx(fo,{className:"h-4 w-4"}),showPasswordToggle:!0,error:(y=h.password)==null?void 0:y.message,disabled:n,className:u?"text-sm":""}),p&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${v.strength<=2?"bg-destructive":v.strength<=3?"bg-yellow-500":"bg-green-500"}`,style:{width:`${v.strength/5*100}%`}})}),l.jsx("span",{className:`text-xs text-muted-foreground min-w-0 ${u?"text-xs":""}`,children:v.label})]})})]}),l.jsx(or,{...f("confirmPassword"),type:"password",placeholder:r==="ar"?"  ":"Confirm new password",leftIcon:l.jsx(fo,{className:"h-4 w-4"}),showPasswordToggle:!0,error:(w=h.confirmPassword)==null?void 0:w.message,disabled:n,className:u?"text-sm":""}),l.jsx(je,{type:"submit",className:`w-full ${u?"h-10 text-sm":""}`,loading:n,loadingText:r==="ar"?"  ...":"Resetting...",children:r==="ar"?"   ":"Reset Password"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(je,{asChild:!0,variant:"ghost",className:`w-full ${u?"h-10 text-sm":""}`,children:l.jsx(Dt,{to:"/login",children:r==="ar"?"  ":"Back to Sign In"})})})]})]}):l.jsxs(gt,{className:`w-full ${u?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(pa,{className:"h-6 w-6 text-red-600"})}),l.jsx(Ft,{className:`text-2xl font-bold ${u?"text-xl":""}`,children:r==="ar"?"  ":"Invalid Link"}),l.jsx(Ds,{children:r==="ar"?"         ":"The password reset link is invalid or has expired"})]}),l.jsxs(vt,{className:"space-y-4",children:[l.jsx("div",{className:`text-center space-y-4 ${u?"text-sm":""}`,children:l.jsx("p",{className:"text-sm text-muted-foreground",children:r==="ar"?"       .":"Please request a new password reset link."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(je,{asChild:!0,className:`w-full ${u?"h-10 text-sm":""}`,children:l.jsx(Dt,{to:"/forgot-password",children:r==="ar"?"  ":"Request New Link"})}),l.jsx(je,{asChild:!0,variant:"outline",className:`w-full ${u?"h-10 text-sm":""}`,children:l.jsx(Dt,{to:"/login",children:r==="ar"?"  ":"Back to Sign In"})})]})]})]})},vpe=()=>{const[e]=tE(),{language:t}=ir(),[r,n]=ke.useState(!0),[s,i]=ke.useState(!1),[a,o]=ke.useState(!1),[c,u]=ke.useState(""),[A,f]=ke.useState(!1),{isMobile:d}=cs(),h=e.get("token");ke.useEffect(()=>{h?g(h):(n(!1),o(!0),u(t==="ar"?"  ":"Verification token is missing"))},[h,t]);const g=async m=>{try{await hn.verifyEmail(m),i(!0),Kt.success({en:"Email verified successfully",ar:"    "})}catch(x){o(!0);const v=(x==null?void 0:x.message)||(t==="ar"?"    ":"Email verification failed");u(v),Kt.error({en:v,ar:v})}finally{n(!1)}},p=async()=>{f(!0);try{await hn.resendVerificationEmail(),Kt.success({en:"Verification email sent again",ar:"     "})}catch(m){const x=(m==null?void 0:m.message)||(t==="ar"?"    ":"Failed to send verification email");Kt.error({en:x,ar:x})}finally{f(!1)}};return r?l.jsx(gt,{className:`w-full ${d?"max-w-md mx-4":"max-w-md"}`,children:l.jsxs(St,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:l.jsx(Vn,{className:"h-6 w-6 text-primary animate-spin"})}),l.jsx(Ft,{className:`text-2xl font-bold ${d?"text-xl":""}`,children:t==="ar"?" ...":"Verifying..."}),l.jsx(Ds,{children:t==="ar"?"      ":"Please wait while we verify your email address"})]})}):s?l.jsxs(gt,{className:`w-full ${d?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Ha,{className:"h-6 w-6 text-green-600"})}),l.jsx(Ft,{className:`text-2xl font-bold ${d?"text-xl":""}`,children:t==="ar"?"  !":"Email Verified!"}),l.jsx(Ds,{children:t==="ar"?"    .       .":"Your email has been successfully verified. You can now access all features."})]}),l.jsxs(vt,{className:"space-y-4",children:[l.jsx("div",{className:`text-center space-y-4 ${d?"text-sm":""}`,children:l.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"   Nasabna!      .":"Welcome to Nasabna! Start building your family tree now."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(je,{asChild:!0,className:`w-full ${d?"h-10 text-sm":""}`,children:l.jsx(Dt,{to:"/dashboard",children:t==="ar"?"   ":"Go to Dashboard"})}),l.jsx(je,{asChild:!0,variant:"outline",className:`w-full ${d?"h-10 text-sm":""}`,children:l.jsx(Dt,{to:"/login",children:t==="ar"?" ":"Sign In"})})]})]})]}):a?l.jsxs(gt,{className:`w-full ${d?"max-w-md mx-4":"max-w-md"}`,children:[l.jsxs(St,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(pa,{className:"h-6 w-6 text-red-600"})}),l.jsx(Ft,{className:`text-2xl font-bold ${d?"text-xl":""}`,children:t==="ar"?" ":"Verification Failed"}),l.jsx(Ds,{children:c})]}),l.jsxs(vt,{className:"space-y-4",children:[l.jsx("div",{className:`text-center space-y-4 ${d?"text-sm":""}`,children:l.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"         .":"The verification link may have expired or already been used."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(je,{onClick:p,className:`w-full ${d?"h-10 text-sm":""}`,loading:A,loadingText:t==="ar"?" ...":"Sending...",children:[l.jsx(yl,{className:`w-4 h-4 ${d?"mr-1":"mr-2"}`}),t==="ar"?"   ":"Send New Verification Email"]}),l.jsx(je,{asChild:!0,variant:"outline",className:`w-full ${d?"h-10 text-sm":""}`,children:l.jsx(Dt,{to:"/login",children:t==="ar"?"  ":"Back to Sign In"})})]}),l.jsx("div",{className:`mt-6 text-center ${d?"text-sm":""}`,children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==="ar"?"  ":"Need help? ",l.jsx(Dt,{to:"/contact",className:"text-primary hover:text-primary/80 underline",children:t==="ar"?" ":"Contact support"})]})})]})]}):null},ype=()=>{const[e,t]=re.useState({}),[r,n]=re.useState(!1);return re.useEffect(()=>{const s="deviceMemory"in navigator||"memory"in performance&&performance.memory;if(n(!!s),!s)return;const i=()=>{const o={};if("deviceMemory"in navigator&&(o.deviceMemory=navigator.deviceMemory),"memory"in performance&&performance.memory){const c=performance.memory;o.totalJSHeapSize=c.totalJSHeapSize,o.usedJSHeapSize=c.usedJSHeapSize,o.jsHeapSizeLimit=c.jsHeapSizeLimit,o.isLowMemory=c.usedJSHeapSize>c.jsHeapSizeLimit*.8}t(o)};i();const a=setInterval(i,5e3);return()=>clearInterval(a)},[]),{memoryInfo:e,isSupported:r}},Ah=ke.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Ka("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ah.displayName="Textarea";const Cp=({isOpen:e,onClose:t,title:r,children:n,size:s="md"})=>{if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),l.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:l.jsxs("div",{className:`relative bg-background rounded-lg shadow-xl w-full ${i[s]} max-h-[90vh] overflow-y-auto`,onClick:a=>a.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r&&l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r}),l.jsx(je,{variant:"ghost",size:"icon",onClick:t,className:"text-muted-foreground hover:text-foreground",children:l.jsx(Oo,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"p-4",children:n})]})})]})},MS=({isOpen:e,onClose:t,onSubmit:r,initialData:n,mode:s})=>{const{language:i}=ir(),{trees:a}=Ti(),{isMobile:o}=cs(),c=i==="ar",[u,A]=re.useState(!1),[f,d]=re.useState(null),[h,g]=re.useState({name:(n==null?void 0:n.name)||"",description:(n==null?void 0:n.description)||"",descriptionEn:(n==null?void 0:n.descriptionEn)||"",isPublic:(n==null?void 0:n.isPublic)!==void 0?n.isPublic:!0}),p=async m=>{var x,v;m.preventDefault(),A(!0),d(null);try{if(!h.name.trim())throw new Error(c?"  ":"Tree name is required");let y;if(s==="create")y=await Ht.createTree(h.name,!h.isPublic,h.description);else{if(!(n!=null&&n.id))throw new Error(c?"  ":"Tree ID is missing");y=await Ht.updateTree(parseInt(n.id),h.name,!h.isPublic,h.description)}r({...y,description:h.description,descriptionEn:h.descriptionEn}),t()}catch(y){let w=c?"   ":"Failed to save tree";if(y.response)if(y.response.status===400)if((x=y.response.data)!=null&&x.message){const S=y.response.data.message.toLowerCase();S.includes("duplicate")||S.includes("already exists")||S.includes("in use")||S.includes("unique")?w=c?"   .    .":"Tree name is already in use. Please choose a different name.":w+=`: ${y.response.data.message}`}else w=c?"   .    .":"Tree name is already in use. Please choose a different name.";else(v=y.response.data)!=null&&v.message&&(w+=`: ${y.response.data.message}`);else y.message&&(w+=`: ${y.message}`);d(w)}finally{A(!1)}};return l.jsx(Cp,{isOpen:e,onClose:t,title:s==="create"?o?c?" ":"New Tree":c?"  ":"Create New Tree":c?" ":"Edit Tree",size:o?"xl":"md",children:l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f&&l.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(hc,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-destructive text-sm",children:f})]})}),l.jsx("div",{className:`grid grid-cols-1 ${o?"gap-3":"md:grid-cols-2 gap-4"}`,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:o?c?"":"Name":c?"  *":"Tree Name *"}),l.jsx(or,{value:h.name,onChange:m=>g(x=>({...x,name:m.target.value})),placeholder:c?" ":"Tree Name",required:!0,disabled:u,className:o?"text-sm py-2":""})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:o?c?"":"Description":c?" ":"Tree Description"}),l.jsx(Ah,{value:h.description,onChange:m=>g(x=>({...x,description:m.target.value,descriptionEn:m.target.value})),placeholder:c?" ":"Tree Description",rows:3,disabled:u,className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:`flex ${o?"flex-col gap-2":"gap-3 pt-4"}`,children:[l.jsxs(je,{type:"submit",className:`flex items-center gap-2 ${o?"w-full":""}`,disabled:u,size:o?"sm":"default",children:[u?l.jsx(Vn,{className:`animate-spin ${o?"h-3 w-3":"h-4 w-4"}`}):null,s==="create"?o?c?"":"Create":c?" ":"Create Tree":o?c?"":"Save":c?" ":"Save Changes"]}),l.jsx(je,{variant:"outline",onClick:t,disabled:u,type:"button",className:o?"w-full":"",size:o?"sm":"default",children:c?"":"Cancel"})]})]})})},Mg={getUserTreeLimit:async e=>{try{const r=await fetch(`https://qabael.premiumasp.net/api/FamilyTree/UserTreeLimit/${e}`);if(!r.ok)throw new Error(`Failed to fetch user limits: ${r.status} ${r.statusText}`);return await r.json()}catch(t){throw console.error("Error fetching user limits:",t),t}},getDefaultLimits:()=>({trees:1,people:10,photos:0,documents:0,storage:1073741824,collaborators:1})},ef=()=>{const{user:e,isAuthenticated:t}=os(),[r,n]=re.useState(null),[s,i]=re.useState(null),[a,o]=re.useState(!0),[c,u]=re.useState(null),A=(e==null?void 0:e.role)==="admin",f=re.useCallback(async()=>{try{if(!t||!e){n(Mg.getDefaultLimits()),i({trees:0,people:0,photos:0,documents:0,storage:0,collaborators:0}),o(!1);return}if(A){n({trees:0,people:0,photos:0,documents:0,storage:0,collaborators:0}),i({trees:0,people:0,photos:0,documents:0,storage:0,collaborators:0}),o(!1);return}const m=e.id;if(!m)throw new Error("User ID not found");const x=await Mg.getUserTreeLimit(m);x.plan&&x.limits?n(x.limits):n(Mg.getDefaultLimits());try{const v=await e_.getUsage();i({trees:v.trees,people:v.members,photos:v.photos,documents:v.documents,storage:v.storage,collaborators:0})}catch{i({trees:0,people:0,photos:0,documents:0,storage:0,collaborators:0})}}catch(m){n(Mg.getDefaultLimits());try{const x=await e_.getUsage();i({trees:x.trees,people:x.members,photos:x.photos,documents:x.documents,storage:x.storage,collaborators:0})}catch{i({trees:0,people:0,photos:0,documents:0,storage:0,collaborators:0})}u(m.message||"Failed to fetch subscription limits")}finally{o(!1)}},[t,e,A]),d=re.useCallback(()=>{f()},[f]);return re.useEffect(()=>{f()},[f]),{limits:r,usage:s,isLoading:a,error:c,isLimitReached:(m,x)=>{if(A||!r)return!1;const v=r[m];return v===0?!1:x>=v},getRemainingCount:(m,x)=>{if(A)return 999999;if(!r)return 0;const v=r[m];return v===0?999999:Math.max(0,v-x)},canPerformAction:m=>!0,refreshLimits:d}},pq=({trees:e=[],onCancel:t,onSuccess:r})=>{const[n,s]=re.useState([]),[i,a]=re.useState(!1),[o,c]=re.useState(!1),[u,A]=re.useState(null),{isMobile:f}=cs(),{limits:d,isLimitReached:h}=ef(),{register:g,handleSubmit:p,watch:m,setValue:x,formState:{errors:v}}=lp({defaultValues:{treeId:"",relatedPersonId:"",relationship:"son",fullName:"",gender:"male",birthDate:"",birthPlace:"",occupation:"",isDeceased:!1,deathDate:""}}),y=m("treeId"),w=m("gender"),S=m("isDeceased");re.useEffect(()=>{(async()=>{if(!y){s([]);return}try{c(!0);const B=await Ht.getPersonsInTree(Number(y));let C=[];if(Array.isArray(B))C=B;else if(B&&typeof B=="object"){const k=B;k.data&&Array.isArray(k.data)&&(C=k.data)}const N=C.map(k=>{var G,F,P,L;const E=((G=k.id)==null?void 0:G.toString())||((F=k.ID)==null?void 0:F.toString())||((P=k.Id)==null?void 0:P.toString())||((L=k.personId)==null?void 0:L.toString())||"",U=k.firstName||k.FirstName||k.firstname||k.firstNameEn||k.firstName_en||"",D=k.lastName||k.LastName||k.lastname||k.lastNameEn||k.lastName_en||"",M=k.fullName||k.FullName||k.fullname||k.name||"",Q=k.displayName||k.DisplayName||k.displayname||"",K=k.fullArabicName||k.FullArabicName||k.fullarabicname||"",O=k.arabicName||k.ArabicName||k.arabicname||null;return{id:E,firstName:U||void 0,lastName:D||void 0,fullName:M||void 0,displayName:Q||void 0,fullArabicName:K||void 0,arabicName:O||void 0}});s(N)}catch(B){console.error("Error loading persons:",B),A("Failed to load persons in selected tree")}finally{c(!1)}})()},[y]);const T=()=>w==="male"?[{value:"son",label:"Son"},{value:"husband",label:"Husband"}]:w==="female"?[{value:"daughter",label:"Daughter"},{value:"wife",label:"Wife"}]:[{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"}],j=async I=>{try{a(!0),A(null);let B=0;if(y)try{const N=await Ht.getPersonsInTree(Number(y));B=Array.isArray(N)?N.length:0}catch{console.warn("Could not fetch current person count, using usage data as fallback")}if(d&&h("people",B))throw new Error(`You've reached your person limit of ${d.people}. Please upgrade your subscription to add more people.`);const C=await Ht.addPersonToTree(I.fullName,I.birthDate,I.birthPlace,I.occupation,I.gender,I.deathDate,I.isDeceased,Number(I.treeId));if(I.relatedPersonId&&I.relationship)try{let N="";switch(I.relationship){case"son":N="Child";break;case"daughter":N="Child";break;case"husband":N="Spouse";break;case"wife":N="Spouse";break;default:N=I.relationship}await Ht.addRelationship(Number(I.relatedPersonId),Number(C.id),N)}catch{}r==null||r(C.id)}catch(B){A(B.message||"Failed to create person")}finally{a(!1)}};return l.jsxs("form",{onSubmit:p(j),className:"space-y-6",children:[l.jsxs("div",{className:`grid grid-cols-1 ${f?"gap-4":"md:grid-cols-2 gap-6"}`,children:[l.jsxs("div",{className:f?"":"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Select Tree"}),l.jsxs("select",{...g("treeId",{required:"Tree is required"}),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",disabled:i,children:[l.jsx("option",{value:"",children:"Select a tree"}),e.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]}),v.treeId&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.treeId.message})]}),l.jsxs("div",{className:f?"":"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:f?"Related Person":"Related Person (Optional)"}),l.jsxs("select",{...g("relatedPersonId"),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",disabled:i||o||!y,children:[l.jsx("option",{value:"",children:"Select a person"}),n.map(I=>{let B=`Person ${I.id||"Unknown"}`;const C=I.firstName||I.FirstName||I.firstname||"",N=I.lastName||I.LastName||I.lastname||"",k=I.fullName||I.FullName||I.fullname||I.name||"",E=I.displayName||I.DisplayName||I.displayname||"",U=I.fullArabicName||I.FullArabicName||I.fullarabicname||"",D=I.arabicName||I.ArabicName||I.arabicname||null;if(k&&typeof k=="string"&&k.trim()!=="")B=k;else if(E&&typeof E=="string"&&E.trim()!=="")B=E;else if(C&&typeof C=="string"&&C.trim()!==""||N&&typeof N=="string"&&N.trim()!=="")B=`${C||""} ${N||""}`.trim();else if(U&&typeof U=="string"&&U.trim()!=="")B=U;else if(D&&typeof D=="object"){const M=D.firstName||D.FirstName||D.firstname||"",Q=D.lastName||D.LastName||D.lastname||"",K=`${M||""} ${Q||""}`.trim();K&&(B=K)}return l.jsx("option",{value:I.id,children:B},I.id)})]}),o&&l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Loading persons..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Gender *"}),l.jsxs("select",{...g("gender",{required:"Gender is required"}),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",disabled:i,children:[l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"unknown",children:"Unknown"})]}),v.gender&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.gender.message})]}),l.jsxs("div",{className:f?"":"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:f?"Relationship":"Relationship (Optional)"}),l.jsx("select",{...g("relationship"),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",disabled:i,children:T().map(I=>l.jsx("option",{value:I.value,children:I.label},I.value))})]}),l.jsxs("div",{className:f?"":"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),l.jsx(or,{...g("fullName",{required:"Full name is required"}),placeholder:"Enter full name",disabled:i}),v.fullName&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.fullName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Birth Date"}),l.jsx(or,{type:"date",...g("birthDate"),disabled:i})]}),l.jsxs("div",{className:f?"":"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Birth Place"}),l.jsx(or,{...g("birthPlace"),placeholder:"Enter birth place",disabled:i})]}),l.jsxs("div",{className:f?"":"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Occupation"}),l.jsx(or,{...g("occupation"),placeholder:"Enter occupation",disabled:i})]}),l.jsxs("div",{className:`flex items-center ${f?"":"md:col-span-2"}`,children:[l.jsx("input",{type:"checkbox",...g("isDeceased"),id:"isDeceased",className:"h-4 w-4 rounded border-input text-primary focus:ring-primary",disabled:i}),l.jsx("label",{htmlFor:"isDeceased",className:"ml-2 block text-sm text-foreground",children:"Is Deceased"})]}),S&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Death Date"}),l.jsx(or,{type:"date",...g("deathDate"),disabled:i})]})]}),u&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:u})})]})]})}),l.jsxs("div",{className:`flex ${f?"flex-col gap-2":"justify-end space-x-3"}`,children:[l.jsx(je,{type:"button",variant:"outline",onClick:t,disabled:i,className:f?"w-full":"",children:"Cancel"}),l.jsx(je,{type:"submit",loading:i,className:f?"w-full":"",children:"Create Person"})]})]})},wpe=({isOpen:e,onClose:t,trees:r,onSuccess:n})=>l.jsx(Cp,{isOpen:e,onClose:t,title:"Add New Person",size:"lg",children:l.jsx("div",{className:"p-4",children:l.jsx(pq,{trees:r,onCancel:t,onSuccess:s=>{n==null||n(s),t()}})})}),$w=({current:e,limit:t,label:r,showPercentage:n=!0})=>{const s=t>0?Math.min(100,e/t*100):0,i=e>t&&t>0,a=s>=80&&s<100;return l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-muted-foreground",children:r}),l.jsxs("span",{className:"font-medium",children:[e," ",t>0?`/ ${t}`:"/ ",n&&t>0&&l.jsxs("span",{className:"ml-2 text-xs",children:["(",Math.round(s),"%)"]})]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${i?"bg-destructive":a?"bg-yellow-500 dark:bg-yellow-600":"bg-primary"}`,style:{width:`${Math.min(100,s)}%`}})})]})},bpe=()=>{const{limits:e,usage:t,isLoading:r,error:n}=ef(),{language:s}=ir();if(r)return l.jsx(gt,{children:l.jsx(vt,{className:"p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-3/4"}),l.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]})})});if(n)return l.jsx(gt,{className:"border-destructive",children:l.jsx(vt,{className:"p-4",children:l.jsxs("div",{className:"flex items-center text-destructive",children:[l.jsx(pa,{className:"h-5 w-5 mr-2"}),l.jsx("span",{children:s==="ar"?"    ":"Failed to load subscription status"})]})})});if(!e||!t)return null;const i=e.trees>0?Math.min(100,t.trees/e.trees*100):0,a=e.people>0?Math.min(100,t.people/e.people*100):0,o=e.storage>0?Math.min(100,t.storage/e.storage*100):0,c=i>100||a>100||o>100,u=!c&&(i>=80||a>=80||o>=80);return l.jsx(gt,{children:l.jsxs(vt,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-medium",children:s==="ar"?" ":"Subscription Usage"}),c?l.jsxs("div",{className:"flex items-center text-destructive text-sm",children:[l.jsx(pa,{className:"h-4 w-4 mr-1"}),s==="ar"?" ":"Over limit"]}):u?l.jsxs("div",{className:"flex items-center text-yellow-600 dark:text-yellow-500 text-sm",children:[l.jsx(Ed,{className:"h-4 w-4 mr-1"}),s==="ar"?" ":"Near limit"]}):l.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-500 text-sm",children:[l.jsx(Ha,{className:"h-4 w-4 mr-1"}),s==="ar"?"":"Good"]})]}),l.jsx($w,{current:t.trees,limit:e.trees,label:s==="ar"?"":"Trees"}),l.jsx($w,{current:t.people,limit:e.people,label:s==="ar"?" ":"Family Members"}),l.jsx($w,{current:Math.round(t.storage/(1024*1024)),limit:Math.round(e.storage/(1024*1024)),label:s==="ar"?" ()":"Storage (MB)"}),(c||u)&&l.jsx("div",{className:`mt-3 p-3 rounded-md text-sm ${c?"bg-destructive/10 text-destructive":"bg-yellow-500/10 text-yellow-700 dark:text-yellow-500"}`,children:c?s==="ar"?"   .      .":"You have exceeded your subscription limits. Please upgrade your subscription plan.":s==="ar"?"    .        .":"You are approaching your subscription limits. Please consider upgrading your subscription plan."})]})})},Bpe=()=>{const{user:e,getCurrentUser:t}=os(),{language:r,showError:n}=ir(),{trees:s,fetchTrees:i}=Ti(),{limits:a,usage:o}=ef();ls();const{memoryInfo:c,isSupported:u}=ype(),[A,f]=re.useState({trees:0,people:0,photos:0,documents:0}),[d,h]=re.useState([]),[g,p]=re.useState([]),[m,x]=re.useState(!0),[v,y]=re.useState(null),[w,S]=re.useState(!0),[T,j]=re.useState(!1),[I,B]=re.useState(!1),C=re.useCallback(async()=>{try{await t()}catch{n({en:"Failed to update user data",ar:"    "},{en:"An error occurred while updating your user information",ar:"       "})}},[t,n]);re.useEffect(()=>{e!=null&&e.firstName||C()},[C,e==null?void 0:e.firstName]);const N=re.useCallback(async(M=0)=>{var Q,K,O;try{y(null),navigator.deviceMemory&&navigator.deviceMemory<2,w&&x(!0),await Promise.race([i(),new Promise((X,se)=>setTimeout(()=>se(new Error("Request timeout")),35e3))]);const z=s.length;let G=0,F=0,P=0;s.forEach(X=>{var se,ae,W;G+=((se=X.stats)==null?void 0:se.totalPeople)||0,F+=((ae=X.stats)==null?void 0:ae.totalPhotos)||0,P+=((W=X.stats)==null?void 0:W.totalDocuments)||0}),f({trees:z,people:G,photos:F,documents:P}),h([{id:1,type:"person_added",message:r==="ar"?"      ":"Added Ahmed Mohamed to Family Tree",time:"2 hours ago",icon:qr},{id:2,type:"photo_uploaded",message:r==="ar"?"     ":"Uploaded new photo for Fatima Ali",time:"1 day ago",icon:hp},{id:3,type:"tree_created",message:r==="ar"?"    ":"Created new family tree",time:"3 days ago",icon:Fd}]),p([{id:1,type:"missing_parent",title:r==="ar"?"  ":"Add Parent Information",description:r==="ar"?"    ":"Add parent information for Ahmed Mohamed",priority:"high"},{id:2,type:"missing_photo",title:r==="ar"?"  ":"Add Profile Photo",description:r==="ar"?"   ":"Add a photo for Fatima Ali",priority:"medium"},{id:3,type:"missing_birth_date",title:r==="ar"?"  ":"Add Birth Date",description:r==="ar"?"    ":"Add birth date for Mohamed Ahmed",priority:"low"}])}catch(z){z.code==="ECONNABORTED"||z.message.includes("timeout")?(y(r==="ar"?"  .         .":"Connection timeout. Please check your internet connection and try again."),n({en:"Connection Timeout",ar:"  "},{en:"Connection timeout. Please check your internet connection and try again.",ar:"  .         ."})):z.code==="ERR_NETWORK"||z.message.includes("ERR_INSUFFICIENT_RESOURCES")?(y(r==="ar"?"  .       .":"Your system is low on resources. Please close other tabs and try again."),n({en:"Low System Resources",ar:"  "},{en:"Your system is low on resources. Please close other tabs and try again.",ar:"  .       ."})):((Q=z.response)==null?void 0:Q.status)===401?(y(r==="ar"?"   .     .":"Unauthorized access. Please log in again."),n({en:"Unauthorized Access",ar:"  "},{en:"Unauthorized access. Please log in again.",ar:"   .     ."})):((K=z.response)==null?void 0:K.status)>=500?(y(r==="ar"?"  .     .":"Server error. Please try again later."),n({en:"Server Error",ar:"  "},{en:"Server error. Please try again later.",ar:"  .     ."})):((O=z.response)==null?void 0:O.status)>=400?(y(r==="ar"?"  .    .":"Invalid request. Please try again."),n({en:"Invalid Request",ar:"  "},{en:"Invalid request. Please try again.",ar:"  .    ."})):navigator.onLine?(y(r==="ar"?"   .    .":"Failed to load data. Please try again."),n({en:"Failed to Load Data",ar:"   "},{en:"Failed to load data. Please try again.",ar:"   .    ."})):(y(r==="ar"?"   .    .":"You are offline. Please check your internet connection."),n({en:"Offline",ar:"  "},{en:"You are offline. Please check your internet connection.",ar:"   .    ."}))}finally{x(!1),S(!1)}},[r,i,s.length,n]);re.useEffect(()=>{N()},[N]);const k=[{title:r==="ar"?"  ":"Add New Person",description:r==="ar"?"     ":"Add a new family member to your tree",icon:fx,action:()=>B(!0),color:"bg-blue-500",disabled:!a||a.people>0&&o&&o.people>=a.people},{title:r==="ar"?"  ":"Create New Tree",description:r==="ar"?"   ":"Start a new family tree",icon:cn,action:()=>j(!0),color:"bg-green-500",disabled:a&&a.trees>0&&A.trees>=a.trees}],E=()=>l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((M,Q)=>l.jsxs(gt,{children:[l.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx("div",{className:"h-4 w-24 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-4 w-4 bg-muted rounded-full animate-pulse"})]}),l.jsxs(vt,{children:[l.jsx("div",{className:"h-6 w-8 bg-muted rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})]},Q))}),U=()=>l.jsxs("div",{children:[l.jsx("div",{className:"h-6 w-32 bg-muted rounded animate-pulse mb-4"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((M,Q)=>l.jsx(gt,{className:"h-24",children:l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsx("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})},Q))})]}),D=()=>l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse"})}),l.jsx(vt,{children:l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,Q)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-muted rounded-full animate-pulse"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[l.jsx("div",{className:"h-4 w-48 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-20 bg-muted rounded animate-pulse"})]})]},Q))})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse"})}),l.jsx(vt,{children:l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,Q)=>l.jsxs("div",{className:"flex items-start justify-between p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 w-32 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-40 bg-muted rounded animate-pulse"})]}),l.jsx("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"})]},Q))})})]})]});return m&&w?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h-8 w-48 bg-muted rounded animate-pulse mb-2"}),l.jsx("div",{className:"h-4 w-64 bg-muted rounded animate-pulse"})]}),l.jsx("div",{className:"mt-4 sm:mt-0",children:l.jsx("div",{className:"h-10 w-32 bg-muted rounded animate-pulse"})})]}),l.jsx(E,{}),l.jsx(U,{}),l.jsx(D,{})]}):v?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx(pa,{className:"h-12 w-12 text-red-500"}),l.jsx("h3",{className:"text-xl font-medium text-foreground",children:r==="ar"?" ":"An error occurred"}),l.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:v}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{onClick:()=>N(),children:[l.jsx(gc,{className:"mr-2 h-4 w-4"}),r==="ar"?" ":"Try Again"]}),l.jsx(je,{variant:"outline",asChild:!0,children:l.jsx(Dt,{to:"/trees",children:r==="ar"?" ":"View Trees"})})]})]}):l.jsxs("div",{className:"space-y-8",children:[u&&c.isLowMemory&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(pa,{className:"h-5 w-5 text-yellow-400"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-yellow-700",children:r==="ar"?"  .       .":"Your system is low on resources. Please close other tabs to improve performance."})})]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:r==="ar"?` ${(e==null?void 0:e.firstName)||(e==null?void 0:e.email)||""}!`:`Welcome back, ${(e==null?void 0:e.firstName)||(e==null?void 0:e.email)||"User"}!`}),l.jsx("p",{className:"mt-2 text-muted-foreground",children:r==="ar"?"     ":"Here's an overview of your family tree"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 sm:mt-0",children:[(e==null?void 0:e.role)==="admin"&&l.jsx(je,{asChild:!0,variant:"outline",children:l.jsxs(Dt,{to:"/admin/dashboard",children:[l.jsx(Cm,{className:"mr-2 h-4 w-4"}),r==="ar"?" ":"Admin Dashboard"]})}),l.jsx(je,{asChild:!0,children:l.jsxs(Dt,{to:"/trees",children:[r==="ar"?"  ":"View All Trees",l.jsx(Eo,{className:"mr-2 h-4 w-4"})]})})]})]}),m?l.jsx(E,{}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(gt,{children:[l.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ft,{className:"text-sm font-medium",children:r==="ar"?" ":"Family Trees"}),l.jsx(cn,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(vt,{children:[l.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:A.trees}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[r==="ar"?" ":"of"," ",(a==null?void 0:a.trees)===0?"":(a==null?void 0:a.trees)||"1"," ",r==="ar"?"":"allowed"]}),a&&a.trees>0&&l.jsx("div",{className:"w-16 bg-muted rounded-full h-1.5",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${Math.min(100,A.trees/a.trees*100)}%`}})})]})]})]}),l.jsxs(gt,{children:[l.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ft,{className:"text-sm font-medium",children:r==="ar"?" ":"Family Members"}),l.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(vt,{children:[l.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:A.people}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[r==="ar"?" ":"of"," ",(a==null?void 0:a.people)===0?"":(a==null?void 0:a.people)||"10"," ",r==="ar"?"":"per tree"]}),o&&a&&a.people>0&&l.jsx("div",{className:"w-16 bg-muted rounded-full h-1.5",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${Math.min(100,o.people/a.people*100)}%`}})})]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:k.map((M,Q)=>l.jsx(gt,{className:`cursor-pointer hover:shadow-md transition-shadow ${M.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:M.disabled?void 0:M.action,children:l.jsxs(vt,{className:"p-6 flex flex-col items-center text-center",children:[l.jsx("div",{className:`w-12 h-12 ${M.color} rounded-full flex items-center justify-center mb-4`,children:l.jsx(M.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h3",{className:`font-semibold ${M.disabled?"text-muted-foreground":"text-foreground"} mb-2`,children:M.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:M.description}),M.disabled&&l.jsx("p",{className:"text-xs text-destructive mt-2",children:r==="ar"?"   ":"Limit reached"})]})},Q))}),l.jsx(MS,{isOpen:T,onClose:()=>j(!1),mode:"create",onSubmit:()=>{j(!1),N()}}),l.jsx(wpe,{isOpen:I,onClose:()=>B(!1),trees:s,onSuccess:()=>{N()}}),(e==null?void 0:e.subscription)&&l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(ux,{className:"h-5 w-5 mr-2"}),r==="ar"?" ":"Subscription Status"]}),l.jsx("span",{className:`px-3 py-1 text-xs rounded-full ${e.subscription.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"}`,children:e.subscription.status==="active"?r==="ar"?"":"Active":r==="ar"?"":"Expired"})]})}),l.jsxs(vt,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-foreground",children:[r==="ar"?" :":"Current Plan:",l.jsx("span",{className:"font-medium ml-1 capitalize",children:e.subscription.plan})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[r==="ar"?" :":"Expires on:",new Date(e.subscription.currentPeriodEnd).toLocaleDateString()]})]}),l.jsx(je,{asChild:!0,variant:"outline",className:"mt-4 sm:mt-0",children:l.jsx(Dt,{to:"/subscription",children:r==="ar"?" ":"Manage Subscription"})})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium",children:r==="ar"?"":"Trees"}),l.jsxs("p",{className:"text-lg font-bold",children:[A.trees," ",l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/ ",(a==null?void 0:a.trees)===0?"":(a==null?void 0:a.trees)||1]})]}),a&&a.trees>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-1",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${Math.min(100,A.trees/a.trees*100)}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium",children:r==="ar"?"":"People"}),l.jsxs("p",{className:"text-lg font-bold",children:[(o==null?void 0:o.people)||0," ",l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/ ",(a==null?void 0:a.people)===0?"":(a==null?void 0:a.people)||10]})]}),o&&a&&a.people>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-1",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${Math.min(100,o.people/a.people*100)}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium",children:r==="ar"?"":"Photos"}),l.jsxs("p",{className:"text-lg font-bold",children:[(o==null?void 0:o.photos)||0," ",l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/ ",(a==null?void 0:a.photos)===0?"":(a==null?void 0:a.photos)||0]})]}),o&&a&&a.photos>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-1",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${Math.min(100,o.photos/a.photos*100)}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium",children:r==="ar"?"":"Storage"}),l.jsxs("p",{className:"text-lg font-bold",children:[o!=null&&o.storage?`${(o.storage/(1024*1024)).toFixed(0)}MB`:"0MB"," ",l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/ ",(a==null?void 0:a.storage)===0?"":`${(((a==null?void 0:a.storage)||1073741824)/(1024*1024*1024)).toFixed(1)}GB`]})]}),o&&a&&a.storage>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-1",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${Math.min(100,o.storage/a.storage*100)}%`}})})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx(bpe,{})})]})]})]})},yn=({variant:e="default",className:t,children:r,...n})=>{const s={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input bg-background hover:bg-accent hover:text-accent-foreground"};return l.jsx("div",{className:Ka("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",s[e],t),...n,children:r})},RS=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i,cancelText:a,variant:o="default"})=>{const{language:c}=ir(),u=f=>f?typeof f=="string"?f:f[c]:"",A=()=>{r(),t()};return l.jsx(Cp,{isOpen:e,onClose:t,title:u(n),size:"sm",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"text-foreground",children:u(s)}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(je,{variant:"outline",onClick:t,children:u(a)||(c==="ar"?"":"Cancel")}),l.jsx(je,{variant:o,onClick:A,children:u(i)||(c==="ar"?"":"Confirm")})]})]})})},Npe=()=>{const{language:e}=ir(),{trees:t,publicTrees:r,fetchTrees:n,fetchPublicTrees:s,deleteTree:i,isLoading:a,error:o}=Ti(),{limits:c,isLimitReached:u}=ef(),{isMobile:A}=cs(),f=ls(),[d,h]=re.useState(""),[g,p]=re.useState(null),[m,x]=re.useState(null),[v,y]=re.useState("myTrees"),[w,S]=re.useState(!1),[T,j]=re.useState(!1),[I,B]=re.useState(null),C=e==="ar",N=u("trees",t.length);re.useEffect(()=>{n(),s()},[n,s]);const k=async L=>{B(L),j(!0)},E=async()=>{if(I)try{x(I),await i(I)}catch{p(e==="ar"?"   ":"Failed to delete tree"),setTimeout(()=>p(null),3e3)}finally{x(null),B(null)}},U=t.filter(L=>{var q,X;return((q=L.name)==null?void 0:q.toLowerCase().includes(d.toLowerCase()))||((X=L.description)==null?void 0:X.toLowerCase().includes(d.toLowerCase()))}),D=r.filter(L=>{var q,X;return((q=L.name)==null?void 0:q.toLowerCase().includes(d.toLowerCase()))||((X=L.description)==null?void 0:X.toLowerCase().includes(d.toLowerCase()))}),M=L=>({family:e==="ar"?"":"Family",research:e==="ar"?"":"Research",historical:e==="ar"?"":"Historical",other:e==="ar"?"":"Other"})[L]||L,Q=L=>{const q={family:"bg-blue-100 text-blue-800",research:"bg-purple-100 text-purple-800",historical:"bg-green-100 text-green-800",other:"bg-gray-100 text-gray-800"};return q[L]||q.other},K=o||g,O=v==="myTrees"?U:D,z=a&&v==="myTrees",G=a&&v==="publicTrees",F=L=>{n()},P=()=>{if(N){const L=(c==null?void 0:c.trees)||1,q=C?`       (${L} ).     .`:`You've reached the maximum number of trees (${L} trees). Please upgrade your subscription to create more.`;Kt.error({en:q,ar:q},{action:{label:C?" ":"Upgrade Subscription",onClick:()=>window.location.assign("/subscription/plans")}});return}S(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`flex ${A?"flex-col gap-4":"flex-col sm:flex-row sm:items-center sm:justify-between"}`,children:[l.jsxs("div",{children:[l.jsx("h1",{className:`font-bold text-foreground ${A?"text-2xl":"text-3xl"}`,children:e==="ar"?" ":"Family Trees"}),l.jsx("p",{className:`mt-2 text-muted-foreground ${A?"text-sm":""}`,children:e==="ar"?"        ":"Manage and view all your family trees and public trees"})]}),l.jsxs("div",{className:A?"w-full":"mt-4 sm:mt-0",children:[N&&l.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[l.jsx(hc,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-yellow-800",children:C?"      .     .":"You've reached the maximum number of trees. Please upgrade your subscription to create more."})]}),l.jsxs(je,{onClick:P,className:"w-full",size:A?"sm":"default",disabled:N,children:[l.jsx(Fd,{className:`mr-2 h-4 w-4 ${A?"h-3 w-3":""}`}),A?e==="ar"?"":"Create":e==="ar"?"  ":"Create New Tree"]})]})]}),l.jsx("div",{className:`border-b border-border ${A?"overflow-x-auto":""}`,children:l.jsxs("nav",{className:`flex ${A?"space-x-4 min-w-max":"space-x-8"}`,children:[l.jsxs("button",{onClick:()=>y("myTrees"),className:`py-3 px-1 border-b-2 font-medium text-sm ${v==="myTrees"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted"} ${A?"text-xs py-2":""}`,children:[e==="ar"?"":"My Trees",l.jsx("span",{className:`ml-2 text-xs rounded-full px-2 py-0.5 ${A?"text-xs px-1.5 py-0.5":""} bg-muted text-muted-foreground`,children:t.length})]}),l.jsxs("button",{onClick:()=>y("publicTrees"),className:`py-3 px-1 border-b-2 font-medium text-sm ${v==="publicTrees"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted"} ${A?"text-xs py-2":""}`,children:[e==="ar"?" ":"Public Trees",l.jsx("span",{className:`ml-2 text-xs rounded-full px-2 py-0.5 ${A?"text-xs px-1.5 py-0.5":""} bg-muted text-muted-foreground`,children:r.length})]})]})}),l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:`absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground ${A?"left-2 h-3 w-3":""}`}),l.jsx(or,{placeholder:e==="ar"?"  ...":"Search trees...",value:d,onChange:L=>h(L.target.value),className:`pl-10 ${A?"pl-8 text-sm":""}`})]}),K&&l.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:l.jsx("p",{className:"text-destructive text-sm",children:K})}),(z||G)&&v==="myTrees"&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Vn,{className:"h-8 w-8 animate-spin text-primary"})}),!a&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.length===0?l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(cn,{className:"mx-auto h-12 w-12 text-muted-foreground"}),l.jsx("h3",{className:"mt-4 font-medium",children:v==="myTrees"?e==="ar"?"   ":"No trees yet":e==="ar"?"   ":"No public trees"}),l.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:v==="myTrees"?e==="ar"?"    ":"Get started by creating a new family tree":e==="ar"?"     ":"No public trees available at the moment"})]}):O.map(L=>{var q,X;return l.jsxs(gt,{className:"overflow-hidden",children:[l.jsxs("div",{className:"relative",children:[L.photoUrl?l.jsx("img",{src:L.photoUrl,alt:e==="ar"?" ":"Tree photo",className:"w-full h-48 object-cover"}):l.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center",children:l.jsx(cn,{className:"h-16 w-16 text-primary/30"})}),l.jsx("div",{className:"absolute top-3 right-3",children:l.jsx(yn,{className:Q(L.category||"other"),children:M(L.category||"other")})}),L.isPrivate&&l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx(fo,{className:"h-5 w-5 text-white drop-shadow"})})]}),l.jsxs(St,{className:"pb-2",children:[l.jsxs(Ft,{className:"flex items-center justify-between",children:[l.jsx("span",{className:"truncate",children:L.name}),((q=L.owner)==null?void 0:q.id)&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(ur,{className:"h-3 w-3"}),l.jsxs("span",{children:[L.owner.firstName," ",L.owner.lastName]})]})]}),l.jsx(Ds,{className:"line-clamp-2 text-sm",children:L.description||(e==="ar"?"  ":"No description")})]}),l.jsxs(vt,{children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(qr,{className:"h-4 w-4"}),l.jsxs("span",{children:[((X=L.stats)==null?void 0:X.totalPeople)||0," ",e==="ar"?"":"people"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ys,{className:"h-4 w-4"}),l.jsx("span",{children:new Date(L.createdAt||"").toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>f(`/trees/${L.id}`),children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),e==="ar"?"":"View"]}),v==="myTrees"&&l.jsxs(l.Fragment,{children:[l.jsx(je,{size:"sm",variant:"outline",onClick:()=>f(`/trees/${L.id}/edit`),children:l.jsx(Ro,{className:"h-4 w-4"})}),l.jsx(je,{size:"sm",variant:"outline",onClick:()=>k(L.id),disabled:m===L.id,children:m===L.id?l.jsx(Vn,{className:"h-4 w-4 animate-spin"}):l.jsx(wl,{className:"h-4 w-4"})})]})]})]})]},L.id)})}),l.jsx(RS,{isOpen:T,onClose:()=>j(!1),onConfirm:E,title:e==="ar"?" ":"Confirm Deletion",message:e==="ar"?"              .":"Are you sure you want to delete this tree?you will lose all data associated with this tree.",confirmText:e==="ar"?"":"Delete",cancelText:e==="ar"?"":"Cancel",variant:"destructive"}),l.jsx(MS,{isOpen:w,onClose:()=>S(!1),mode:"create",onSubmit:F})]})},_pe="modulepreload",Cpe=function(e){return"/"+e},hT={},Y1=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Cpe(c),c in hT)return;hT[c]=!0;const u=c.endsWith(".css"),A=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${A}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_pe,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Km=({isOpen:e,onClose:t,onSubmit:r,familyTreeId:n,familyMembers:s,relationships:i=[],initialData:a,initialRelationshipData:o,mode:c})=>{const{language:u,theme:A}=ir(),{limits:f,isLimitReached:d}=ef(),{isMobile:h}=cs(),g=u==="ar",[p,m]=re.useState(!1),[x,v]=re.useState(null),[y,w]=re.useState({name:(a==null?void 0:a.name)||"",gender:(a==null?void 0:a.gender)||"male",birthDate:(a==null?void 0:a.birthDate)||"",deathDate:(a==null?void 0:a.deathDate)||"",birthPlace:(a==null?void 0:a.birthPlace)||"",birthPlaceEn:(a==null?void 0:a.birthPlaceEn)||"",occupation:(a==null?void 0:a.occupation)||"",occupationEn:(a==null?void 0:a.occupationEn)||"",isAlive:(a==null?void 0:a.isAlive)!==void 0?a.isAlive:!0,parentId:(o==null?void 0:o.parentId)||"",relationshipType:(o==null?void 0:o.relationshipType)||"",motherId:"",fatherId:"",motherSelection:""}),[S,T]=re.useState([]),[j,I]=re.useState(!1),[B,C]=re.useState(""),N=Q=>{const K=[];return i&&Array.isArray(i)&&i.filter(z=>{var X,se;const G=["Spouse","spouse","Husband","husband","Wife","wife"].includes(z.relationshipType),F=Q.toString(),P=(X=z.personId)==null?void 0:X.toString(),L=(se=z.relatedPersonId)==null?void 0:se.toString();return G&&(P===F||L===F)}).forEach(z=>{var X,se;const G=(X=z.personId)==null?void 0:X.toString(),F=(se=z.relatedPersonId)==null?void 0:se.toString(),P=Q.toString(),L=G===P?F:G,q=s.find(ae=>ae.id.toString()===L);q&&K.push(q)}),K.length===0&&s.forEach(O=>{var G,F;let z=!1;if((G=O.relationships)!=null&&G.spouses&&(z=O.relationships.spouses.some(P=>typeof P=="string"?P===Q:typeof P=="object"&&P.id?P.id===Q:!1)),!z&&((F=O.relationships)!=null&&F.spouse)){const P=O.relationships.spouse;typeof P=="string"?z=P===Q:typeof P=="object"&&P.id&&(z=P.id===Q)}!z&&O.relationships&&Array.isArray(O.relationships)&&(z=O.relationships.some(P=>(P.type==="spouse"||P.relationshipType==="spouse")&&(P.personId===Q||P.id===Q))),!z&&O.spouseIds&&Array.isArray(O.spouseIds)&&(z=O.spouseIds.includes(Q)),z&&K.push(O)}),K},k=Q=>{let K=null,O=null,z=null,G=null;return i&&Array.isArray(i)&&i.filter(P=>{var se;const L=P.relationshipType==="Child",q=Q.toString(),X=(se=P.relatedPersonId)==null?void 0:se.toString();return L&&X===q}).forEach(P=>{var X;const L=(X=P.personId)==null?void 0:X.toString(),q=s.find(se=>se.id.toString()===L);q&&(q.gender==="male"?(K=q,z=P.id):q.gender==="female"&&(O=q,G=P.id))}),{father:K,mother:O,fatherRelationshipId:z,motherRelationshipId:G}};re.useEffect(()=>{if(y.parentId&&(y.relationshipType==="son"||y.relationshipType==="daughter")){const Q=N(y.parentId);T(Q),I(Q.length>0),C("")}else T([]),I(!1),C("")},[y.parentId,y.relationshipType,s]),re.useEffect(()=>{if(a&&w(Q=>({...Q,name:a.name||"",gender:a.gender||"male",birthDate:a.birthDate||"",deathDate:a.deathDate||"",birthPlace:a.birthPlace||"",birthPlaceEn:a.birthPlaceEn||"",occupation:a.occupation||"",occupationEn:a.occupationEn||"",isAlive:a.isAlive!==void 0?a.isAlive:!0})),o&&w(Q=>({...Q,parentId:o.parentId||"",relationshipType:o.relationshipType||""})),c==="edit"&&(a!=null&&a.id)){const{father:Q,mother:K}=k(a.id);Q&&w(O=>({...O,fatherId:Q.id})),K&&(w(O=>({...O,motherId:K.id})),C(K.id))}},[a,o,c]);const E=Q=>{C(""),w(K=>({...K,parentId:Q}))},U=()=>y.gender==="male"?[{value:"son",label:g?"":"Son"},{value:"husband",label:g?"":"Husband"}]:y.gender==="female"?[{value:"daughter",label:g?"":"Daughter"},{value:"wife",label:g?"":"Wife"}]:[{value:"son",label:g?"":"Son"},{value:"daughter",label:g?"":"Daughter"},{value:"husband",label:g?"":"Husband"},{value:"wife",label:g?"":"Wife"}],D=async Q=>{var K,O,z,G,F;Q.preventDefault(),m(!0),v(null);try{if(!y.name.trim())throw new Error(g?"   ":"Please enter a member name");if(c==="create"&&f&&d("people",s.length)){const L=f.people;throw new Error(g?`          (${L} ).     .`:`You've reached the maximum number of people in this tree (${L} people). Please upgrade your subscription to add more.`)}if(c==="create"&&y.parentId&&(y.relationshipType==="father"||y.relationshipType==="mother")){const L=s.find(q=>q.id===y.parentId);if(L&&L.relationships){if(y.relationshipType==="father"&&L.relationships.father)throw new Error(g?"     .":" This person already has a father.");if(y.relationshipType==="mother"&&L.relationships.mother)throw new Error(g?"     .":" This person already has a mother.")}}let P;if(c==="create"){if(P=await Ht.addPersonToTree(y.name,y.birthDate||"",g?y.birthPlace||"":y.birthPlaceEn||"",g?y.occupation||"":y.occupationEn||"",y.gender||"unknown",y.deathDate||"",!y.isAlive,parseInt(n)),y.parentId&&y.relationshipType)try{let L="";switch(y.relationshipType){case"son":L="Child";break;case"daughter":L="Child";break;case"husband":L="Spouse";break;case"wife":L="Spouse";break;default:L=y.relationshipType}y.relationshipType==="son"||y.relationshipType==="daughter"?(await Ht.addRelationship(parseInt(y.parentId),parseInt(P.id),L),B&&await Ht.addRelationship(parseInt(B),parseInt(P.id),L)):y.relationshipType==="father"||y.relationshipType==="mother"?await Ht.addRelationship(parseInt(P.id),parseInt(y.parentId),L):await Ht.addRelationship(parseInt(y.parentId),parseInt(P.id),L)}catch(L){console.error("Error adding relationship:",L)}}else{if(!(a!=null&&a.id))throw new Error(g?"     .    ":"Error updating member data. Please try again");if(P=await Ht.updatePerson(parseInt(a.id),y.name,y.birthDate||"",g?y.birthPlace||"":y.birthPlaceEn||"",g?y.occupation||"":y.occupationEn||"",y.gender||"unknown",parseInt(n)),a.id)try{const{father:L,mother:q,fatherRelationshipId:X,motherRelationshipId:se}=k(a.id);if(y.fatherId!==((L==null?void 0:L.id)||"")){if(X)try{await Ht.deleteRelationship(X)}catch(ae){console.error("Error deleting father relationship:",ae)}y.fatherId&&await Ht.addRelationship(parseInt(y.fatherId),parseInt(a.id),"Child")}if(y.motherId!==((q==null?void 0:q.id)||"")){if(se)try{await Ht.deleteRelationship(se)}catch(ae){console.error("Error deleting mother relationship:",ae)}y.motherId&&await Ht.addRelationship(parseInt(y.motherId),parseInt(a.id),"Child")}}catch(L){console.error("Error updating parent relationships:",L)}}r(P),t()}catch(P){let L=g?"     .    ":"Error saving member data. Please try again";((K=P.response)==null?void 0:K.status)===400?L=g?"    ":"Please check the entered data":((O=P.response)==null?void 0:O.status)===401?L=g?"     ":"You must be logged in to perform this action":((z=P.response)==null?void 0:z.status)===403?L=g?"     ":"You do not have permission to perform this action":((G=P.response)==null?void 0:G.status)===404?L=g?"     ":"The requested member was not found":((F=P.response)==null?void 0:F.status)===500?L=g?"   .     ":"Server error. Please try again later":P.message&&(P.message.includes("Network Error")?L=g?"  .     ":"Network error. Please check your internet connection":P.message.includes("timeout")?L=g?"  .    ":"Request timeout. Please try again":L=P.message),v(L)}finally{m(!1)}};if(!e)return null;const M=h?"95vw":"600px";return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:Q=>{Q.target===Q.currentTarget&&t()},children:l.jsxs("div",{className:"relative rounded-3xl shadow-2xl max-h-[95vh] overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300",style:{width:M,background:A==="dark"?"linear-gradient(135deg, #1f2937 0%, #111827 100%)":"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:`2px solid ${A==="dark"?"#374151":"#e2e8f0"}`},onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"relative px-6 py-4 overflow-hidden",style:{background:y.gender==="male"?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":y.gender==="female"?"linear-gradient(135deg, #ec4899 0%, #be185d 100%)":"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)"},children:[l.jsx("button",{onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),t()},className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-all duration-200 group z-10",type:"button",children:l.jsx(Oo,{size:20,className:"text-white group-hover:scale-110 transition-transform"})}),l.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:c==="create"?l.jsx(qr,{size:24,className:"text-white"}):l.jsx(ur,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:c==="create"?g?"  ":"Add New Member":g?" ":"Edit Member"}),l.jsx("p",{className:"text-white/80 text-sm",children:c==="create"?g?"     ":"Add a new member to the family tree":g?"  ":"Edit member information"})]})]}),l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full bg-white/5"}),l.jsx("div",{className:"absolute -bottom-5 -left-5 w-20 h-20 rounded-full bg-white/10"})]}),l.jsx("div",{className:"px-6 py-6 max-h-[calc(95vh-120px)] overflow-y-auto",children:l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[x&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3 flex-1",children:x.includes("maximum number of people")||x.includes("   ")?l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:x}),l.jsxs("button",{type:"button",onClick:()=>window.location.assign("/subscription"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 focus:outline-none transition-all duration-200",children:[l.jsx("svg",{className:"-ml-0.5 mr-1 h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),g?" ":"Upgrade Subscription"]})]}):l.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:x})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[l.jsx(ur,{size:18,className:"text-blue-500"}),l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:g?" ":"Personal Information"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2 space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ur,{size:14,className:"mr-2 text-gray-500"}),g?"  *":"Member Name *"]}),l.jsxs("div",{className:"relative",children:[l.jsx(or,{value:y.name,onChange:Q=>w(K=>({...K,name:Q.target.value})),placeholder:g?"  ":"Enter member name",required:!0,disabled:p,className:"pl-10 h-12 rounded-xl border-2 focus:border-blue-500 transition-all duration-200"}),l.jsx(ur,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(qr,{size:14,className:"mr-2 text-gray-500"}),g?"":"Gender"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:y.gender,onChange:Q=>w(K=>({...K,gender:Q.target.value})),className:`w-full h-12 px-4 pl-10 border-2 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none transition-all duration-200 ${y.gender==="female"?"focus:border-pink-500 border-pink-300":y.gender==="male"?"focus:border-blue-500 border-blue-300":"focus:border-purple-500 border-gray-300"}`,disabled:p,children:[l.jsx("option",{value:"male",children:g?"":"Male"}),l.jsx("option",{value:"female",children:g?"":"Female"})]}),l.jsx(qr,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ys,{size:14,className:"mr-2 text-gray-500"}),g?" ":"Birth Date"]}),l.jsxs("div",{className:"relative",children:[l.jsx(or,{type:"date",value:y.birthDate,onChange:Q=>w(K=>({...K,birthDate:Q.target.value})),disabled:p,className:"pl-10 h-12 rounded-xl border-2 focus:border-blue-500 transition-all duration-200"}),l.jsx(ys,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),!y.isAlive&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ys,{size:14,className:"mr-2 text-gray-500"}),g?" ":"Death Date"]}),l.jsxs("div",{className:"relative",children:[l.jsx(or,{type:"date",value:y.deathDate,onChange:Q=>w(K=>({...K,deathDate:Q.target.value})),disabled:p,className:"pl-10 h-12 rounded-xl border-2 focus:border-red-500 transition-all duration-200"}),l.jsx(ys,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ga,{size:14,className:"mr-2 text-gray-500"}),g?" ":"Birth Place"]}),l.jsxs("div",{className:"relative",children:[l.jsx(or,{value:g?y.birthPlace:y.birthPlaceEn,onChange:Q=>w(K=>({...K,[g?"birthPlace":"birthPlaceEn"]:Q.target.value})),placeholder:g?"  ":"Enter birth place",disabled:p,className:"pl-10 h-12 rounded-xl border-2 focus:border-green-500 transition-all duration-200"}),l.jsx(ga,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(yA,{size:14,className:"mr-2 text-gray-500"}),g?"":"Occupation"]}),l.jsxs("div",{className:"relative",children:[l.jsx(or,{value:g?y.occupation:y.occupationEn,onChange:Q=>w(K=>({...K,[g?"occupation":"occupationEn"]:Q.target.value})),placeholder:g?" ":"Enter occupation",disabled:p,className:"pl-10 h-12 rounded-xl border-2 focus:border-purple-500 transition-all duration-200"}),l.jsx(yA,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ns,{size:14,className:"mr-2 text-gray-500"}),g?"":"Status"]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[l.jsx("input",{type:"checkbox",checked:y.isAlive,onChange:Q=>w(K=>({...K,isAlive:Q.target.checked})),disabled:p,className:"h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:g?"  ":"Living"})]})]})]})]}),c==="create"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[l.jsx(ns,{size:18,className:"text-pink-500"}),l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:y.relationshipType==="father"?g?" ":"Add Father":y.relationshipType==="mother"?g?" ":"Add Mother":g?" ":"Family Relationships"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(qr,{size:14,className:"mr-2 text-gray-500"}),y.relationshipType==="father"||y.relationshipType==="mother"?g?"":"Child":g?"":"Parent"]}),l.jsxs("select",{value:y.parentId,onChange:Q=>E(Q.target.value),className:"w-full h-12 px-4 border-2 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:border-blue-500 transition-all duration-200",disabled:p,children:[l.jsx("option",{value:"",children:g?" ":"Select Person"}),s.map(Q=>l.jsx("option",{value:Q.id,children:g?`${Q.firstName} ${Q.lastName}`:`${Q.firstNameEn} ${Q.lastNameEn}`},Q.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ns,{size:14,className:"mr-2 text-gray-500"}),g?" ":"Relationship Type"]}),l.jsxs("select",{value:y.relationshipType,onChange:Q=>{const K=Q.target.value;w(O=>({...O,relationshipType:K}))},className:"w-full h-12 px-4 border-2 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:border-pink-500 transition-all duration-200",disabled:p||!y.parentId,children:[l.jsx("option",{value:"",children:g?"  ":"Select Relationship Type"}),U().map(Q=>l.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]}),(y.relationshipType==="son"||y.relationshipType==="daughter")&&y.parentId&&l.jsx(l.Fragment,{children:S.length>0?l.jsxs("div",{className:"md:col-span-2 space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ns,{size:14,className:"mr-2 text-pink-500"}),g?" ":"Select Mother"]}),l.jsxs("select",{value:B,onChange:Q=>{C(Q.target.value),w(K=>({...K,motherId:Q.target.value}))},className:"w-full h-12 px-4 border-2 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:border-pink-500 transition-all duration-200",disabled:p,children:[l.jsx("option",{value:"",children:g?"     ":"Select mother from father's wives"}),S.filter(Q=>Q.gender==="female").map(Q=>l.jsx("option",{value:Q.id,children:g?`${Q.firstName} ${Q.lastName}`:`${Q.firstNameEn} ${Q.lastNameEn}`},Q.id))]}),l.jsxs("p",{className:"text-sm text-gray-500 bg-pink-50 dark:bg-pink-900/20 p-3 rounded-lg border border-pink-200 dark:border-pink-800",children:[l.jsx(ns,{size:16,className:"inline mr-2 text-pink-500"}),g?"           ":"The selected father has multiple wives, please choose the mother to connect the child to both parents"]})]}):l.jsx("div",{className:"md:col-span-2 space-y-2",children:l.jsxs("p",{className:"text-sm text-amber-600 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-800",children:[l.jsx(ns,{size:16,className:"inline mr-2 text-amber-500"}),g?"     .           .":"The selected father has no registered wives. You can add the child without specifying the mother, or add a wife to the father first."]})})})]})]}),c==="edit"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[l.jsx(qr,{size:18,className:"text-blue-500"}),l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:g?" ":"Change Parents"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ur,{size:14,className:"mr-2 text-blue-500"}),g?"":"Father"]}),l.jsxs("select",{value:y.fatherId,onChange:Q=>w(K=>({...K,fatherId:Q.target.value})),className:"w-full h-12 px-4 border-2 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:border-blue-500 transition-all duration-200",disabled:p,children:[l.jsx("option",{value:"",children:g?" ":"Select Father"}),s.filter(Q=>Q.gender==="male").map(Q=>l.jsx("option",{value:Q.id,children:g?`${Q.firstName} ${Q.lastName}`:`${Q.firstNameEn} ${Q.lastNameEn}`},Q.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx(ur,{size:14,className:"mr-2 text-pink-500"}),g?"":"Mother"]}),l.jsxs("select",{value:y.motherId,onChange:Q=>{w(K=>({...K,motherId:Q.target.value})),C(Q.target.value)},className:"w-full h-12 px-4 border-2 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:border-pink-500 transition-all duration-200",disabled:p,children:[l.jsx("option",{value:"",children:g?" ":"Select Mother"}),s.filter(Q=>Q.gender==="female").map(Q=>l.jsx("option",{value:Q.id,children:g?`${Q.firstName} ${Q.lastName}`:`${Q.firstNameEn} ${Q.lastNameEn}`},Q.id))]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs(je,{type:"submit",className:"flex-1 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium transition-all duration-200 transform hover:scale-105",disabled:p,children:[p?l.jsx(Vn,{className:"animate-spin h-5 w-5 mr-2"}):c==="create"?l.jsx(qr,{className:"h-5 w-5 mr-2"}):l.jsx(ur,{className:"h-5 w-5 mr-2"}),c==="create"?g?" ":"Add Member":g?" ":"Save Changes"]}),l.jsx(je,{variant:"outline",onClick:t,disabled:p,type:"button",className:"flex-1 sm:flex-none h-12 rounded-xl border-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200",children:g?"":"Cancel"})]})]})})]})})};function xi(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=xi(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}const{useDebugValue:Epe}=ke,{useSyncExternalStoreWithSelector:Spe}=oO,Fpe=e=>e;function gq(e,t=Fpe,r){const n=Spe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Epe(n),n}const mT=(e,t)=>{const r=rO(e),n=(s,i=t)=>gq(r,s,i);return Object.assign(n,r),n},jpe=(e,t)=>e?mT(e,t):mT;function Js(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,s]of e)if(!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Mv=re.createContext(null),Tpe=Mv.Provider,vc={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},xq=vc.error001();function jn(e,t){const r=re.useContext(Mv);if(r===null)throw new Error(xq);return gq(r,e,t)}const qs=()=>{const e=re.useContext(Mv);if(e===null)throw new Error(xq);return re.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Ipe=e=>e.userSelectionActive?"none":"all";function OS({position:e,children:t,className:r,style:n,...s}){const i=jn(Ipe),a=`${e}`.split("-");return ke.createElement("div",{className:xi(["react-flow__panel",r,...a]),style:{...n,pointerEvents:i},...s},t)}function kpe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ke.createElement(OS,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ke.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Lpe=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...A})=>{const f=re.useRef(null),[d,h]=re.useState({x:0,y:0,width:0,height:0}),g=xi(["react-flow__edge-textwrapper",u]);return re.useEffect(()=>{if(f.current){const p=f.current.getBBox();h({x:p.x,y:p.y,width:p.width,height:p.height})}},[r]),typeof r>"u"||!r?null:ke.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:g,visibility:d.width?"visible":"hidden",...A},s&&ke.createElement("rect",{width:d.width+2*a[0],x:-a[0],y:-a[1],height:d.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),ke.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:n},r),c)};var Upe=re.memo(Lpe);const QS=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vd=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),DS=(e={x:0,y:0},t)=>({x:Vd(e.x,t[0][0],t[1][0]),y:Vd(e.y,t[0][1],t[1][1])}),pT=(e,t,r)=>e<t?Vd(Math.abs(e-t),1,50)/50:e>r?-Vd(Math.abs(e-r),1,50)/50:0,vq=(e,t)=>{const r=pT(e.x,35,t.width-35)*20,n=pT(e.y,35,t.height-35)*20;return[r,n]},yq=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},wq=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),zm=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),bq=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),gT=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Ppe=(e,t)=>bq(wq(zm(e),zm(t))),tC=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Mpe=e=>oo(e.width)&&oo(e.height)&&oo(e.x)&&oo(e.y),oo=e=>!isNaN(e)&&isFinite(e),is=Symbol.for("internals"),Bq=["Enter"," ","Escape"],Rpe=(e,t)=>{},Ope=e=>"nativeEvent"in e;function rC(e){var s,i;const t=Ope(e)?e.nativeEvent:e,r=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const Nq=e=>"clientX"in e,pA=(e,t)=>{var i,a;const r=Nq(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=r?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},e2=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Ep=({id:e,path:t,labelX:r,labelY:n,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:A,markerEnd:f,markerStart:d,interactionWidth:h=20})=>ke.createElement(ke.Fragment,null,ke.createElement("path",{id:e,style:A,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&ke.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),s&&oo(r)&&oo(n)?ke.createElement(Upe,{x:r,y:n,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null);Ep.displayName="BaseEdge";function A0(e,t,r){return r===void 0?r:n=>{const s=t().edges.find(i=>i.id===e);s&&r(n,{...s})}}function _q({sourceX:e,sourceY:t,targetX:r,targetY:n}){const s=Math.abs(r-e)/2,i=r<e?r+s:r-s,a=Math.abs(n-t)/2,o=n<t?n+a:n-a;return[i,o,s,a]}function Cq({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:o}){const c=e*.125+s*.375+a*.375+r*.125,u=t*.125+i*.375+o*.375+n*.125,A=Math.abs(c-e),f=Math.abs(u-t);return[c,u,A,f]}var Qu;(function(e){e.Strict="strict",e.Loose="loose"})(Qu||(Qu={}));var vu;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(vu||(vu={}));var Gm;(function(e){e.Partial="partial",e.Full="full"})(Gm||(Gm={}));var aA;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(aA||(aA={}));var ka;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ka||(ka={}));var Jt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Jt||(Jt={}));function xT({pos:e,x1:t,y1:r,x2:n,y2:s}){return e===Jt.Left||e===Jt.Right?[.5*(t+n),r]:[t,.5*(r+s)]}function Eq({sourceX:e,sourceY:t,sourcePosition:r=Jt.Bottom,targetX:n,targetY:s,targetPosition:i=Jt.Top}){const[a,o]=xT({pos:r,x1:e,y1:t,x2:n,y2:s}),[c,u]=xT({pos:i,x1:n,y1:s,x2:e,y2:t}),[A,f,d,h]=Cq({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:a,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${o} ${c},${u} ${n},${s}`,A,f,d,h]}const HS=re.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:s=Jt.Bottom,targetPosition:i=Jt.Top,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:A,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:p})=>{const[m,x,v]=Eq({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:n,targetPosition:i});return ke.createElement(Ep,{path:m,labelX:x,labelY:v,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:A,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:p})});HS.displayName="SimpleBezierEdge";const vT={[Jt.Left]:{x:-1,y:0},[Jt.Right]:{x:1,y:0},[Jt.Top]:{x:0,y:-1},[Jt.Bottom]:{x:0,y:1}},Qpe=({source:e,sourcePosition:t=Jt.Bottom,target:r})=>t===Jt.Left||t===Jt.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},yT=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Dpe({source:e,sourcePosition:t=Jt.Bottom,target:r,targetPosition:n=Jt.Top,center:s,offset:i}){const a=vT[t],o=vT[n],c={x:e.x+a.x*i,y:e.y+a.y*i},u={x:r.x+o.x*i,y:r.y+o.y*i},A=Qpe({source:c,sourcePosition:t,target:u}),f=A.x!==0?"x":"y",d=A[f];let h=[],g,p;const m={x:0,y:0},x={x:0,y:0},[v,y,w,S]=_q({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[f]*o[f]===-1){g=s.x??v,p=s.y??y;const j=[{x:g,y:c.y},{x:g,y:u.y}],I=[{x:c.x,y:p},{x:u.x,y:p}];a[f]===d?h=f==="x"?j:I:h=f==="x"?I:j}else{const j=[{x:c.x,y:u.y}],I=[{x:u.x,y:c.y}];if(f==="x"?h=a.x===d?I:j:h=a.y===d?j:I,t===n){const E=Math.abs(e[f]-r[f]);if(E<=i){const U=Math.min(i-1,i-E);a[f]===d?m[f]=(c[f]>e[f]?-1:1)*U:x[f]=(u[f]>r[f]?-1:1)*U}}if(t!==n){const E=f==="x"?"y":"x",U=a[f]===o[E],D=c[E]>u[E],M=c[E]<u[E];(a[f]===1&&(!U&&D||U&&M)||a[f]!==1&&(!U&&M||U&&D))&&(h=f==="x"?j:I)}const B={x:c.x+m.x,y:c.y+m.y},C={x:u.x+x.x,y:u.y+x.y},N=Math.max(Math.abs(B.x-h[0].x),Math.abs(C.x-h[0].x)),k=Math.max(Math.abs(B.y-h[0].y),Math.abs(C.y-h[0].y));N>=k?(g=(B.x+C.x)/2,p=h[0].y):(g=h[0].x,p=(B.y+C.y)/2)}return[[e,{x:c.x+m.x,y:c.y+m.y},...h,{x:u.x+x.x,y:u.y+x.y},r],g,p,w,S]}function Hpe(e,t,r,n){const s=Math.min(yT(e,t)/2,yT(t,r)/2,n),{x:i,y:a}=t;if(e.x===i&&i===r.x||e.y===a&&a===r.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<r.x?-1:1,A=e.y<r.y?1:-1;return`L ${i+s*u},${a}Q ${i},${a} ${i},${a+s*A}`}const o=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${i},${a+s*c}Q ${i},${a} ${i+s*o},${a}`}function nC({sourceX:e,sourceY:t,sourcePosition:r=Jt.Bottom,targetX:n,targetY:s,targetPosition:i=Jt.Top,borderRadius:a=5,centerX:o,centerY:c,offset:u=20}){const[A,f,d,h,g]=Dpe({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:s},targetPosition:i,center:{x:o,y:c},offset:u});return[A.reduce((m,x,v)=>{let y="";return v>0&&v<A.length-1?y=Hpe(A[v-1],x,A[v+1],a):y=`${v===0?"M":"L"}${x.x} ${x.y}`,m+=y,m},""),f,d,h,g]}const Rv=re.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:A,sourcePosition:f=Jt.Bottom,targetPosition:d=Jt.Top,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:m})=>{const[x,v,y]=nC({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:d,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return ke.createElement(Ep,{path:x,labelX:v,labelY:y,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:A,markerEnd:h,markerStart:g,interactionWidth:m})});Rv.displayName="SmoothStepEdge";const $S=re.memo(e=>{var t;return ke.createElement(Rv,{...e,pathOptions:re.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});$S.displayName="StepEdge";function $pe({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[s,i,a,o]=_q({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,s,i,a,o]}const qS=re.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:A,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[g,p,m]=$pe({sourceX:e,sourceY:t,targetX:r,targetY:n});return ke.createElement(Ep,{path:g,labelX:p,labelY:m,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:A,markerEnd:f,markerStart:d,interactionWidth:h})});qS.displayName="StraightEdge";function Rg(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wT({pos:e,x1:t,y1:r,x2:n,y2:s,c:i}){switch(e){case Jt.Left:return[t-Rg(t-n,i),r];case Jt.Right:return[t+Rg(n-t,i),r];case Jt.Top:return[t,r-Rg(r-s,i)];case Jt.Bottom:return[t,r+Rg(s-r,i)]}}function KS({sourceX:e,sourceY:t,sourcePosition:r=Jt.Bottom,targetX:n,targetY:s,targetPosition:i=Jt.Top,curvature:a=.25}){const[o,c]=wT({pos:r,x1:e,y1:t,x2:n,y2:s,c:a}),[u,A]=wT({pos:i,x1:n,y1:s,x2:e,y2:t,c:a}),[f,d,h,g]=Cq({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:A});return[`M${e},${t} C${o},${c} ${u},${A} ${n},${s}`,f,d,h,g]}const t2=re.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:s=Jt.Bottom,targetPosition:i=Jt.Top,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:A,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:m})=>{const[x,v,y]=KS({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:n,targetPosition:i,curvature:p==null?void 0:p.curvature});return ke.createElement(Ep,{path:x,labelX:v,labelY:y,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:A,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:m})});t2.displayName="BezierEdge";const zS=re.createContext(null),qpe=zS.Provider;zS.Consumer;const Kpe=()=>re.useContext(zS),zpe=e=>"id"in e&&"source"in e&&"target"in e,Gpe=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,sC=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,Vpe=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Sq=(e,t)=>{if(!e.source||!e.target)return t;let r;return zpe(e)?r={...e}:r={...e,id:Gpe(e)},Vpe(r,t)?t:t.concat(r)},iC=({x:e,y:t},[r,n,s],i,[a,o])=>{const c={x:(e-r)/s,y:(t-n)/s};return i?{x:a*Math.round(c.x/a),y:o*Math.round(c.y/o)}:c},Fq=({x:e,y:t},[r,n,s])=>({x:e*s+r,y:t*s+n}),Cu=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],s={x:e.position.x-r,y:e.position.y-n};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:s}},Ov=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,s)=>{const{x:i,y:a}=Cu(s,t).positionAbsolute;return wq(n,zm({x:i,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bq(r)},jq=(e,t,[r,n,s]=[0,0,1],i=!1,a=!1,o=[0,0])=>{const c={x:(t.x-r)/s,y:(t.y-n)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(A=>{const{width:f,height:d,selectable:h=!0,hidden:g=!1}=A;if(a&&!h||g)return!1;const{positionAbsolute:p}=Cu(A,o),m={x:p.x,y:p.y,width:f||0,height:d||0},x=tC(c,m),v=typeof f>"u"||typeof d>"u"||f===null||d===null,y=i&&x>0,w=(f||0)*(d||0);(v||y||x>=w||A.dragging)&&u.push(A)}),u},Tq=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},Iq=(e,t,r,n,s,i=.1)=>{const a=t/(e.width*(1+i)),o=r/(e.height*(1+i)),c=Math.min(a,o),u=Vd(c,n,s),A=e.x+e.width/2,f=e.y+e.height/2,d=t/2-A*u,h=r/2-f*u;return{x:d,y:h,zoom:u}},cu=(e,t=0)=>e.transition().duration(t);function bT(e,t,r,n){return(t[r]||[]).reduce((s,i)=>{var a,o;return`${e.id}-${i.id}-${r}`!==n&&s.push({id:i.id||null,type:r,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+i.y+i.height/2}),s},[])}function Wpe(e,t,r,n,s,i){const{x:a,y:o}=pA(e),u=t.elementsFromPoint(a,o).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const p=GS(void 0,u),m=u.getAttribute("data-handleid"),x=i({nodeId:g,id:m,type:p});if(x){const v=s.find(y=>y.nodeId===g&&y.type===p&&y.id===m);return{handle:{id:m,type:p,nodeId:g,x:(v==null?void 0:v.x)||r.x,y:(v==null?void 0:v.y)||r.y},validHandleResult:x}}}}let A=[],f=1/0;if(s.forEach(g=>{const p=Math.sqrt((g.x-r.x)**2+(g.y-r.y)**2);if(p<=n){const m=i(g);p<=f&&(p<f?A=[{handle:g,validHandleResult:m}]:p===f&&A.push({handle:g,validHandleResult:m}),f=p)}}),!A.length)return{handle:null,validHandleResult:kq()};if(A.length===1)return A[0];const d=A.some(({validHandleResult:g})=>g.isValid),h=A.some(({handle:g})=>g.type==="target");return A.find(({handle:g,validHandleResult:p})=>h?g.type==="target":d?p.isValid:!0)||A[0]}const Ype={source:null,target:null,sourceHandle:null,targetHandle:null},kq=()=>({handleDomNode:null,isValid:!1,connection:Ype,endHandle:null});function Lq(e,t,r,n,s,i,a){const o=s==="target",c=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...kq(),handleDomNode:c};if(c){const A=GS(void 0,c),f=c.getAttribute("data-nodeid"),d=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),p={source:o?f:r,sourceHandle:o?d:n,target:o?r:f,targetHandle:o?n:d};u.connection=p,h&&g&&(t===Qu.Strict?o&&A==="source"||!o&&A==="target":f!==r||d!==n)&&(u.endHandle={nodeId:f,handleId:d,type:A},u.isValid=i(p))}return u}function Xpe({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((s,i)=>{if(i[is]){const{handleBounds:a}=i[is];let o=[],c=[];a&&(o=bT(i,a,"source",`${t}-${r}-${n}`),c=bT(i,a,"target",`${t}-${r}-${n}`)),s.push(...o,...c)}return s},[])}function GS(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function qw(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Jpe(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function Uq({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:s,getState:i,setState:a,isValidConnection:o,edgeUpdaterType:c,onReconnectEnd:u}){const A=yq(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:g,onConnectStart:p,panBy:m,getNodes:x,cancelConnection:v}=i();let y=0,w;const{x:S,y:T}=pA(e),j=A==null?void 0:A.elementFromPoint(S,T),I=GS(c,j),B=d==null?void 0:d.getBoundingClientRect();if(!B||!I)return;let C,N=pA(e,B),k=!1,E=null,U=!1,D=null;const M=Xpe({nodes:x(),nodeId:r,handleId:t,handleType:I}),Q=()=>{if(!h)return;const[z,G]=vq(N,B);m({x:z,y:G}),y=requestAnimationFrame(Q)};a({connectionPosition:N,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:I,connectionStartHandle:{nodeId:r,handleId:t,type:I},connectionEndHandle:null}),p==null||p(e,{nodeId:r,handleId:t,handleType:I});function K(z){const{transform:G}=i();N=pA(z,B);const{handle:F,validHandleResult:P}=Wpe(z,A,iC(N,G,!1,[1,1]),g,M,L=>Lq(L,f,r,t,s?"target":"source",o,A));if(w=F,k||(Q(),k=!0),D=P.handleDomNode,E=P.connection,U=P.isValid,a({connectionPosition:w&&U?Fq({x:w.x,y:w.y},G):N,connectionStatus:Jpe(!!w,U),connectionEndHandle:P.endHandle}),!w&&!U&&!D)return qw(C);E.source!==E.target&&D&&(qw(C),C=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",U),D.classList.toggle("react-flow__handle-valid",U))}function O(z){var G,F;(w||D)&&E&&U&&(n==null||n(E)),(F=(G=i()).onConnectEnd)==null||F.call(G,z),c&&(u==null||u(z)),qw(C),v(),cancelAnimationFrame(y),k=!1,U=!1,E=null,D=null,A.removeEventListener("mousemove",K),A.removeEventListener("mouseup",O),A.removeEventListener("touchmove",K),A.removeEventListener("touchend",O)}A.addEventListener("mousemove",K),A.addEventListener("mouseup",O),A.addEventListener("touchmove",K),A.addEventListener("touchend",O)}const BT=()=>!0,Zpe=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ege=(e,t,r)=>n=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:a}=n;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r}},Pq=re.forwardRef(({type:e="source",position:t=Jt.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:o,children:c,className:u,onMouseDown:A,onTouchStart:f,...d},h)=>{var B,C;const g=a||null,p=e==="target",m=qs(),x=Kpe(),{connectOnClick:v,noPanClassName:y}=jn(Zpe,Js),{connecting:w,clickConnecting:S}=jn(ege(x,g,e),Js);x||(C=(B=m.getState()).onError)==null||C.call(B,"010",vc.error010());const T=N=>{const{defaultEdgeOptions:k,onConnect:E,hasDefaultEdges:U}=m.getState(),D={...k,...N};if(U){const{edges:M,setEdges:Q}=m.getState();Q(Sq(D,M))}E==null||E(D),o==null||o(D)},j=N=>{if(!x)return;const k=Nq(N);s&&(k&&N.button===0||!k)&&Uq({event:N,handleId:g,nodeId:x,onConnect:T,isTarget:p,getState:m.getState,setState:m.setState,isValidConnection:r||m.getState().isValidConnection||BT}),k?A==null||A(N):f==null||f(N)},I=N=>{const{onClickConnectStart:k,onClickConnectEnd:E,connectionClickStartHandle:U,connectionMode:D,isValidConnection:M}=m.getState();if(!x||!U&&!s)return;if(!U){k==null||k(N,{nodeId:x,handleId:g,handleType:e}),m.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:g}});return}const Q=yq(N.target),K=r||M||BT,{connection:O,isValid:z}=Lq({nodeId:x,id:g,type:e},D,U.nodeId,U.handleId||null,U.type,K,Q);z&&T(O),E==null||E(N),m.setState({connectionClickStartHandle:null})};return ke.createElement("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${g}-${e}`,className:xi(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!p,target:p,connectable:n,connectablestart:s,connectableend:i,connecting:S,connectionindicator:n&&(s&&!w||i&&w)}]),onMouseDown:j,onTouchStart:j,onClick:v?I:void 0,ref:h,...d},c)});Pq.displayName="Handle";var lo=re.memo(Pq);const Mq=({data:e,isConnectable:t,targetPosition:r=Jt.Top,sourcePosition:n=Jt.Bottom})=>ke.createElement(ke.Fragment,null,ke.createElement(lo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,ke.createElement(lo,{type:"source",position:n,isConnectable:t}));Mq.displayName="DefaultNode";var aC=re.memo(Mq);const Rq=({data:e,isConnectable:t,sourcePosition:r=Jt.Bottom})=>ke.createElement(ke.Fragment,null,e==null?void 0:e.label,ke.createElement(lo,{type:"source",position:r,isConnectable:t}));Rq.displayName="InputNode";var Oq=re.memo(Rq);const Qq=({data:e,isConnectable:t,targetPosition:r=Jt.Top})=>ke.createElement(ke.Fragment,null,ke.createElement(lo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);Qq.displayName="OutputNode";var Dq=re.memo(Qq);const VS=()=>null;VS.displayName="GroupNode";const tge=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Og=e=>e.id;function rge(e,t){return Js(e.selectedNodes.map(Og),t.selectedNodes.map(Og))&&Js(e.selectedEdges.map(Og),t.selectedEdges.map(Og))}const Hq=re.memo(({onSelectionChange:e})=>{const t=qs(),{selectedNodes:r,selectedEdges:n}=jn(tge,rge);return re.useEffect(()=>{const s={nodes:r,edges:n};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[r,n,e]),null});Hq.displayName="SelectionListener";const nge=e=>!!e.onSelectionChange;function sge({onSelectionChange:e}){const t=jn(nge);return e||t?ke.createElement(Hq,{onSelectionChange:e}):null}const ige=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Lf(e,t){re.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Pr(e,t,r){re.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const age=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:s,onConnectStart:i,onConnectEnd:a,onClickConnectStart:o,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:A,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:p,maxZoom:m,nodeExtent:x,onNodesChange:v,onEdgesChange:y,elementsSelectable:w,connectionMode:S,snapGrid:T,snapToGrid:j,translateExtent:I,connectOnClick:B,defaultEdgeOptions:C,fitView:N,fitViewOptions:k,onNodesDelete:E,onEdgesDelete:U,onNodeDrag:D,onNodeDragStart:M,onNodeDragStop:Q,onSelectionDrag:K,onSelectionDragStart:O,onSelectionDragStop:z,noPanClassName:G,nodeOrigin:F,rfId:P,autoPanOnConnect:L,autoPanOnNodeDrag:q,onError:X,connectionRadius:se,isValidConnection:ae,nodeDragThreshold:W})=>{const{setNodes:ee,setEdges:Ce,setDefaultNodesAndEdges:ye,setMinZoom:Me,setMaxZoom:we,setTranslateExtent:oe,setNodeExtent:ze,reset:de}=jn(ige,Js),be=qs();return re.useEffect(()=>{const Be=n==null?void 0:n.map(et=>({...et,...C}));return ye(r,Be),()=>{de()}},[]),Pr("defaultEdgeOptions",C,be.setState),Pr("connectionMode",S,be.setState),Pr("onConnect",s,be.setState),Pr("onConnectStart",i,be.setState),Pr("onConnectEnd",a,be.setState),Pr("onClickConnectStart",o,be.setState),Pr("onClickConnectEnd",c,be.setState),Pr("nodesDraggable",u,be.setState),Pr("nodesConnectable",A,be.setState),Pr("nodesFocusable",f,be.setState),Pr("edgesFocusable",d,be.setState),Pr("edgesUpdatable",h,be.setState),Pr("elementsSelectable",w,be.setState),Pr("elevateNodesOnSelect",g,be.setState),Pr("snapToGrid",j,be.setState),Pr("snapGrid",T,be.setState),Pr("onNodesChange",v,be.setState),Pr("onEdgesChange",y,be.setState),Pr("connectOnClick",B,be.setState),Pr("fitViewOnInit",N,be.setState),Pr("fitViewOnInitOptions",k,be.setState),Pr("onNodesDelete",E,be.setState),Pr("onEdgesDelete",U,be.setState),Pr("onNodeDrag",D,be.setState),Pr("onNodeDragStart",M,be.setState),Pr("onNodeDragStop",Q,be.setState),Pr("onSelectionDrag",K,be.setState),Pr("onSelectionDragStart",O,be.setState),Pr("onSelectionDragStop",z,be.setState),Pr("noPanClassName",G,be.setState),Pr("nodeOrigin",F,be.setState),Pr("rfId",P,be.setState),Pr("autoPanOnConnect",L,be.setState),Pr("autoPanOnNodeDrag",q,be.setState),Pr("onError",X,be.setState),Pr("connectionRadius",se,be.setState),Pr("isValidConnection",ae,be.setState),Pr("nodeDragThreshold",W,be.setState),Lf(e,ee),Lf(t,Ce),Lf(p,Me),Lf(m,we),Lf(I,oe),Lf(x,ze),null},NT={display:"none"},oge={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$q="react-flow__node-desc",qq="react-flow__edge-desc",lge="react-flow__aria-live",cge=e=>e.ariaLiveMessage;function Age({rfId:e}){const t=jn(cge);return ke.createElement("div",{id:`${lge}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oge},t)}function uge({rfId:e,disableKeyboardA11y:t}){return ke.createElement(ke.Fragment,null,ke.createElement("div",{id:`${$q}-${e}`,style:NT},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ke.createElement("div",{id:`${qq}-${e}`,style:NT},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ke.createElement(Age,{rfId:e}))}var Vm=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=re.useState(!1),s=re.useRef(!1),i=re.useRef(new Set([])),[a,o]=re.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),A=u.reduce((f,d)=>f.concat(...d),[]);return[u,A]}return[[],[]]},[e]);return re.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const A=h=>{if(s.current=h.ctrlKey||h.metaKey||h.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&rC(h))return!1;const p=CT(h.code,o);i.current.add(h[p]),_T(a,i.current,!1)&&(h.preventDefault(),n(!0))},f=h=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&rC(h))return!1;const p=CT(h.code,o);_T(a,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(h[p]),h.key==="Meta"&&i.current.clear(),s.current=!1},d=()=>{i.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",A),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",A),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,n]),r};function _T(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(s=>t.has(s)))}function CT(e,t){return t.includes(e)?"code":"key"}function Kq(e,t,r,n){var o,c;const s=e.parentNode||e.parentId;if(!s)return r;const i=t.get(s),a=Cu(i,n);return Kq(i,t,{x:(r.x??0)+a.x,y:(r.y??0)+a.y,z:(((o=i[is])==null?void 0:o.z)??0)>(r.z??0)?((c=i[is])==null?void 0:c.z)??0:r.z??0},n)}function zq(e,t,r){e.forEach(n=>{var i;const s=n.parentNode||n.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r!=null&&r[n.id]){const{x:a,y:o,z:c}=Kq(n,e,{...n.position,z:((i=n[is])==null?void 0:i.z)??0},t);n.positionAbsolute={x:a,y:o},n[is].z=c,r!=null&&r[n.id]&&(n[is].isParent=!0)}})}function Kw(e,t,r,n){const s=new Map,i={},a=n?1e3:0;return e.forEach(o=>{var h;const c=(oo(o.zIndex)?o.zIndex:0)+(o.selected?a:0),u=t.get(o.id),A={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(i[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(A,is,{enumerable:!1,value:{handleBounds:d||(h=u==null?void 0:u[is])==null?void 0:h.handleBounds,z:c}}),s.set(o.id,A)}),zq(s,r,i),s}function Gq(e,t={}){const{getNodes:r,width:n,height:s,minZoom:i,maxZoom:a,d3Zoom:o,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:A,nodeOrigin:f}=e(),d=t.initial&&!u&&A;if(o&&c&&(d||!t.initial)){const g=r().filter(m=>{var v;const x=t.includeHiddenNodes?m.width&&m.height:!m.hidden;return(v=t.nodes)!=null&&v.length?x&&t.nodes.some(y=>y.id===m.id):x}),p=g.every(m=>m.width&&m.height);if(g.length>0&&p){const m=Ov(g,f),{x,y:v,zoom:y}=Iq(m,n,s,t.minZoom??i,t.maxZoom??a,t.padding??.1),w=bu.translate(x,v).scale(y);return typeof t.duration=="number"&&t.duration>0?o.transform(cu(c,t.duration),w):o.transform(c,w),!0}}return!1}function fge(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[is]:n[is],selected:r.selected})}),new Map(t)}function dge(e,t){return t.map(r=>{const n=e.find(s=>s.id===r.id);return n&&(r.selected=n.selected),r})}function Qg({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:s,edges:i,onNodesChange:a,onEdgesChange:o,hasDefaultNodes:c,hasDefaultEdges:u}=r();e!=null&&e.length&&(c&&n({nodeInternals:fge(e,s)}),a==null||a(e)),t!=null&&t.length&&(u&&n({edges:dge(t,i)}),o==null||o(t))}const Uf=()=>{},hge={zoomIn:Uf,zoomOut:Uf,zoomTo:Uf,getZoom:()=>1,setViewport:Uf,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Uf,fitBounds:Uf,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},mge=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),pge=()=>{const e=qs(),{d3Zoom:t,d3Selection:r}=jn(mge,Js);return re.useMemo(()=>r&&t?{zoomIn:s=>t.scaleBy(cu(r,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(cu(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(cu(r,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[a,o,c]=e.getState().transform,u=bu.translate(s.x??a,s.y??o).scale(s.zoom??c);t.transform(cu(r,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,a]=e.getState().transform;return{x:s,y:i,zoom:a}},fitView:s=>Gq(e.getState,s),setCenter:(s,i,a)=>{const{width:o,height:c,maxZoom:u}=e.getState(),A=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,f=o/2-s*A,d=c/2-i*A,h=bu.translate(f,d).scale(A);t.transform(cu(r,a==null?void 0:a.duration),h)},fitBounds:(s,i)=>{const{width:a,height:o,minZoom:c,maxZoom:u}=e.getState(),{x:A,y:f,zoom:d}=Iq(s,a,o,c,u,(i==null?void 0:i.padding)??.1),h=bu.translate(A,f).scale(d);t.transform(cu(r,i==null?void 0:i.duration),h)},project:s=>{const{transform:i,snapToGrid:a,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),iC(s,i,a,o)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:a,snapGrid:o,domNode:c}=e.getState();if(!c)return s;const{x:u,y:A}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-A};return iC(f,i,a,o)},flowToScreenPosition:s=>{const{transform:i,domNode:a}=e.getState();if(!a)return s;const{x:o,y:c}=a.getBoundingClientRect(),u=Fq(s,i);return{x:u.x+o,y:u.y+c}},viewportInitialized:!0}:hge,[t,r])};function WS(){const e=pge(),t=qs(),r=re.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),n=re.useCallback(p=>t.getState().nodeInternals.get(p),[]),s=re.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(m=>({...m}))},[]),i=re.useCallback(p=>{const{edges:m=[]}=t.getState();return m.find(x=>x.id===p)},[]),a=re.useCallback(p=>{const{getNodes:m,setNodes:x,hasDefaultNodes:v,onNodesChange:y}=t.getState(),w=m(),S=typeof p=="function"?p(w):p;if(v)x(S);else if(y){const T=S.length===0?w.map(j=>({type:"remove",id:j.id})):S.map(j=>({item:j,type:"reset"}));y(T)}},[]),o=re.useCallback(p=>{const{edges:m=[],setEdges:x,hasDefaultEdges:v,onEdgesChange:y}=t.getState(),w=typeof p=="function"?p(m):p;if(v)x(w);else if(y){const S=w.length===0?m.map(T=>({type:"remove",id:T.id})):w.map(T=>({item:T,type:"reset"}));y(S)}},[]),c=re.useCallback(p=>{const m=Array.isArray(p)?p:[p],{getNodes:x,setNodes:v,hasDefaultNodes:y,onNodesChange:w}=t.getState();if(y){const T=[...x(),...m];v(T)}else if(w){const S=m.map(T=>({item:T,type:"add"}));w(S)}},[]),u=re.useCallback(p=>{const m=Array.isArray(p)?p:[p],{edges:x=[],setEdges:v,hasDefaultEdges:y,onEdgesChange:w}=t.getState();if(y)v([...x,...m]);else if(w){const S=m.map(T=>({item:T,type:"add"}));w(S)}},[]),A=re.useCallback(()=>{const{getNodes:p,edges:m=[],transform:x}=t.getState(),[v,y,w]=x;return{nodes:p().map(S=>({...S})),edges:m.map(S=>({...S})),viewport:{x:v,y,zoom:w}}},[]),f=re.useCallback(({nodes:p,edges:m})=>{const{nodeInternals:x,getNodes:v,edges:y,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:T,onEdgesDelete:j,onNodesChange:I,onEdgesChange:B}=t.getState(),C=(p||[]).map(D=>D.id),N=(m||[]).map(D=>D.id),k=v().reduce((D,M)=>{const Q=M.parentNode||M.parentId,K=!C.includes(M.id)&&Q&&D.find(z=>z.id===Q);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(C.includes(M.id)||K)&&D.push(M),D},[]),E=y.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),U=E.filter(D=>N.includes(D.id));if(k||U){const D=Tq(k,E),M=[...U,...D],Q=M.reduce((K,O)=>(K.includes(O.id)||K.push(O.id),K),[]);if((S||w)&&(S&&t.setState({edges:y.filter(K=>!Q.includes(K.id))}),w&&(k.forEach(K=>{x.delete(K.id)}),t.setState({nodeInternals:new Map(x)}))),Q.length>0&&(j==null||j(M),B&&B(Q.map(K=>({id:K,type:"remove"})))),k.length>0&&(T==null||T(k),I)){const K=k.map(O=>({id:O.id,type:"remove"}));I(K)}}},[]),d=re.useCallback(p=>{const m=Mpe(p),x=m?null:t.getState().nodeInternals.get(p.id);return!m&&!x?[null,null,m]:[m?p:gT(x),x,m]},[]),h=re.useCallback((p,m=!0,x)=>{const[v,y,w]=d(p);return v?(x||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===y.id||!S.positionAbsolute))return!1;const T=gT(S),j=tC(T,v);return m&&j>0||j>=v.width*v.height}):[]},[]),g=re.useCallback((p,m,x=!0)=>{const[v]=d(p);if(!v)return!1;const y=tC(v,m);return x&&y>0||y>=v.width*v.height},[]);return re.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:s,getEdge:i,setNodes:a,setEdges:o,addNodes:c,addEdges:u,toObject:A,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:g}),[e,r,n,s,i,a,o,c,u,A,f,h,g])}const gge={actInsideInputWithModifier:!1};var xge=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=qs(),{deleteElements:n}=WS(),s=Vm(e,gge),i=Vm(t);re.useEffect(()=>{if(s){const{edges:a,getNodes:o}=r.getState(),c=o().filter(A=>A.selected),u=a.filter(A=>A.selected);n({nodes:c,edges:u}),r.setState({nodesSelectionActive:!1})}},[s]),re.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])};function vge(e){const t=qs();re.useEffect(()=>{let r;const n=()=>{var i,a;if(!e.current)return;const s=QS(e.current);(s.height===0||s.width===0)&&((a=(i=t.getState()).onError)==null||a.call(i,"004",vc.error004())),t.setState({width:s.width||500,height:s.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const YS={position:"absolute",width:"100%",height:"100%",top:0,left:0},yge=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Dg=e=>({x:e.x,y:e.y,zoom:e.k}),Pf=(e,t)=>e.target.closest(`.${t}`),ET=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),ST=e=>{const t=e.ctrlKey&&e2()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},wge=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),bge=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:c=vu.Free,zoomOnDoubleClick:u=!0,elementsSelectable:A,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:g,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:x=!0,children:v,noWheelClassName:y,noPanClassName:w})=>{const S=re.useRef(),T=qs(),j=re.useRef(!1),I=re.useRef(!1),B=re.useRef(null),C=re.useRef({x:0,y:0,zoom:0}),{d3Zoom:N,d3Selection:k,d3ZoomHandler:E,userSelectionActive:U}=jn(wge,Js),D=Vm(m),M=re.useRef(0),Q=re.useRef(!1),K=re.useRef();return vge(B),re.useEffect(()=>{if(B.current){const O=B.current.getBoundingClientRect(),z=YR().scaleExtent([g,p]).translateExtent(h),G=rE(B.current).call(z),F=bu.translate(d.x,d.y).scale(Vd(d.zoom,g,p)),P=[[0,0],[O.width,O.height]],L=z.constrain()(F,P,h);z.transform(G,L),z.wheelDelta(ST),T.setState({d3Zoom:z,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[L.x,L.y,L.k],domNode:B.current.closest(".react-flow")})}},[]),re.useEffect(()=>{k&&N&&(a&&!D&&!U?k.on("wheel.zoom",O=>{if(Pf(O,y))return!1;O.preventDefault(),O.stopImmediatePropagation();const z=k.property("__zoom").k||1;if(O.ctrlKey&&i){const ae=XR(O),W=ST(O),ee=z*Math.pow(2,W);N.scaleTo(k,ee,ae,O);return}const G=O.deltaMode===1?20:1;let F=c===vu.Vertical?0:O.deltaX*G,P=c===vu.Horizontal?0:O.deltaY*G;!e2()&&O.shiftKey&&c!==vu.Vertical&&(F=O.deltaY*G,P=0),N.translateBy(k,-(F/z)*o,-(P/z)*o,{internal:!0});const L=Dg(k.property("__zoom")),{onViewportChangeStart:q,onViewportChange:X,onViewportChangeEnd:se}=T.getState();clearTimeout(K.current),Q.current||(Q.current=!0,t==null||t(O,L),q==null||q(L)),Q.current&&(e==null||e(O,L),X==null||X(L),K.current=setTimeout(()=>{r==null||r(O,L),se==null||se(L),Q.current=!1},150))},{passive:!1}):typeof E<"u"&&k.on("wheel.zoom",function(O,z){if(!x&&O.type==="wheel"&&!O.ctrlKey||Pf(O,y))return null;O.preventDefault(),E.call(this,O,z)},{passive:!1}))},[U,a,c,k,N,E,D,i,x,y,t,e,r]),re.useEffect(()=>{N&&N.on("start",O=>{var F,P;if(!O.sourceEvent||O.sourceEvent.internal)return null;M.current=(F=O.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:z}=T.getState(),G=Dg(O.transform);j.current=!0,C.current=G,((P=O.sourceEvent)==null?void 0:P.type)==="mousedown"&&T.setState({paneDragging:!0}),z==null||z(G),t==null||t(O.sourceEvent,G)})},[N,t]),re.useEffect(()=>{N&&(U&&!j.current?N.on("zoom",null):U||N.on("zoom",O=>{var G;const{onViewportChange:z}=T.getState();if(T.setState({transform:[O.transform.x,O.transform.y,O.transform.k]}),I.current=!!(n&&ET(f,M.current??0)),(e||z)&&!((G=O.sourceEvent)!=null&&G.internal)){const F=Dg(O.transform);z==null||z(F),e==null||e(O.sourceEvent,F)}}))},[U,N,e,f,n]),re.useEffect(()=>{N&&N.on("end",O=>{if(!O.sourceEvent||O.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=T.getState();if(j.current=!1,T.setState({paneDragging:!1}),n&&ET(f,M.current??0)&&!I.current&&n(O.sourceEvent),I.current=!1,(r||z)&&yge(C.current,O.transform)){const G=Dg(O.transform);C.current=G,clearTimeout(S.current),S.current=setTimeout(()=>{z==null||z(G),r==null||r(O.sourceEvent,G)},a?150:0)}})},[N,a,f,r,n]),re.useEffect(()=>{N&&N.filter(O=>{const z=D||s,G=i&&O.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&O.button===1&&O.type==="mousedown"&&(Pf(O,"react-flow__node")||Pf(O,"react-flow__edge")))return!0;if(!f&&!z&&!a&&!u&&!i||U||!u&&O.type==="dblclick"||Pf(O,y)&&O.type==="wheel"||Pf(O,w)&&(O.type!=="wheel"||a&&O.type==="wheel"&&!D)||!i&&O.ctrlKey&&O.type==="wheel"||!z&&!a&&!G&&O.type==="wheel"||!f&&(O.type==="mousedown"||O.type==="touchstart")||Array.isArray(f)&&!f.includes(O.button)&&O.type==="mousedown")return!1;const F=Array.isArray(f)&&f.includes(O.button)||!O.button||O.button<=1;return(!O.ctrlKey||O.type==="wheel")&&F})},[U,N,s,i,a,u,f,A,D]),ke.createElement("div",{className:"react-flow__renderer",ref:B,style:YS},v)},Bge=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Nge(){const{userSelectionActive:e,userSelectionRect:t}=jn(Bge,Js);return e&&t?ke.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function FT(e,t){const r=t.parentNode||t.parentId,n=e.find(s=>s.id===r);if(n){const s=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,s>0&&(n.style.width+=s),i>0&&(n.style.height+=i),t.position.x<0){const a=Math.abs(t.position.x);n.position.x=n.position.x-a,n.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);n.position.y=n.position.y-a,n.style.height+=a,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Vq(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,s)=>{const i=e.filter(o=>o.id===s.id);if(i.length===0)return n.push(s),n;const a={...s};for(const o of i)if(o)switch(o.type){case"select":{a.selected=o.selected;break}case"position":{typeof o.position<"u"&&(a.position=o.position),typeof o.positionAbsolute<"u"&&(a.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(a.dragging=o.dragging),a.expandParent&&FT(n,a);break}case"dimensions":{typeof o.dimensions<"u"&&(a.width=o.dimensions.width,a.height=o.dimensions.height),typeof o.updateStyle<"u"&&(a.style={...a.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(a.resizing=o.resizing),a.expandParent&&FT(n,a);break}case"remove":return n}return n.push(a),n},r)}function Wq(e,t){return Vq(e,t)}function _ge(e,t){return Vq(e,t)}const nA=(e,t)=>({id:e,type:"select",selected:t});function ad(e,t){return e.reduce((r,n)=>{const s=t.includes(n.id);return!n.selected&&s?(n.selected=!0,r.push(nA(n.id,!0))):n.selected&&!s&&(n.selected=!1,r.push(nA(n.id,!1))),r},[])}const zw=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},Cge=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Yq=re.memo(({isSelecting:e,selectionMode:t=Gm.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:o,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:A,children:f})=>{const d=re.useRef(null),h=qs(),g=re.useRef(0),p=re.useRef(0),m=re.useRef(),{userSelectionActive:x,elementsSelectable:v,dragging:y}=jn(Cge,Js),w=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,p.current=0},S=E=>{i==null||i(E),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},T=E=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){E.preventDefault();return}a==null||a(E)},j=o?E=>o(E):void 0,I=E=>{const{resetSelectedElements:U,domNode:D}=h.getState();if(m.current=D==null?void 0:D.getBoundingClientRect(),!v||!e||E.button!==0||E.target!==d.current||!m.current)return;const{x:M,y:Q}=pA(E,m.current);U(),h.setState({userSelectionRect:{width:0,height:0,startX:M,startY:Q,x:M,y:Q}}),n==null||n(E)},B=E=>{const{userSelectionRect:U,nodeInternals:D,edges:M,transform:Q,onNodesChange:K,onEdgesChange:O,nodeOrigin:z,getNodes:G}=h.getState();if(!e||!m.current||!U)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=pA(E,m.current),P=U.startX??0,L=U.startY??0,q={...U,x:F.x<P?F.x:P,y:F.y<L?F.y:L,width:Math.abs(F.x-P),height:Math.abs(F.y-L)},X=G(),se=jq(D,q,Q,t===Gm.Partial,!0,z),ae=Tq(se,M).map(ee=>ee.id),W=se.map(ee=>ee.id);if(g.current!==W.length){g.current=W.length;const ee=ad(X,W);ee.length&&(K==null||K(ee))}if(p.current!==ae.length){p.current=ae.length;const ee=ad(M,ae);ee.length&&(O==null||O(ee))}h.setState({userSelectionRect:q})},C=E=>{if(E.button!==0)return;const{userSelectionRect:U}=h.getState();!x&&U&&E.target===d.current&&(S==null||S(E)),h.setState({nodesSelectionActive:g.current>0}),w(),s==null||s(E)},N=E=>{x&&(h.setState({nodesSelectionActive:g.current>0}),s==null||s(E)),w()},k=v&&(e||x);return ke.createElement("div",{className:xi(["react-flow__pane",{dragging:y,selection:e}]),onClick:k?void 0:zw(S,d),onContextMenu:zw(T,d),onWheel:zw(j,d),onMouseEnter:k?void 0:c,onMouseDown:k?I:void 0,onMouseMove:k?B:u,onMouseUp:k?C:void 0,onMouseLeave:k?N:A,ref:d,style:YS},f,ke.createElement(Nge,null))});Yq.displayName="Pane";function Xq(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:Xq(n,t):!1}function jT(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function Ege(e,t,r,n){return Array.from(e.values()).filter(s=>(s.selected||s.id===n)&&(!s.parentNode||s.parentId||!Xq(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,a;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:r.y-(((a=s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function Sge(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Jq(e,t,r,n,s=[0,0],i){const a=Sge(e,e.extent||n);let o=a;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=r.get(c),{x:d,y:h}=Cu(f,s).positionAbsolute;o=f&&oo(d)&&oo(h)&&oo(f.width)&&oo(f.height)?[[d+e.width*s[0],h+e.height*s[1]],[d+f.width-e.width+e.width*s[0],h+f.height-e.height+e.height*s[1]]]:o}else i==null||i("005",vc.error005()),o=a;else if(e.extent&&c&&e.extent!=="parent"){const f=r.get(c),{x:d,y:h}=Cu(f,s).positionAbsolute;o=[[e.extent[0][0]+d,e.extent[0][1]+h],[e.extent[1][0]+d,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const f=r.get(c);u=Cu(f,s).positionAbsolute}const A=o&&o!=="parent"?DS(t,o):t;return{position:{x:A.x-u.x,y:A.y-u.y},positionAbsolute:A}}function Gw({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?n.find(s=>s.id===e):n[0],n]}const TT=(e,t,r,n)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),a=t.getBoundingClientRect(),o={x:a.width*n[0],y:a.height*n[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-a.left-o.x)/r,y:(u.top-a.top-o.y)/r,...QS(c)}})};function u0(e,t,r){return r===void 0?r:n=>{const s=t().nodeInternals.get(e);s&&r(n,{...s})}}function oC({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",vc.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var A;return(A=n==null?void 0:n.current)==null?void 0:A.blur()})):s([e])}function Fge(){const e=qs();return re.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:s,snapToGrid:i}=e.getState(),a=r.touches?r.touches[0].clientX:r.clientX,o=r.touches?r.touches[0].clientY:r.clientY,c={x:(a-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function Vw(e){return(t,r,n)=>e==null?void 0:e(t,n)}function Zq({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:s,isSelectable:i,selectNodesOnDrag:a}){const o=qs(),[c,u]=re.useState(!1),A=re.useRef([]),f=re.useRef({x:null,y:null}),d=re.useRef(0),h=re.useRef(null),g=re.useRef({x:0,y:0}),p=re.useRef(null),m=re.useRef(!1),x=re.useRef(!1),v=re.useRef(!1),y=Fge();return re.useEffect(()=>{if(e!=null&&e.current){const w=rE(e.current),S=({x:I,y:B})=>{const{nodeInternals:C,onNodeDrag:N,onSelectionDrag:k,updateNodePositions:E,nodeExtent:U,snapGrid:D,snapToGrid:M,nodeOrigin:Q,onError:K}=o.getState();f.current={x:I,y:B};let O=!1,z={x:0,y:0,x2:0,y2:0};if(A.current.length>1&&U){const F=Ov(A.current,Q);z=zm(F)}if(A.current=A.current.map(F=>{const P={x:I-F.distance.x,y:B-F.distance.y};M&&(P.x=D[0]*Math.round(P.x/D[0]),P.y=D[1]*Math.round(P.y/D[1]));const L=[[U[0][0],U[0][1]],[U[1][0],U[1][1]]];A.current.length>1&&U&&!F.extent&&(L[0][0]=F.positionAbsolute.x-z.x+U[0][0],L[1][0]=F.positionAbsolute.x+(F.width??0)-z.x2+U[1][0],L[0][1]=F.positionAbsolute.y-z.y+U[0][1],L[1][1]=F.positionAbsolute.y+(F.height??0)-z.y2+U[1][1]);const q=Jq(F,P,C,L,Q,K);return O=O||F.position.x!==q.position.x||F.position.y!==q.position.y,F.position=q.position,F.positionAbsolute=q.positionAbsolute,F}),!O)return;E(A.current,!0,!0),u(!0);const G=s?N:Vw(k);if(G&&p.current){const[F,P]=Gw({nodeId:s,dragItems:A.current,nodeInternals:C});G(p.current,F,P)}},T=()=>{if(!h.current)return;const[I,B]=vq(g.current,h.current);if(I!==0||B!==0){const{transform:C,panBy:N}=o.getState();f.current.x=(f.current.x??0)-I/C[2],f.current.y=(f.current.y??0)-B/C[2],N({x:I,y:B})&&S(f.current)}d.current=requestAnimationFrame(T)},j=I=>{var Q;const{nodeInternals:B,multiSelectionActive:C,nodesDraggable:N,unselectNodesAndEdges:k,onNodeDragStart:E,onSelectionDragStart:U}=o.getState();x.current=!0;const D=s?E:Vw(U);(!a||!i)&&!C&&s&&((Q=B.get(s))!=null&&Q.selected||k()),s&&i&&a&&oC({id:s,store:o,nodeRef:e});const M=y(I);if(f.current=M,A.current=Ege(B,N,M,s),D&&A.current){const[K,O]=Gw({nodeId:s,dragItems:A.current,nodeInternals:B});D(I.sourceEvent,K,O)}};if(t)w.on(".drag",null);else{const I=gX().on("start",B=>{const{domNode:C,nodeDragThreshold:N}=o.getState();N===0&&j(B),v.current=!1;const k=y(B);f.current=k,h.current=(C==null?void 0:C.getBoundingClientRect())||null,g.current=pA(B.sourceEvent,h.current)}).on("drag",B=>{var E,U;const C=y(B),{autoPanOnNodeDrag:N,nodeDragThreshold:k}=o.getState();if(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!m.current&&x.current&&N&&(m.current=!0,T()),!x.current){const D=C.xSnapped-(((E=f==null?void 0:f.current)==null?void 0:E.x)??0),M=C.ySnapped-(((U=f==null?void 0:f.current)==null?void 0:U.y)??0);Math.sqrt(D*D+M*M)>k&&j(B)}(f.current.x!==C.xSnapped||f.current.y!==C.ySnapped)&&A.current&&x.current&&(p.current=B.sourceEvent,g.current=pA(B.sourceEvent,h.current),S(C))}}).on("end",B=>{if(!(!x.current||v.current)&&(u(!1),m.current=!1,x.current=!1,cancelAnimationFrame(d.current),A.current)){const{updateNodePositions:C,nodeInternals:N,onNodeDragStop:k,onSelectionDragStop:E}=o.getState(),U=s?k:Vw(E);if(C(A.current,!1,!1),U){const[D,M]=Gw({nodeId:s,dragItems:A.current,nodeInternals:N});U(B.sourceEvent,D,M)}}}).filter(B=>{const C=B.target;return!B.button&&(!r||!jT(C,`.${r}`,e))&&(!n||jT(C,n,e))});return w.call(I),()=>{w.on(".drag",null)}}}},[e,t,r,n,i,o,s,a,y]),c}function eK(){const e=qs();return re.useCallback(r=>{const{nodeInternals:n,nodeExtent:s,updateNodePositions:i,getNodes:a,snapToGrid:o,snapGrid:c,onError:u,nodesDraggable:A}=e.getState(),f=a().filter(v=>v.selected&&(v.draggable||A&&typeof v.draggable>"u")),d=o?c[0]:5,h=o?c[1]:5,g=r.isShiftPressed?4:1,p=r.x*d*g,m=r.y*h*g,x=f.map(v=>{if(v.positionAbsolute){const y={x:v.positionAbsolute.x+p,y:v.positionAbsolute.y+m};o&&(y.x=c[0]*Math.round(y.x/c[0]),y.y=c[1]*Math.round(y.y/c[1]));const{positionAbsolute:w,position:S}=Jq(v,y,n,s,void 0,u);v.position=S,v.positionAbsolute=w}return v});i(x,!0,!1)},[])}const pd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var f0=e=>{const t=({id:r,type:n,data:s,xPos:i,yPos:a,xPosOrigin:o,yPosOrigin:c,selected:u,onClick:A,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:g,onDoubleClick:p,style:m,className:x,isDraggable:v,isSelectable:y,isConnectable:w,isFocusable:S,selectNodesOnDrag:T,sourcePosition:j,targetPosition:I,hidden:B,resizeObserver:C,dragHandle:N,zIndex:k,isParent:E,noDragClassName:U,noPanClassName:D,initialized:M,disableKeyboardA11y:Q,ariaLabel:K,rfId:O,hasHandleBounds:z})=>{const G=qs(),F=re.useRef(null),P=re.useRef(null),L=re.useRef(j),q=re.useRef(I),X=re.useRef(n),se=y||v||A||f||d||h,ae=eK(),W=u0(r,G.getState,f),ee=u0(r,G.getState,d),Ce=u0(r,G.getState,h),ye=u0(r,G.getState,g),Me=u0(r,G.getState,p),we=de=>{const{nodeDragThreshold:be}=G.getState();if(y&&(!T||!v||be>0)&&oC({id:r,store:G,nodeRef:F}),A){const Be=G.getState().nodeInternals.get(r);Be&&A(de,{...Be})}},oe=de=>{if(!rC(de)&&!Q)if(Bq.includes(de.key)&&y){const be=de.key==="Escape";oC({id:r,store:G,unselect:be,nodeRef:F})}else v&&u&&Object.prototype.hasOwnProperty.call(pd,de.key)&&(G.setState({ariaLiveMessage:`Moved selected node ${de.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),ae({x:pd[de.key].x,y:pd[de.key].y,isShiftPressed:de.shiftKey}))};re.useEffect(()=>()=>{P.current&&(C==null||C.unobserve(P.current),P.current=null)},[]),re.useEffect(()=>{if(F.current&&!B){const de=F.current;(!M||!z||P.current!==de)&&(P.current&&(C==null||C.unobserve(P.current)),C==null||C.observe(de),P.current=de)}},[B,M,z]),re.useEffect(()=>{const de=X.current!==n,be=L.current!==j,Be=q.current!==I;F.current&&(de||be||Be)&&(de&&(X.current=n),be&&(L.current=j),Be&&(q.current=I),G.getState().updateNodeDimensions([{id:r,nodeElement:F.current,forceUpdate:!0}]))},[r,n,j,I]);const ze=Zq({nodeRef:F,disabled:B||!v,noDragClassName:U,handleSelector:N,nodeId:r,isSelectable:y,selectNodesOnDrag:T});return B?null:ke.createElement("div",{className:xi(["react-flow__node",`react-flow__node-${n}`,{[D]:v},x,{selected:u,selectable:y,parent:E,dragging:ze}]),ref:F,style:{zIndex:k,transform:`translate(${o}px,${c}px)`,pointerEvents:se?"all":"none",visibility:M?"visible":"hidden",...m},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:W,onMouseMove:ee,onMouseLeave:Ce,onContextMenu:ye,onClick:we,onDoubleClick:Me,onKeyDown:S?oe:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":Q?void 0:`${$q}-${O}`,"aria-label":K},ke.createElement(qpe,{value:r},ke.createElement(e,{id:r,data:s,type:n,xPos:i,yPos:a,selected:u,isConnectable:w,sourcePosition:j,targetPosition:I,dragging:ze,dragHandle:N,zIndex:k})))};return t.displayName="NodeWrapper",re.memo(t)};const jge=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Ov(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Tge({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=qs(),{width:s,height:i,x:a,y:o,transformString:c,userSelectionActive:u}=jn(jge,Js),A=eK(),f=re.useRef(null);if(re.useEffect(()=>{var g;r||(g=f.current)==null||g.focus({preventScroll:!0})},[r]),Zq({nodeRef:f}),u||!s||!i)return null;const d=e?g=>{const p=n.getState().getNodes().filter(m=>m.selected);e(g,p)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(pd,g.key)&&A({x:pd[g.key].x,y:pd[g.key].y,isShiftPressed:g.shiftKey})};return ke.createElement("div",{className:xi(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},ke.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:s,height:i,top:o,left:a}}))}var Ige=re.memo(Tge);const kge=e=>e.nodesSelectionActive,tK=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:o,onMove:c,onMoveStart:u,onMoveEnd:A,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:g,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:T,panOnScrollSpeed:j,panOnScrollMode:I,zoomOnDoubleClick:B,panOnDrag:C,defaultViewport:N,translateExtent:k,minZoom:E,maxZoom:U,preventScrolling:D,onSelectionContextMenu:M,noWheelClassName:Q,noPanClassName:K,disableKeyboardA11y:O})=>{const z=jn(kge),G=Vm(f),F=Vm(x),P=F||C,L=F||T,q=G||d&&P!==!0;return xge({deleteKeyCode:o,multiSelectionKeyCode:m}),ke.createElement(bge,{onMove:c,onMoveStart:u,onMoveEnd:A,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:L,panOnScrollSpeed:j,panOnScrollMode:I,zoomOnDoubleClick:B,panOnDrag:!G&&P,defaultViewport:N,translateExtent:k,minZoom:E,maxZoom:U,zoomActivationKeyCode:v,preventScrolling:D,noWheelClassName:Q,noPanClassName:K},ke.createElement(Yq,{onSelectionStart:g,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:P,isSelecting:!!q,selectionMode:h},e,z&&ke.createElement(Ige,{onSelectionContextMenu:M,noPanClassName:K,disableKeyboardA11y:O})))};tK.displayName="FlowRenderer";var Lge=re.memo(tK);function Uge(e){return jn(re.useCallback(r=>e?jq(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Pge(e){const t={input:f0(e.input||Oq),default:f0(e.default||aC),output:f0(e.output||Dq),group:f0(e.group||VS)},r={},n=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=f0(e[i]||aC),s),r);return{...t,...n}}const Mge=({x:e,y:t,width:r,height:n,origin:s})=>!r||!n?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-r*s[0],y:t-n*s[1]},Rge=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),rK=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:s,updateNodeDimensions:i,onError:a}=jn(Rge,Js),o=Uge(e.onlyRenderVisibleElements),c=re.useRef(),u=re.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const A=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(d)});return c.current=A,A},[]);return re.useEffect(()=>()=>{var A;(A=c==null?void 0:c.current)==null||A.disconnect()},[]),ke.createElement("div",{className:"react-flow__nodes",style:YS},o.map(A=>{var S,T,j;let f=A.type||"default";e.nodeTypes[f]||(a==null||a("003",vc.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(A.draggable||t&&typeof A.draggable>"u"),g=!!(A.selectable||s&&typeof A.selectable>"u"),p=!!(A.connectable||r&&typeof A.connectable>"u"),m=!!(A.focusable||n&&typeof A.focusable>"u"),x=e.nodeExtent?DS(A.positionAbsolute,e.nodeExtent):A.positionAbsolute,v=(x==null?void 0:x.x)??0,y=(x==null?void 0:x.y)??0,w=Mge({x:v,y,width:A.width??0,height:A.height??0,origin:e.nodeOrigin});return ke.createElement(d,{key:A.id,id:A.id,className:A.className,style:A.style,type:f,data:A.data,sourcePosition:A.sourcePosition||Jt.Bottom,targetPosition:A.targetPosition||Jt.Top,hidden:A.hidden,xPos:v,yPos:y,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!A.selected,isDraggable:h,isSelectable:g,isConnectable:p,isFocusable:m,resizeObserver:u,dragHandle:A.dragHandle,zIndex:((S=A[is])==null?void 0:S.z)??0,isParent:!!((T=A[is])!=null&&T.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!A.width&&!!A.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:A.ariaLabel,hasHandleBounds:!!((j=A[is])!=null&&j.handleBounds)})}))};rK.displayName="NodeRenderer";var Oge=re.memo(rK);const Qge=(e,t,r)=>r===Jt.Left?e-t:r===Jt.Right?e+t:e,Dge=(e,t,r)=>r===Jt.Top?e-t:r===Jt.Bottom?e+t:e,IT="react-flow__edgeupdater",kT=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:o})=>ke.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:xi([IT,`${IT}-${o}`]),cx:Qge(t,n,e),cy:Dge(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),Hge=()=>!0;var Mf=e=>{const t=({id:r,className:n,type:s,data:i,onClick:a,onEdgeDoubleClick:o,selected:c,animated:u,label:A,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:m,source:x,target:v,sourceX:y,sourceY:w,targetX:S,targetY:T,sourcePosition:j,targetPosition:I,elementsSelectable:B,hidden:C,sourceHandleId:N,targetHandleId:k,onContextMenu:E,onMouseEnter:U,onMouseMove:D,onMouseLeave:M,reconnectRadius:Q,onReconnect:K,onReconnectStart:O,onReconnectEnd:z,markerEnd:G,markerStart:F,rfId:P,ariaLabel:L,isFocusable:q,isReconnectable:X,pathOptions:se,interactionWidth:ae,disableKeyboardA11y:W})=>{const ee=re.useRef(null),[Ce,ye]=re.useState(!1),[Me,we]=re.useState(!1),oe=qs(),ze=re.useMemo(()=>`url('#${sC(F,P)}')`,[F,P]),de=re.useMemo(()=>`url('#${sC(G,P)}')`,[G,P]);if(C)return null;const be=Fe=>{var nt;const{edges:lt,addSelectedEdges:We,unselectNodesAndEdges:He,multiSelectionActive:tt}=oe.getState(),xt=lt.find(Ye=>Ye.id===r);xt&&(B&&(oe.setState({nodesSelectionActive:!1}),xt.selected&&tt?(He({nodes:[],edges:[xt]}),(nt=ee.current)==null||nt.blur()):We([r])),a&&a(Fe,xt))},Be=A0(r,oe.getState,o),et=A0(r,oe.getState,E),rt=A0(r,oe.getState,U),Nt=A0(r,oe.getState,D),me=A0(r,oe.getState,M),$e=(Fe,lt)=>{if(Fe.button!==0)return;const{edges:We,isValidConnection:He}=oe.getState(),tt=lt?v:x,xt=(lt?k:N)||null,nt=lt?"target":"source",Ye=He||Hge,Ke=lt,Lt=We.find(Ct=>Ct.id===r);we(!0),O==null||O(Fe,Lt,nt);const Et=Ct=>{we(!1),z==null||z(Ct,Lt,nt)};Uq({event:Fe,handleId:xt,nodeId:tt,onConnect:Ct=>K==null?void 0:K(Lt,Ct),isTarget:Ke,getState:oe.getState,setState:oe.setState,isValidConnection:Ye,edgeUpdaterType:nt,onReconnectEnd:Et})},Re=Fe=>$e(Fe,!0),Te=Fe=>$e(Fe,!1),ve=()=>ye(!0),it=()=>ye(!1),Oe=!B&&!a,Se=Fe=>{var lt;if(!W&&Bq.includes(Fe.key)&&B){const{unselectNodesAndEdges:We,addSelectedEdges:He,edges:tt}=oe.getState();Fe.key==="Escape"?((lt=ee.current)==null||lt.blur(),We({edges:[tt.find(nt=>nt.id===r)]})):He([r])}};return ke.createElement("g",{className:xi(["react-flow__edge",`react-flow__edge-${s}`,n,{selected:c,animated:u,inactive:Oe,updating:Ce}]),onClick:be,onDoubleClick:Be,onContextMenu:et,onMouseEnter:rt,onMouseMove:Nt,onMouseLeave:me,onKeyDown:q?Se:void 0,tabIndex:q?0:void 0,role:q?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":L===null?void 0:L||`Edge from ${x} to ${v}`,"aria-describedby":q?`${qq}-${P}`:void 0,ref:ee},!Me&&ke.createElement(e,{id:r,source:x,target:v,selected:c,animated:u,label:A,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,data:i,style:m,sourceX:y,sourceY:w,targetX:S,targetY:T,sourcePosition:j,targetPosition:I,sourceHandleId:N,targetHandleId:k,markerStart:ze,markerEnd:de,pathOptions:se,interactionWidth:ae}),X&&ke.createElement(ke.Fragment,null,(X==="source"||X===!0)&&ke.createElement(kT,{position:j,centerX:y,centerY:w,radius:Q,onMouseDown:Re,onMouseEnter:ve,onMouseOut:it,type:"source"}),(X==="target"||X===!0)&&ke.createElement(kT,{position:I,centerX:S,centerY:T,radius:Q,onMouseDown:Te,onMouseEnter:ve,onMouseOut:it,type:"target"})))};return t.displayName="EdgeWrapper",re.memo(t)};function $ge(e){const t={default:Mf(e.default||t2),straight:Mf(e.bezier||qS),step:Mf(e.step||$S),smoothstep:Mf(e.step||Rv),simplebezier:Mf(e.simplebezier||HS)},r={},n=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Mf(e[i]||t2),s),r);return{...t,...n}}function LT(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,s=((r==null?void 0:r.y)||0)+t.y,i=(r==null?void 0:r.width)||t.width,a=(r==null?void 0:r.height)||t.height;switch(e){case Jt.Top:return{x:n+i/2,y:s};case Jt.Right:return{x:n+i,y:s+a/2};case Jt.Bottom:return{x:n+i/2,y:s+a};case Jt.Left:return{x:n,y:s+a/2}}}function UT(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const qge=(e,t,r,n,s,i)=>{const a=LT(r,e,t),o=LT(i,n,s);return{sourceX:a.x,sourceY:a.y,targetX:o.x,targetY:o.y}};function Kge({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:s,targetHeight:i,width:a,height:o,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+s),y2:Math.max(e.y+n,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const A=zm({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:o/c[2]}),f=Math.max(0,Math.min(A.x2,u.x2)-Math.max(A.x,u.x)),d=Math.max(0,Math.min(A.y2,u.y2)-Math.max(A.y,u.y));return Math.ceil(f*d)>0}function PT(e){var n,s,i,a,o;const t=((n=e==null?void 0:e[is])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const zge=[{level:0,isMaxLevel:!0,edges:[]}];function Gge(e,t,r=!1){let n=-1;const s=e.reduce((a,o)=>{var A,f;const c=oo(o.zIndex);let u=c?o.zIndex:0;if(r){const d=t.get(o.target),h=t.get(o.source),g=o.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),p=Math.max(((A=h==null?void 0:h[is])==null?void 0:A.z)||0,((f=d==null?void 0:d[is])==null?void 0:f.z)||0,1e3);u=(c?o.zIndex:0)+(g?p:0)}return a[u]?a[u].push(o):a[u]=[o],n=u>n?u:n,a},{}),i=Object.entries(s).map(([a,o])=>{const c=+a;return{edges:o,level:c,isMaxLevel:c===n}});return i.length===0?zge:i}function Vge(e,t,r){const n=jn(re.useCallback(s=>e?s.edges.filter(i=>{const a=t.get(i.source),o=t.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&Kge({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:o.width,targetHeight:o.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return Gge(n,t,r)}const Wge=({color:e="none",strokeWidth:t=1})=>ke.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Yge=({color:e="none",strokeWidth:t=1})=>ke.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),MT={[ka.Arrow]:Wge,[ka.ArrowClosed]:Yge};function Xge(e){const t=qs();return re.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(MT,e)?MT[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",vc.error009(e)),null)},[e])}const Jge=({id:e,type:t,color:r,width:n=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const c=Xge(t);return c?ke.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},ke.createElement(c,{color:r,strokeWidth:a})):null},Zge=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const o=sC(a,t);n.includes(o)||(s.push({id:o,color:a.color||e,...a}),n.push(o))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},nK=({defaultColor:e,rfId:t})=>{const r=jn(re.useCallback(Zge({defaultColor:e,rfId:t}),[e,t]),(n,s)=>!(n.length!==s.length||n.some((i,a)=>i.id!==s[a].id)));return ke.createElement("defs",null,r.map(n=>ke.createElement(Jge,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};nK.displayName="MarkerDefinitions";var e1e=re.memo(nK);const t1e=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),sK=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:A,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,children:m,disableKeyboardA11y:x})=>{const{edgesFocusable:v,edgesUpdatable:y,elementsSelectable:w,width:S,height:T,connectionMode:j,nodeInternals:I,onError:B}=jn(t1e,Js),C=Vge(t,I,r);return S?ke.createElement(ke.Fragment,null,C.map(({level:N,edges:k,isMaxLevel:E})=>ke.createElement("svg",{key:N,style:{zIndex:N},width:S,height:T,className:"react-flow__edges react-flow__container"},E&&ke.createElement(e1e,{defaultColor:e,rfId:n}),ke.createElement("g",null,k.map(U=>{const[D,M,Q]=PT(I.get(U.source)),[K,O,z]=PT(I.get(U.target));if(!Q||!z)return null;let G=U.type||"default";s[G]||(B==null||B("011",vc.error011(G)),G="default");const F=s[G]||s.default,P=j===Qu.Strict?O.target:(O.target??[]).concat(O.source??[]),L=UT(M.source,U.sourceHandle),q=UT(P,U.targetHandle),X=(L==null?void 0:L.position)||Jt.Bottom,se=(q==null?void 0:q.position)||Jt.Top,ae=!!(U.focusable||v&&typeof U.focusable>"u"),W=U.reconnectable||U.updatable,ee=typeof d<"u"&&(W||y&&typeof W>"u");if(!L||!q)return B==null||B("008",vc.error008(L,U)),null;const{sourceX:Ce,sourceY:ye,targetX:Me,targetY:we}=qge(D,L,X,K,q,se);return ke.createElement(F,{key:U.id,id:U.id,className:xi([U.className,i]),type:G,data:U.data,selected:!!U.selected,animated:!!U.animated,hidden:!!U.hidden,label:U.label,labelStyle:U.labelStyle,labelShowBg:U.labelShowBg,labelBgStyle:U.labelBgStyle,labelBgPadding:U.labelBgPadding,labelBgBorderRadius:U.labelBgBorderRadius,style:U.style,source:U.source,target:U.target,sourceHandleId:U.sourceHandle,targetHandleId:U.targetHandle,markerEnd:U.markerEnd,markerStart:U.markerStart,sourceX:Ce,sourceY:ye,targetX:Me,targetY:we,sourcePosition:X,targetPosition:se,elementsSelectable:w,onContextMenu:a,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:A,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,rfId:n,ariaLabel:U.ariaLabel,isFocusable:ae,isReconnectable:ee,pathOptions:"pathOptions"in U?U.pathOptions:void 0,interactionWidth:U.interactionWidth,disableKeyboardA11y:x})})))),m):null};sK.displayName="EdgeRenderer";var r1e=re.memo(sK);const n1e=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function s1e({children:e}){const t=jn(n1e);return ke.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function i1e(e){const t=WS(),r=re.useRef(!1);re.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const a1e={[Jt.Left]:Jt.Right,[Jt.Right]:Jt.Left,[Jt.Top]:Jt.Bottom,[Jt.Bottom]:Jt.Top},iK=({nodeId:e,handleType:t,style:r,type:n=aA.Bezier,CustomComponent:s,connectionStatus:i})=>{var T,j,I;const{fromNode:a,handleId:o,toX:c,toY:u,connectionMode:A}=jn(re.useCallback(B=>({fromNode:B.nodeInternals.get(e),handleId:B.connectionHandleId,toX:(B.connectionPosition.x-B.transform[0])/B.transform[2],toY:(B.connectionPosition.y-B.transform[1])/B.transform[2],connectionMode:B.connectionMode}),[e]),Js),f=(T=a==null?void 0:a[is])==null?void 0:T.handleBounds;let d=f==null?void 0:f[t];if(A===Qu.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!a||!d)return null;const h=o?d.find(B=>B.id===o):d[0],g=h?h.x+h.width/2:(a.width??0)/2,p=h?h.y+h.height/2:a.height??0,m=(((j=a.positionAbsolute)==null?void 0:j.x)??0)+g,x=(((I=a.positionAbsolute)==null?void 0:I.y)??0)+p,v=h==null?void 0:h.position,y=v?a1e[v]:null;if(!v||!y)return null;if(s)return ke.createElement(s,{connectionLineType:n,connectionLineStyle:r,fromNode:a,fromHandle:h,fromX:m,fromY:x,toX:c,toY:u,fromPosition:v,toPosition:y,connectionStatus:i});let w="";const S={sourceX:m,sourceY:x,sourcePosition:v,targetX:c,targetY:u,targetPosition:y};return n===aA.Bezier?[w]=KS(S):n===aA.Step?[w]=nC({...S,borderRadius:0}):n===aA.SmoothStep?[w]=nC(S):n===aA.SimpleBezier?[w]=Eq(S):w=`M${m},${x} ${c},${u}`,ke.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:r})};iK.displayName="ConnectionLine";const o1e=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function l1e({containerStyle:e,style:t,type:r,component:n}){const{nodeId:s,handleType:i,nodesConnectable:a,width:o,height:c,connectionStatus:u}=jn(o1e,Js);return!(s&&i&&o&&a)?null:ke.createElement("svg",{style:e,width:o,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},ke.createElement("g",{className:xi(["react-flow__connection",u])},ke.createElement(iK,{nodeId:s,handleType:i,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function RT(e,t){return re.useRef(null),qs(),re.useMemo(()=>t(e),[e])}const aK=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:s,onInit:i,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:A,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:p,onSelectionEnd:m,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:T,selectionMode:j,multiSelectionKeyCode:I,panActivationKeyCode:B,zoomActivationKeyCode:C,deleteKeyCode:N,onlyRenderVisibleElements:k,elementsSelectable:E,selectNodesOnDrag:U,defaultViewport:D,translateExtent:M,minZoom:Q,maxZoom:K,preventScrolling:O,defaultMarkerColor:z,zoomOnScroll:G,zoomOnPinch:F,panOnScroll:P,panOnScrollSpeed:L,panOnScrollMode:q,zoomOnDoubleClick:X,panOnDrag:se,onPaneClick:ae,onPaneMouseEnter:W,onPaneMouseMove:ee,onPaneMouseLeave:Ce,onPaneScroll:ye,onPaneContextMenu:Me,onEdgeContextMenu:we,onEdgeMouseEnter:oe,onEdgeMouseMove:ze,onEdgeMouseLeave:de,onReconnect:be,onReconnectStart:Be,onReconnectEnd:et,reconnectRadius:rt,noDragClassName:Nt,noWheelClassName:me,noPanClassName:$e,elevateEdgesOnSelect:Re,disableKeyboardA11y:Te,nodeOrigin:ve,nodeExtent:it,rfId:Oe})=>{const Se=RT(e,Pge),Fe=RT(t,$ge);return i1e(i),ke.createElement(Lge,{onPaneClick:ae,onPaneMouseEnter:W,onPaneMouseMove:ee,onPaneMouseLeave:Ce,onPaneContextMenu:Me,onPaneScroll:ye,deleteKeyCode:N,selectionKeyCode:S,selectionOnDrag:T,selectionMode:j,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:I,panActivationKeyCode:B,zoomActivationKeyCode:C,elementsSelectable:E,onMove:r,onMoveStart:n,onMoveEnd:s,zoomOnScroll:G,zoomOnPinch:F,zoomOnDoubleClick:X,panOnScroll:P,panOnScrollSpeed:L,panOnScrollMode:q,panOnDrag:se,defaultViewport:D,translateExtent:M,minZoom:Q,maxZoom:K,onSelectionContextMenu:g,preventScrolling:O,noDragClassName:Nt,noWheelClassName:me,noPanClassName:$e,disableKeyboardA11y:Te},ke.createElement(s1e,null,ke.createElement(r1e,{edgeTypes:Fe,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:k,onEdgeContextMenu:we,onEdgeMouseEnter:oe,onEdgeMouseMove:ze,onEdgeMouseLeave:de,onReconnect:be,onReconnectStart:Be,onReconnectEnd:et,reconnectRadius:rt,defaultMarkerColor:z,noPanClassName:$e,elevateEdgesOnSelect:!!Re,disableKeyboardA11y:Te,rfId:Oe},ke.createElement(l1e,{style:v,type:x,component:y,containerStyle:w})),ke.createElement("div",{className:"react-flow__edgelabel-renderer"}),ke.createElement(Oge,{nodeTypes:Se,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:A,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:U,onlyRenderVisibleElements:k,noPanClassName:$e,noDragClassName:Nt,disableKeyboardA11y:Te,nodeOrigin:ve,nodeExtent:it,rfId:Oe})))};aK.displayName="GraphView";var c1e=re.memo(aK);const lC=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Vc={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:lC,nodeExtent:lC,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Qu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Rpe,isValidConnection:void 0},A1e=()=>jpe((e,t)=>({...Vc,setNodes:r=>{const{nodeInternals:n,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:Kw(r,n,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(s=>({...n,...s}))})},setDefaultNodesAndEdges:(r,n)=>{const s=typeof r<"u",i=typeof n<"u",a=s?Kw(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?n:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:o,domNode:c,nodeOrigin:u}=t(),A=c==null?void 0:c.querySelector(".react-flow__viewport");if(!A)return;const f=window.getComputedStyle(A),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=r.reduce((p,m)=>{const x=s.get(m.id);if(x!=null&&x.hidden)s.set(x.id,{...x,[is]:{...x[is],handleBounds:void 0}});else if(x){const v=QS(m.nodeElement);!!(v.width&&v.height&&(x.width!==v.width||x.height!==v.height||m.forceUpdate))&&(s.set(x.id,{...x,[is]:{...x[is],handleBounds:{source:TT(".source",m.nodeElement,d,u),target:TT(".target",m.nodeElement,d,u)}},...v}),p.push({id:x.id,type:"dimensions",dimensions:v}))}return p},[]);zq(s,u);const g=a||i&&!a&&Gq(t,{initial:!0,...o});e({nodeInternals:new Map(s),fitViewOnInitDone:g}),(h==null?void 0:h.length)>0&&(n==null||n(h))},updateNodePositions:(r,n=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),a=r.map(o=>{const c={id:o.id,type:"position",dragging:s};return n&&(c.positionAbsolute=o.positionAbsolute,c.position=o.position),c});i(a)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:a,getNodes:o,elevateNodesOnSelect:c}=t();if(r!=null&&r.length){if(i){const u=Wq(r,o()),A=Kw(u,s,a,c);e({nodeInternals:A})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:s,getNodes:i}=t();let a,o=null;n?a=r.map(c=>nA(c,!0)):(a=ad(i(),r),o=ad(s,[])),Qg({changedNodes:a,changedEdges:o,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:s,getNodes:i}=t();let a,o=null;n?a=r.map(c=>nA(c,!0)):(a=ad(s,r),o=ad(i(),[])),Qg({changedNodes:o,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:s,getNodes:i}=t(),a=r||i(),o=n||s,c=a.map(A=>(A.selected=!1,nA(A.id,!1))),u=o.map(A=>nA(A.id,!1));Qg({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:s}=t();n==null||n.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:s}=t();n==null||n.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),i=n().filter(o=>o.selected).map(o=>nA(o.id,!1)),a=r.filter(o=>o.selected).map(o=>nA(o.id,!1));Qg({changedNodes:i,changedEdges:a,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(s=>{s.positionAbsolute=DS(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:s,height:i,d3Zoom:a,d3Selection:o,translateExtent:c}=t();if(!a||!o||!r.x&&!r.y)return!1;const u=bu.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),A=[[0,0],[s,i]],f=a==null?void 0:a.constrain()(u,A,c);return a.transform(o,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Vc.connectionNodeId,connectionHandleId:Vc.connectionHandleId,connectionHandleType:Vc.connectionHandleType,connectionStatus:Vc.connectionStatus,connectionStartHandle:Vc.connectionStartHandle,connectionEndHandle:Vc.connectionEndHandle}),reset:()=>e({...Vc})}),Object.is),XS=({children:e})=>{const t=re.useRef(null);return t.current||(t.current=A1e()),ke.createElement(Tpe,{value:t.current},e)};XS.displayName="ReactFlowProvider";const oK=({children:e})=>re.useContext(Mv)?ke.createElement(ke.Fragment,null,e):ke.createElement(XS,null,e);oK.displayName="ReactFlowWrapper";const u1e={input:Oq,default:aC,output:Dq,group:VS},f1e={default:t2,straight:qS,step:$S,smoothstep:Rv,simplebezier:HS},d1e=[0,0],h1e=[15,15],m1e={x:0,y:0,zoom:1},p1e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},lK=re.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:s,nodeTypes:i=u1e,edgeTypes:a=f1e,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:A,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:m,onClickConnectEnd:x,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:T,onNodeDragStart:j,onNodeDrag:I,onNodeDragStop:B,onNodesDelete:C,onEdgesDelete:N,onSelectionChange:k,onSelectionDragStart:E,onSelectionDrag:U,onSelectionDragStop:D,onSelectionContextMenu:M,onSelectionStart:Q,onSelectionEnd:K,connectionMode:O=Qu.Strict,connectionLineType:z=aA.Bezier,connectionLineStyle:G,connectionLineComponent:F,connectionLineContainerStyle:P,deleteKeyCode:L="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:X=!1,selectionMode:se=Gm.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:W=e2()?"Meta":"Control",zoomActivationKeyCode:ee=e2()?"Meta":"Control",snapToGrid:Ce=!1,snapGrid:ye=h1e,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:we=!0,nodesDraggable:oe,nodesConnectable:ze,nodesFocusable:de,nodeOrigin:be=d1e,edgesFocusable:Be,edgesUpdatable:et,elementsSelectable:rt,defaultViewport:Nt=m1e,minZoom:me=.5,maxZoom:$e=2,translateExtent:Re=lC,preventScrolling:Te=!0,nodeExtent:ve,defaultMarkerColor:it="#b1b1b7",zoomOnScroll:Oe=!0,zoomOnPinch:Se=!0,panOnScroll:Fe=!1,panOnScrollSpeed:lt=.5,panOnScrollMode:We=vu.Free,zoomOnDoubleClick:He=!0,panOnDrag:tt=!0,onPaneClick:xt,onPaneMouseEnter:nt,onPaneMouseMove:Ye,onPaneMouseLeave:Ke,onPaneScroll:Lt,onPaneContextMenu:Et,children:Ut,onEdgeContextMenu:Ct,onEdgeDoubleClick:Vt,onEdgeMouseEnter:$n,onEdgeMouseMove:Vr,onEdgeMouseLeave:Mn,onEdgeUpdate:Rn,onEdgeUpdateStart:qt,onEdgeUpdateEnd:As,onReconnect:Kr,onReconnectStart:Lr,onReconnectEnd:zt,reconnectRadius:jr=10,edgeUpdaterRadius:Sr=10,onNodesChange:ne,onEdgesChange:he,noDragClassName:Y="nodrag",noWheelClassName:J="nowheel",noPanClassName:ce="nopan",fitView:Ae=!1,fitViewOptions:_e,connectOnClick:Pe=!0,attributionPosition:Ne,proOptions:Ee,defaultEdgeOptions:Qe,elevateNodesOnSelect:at=!0,elevateEdgesOnSelect:Le=!1,disableKeyboardA11y:ht=!1,autoPanOnConnect:Ve=!0,autoPanOnNodeDrag:yt=!0,connectionRadius:It=20,isValidConnection:Mt,onError:At,style:Rt,id:lr,nodeDragThreshold:Xt,...Mr},hr)=>{const br=lr||"1";return ke.createElement("div",{...Mr,style:{...Rt,...p1e},ref:hr,className:xi(["react-flow",s]),"data-testid":"rf__wrapper",id:lr},ke.createElement(oK,null,ke.createElement(c1e,{onInit:u,onMove:A,onMoveStart:f,onMoveEnd:d,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:T,nodeTypes:i,edgeTypes:a,connectionLineType:z,connectionLineStyle:G,connectionLineComponent:F,connectionLineContainerStyle:P,selectionKeyCode:q,selectionOnDrag:X,selectionMode:se,deleteKeyCode:L,multiSelectionKeyCode:W,panActivationKeyCode:ae,zoomActivationKeyCode:ee,onlyRenderVisibleElements:Me,selectNodesOnDrag:we,defaultViewport:Nt,translateExtent:Re,minZoom:me,maxZoom:$e,preventScrolling:Te,zoomOnScroll:Oe,zoomOnPinch:Se,zoomOnDoubleClick:He,panOnScroll:Fe,panOnScrollSpeed:lt,panOnScrollMode:We,panOnDrag:tt,onPaneClick:xt,onPaneMouseEnter:nt,onPaneMouseMove:Ye,onPaneMouseLeave:Ke,onPaneScroll:Lt,onPaneContextMenu:Et,onSelectionContextMenu:M,onSelectionStart:Q,onSelectionEnd:K,onEdgeContextMenu:Ct,onEdgeDoubleClick:Vt,onEdgeMouseEnter:$n,onEdgeMouseMove:Vr,onEdgeMouseLeave:Mn,onReconnect:Kr??Rn,onReconnectStart:Lr??qt,onReconnectEnd:zt??As,reconnectRadius:jr??Sr,defaultMarkerColor:it,noDragClassName:Y,noWheelClassName:J,noPanClassName:ce,elevateEdgesOnSelect:Le,rfId:br,disableKeyboardA11y:ht,nodeOrigin:be,nodeExtent:ve}),ke.createElement(age,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:m,onClickConnectEnd:x,nodesDraggable:oe,nodesConnectable:ze,nodesFocusable:de,edgesFocusable:Be,edgesUpdatable:et,elementsSelectable:rt,elevateNodesOnSelect:at,minZoom:me,maxZoom:$e,nodeExtent:ve,onNodesChange:ne,onEdgesChange:he,snapToGrid:Ce,snapGrid:ye,connectionMode:O,translateExtent:Re,connectOnClick:Pe,defaultEdgeOptions:Qe,fitView:Ae,fitViewOptions:_e,onNodesDelete:C,onEdgesDelete:N,onNodeDragStart:j,onNodeDrag:I,onNodeDragStop:B,onSelectionDrag:U,onSelectionDragStart:E,onSelectionDragStop:D,noPanClassName:ce,nodeOrigin:be,rfId:br,autoPanOnConnect:Ve,autoPanOnNodeDrag:yt,onError:At,connectionRadius:It,isValidConnection:Mt,nodeDragThreshold:Xt}),ke.createElement(sge,{onSelectionChange:k}),Ut,ke.createElement(kpe,{proOptions:Ee,position:Ne}),ke.createElement(uge,{rfId:br,disableKeyboardA11y:ht})))});lK.displayName="ReactFlow";function cK(e){return t=>{const[r,n]=re.useState(t),s=re.useCallback(i=>n(a=>e(i,a)),[]);return[r,n,s]}}const g1e=cK(Wq),x1e=cK(_ge),AK=({id:e,x:t,y:r,width:n,height:s,style:i,color:a,strokeColor:o,strokeWidth:c,className:u,borderRadius:A,shapeRendering:f,onClick:d,selected:h})=>{const{background:g,backgroundColor:p}=i||{},m=a||g||p;return ke.createElement("rect",{className:xi(["react-flow__minimap-node",{selected:h},u]),x:t,y:r,rx:A,ry:A,width:n,height:s,fill:m,stroke:o,strokeWidth:c,shapeRendering:f,onClick:d?x=>d(x,e):void 0})};AK.displayName="MiniMapNode";var v1e=re.memo(AK);const y1e=e=>e.nodeOrigin,w1e=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ww=e=>e instanceof Function?e:()=>e;function b1e({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:s=2,nodeComponent:i=v1e,onClick:a}){const o=jn(w1e,Js),c=jn(y1e),u=Ww(t),A=Ww(e),f=Ww(r),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ke.createElement(ke.Fragment,null,o.map(h=>{const{x:g,y:p}=Cu(h,c).positionAbsolute;return ke.createElement(i,{key:h.id,x:g,y:p,width:h.width,height:h.height,style:h.style,selected:h.selected,className:f(h),color:u(h),borderRadius:n,strokeColor:A(h),strokeWidth:s,shapeRendering:d,onClick:a,id:h.id})}))}var B1e=re.memo(b1e);const N1e=200,_1e=150,C1e=e=>{const t=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:t.length>0?Ppe(Ov(t,e.nodeOrigin),r):r,rfId:e.rfId}},E1e="react-flow__minimap-desc";function uK({style:e,className:t,nodeStrokeColor:r="transparent",nodeColor:n="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:o,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:A=1,position:f="bottom-right",onClick:d,onNodeClick:h,pannable:g=!1,zoomable:p=!1,ariaLabel:m="React Flow mini map",inversePan:x=!1,zoomStep:v=10,offsetScale:y=5}){const w=qs(),S=re.useRef(null),{boundingRect:T,viewBB:j,rfId:I}=jn(C1e,Js),B=(e==null?void 0:e.width)??N1e,C=(e==null?void 0:e.height)??_1e,N=T.width/B,k=T.height/C,E=Math.max(N,k),U=E*B,D=E*C,M=y*E,Q=T.x-(U-T.width)/2-M,K=T.y-(D-T.height)/2-M,O=U+M*2,z=D+M*2,G=`${E1e}-${I}`,F=re.useRef(0);F.current=E,re.useEffect(()=>{if(S.current){const q=rE(S.current),X=W=>{const{transform:ee,d3Selection:Ce,d3Zoom:ye}=w.getState();if(W.sourceEvent.type!=="wheel"||!Ce||!ye)return;const Me=-W.sourceEvent.deltaY*(W.sourceEvent.deltaMode===1?.05:W.sourceEvent.deltaMode?1:.002)*v,we=ee[2]*Math.pow(2,Me);ye.scaleTo(Ce,we)},se=W=>{const{transform:ee,d3Selection:Ce,d3Zoom:ye,translateExtent:Me,width:we,height:oe}=w.getState();if(W.sourceEvent.type!=="mousemove"||!Ce||!ye)return;const ze=F.current*Math.max(1,ee[2])*(x?-1:1),de={x:ee[0]-W.sourceEvent.movementX*ze,y:ee[1]-W.sourceEvent.movementY*ze},be=[[0,0],[we,oe]],Be=bu.translate(de.x,de.y).scale(ee[2]),et=ye.constrain()(Be,be,Me);ye.transform(Ce,et)},ae=YR().on("zoom",g?se:null).on("zoom.wheel",p?X:null);return q.call(ae),()=>{q.on("zoom",null)}}},[g,p,x,v]);const P=d?q=>{const X=XR(q);d(q,{x:X[0],y:X[1]})}:void 0,L=h?(q,X)=>{const se=w.getState().nodeInternals.get(X);h(q,se)}:void 0;return ke.createElement(OS,{position:f,style:e,className:xi(["react-flow__minimap",t]),"data-testid":"rf__minimap"},ke.createElement("svg",{width:B,height:C,viewBox:`${Q} ${K} ${O} ${z}`,role:"img","aria-labelledby":G,ref:S,onClick:P},m&&ke.createElement("title",{id:G},m),ke.createElement(B1e,{onClick:L,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:o}),ke.createElement("path",{className:"react-flow__minimap-mask",d:`M${Q-M},${K-M}h${O+M*2}v${z+M*2}h${-O-M*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:A,pointerEvents:"none"})))}uK.displayName="MiniMap";var S1e=re.memo(uK);function F1e(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ke.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function j1e(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ke.createElement("path",{d:"M0 0h32v4.2H0z"}))}function T1e(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ke.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function I1e(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ke.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function k1e(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ke.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const R0=({children:e,className:t,...r})=>ke.createElement("button",{type:"button",className:xi(["react-flow__controls-button",t]),...r},e);R0.displayName="ControlButton";const L1e=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),fK=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:o,onInteractiveChange:c,className:u,children:A,position:f="bottom-left"})=>{const d=qs(),[h,g]=re.useState(!1),{isInteractive:p,minZoomReached:m,maxZoomReached:x}=jn(L1e,Js),{zoomIn:v,zoomOut:y,fitView:w}=WS();if(re.useEffect(()=>{g(!0)},[]),!h)return null;const S=()=>{v(),i==null||i()},T=()=>{y(),a==null||a()},j=()=>{w(s),o==null||o()},I=()=>{d.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c==null||c(!p)};return ke.createElement(OS,{className:xi(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&ke.createElement(ke.Fragment,null,ke.createElement(R0,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},ke.createElement(F1e,null)),ke.createElement(R0,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m},ke.createElement(j1e,null))),r&&ke.createElement(R0,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},ke.createElement(T1e,null)),n&&ke.createElement(R0,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity"},p?ke.createElement(k1e,null):ke.createElement(I1e,null)),A)};fK.displayName="Controls";var U1e=re.memo(fK),uo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(uo||(uo={}));function P1e({color:e,dimensions:t,lineWidth:r}){return ke.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function M1e({color:e,radius:t}){return ke.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const R1e={[uo.Dots]:"#91919a",[uo.Lines]:"#eee",[uo.Cross]:"#e2e2e2"},O1e={[uo.Dots]:1,[uo.Lines]:1,[uo.Cross]:6},Q1e=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function dK({id:e,variant:t=uo.Dots,gap:r=20,size:n,lineWidth:s=1,offset:i=2,color:a,style:o,className:c}){const u=re.useRef(null),{transform:A,patternId:f}=jn(Q1e,Js),d=a||R1e[t],h=n||O1e[t],g=t===uo.Dots,p=t===uo.Cross,m=Array.isArray(r)?r:[r,r],x=[m[0]*A[2]||1,m[1]*A[2]||1],v=h*A[2],y=p?[v,v]:x,w=g?[v/i,v/i]:[y[0]/i,y[1]/i];return ke.createElement("svg",{className:xi(["react-flow__background",c]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ke.createElement("pattern",{id:f+e,x:A[0]%x[0],y:A[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},g?ke.createElement(M1e,{color:d,radius:v/i}):ke.createElement(P1e,{dimensions:y,color:d,lineWidth:s})),ke.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}dK.displayName="Background";var D1e=re.memo(dK);const H1e=()=>{const[e,t]=re.useState({isOpen:!1,options:null,resolve:null}),{language:r}=ir(),n=c=>new Promise(u=>{t({isOpen:!0,options:c,resolve:u})}),s=()=>{e.resolve&&e.resolve(!0),t({isOpen:!1,options:null,resolve:null})},i=()=>{e.resolve&&e.resolve(!1),t({isOpen:!1,options:null,resolve:null})},a=c=>typeof c=="string"?c:c[r],o=c=>c?typeof c=="string"?c:c[r]:"";return{confirm:n,isOpen:e.isOpen,options:e.options,handleConfirm:s,handleCancel:i,getMessage:a,getTitle:o}};function JS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yw,OT;function $1e(){if(OT)return Yw;OT=1;function e(){this.__data__=[],this.size=0}return Yw=e,Yw}var Xw,QT;function uh(){if(QT)return Xw;QT=1;function e(t,r){return t===r||t!==t&&r!==r}return Xw=e,Xw}var Jw,DT;function Qv(){if(DT)return Jw;DT=1;var e=uh();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return Jw=t,Jw}var Zw,HT;function q1e(){if(HT)return Zw;HT=1;var e=Qv(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,a=e(i,s);if(a<0)return!1;var o=i.length-1;return a==o?i.pop():r.call(i,a,1),--this.size,!0}return Zw=n,Zw}var eb,$T;function K1e(){if($T)return eb;$T=1;var e=Qv();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return eb=t,eb}var tb,qT;function z1e(){if(qT)return tb;qT=1;var e=Qv();function t(r){return e(this.__data__,r)>-1}return tb=t,tb}var rb,KT;function G1e(){if(KT)return rb;KT=1;var e=Qv();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return rb=t,rb}var nb,zT;function Dv(){if(zT)return nb;zT=1;var e=$1e(),t=q1e(),r=K1e(),n=z1e(),s=G1e();function i(a){var o=-1,c=a==null?0:a.length;for(this.clear();++o<c;){var u=a[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,nb=i,nb}var sb,GT;function V1e(){if(GT)return sb;GT=1;var e=Dv();function t(){this.__data__=new e,this.size=0}return sb=t,sb}var ib,VT;function W1e(){if(VT)return ib;VT=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return ib=e,ib}var ab,WT;function Y1e(){if(WT)return ab;WT=1;function e(t){return this.__data__.get(t)}return ab=e,ab}var ob,YT;function X1e(){if(YT)return ob;YT=1;function e(t){return this.__data__.has(t)}return ob=e,ob}var lb,XT;function hK(){if(XT)return lb;XT=1;var e=typeof N0=="object"&&N0&&N0.Object===Object&&N0;return lb=e,lb}var cb,JT;function qo(){if(JT)return cb;JT=1;var e=hK(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return cb=r,cb}var Ab,ZT;function fh(){if(ZT)return Ab;ZT=1;var e=qo(),t=e.Symbol;return Ab=t,Ab}var ub,eI;function J1e(){if(eI)return ub;eI=1;var e=fh(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(a){var o=r.call(a,s),c=a[s];try{a[s]=void 0;var u=!0}catch{}var A=n.call(a);return u&&(o?a[s]=c:delete a[s]),A}return ub=i,ub}var fb,tI;function Z1e(){if(tI)return fb;tI=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return fb=r,fb}var db,rI;function tf(){if(rI)return db;rI=1;var e=fh(),t=J1e(),r=Z1e(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function a(o){return o==null?o===void 0?s:n:i&&i in Object(o)?t(o):r(o)}return db=a,db}var hb,nI;function po(){if(nI)return hb;nI=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return hb=e,hb}var mb,sI;function Sp(){if(sI)return mb;sI=1;var e=tf(),t=po(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function a(o){if(!t(o))return!1;var c=e(o);return c==n||c==s||c==r||c==i}return mb=a,mb}var pb,iI;function exe(){if(iI)return pb;iI=1;var e=qo(),t=e["__core-js_shared__"];return pb=t,pb}var gb,aI;function txe(){if(aI)return gb;aI=1;var e=exe(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return gb=r,gb}var xb,oI;function mK(){if(oI)return xb;oI=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return xb=r,xb}var vb,lI;function rxe(){if(lI)return vb;lI=1;var e=Sp(),t=txe(),r=po(),n=mK(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,c=a.toString,u=o.hasOwnProperty,A=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!r(d)||t(d))return!1;var h=e(d)?A:i;return h.test(n(d))}return vb=f,vb}var yb,cI;function nxe(){if(cI)return yb;cI=1;function e(t,r){return t==null?void 0:t[r]}return yb=e,yb}var wb,AI;function rf(){if(AI)return wb;AI=1;var e=rxe(),t=nxe();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return wb=r,wb}var bb,uI;function ZS(){if(uI)return bb;uI=1;var e=rf(),t=qo(),r=e(t,"Map");return bb=r,bb}var Bb,fI;function Hv(){if(fI)return Bb;fI=1;var e=rf(),t=e(Object,"create");return Bb=t,Bb}var Nb,dI;function sxe(){if(dI)return Nb;dI=1;var e=Hv();function t(){this.__data__=e?e(null):{},this.size=0}return Nb=t,Nb}var _b,hI;function ixe(){if(hI)return _b;hI=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return _b=e,_b}var Cb,mI;function axe(){if(mI)return Cb;mI=1;var e=Hv(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var a=this.__data__;if(e){var o=a[i];return o===t?void 0:o}return n.call(a,i)?a[i]:void 0}return Cb=s,Cb}var Eb,pI;function oxe(){if(pI)return Eb;pI=1;var e=Hv(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Eb=n,Eb}var Sb,gI;function lxe(){if(gI)return Sb;gI=1;var e=Hv(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return Sb=r,Sb}var Fb,xI;function cxe(){if(xI)return Fb;xI=1;var e=sxe(),t=ixe(),r=axe(),n=oxe(),s=lxe();function i(a){var o=-1,c=a==null?0:a.length;for(this.clear();++o<c;){var u=a[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Fb=i,Fb}var jb,vI;function Axe(){if(vI)return jb;vI=1;var e=cxe(),t=Dv(),r=ZS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return jb=n,jb}var Tb,yI;function uxe(){if(yI)return Tb;yI=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Tb=e,Tb}var Ib,wI;function $v(){if(wI)return Ib;wI=1;var e=uxe();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return Ib=t,Ib}var kb,bI;function fxe(){if(bI)return kb;bI=1;var e=$v();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return kb=t,kb}var Lb,BI;function dxe(){if(BI)return Lb;BI=1;var e=$v();function t(r){return e(this,r).get(r)}return Lb=t,Lb}var Ub,NI;function hxe(){if(NI)return Ub;NI=1;var e=$v();function t(r){return e(this,r).has(r)}return Ub=t,Ub}var Pb,_I;function mxe(){if(_I)return Pb;_I=1;var e=$v();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return Pb=t,Pb}var Mb,CI;function e6(){if(CI)return Mb;CI=1;var e=Axe(),t=fxe(),r=dxe(),n=hxe(),s=mxe();function i(a){var o=-1,c=a==null?0:a.length;for(this.clear();++o<c;){var u=a[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Mb=i,Mb}var Rb,EI;function pxe(){if(EI)return Rb;EI=1;var e=Dv(),t=ZS(),r=e6(),n=200;function s(i,a){var o=this.__data__;if(o instanceof e){var c=o.__data__;if(!t||c.length<n-1)return c.push([i,a]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(i,a),this.size=o.size,this}return Rb=s,Rb}var Ob,SI;function qv(){if(SI)return Ob;SI=1;var e=Dv(),t=V1e(),r=W1e(),n=Y1e(),s=X1e(),i=pxe();function a(o){var c=this.__data__=new e(o);this.size=c.size}return a.prototype.clear=t,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=s,a.prototype.set=i,Ob=a,Ob}var Qb,FI;function t6(){if(FI)return Qb;FI=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s&&r(t[n],n,t)!==!1;);return t}return Qb=e,Qb}var Db,jI;function pK(){if(jI)return Db;jI=1;var e=rf(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Db=t,Db}var Hb,TI;function Kv(){if(TI)return Hb;TI=1;var e=pK();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return Hb=t,Hb}var $b,II;function zv(){if(II)return $b;II=1;var e=Kv(),t=uh(),r=Object.prototype,n=r.hasOwnProperty;function s(i,a,o){var c=i[a];(!(n.call(i,a)&&t(c,o))||o===void 0&&!(a in i))&&e(i,a,o)}return $b=s,$b}var qb,kI;function Fp(){if(kI)return qb;kI=1;var e=zv(),t=Kv();function r(n,s,i,a){var o=!i;i||(i={});for(var c=-1,u=s.length;++c<u;){var A=s[c],f=a?a(i[A],n[A],A,i,n):void 0;f===void 0&&(f=n[A]),o?t(i,A,f):e(i,A,f)}return i}return qb=r,qb}var Kb,LI;function gxe(){if(LI)return Kb;LI=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return Kb=e,Kb}var zb,UI;function Fl(){if(UI)return zb;UI=1;function e(t){return t!=null&&typeof t=="object"}return zb=e,zb}var Gb,PI;function xxe(){if(PI)return Gb;PI=1;var e=tf(),t=Fl(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return Gb=n,Gb}var Vb,MI;function jp(){if(MI)return Vb;MI=1;var e=xxe(),t=Fl(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&n.call(a,"callee")&&!s.call(a,"callee")};return Vb=i,Vb}var Wb,RI;function Fs(){if(RI)return Wb;RI=1;var e=Array.isArray;return Wb=e,Wb}var O0={exports:{}},Yb,OI;function vxe(){if(OI)return Yb;OI=1;function e(){return!1}return Yb=e,Yb}O0.exports;var QI;function dh(){return QI||(QI=1,function(e,t){var r=qo(),n=vxe(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u}(O0,O0.exports)),O0.exports}var Xb,DI;function Gv(){if(DI)return Xb;DI=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return Xb=r,Xb}var Jb,HI;function r6(){if(HI)return Jb;HI=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Jb=t,Jb}var Zb,$I;function yxe(){if($I)return Zb;$I=1;var e=tf(),t=r6(),r=Fl(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",a="[object Date]",o="[object Error]",c="[object Function]",u="[object Map]",A="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",g="[object String]",p="[object WeakMap]",m="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",j="[object Uint8Array]",I="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",N={};N[v]=N[y]=N[w]=N[S]=N[T]=N[j]=N[I]=N[B]=N[C]=!0,N[n]=N[s]=N[m]=N[i]=N[x]=N[a]=N[o]=N[c]=N[u]=N[A]=N[f]=N[d]=N[h]=N[g]=N[p]=!1;function k(E){return r(E)&&t(E.length)&&!!N[e(E)]}return Zb=k,Zb}var e5,qI;function Vv(){if(qI)return e5;qI=1;function e(t){return function(r){return t(r)}}return e5=e,e5}var Q0={exports:{}};Q0.exports;var KI;function n6(){return KI||(KI=1,function(e,t){var r=hK(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,a=i&&r.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o}(Q0,Q0.exports)),Q0.exports}var t5,zI;function Tp(){if(zI)return t5;zI=1;var e=yxe(),t=Vv(),r=n6(),n=r&&r.isTypedArray,s=n?t(n):e;return t5=s,t5}var r5,GI;function gK(){if(GI)return r5;GI=1;var e=gxe(),t=jp(),r=Fs(),n=dh(),s=Gv(),i=Tp(),a=Object.prototype,o=a.hasOwnProperty;function c(u,A){var f=r(u),d=!f&&t(u),h=!f&&!d&&n(u),g=!f&&!d&&!h&&i(u),p=f||d||h||g,m=p?e(u.length,String):[],x=m.length;for(var v in u)(A||o.call(u,v))&&!(p&&(v=="length"||h&&(v=="offset"||v=="parent")||g&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||s(v,x)))&&m.push(v);return m}return r5=c,r5}var n5,VI;function Wv(){if(VI)return n5;VI=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return n5=t,n5}var s5,WI;function xK(){if(WI)return s5;WI=1;function e(t,r){return function(n){return t(r(n))}}return s5=e,s5}var i5,YI;function wxe(){if(YI)return i5;YI=1;var e=xK(),t=e(Object.keys,Object);return i5=t,i5}var a5,XI;function s6(){if(XI)return a5;XI=1;var e=Wv(),t=wxe(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var a=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&a.push(o);return a}return a5=s,a5}var o5,JI;function Cc(){if(JI)return o5;JI=1;var e=Sp(),t=r6();function r(n){return n!=null&&t(n.length)&&!e(n)}return o5=r,o5}var l5,ZI;function RA(){if(ZI)return l5;ZI=1;var e=gK(),t=s6(),r=Cc();function n(s){return r(s)?e(s):t(s)}return l5=n,l5}var c5,ek;function bxe(){if(ek)return c5;ek=1;var e=Fp(),t=RA();function r(n,s){return n&&e(s,t(s),n)}return c5=r,c5}var A5,tk;function Bxe(){if(tk)return A5;tk=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return A5=e,A5}var u5,rk;function Nxe(){if(rk)return u5;rk=1;var e=po(),t=Wv(),r=Bxe(),n=Object.prototype,s=n.hasOwnProperty;function i(a){if(!e(a))return r(a);var o=t(a),c=[];for(var u in a)u=="constructor"&&(o||!s.call(a,u))||c.push(u);return c}return u5=i,u5}var f5,nk;function nf(){if(nk)return f5;nk=1;var e=gK(),t=Nxe(),r=Cc();function n(s){return r(s)?e(s,!0):t(s)}return f5=n,f5}var d5,sk;function _xe(){if(sk)return d5;sk=1;var e=Fp(),t=nf();function r(n,s){return n&&e(s,t(s),n)}return d5=r,d5}var D0={exports:{}};D0.exports;var ik;function vK(){return ik||(ik=1,function(e,t){var r=qo(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,a=i?r.Buffer:void 0,o=a?a.allocUnsafe:void 0;function c(u,A){if(A)return u.slice();var f=u.length,d=o?o(f):new u.constructor(f);return u.copy(d),d}e.exports=c}(D0,D0.exports)),D0.exports}var h5,ak;function yK(){if(ak)return h5;ak=1;function e(t,r){var n=-1,s=t.length;for(r||(r=Array(s));++n<s;)r[n]=t[n];return r}return h5=e,h5}var m5,ok;function wK(){if(ok)return m5;ok=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,a=[];++n<s;){var o=t[n];r(o,n,t)&&(a[i++]=o)}return a}return m5=e,m5}var p5,lk;function bK(){if(lk)return p5;lk=1;function e(){return[]}return p5=e,p5}var g5,ck;function i6(){if(ck)return g5;ck=1;var e=wK(),t=bK(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(a){return a==null?[]:(a=Object(a),e(s(a),function(o){return n.call(a,o)}))}:t;return g5=i,g5}var x5,Ak;function Cxe(){if(Ak)return x5;Ak=1;var e=Fp(),t=i6();function r(n,s){return e(n,t(n),s)}return x5=r,x5}var v5,uk;function a6(){if(uk)return v5;uk=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return v5=e,v5}var y5,fk;function Yv(){if(fk)return y5;fk=1;var e=xK(),t=e(Object.getPrototypeOf,Object);return y5=t,y5}var w5,dk;function BK(){if(dk)return w5;dk=1;var e=a6(),t=Yv(),r=i6(),n=bK(),s=Object.getOwnPropertySymbols,i=s?function(a){for(var o=[];a;)e(o,r(a)),a=t(a);return o}:n;return w5=i,w5}var b5,hk;function Exe(){if(hk)return b5;hk=1;var e=Fp(),t=BK();function r(n,s){return e(n,t(n),s)}return b5=r,b5}var B5,mk;function NK(){if(mk)return B5;mk=1;var e=a6(),t=Fs();function r(n,s,i){var a=s(n);return t(n)?a:e(a,i(n))}return B5=r,B5}var N5,pk;function _K(){if(pk)return N5;pk=1;var e=NK(),t=i6(),r=RA();function n(s){return e(s,r,t)}return N5=n,N5}var _5,gk;function Sxe(){if(gk)return _5;gk=1;var e=NK(),t=BK(),r=nf();function n(s){return e(s,r,t)}return _5=n,_5}var C5,xk;function Fxe(){if(xk)return C5;xk=1;var e=rf(),t=qo(),r=e(t,"DataView");return C5=r,C5}var E5,vk;function jxe(){if(vk)return E5;vk=1;var e=rf(),t=qo(),r=e(t,"Promise");return E5=r,E5}var S5,yk;function CK(){if(yk)return S5;yk=1;var e=rf(),t=qo(),r=e(t,"Set");return S5=r,S5}var F5,wk;function Txe(){if(wk)return F5;wk=1;var e=rf(),t=qo(),r=e(t,"WeakMap");return F5=r,F5}var j5,bk;function hh(){if(bk)return j5;bk=1;var e=Fxe(),t=ZS(),r=jxe(),n=CK(),s=Txe(),i=tf(),a=mK(),o="[object Map]",c="[object Object]",u="[object Promise]",A="[object Set]",f="[object WeakMap]",d="[object DataView]",h=a(e),g=a(t),p=a(r),m=a(n),x=a(s),v=i;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=o||r&&v(r.resolve())!=u||n&&v(new n)!=A||s&&v(new s)!=f)&&(v=function(y){var w=i(y),S=w==c?y.constructor:void 0,T=S?a(S):"";if(T)switch(T){case h:return d;case g:return o;case p:return u;case m:return A;case x:return f}return w}),j5=v,j5}var T5,Bk;function Ixe(){if(Bk)return T5;Bk=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var s=n.length,i=new n.constructor(s);return s&&typeof n[0]=="string"&&t.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return T5=r,T5}var I5,Nk;function EK(){if(Nk)return I5;Nk=1;var e=qo(),t=e.Uint8Array;return I5=t,I5}var k5,_k;function o6(){if(_k)return k5;_k=1;var e=EK();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return k5=t,k5}var L5,Ck;function kxe(){if(Ck)return L5;Ck=1;var e=o6();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.byteLength)}return L5=t,L5}var U5,Ek;function Lxe(){if(Ek)return U5;Ek=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return U5=t,U5}var P5,Sk;function Uxe(){if(Sk)return P5;Sk=1;var e=fh(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(s){return r?Object(r.call(s)):{}}return P5=n,P5}var M5,Fk;function SK(){if(Fk)return M5;Fk=1;var e=o6();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.length)}return M5=t,M5}var R5,jk;function Pxe(){if(jk)return R5;jk=1;var e=o6(),t=kxe(),r=Lxe(),n=Uxe(),s=SK(),i="[object Boolean]",a="[object Date]",o="[object Map]",c="[object Number]",u="[object RegExp]",A="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",m="[object Float64Array]",x="[object Int8Array]",v="[object Int16Array]",y="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]";function I(B,C,N){var k=B.constructor;switch(C){case h:return e(B);case i:case a:return new k(+B);case g:return t(B,N);case p:case m:case x:case v:case y:case w:case S:case T:case j:return s(B,N);case o:return new k;case c:case f:return new k(B);case u:return r(B);case A:return new k;case d:return n(B)}}return R5=I,R5}var O5,Tk;function FK(){if(Tk)return O5;Tk=1;var e=po(),t=Object.create,r=function(){function n(){}return function(s){if(!e(s))return{};if(t)return t(s);n.prototype=s;var i=new n;return n.prototype=void 0,i}}();return O5=r,O5}var Q5,Ik;function jK(){if(Ik)return Q5;Ik=1;var e=FK(),t=Yv(),r=Wv();function n(s){return typeof s.constructor=="function"&&!r(s)?e(t(s)):{}}return Q5=n,Q5}var D5,kk;function Mxe(){if(kk)return D5;kk=1;var e=hh(),t=Fl(),r="[object Map]";function n(s){return t(s)&&e(s)==r}return D5=n,D5}var H5,Lk;function Rxe(){if(Lk)return H5;Lk=1;var e=Mxe(),t=Vv(),r=n6(),n=r&&r.isMap,s=n?t(n):e;return H5=s,H5}var $5,Uk;function Oxe(){if(Uk)return $5;Uk=1;var e=hh(),t=Fl(),r="[object Set]";function n(s){return t(s)&&e(s)==r}return $5=n,$5}var q5,Pk;function Qxe(){if(Pk)return q5;Pk=1;var e=Oxe(),t=Vv(),r=n6(),n=r&&r.isSet,s=n?t(n):e;return q5=s,q5}var K5,Mk;function TK(){if(Mk)return K5;Mk=1;var e=qv(),t=t6(),r=zv(),n=bxe(),s=_xe(),i=vK(),a=yK(),o=Cxe(),c=Exe(),u=_K(),A=Sxe(),f=hh(),d=Ixe(),h=Pxe(),g=jK(),p=Fs(),m=dh(),x=Rxe(),v=po(),y=Qxe(),w=RA(),S=nf(),T=1,j=2,I=4,B="[object Arguments]",C="[object Array]",N="[object Boolean]",k="[object Date]",E="[object Error]",U="[object Function]",D="[object GeneratorFunction]",M="[object Map]",Q="[object Number]",K="[object Object]",O="[object RegExp]",z="[object Set]",G="[object String]",F="[object Symbol]",P="[object WeakMap]",L="[object ArrayBuffer]",q="[object DataView]",X="[object Float32Array]",se="[object Float64Array]",ae="[object Int8Array]",W="[object Int16Array]",ee="[object Int32Array]",Ce="[object Uint8Array]",ye="[object Uint8ClampedArray]",Me="[object Uint16Array]",we="[object Uint32Array]",oe={};oe[B]=oe[C]=oe[L]=oe[q]=oe[N]=oe[k]=oe[X]=oe[se]=oe[ae]=oe[W]=oe[ee]=oe[M]=oe[Q]=oe[K]=oe[O]=oe[z]=oe[G]=oe[F]=oe[Ce]=oe[ye]=oe[Me]=oe[we]=!0,oe[E]=oe[U]=oe[P]=!1;function ze(de,be,Be,et,rt,Nt){var me,$e=be&T,Re=be&j,Te=be&I;if(Be&&(me=rt?Be(de,et,rt,Nt):Be(de)),me!==void 0)return me;if(!v(de))return de;var ve=p(de);if(ve){if(me=d(de),!$e)return a(de,me)}else{var it=f(de),Oe=it==U||it==D;if(m(de))return i(de,$e);if(it==K||it==B||Oe&&!rt){if(me=Re||Oe?{}:g(de),!$e)return Re?c(de,s(me,de)):o(de,n(me,de))}else{if(!oe[it])return rt?de:{};me=h(de,it,$e)}}Nt||(Nt=new e);var Se=Nt.get(de);if(Se)return Se;Nt.set(de,me),y(de)?de.forEach(function(We){me.add(ze(We,be,Be,We,de,Nt))}):x(de)&&de.forEach(function(We,He){me.set(He,ze(We,be,Be,He,de,Nt))});var Fe=Te?Re?A:u:Re?S:w,lt=ve?void 0:Fe(de);return t(lt||de,function(We,He){lt&&(He=We,We=de[He]),r(me,He,ze(We,be,Be,He,de,Nt))}),me}return K5=ze,K5}var z5,Rk;function Dxe(){if(Rk)return z5;Rk=1;var e=TK(),t=4;function r(n){return e(n,t)}return z5=r,z5}var G5,Ok;function l6(){if(Ok)return G5;Ok=1;function e(t){return function(){return t}}return G5=e,G5}var V5,Qk;function Hxe(){if(Qk)return V5;Qk=1;function e(t){return function(r,n,s){for(var i=-1,a=Object(r),o=s(r),c=o.length;c--;){var u=o[t?c:++i];if(n(a[u],u,a)===!1)break}return r}}return V5=e,V5}var W5,Dk;function c6(){if(Dk)return W5;Dk=1;var e=Hxe(),t=e();return W5=t,W5}var Y5,Hk;function A6(){if(Hk)return Y5;Hk=1;var e=c6(),t=RA();function r(n,s){return n&&e(n,s,t)}return Y5=r,Y5}var X5,$k;function $xe(){if($k)return X5;$k=1;var e=Cc();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var a=s.length,o=n?a:-1,c=Object(s);(n?o--:++o<a)&&i(c[o],o,c)!==!1;);return s}}return X5=t,X5}var J5,qk;function Xv(){if(qk)return J5;qk=1;var e=A6(),t=$xe(),r=t(e);return J5=r,J5}var Z5,Kk;function sf(){if(Kk)return Z5;Kk=1;function e(t){return t}return Z5=e,Z5}var e4,zk;function IK(){if(zk)return e4;zk=1;var e=sf();function t(r){return typeof r=="function"?r:e}return e4=t,e4}var t4,Gk;function kK(){if(Gk)return t4;Gk=1;var e=t6(),t=Xv(),r=IK(),n=Fs();function s(i,a){var o=n(i)?e:t;return o(i,r(a))}return t4=s,t4}var r4,Vk;function LK(){return Vk||(Vk=1,r4=kK()),r4}var n4,Wk;function qxe(){if(Wk)return n4;Wk=1;var e=Xv();function t(r,n){var s=[];return e(r,function(i,a,o){n(i,a,o)&&s.push(i)}),s}return n4=t,n4}var s4,Yk;function Kxe(){if(Yk)return s4;Yk=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return s4=t,s4}var i4,Xk;function zxe(){if(Xk)return i4;Xk=1;function e(t){return this.__data__.has(t)}return i4=e,i4}var a4,Jk;function UK(){if(Jk)return a4;Jk=1;var e=e6(),t=Kxe(),r=zxe();function n(s){var i=-1,a=s==null?0:s.length;for(this.__data__=new e;++i<a;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,a4=n,a4}var o4,Zk;function Gxe(){if(Zk)return o4;Zk=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return o4=e,o4}var l4,eL;function PK(){if(eL)return l4;eL=1;function e(t,r){return t.has(r)}return l4=e,l4}var c4,tL;function MK(){if(tL)return c4;tL=1;var e=UK(),t=Gxe(),r=PK(),n=1,s=2;function i(a,o,c,u,A,f){var d=c&n,h=a.length,g=o.length;if(h!=g&&!(d&&g>h))return!1;var p=f.get(a),m=f.get(o);if(p&&m)return p==o&&m==a;var x=-1,v=!0,y=c&s?new e:void 0;for(f.set(a,o),f.set(o,a);++x<h;){var w=a[x],S=o[x];if(u)var T=d?u(S,w,x,o,a,f):u(w,S,x,a,o,f);if(T!==void 0){if(T)continue;v=!1;break}if(y){if(!t(o,function(j,I){if(!r(y,I)&&(w===j||A(w,j,c,u,f)))return y.push(I)})){v=!1;break}}else if(!(w===S||A(w,S,c,u,f))){v=!1;break}}return f.delete(a),f.delete(o),v}return c4=i,c4}var A4,rL;function Vxe(){if(rL)return A4;rL=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return A4=e,A4}var u4,nL;function u6(){if(nL)return u4;nL=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return u4=e,u4}var f4,sL;function Wxe(){if(sL)return f4;sL=1;var e=fh(),t=EK(),r=uh(),n=MK(),s=Vxe(),i=u6(),a=1,o=2,c="[object Boolean]",u="[object Date]",A="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",g="[object Set]",p="[object String]",m="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",y=e?e.prototype:void 0,w=y?y.valueOf:void 0;function S(T,j,I,B,C,N,k){switch(I){case v:if(T.byteLength!=j.byteLength||T.byteOffset!=j.byteOffset)return!1;T=T.buffer,j=j.buffer;case x:return!(T.byteLength!=j.byteLength||!N(new t(T),new t(j)));case c:case u:case d:return r(+T,+j);case A:return T.name==j.name&&T.message==j.message;case h:case p:return T==j+"";case f:var E=s;case g:var U=B&a;if(E||(E=i),T.size!=j.size&&!U)return!1;var D=k.get(T);if(D)return D==j;B|=o,k.set(T,j);var M=n(E(T),E(j),B,C,N,k);return k.delete(T),M;case m:if(w)return w.call(T)==w.call(j)}return!1}return f4=S,f4}var d4,iL;function Yxe(){if(iL)return d4;iL=1;var e=_K(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,a,o,c,u,A){var f=o&t,d=e(i),h=d.length,g=e(a),p=g.length;if(h!=p&&!f)return!1;for(var m=h;m--;){var x=d[m];if(!(f?x in a:n.call(a,x)))return!1}var v=A.get(i),y=A.get(a);if(v&&y)return v==a&&y==i;var w=!0;A.set(i,a),A.set(a,i);for(var S=f;++m<h;){x=d[m];var T=i[x],j=a[x];if(c)var I=f?c(j,T,x,a,i,A):c(T,j,x,i,a,A);if(!(I===void 0?T===j||u(T,j,o,c,A):I)){w=!1;break}S||(S=x=="constructor")}if(w&&!S){var B=i.constructor,C=a.constructor;B!=C&&"constructor"in i&&"constructor"in a&&!(typeof B=="function"&&B instanceof B&&typeof C=="function"&&C instanceof C)&&(w=!1)}return A.delete(i),A.delete(a),w}return d4=s,d4}var h4,aL;function Xxe(){if(aL)return h4;aL=1;var e=qv(),t=MK(),r=Wxe(),n=Yxe(),s=hh(),i=Fs(),a=dh(),o=Tp(),c=1,u="[object Arguments]",A="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function g(p,m,x,v,y,w){var S=i(p),T=i(m),j=S?A:s(p),I=T?A:s(m);j=j==u?f:j,I=I==u?f:I;var B=j==f,C=I==f,N=j==I;if(N&&a(p)){if(!a(m))return!1;S=!0,B=!1}if(N&&!B)return w||(w=new e),S||o(p)?t(p,m,x,v,y,w):r(p,m,j,x,v,y,w);if(!(x&c)){var k=B&&h.call(p,"__wrapped__"),E=C&&h.call(m,"__wrapped__");if(k||E){var U=k?p.value():p,D=E?m.value():m;return w||(w=new e),y(U,D,x,v,w)}}return N?(w||(w=new e),n(p,m,x,v,y,w)):!1}return h4=g,h4}var m4,oL;function RK(){if(oL)return m4;oL=1;var e=Xxe(),t=Fl();function r(n,s,i,a,o){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,a,r,o)}return m4=r,m4}var p4,lL;function Jxe(){if(lL)return p4;lL=1;var e=qv(),t=RK(),r=1,n=2;function s(i,a,o,c){var u=o.length,A=u,f=!c;if(i==null)return!A;for(i=Object(i);u--;){var d=o[u];if(f&&d[2]?d[1]!==i[d[0]]:!(d[0]in i))return!1}for(;++u<A;){d=o[u];var h=d[0],g=i[h],p=d[1];if(f&&d[2]){if(g===void 0&&!(h in i))return!1}else{var m=new e;if(c)var x=c(g,p,h,i,a,m);if(!(x===void 0?t(p,g,r|n,c,m):x))return!1}}return!0}return p4=s,p4}var g4,cL;function OK(){if(cL)return g4;cL=1;var e=po();function t(r){return r===r&&!e(r)}return g4=t,g4}var x4,AL;function Zxe(){if(AL)return x4;AL=1;var e=OK(),t=RA();function r(n){for(var s=t(n),i=s.length;i--;){var a=s[i],o=n[a];s[i]=[a,o,e(o)]}return s}return x4=r,x4}var v4,uL;function QK(){if(uL)return v4;uL=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return v4=e,v4}var y4,fL;function e2e(){if(fL)return y4;fL=1;var e=Jxe(),t=Zxe(),r=QK();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(a){return a===s||e(a,s,i)}}return y4=n,y4}var w4,dL;function mh(){if(dL)return w4;dL=1;var e=tf(),t=Fl(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return w4=n,w4}var b4,hL;function f6(){if(hL)return b4;hL=1;var e=Fs(),t=mh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,a){if(e(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||a!=null&&i in Object(a)}return b4=s,b4}var B4,mL;function t2e(){if(mL)return B4;mL=1;var e=e6(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var a=arguments,o=s?s.apply(this,a):a[0],c=i.cache;if(c.has(o))return c.get(o);var u=n.apply(this,a);return i.cache=c.set(o,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,B4=r,B4}var N4,pL;function r2e(){if(pL)return N4;pL=1;var e=t2e(),t=500;function r(n){var s=e(n,function(a){return i.size===t&&i.clear(),a}),i=s.cache;return s}return N4=r,N4}var _4,gL;function n2e(){if(gL)return _4;gL=1;var e=r2e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(a,o,c,u){i.push(c?u.replace(r,"$1"):o||a)}),i});return _4=n,_4}var C4,xL;function Jv(){if(xL)return C4;xL=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return C4=e,C4}var E4,vL;function s2e(){if(vL)return E4;vL=1;var e=fh(),t=Jv(),r=Fs(),n=mh(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function a(o){if(typeof o=="string")return o;if(r(o))return t(o,a)+"";if(n(o))return i?i.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return E4=a,E4}var S4,yL;function DK(){if(yL)return S4;yL=1;var e=s2e();function t(r){return r==null?"":e(r)}return S4=t,S4}var F4,wL;function Zv(){if(wL)return F4;wL=1;var e=Fs(),t=f6(),r=n2e(),n=DK();function s(i,a){return e(i)?i:t(i,a)?[i]:r(n(i))}return F4=s,F4}var j4,bL;function Ip(){if(bL)return j4;bL=1;var e=mh();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return j4=t,j4}var T4,BL;function ey(){if(BL)return T4;BL=1;var e=Zv(),t=Ip();function r(n,s){s=e(s,n);for(var i=0,a=s.length;n!=null&&i<a;)n=n[t(s[i++])];return i&&i==a?n:void 0}return T4=r,T4}var I4,NL;function i2e(){if(NL)return I4;NL=1;var e=ey();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return I4=t,I4}var k4,_L;function a2e(){if(_L)return k4;_L=1;function e(t,r){return t!=null&&r in Object(t)}return k4=e,k4}var L4,CL;function HK(){if(CL)return L4;CL=1;var e=Zv(),t=jp(),r=Fs(),n=Gv(),s=r6(),i=Ip();function a(o,c,u){c=e(c,o);for(var A=-1,f=c.length,d=!1;++A<f;){var h=i(c[A]);if(!(d=o!=null&&u(o,h)))break;o=o[h]}return d||++A!=f?d:(f=o==null?0:o.length,!!f&&s(f)&&n(h,f)&&(r(o)||t(o)))}return L4=a,L4}var U4,EL;function $K(){if(EL)return U4;EL=1;var e=a2e(),t=HK();function r(n,s){return n!=null&&t(n,s,e)}return U4=r,U4}var P4,SL;function o2e(){if(SL)return P4;SL=1;var e=RK(),t=i2e(),r=$K(),n=f6(),s=OK(),i=QK(),a=Ip(),o=1,c=2;function u(A,f){return n(A)&&s(f)?i(a(A),f):function(d){var h=t(d,A);return h===void 0&&h===f?r(d,A):e(f,h,o|c)}}return P4=u,P4}var M4,FL;function qK(){if(FL)return M4;FL=1;function e(t){return function(r){return r==null?void 0:r[t]}}return M4=e,M4}var R4,jL;function l2e(){if(jL)return R4;jL=1;var e=ey();function t(r){return function(n){return e(n,r)}}return R4=t,R4}var O4,TL;function c2e(){if(TL)return O4;TL=1;var e=qK(),t=l2e(),r=f6(),n=Ip();function s(i){return r(i)?e(n(i)):t(i)}return O4=s,O4}var Q4,IL;function Ec(){if(IL)return Q4;IL=1;var e=e2e(),t=o2e(),r=sf(),n=Fs(),s=c2e();function i(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?t(a[0],a[1]):e(a):s(a)}return Q4=i,Q4}var D4,kL;function KK(){if(kL)return D4;kL=1;var e=wK(),t=qxe(),r=Ec(),n=Fs();function s(i,a){var o=n(i)?e:t;return o(i,r(a,3))}return D4=s,D4}var H4,LL;function A2e(){if(LL)return H4;LL=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,s){return n!=null&&t.call(n,s)}return H4=r,H4}var $4,UL;function zK(){if(UL)return $4;UL=1;var e=A2e(),t=HK();function r(n,s){return n!=null&&t(n,s,e)}return $4=r,$4}var q4,PL;function u2e(){if(PL)return q4;PL=1;var e=s6(),t=hh(),r=jp(),n=Fs(),s=Cc(),i=dh(),a=Wv(),o=Tp(),c="[object Map]",u="[object Set]",A=Object.prototype,f=A.hasOwnProperty;function d(h){if(h==null)return!0;if(s(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||i(h)||o(h)||r(h)))return!h.length;var g=t(h);if(g==c||g==u)return!h.size;if(a(h))return!e(h).length;for(var p in h)if(f.call(h,p))return!1;return!0}return q4=d,q4}var K4,ML;function GK(){if(ML)return K4;ML=1;function e(t){return t===void 0}return K4=e,K4}var z4,RL;function VK(){if(RL)return z4;RL=1;var e=Xv(),t=Cc();function r(n,s){var i=-1,a=t(n)?Array(n.length):[];return e(n,function(o,c,u){a[++i]=s(o,c,u)}),a}return z4=r,z4}var G4,OL;function WK(){if(OL)return G4;OL=1;var e=Jv(),t=Ec(),r=VK(),n=Fs();function s(i,a){var o=n(i)?e:r;return o(i,t(a,3))}return G4=s,G4}var V4,QL;function f2e(){if(QL)return V4;QL=1;function e(t,r,n,s){var i=-1,a=t==null?0:t.length;for(s&&a&&(n=t[++i]);++i<a;)n=r(n,t[i],i,t);return n}return V4=e,V4}var W4,DL;function d2e(){if(DL)return W4;DL=1;function e(t,r,n,s,i){return i(t,function(a,o,c){n=s?(s=!1,a):r(n,a,o,c)}),n}return W4=e,W4}var Y4,HL;function YK(){if(HL)return Y4;HL=1;var e=f2e(),t=Xv(),r=Ec(),n=d2e(),s=Fs();function i(a,o,c){var u=s(a)?e:n,A=arguments.length<3;return u(a,r(o,4),c,A,t)}return Y4=i,Y4}var X4,$L;function h2e(){if($L)return X4;$L=1;var e=tf(),t=Fs(),r=Fl(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return X4=s,X4}var J4,qL;function m2e(){if(qL)return J4;qL=1;var e=qK(),t=e("length");return J4=t,J4}var Z4,KL;function p2e(){if(KL)return Z4;KL=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+e+s+i+"]");function c(u){return o.test(u)}return Z4=c,Z4}var eB,zL;function g2e(){if(zL)return eB;zL=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",a="["+e+"]",o="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+c+")",A="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",p="["+i+"]?",m="(?:"+h+"(?:"+[A,f,d].join("|")+")"+p+g+")*",x=p+g+m,v="(?:"+[A+o+"?",o,f,d,a].join("|")+")",y=RegExp(c+"(?="+c+")|"+v+x,"g");function w(S){for(var T=y.lastIndex=0;y.test(S);)++T;return T}return eB=w,eB}var tB,GL;function x2e(){if(GL)return tB;GL=1;var e=m2e(),t=p2e(),r=g2e();function n(s){return t(s)?r(s):e(s)}return tB=n,tB}var rB,VL;function v2e(){if(VL)return rB;VL=1;var e=s6(),t=hh(),r=Cc(),n=h2e(),s=x2e(),i="[object Map]",a="[object Set]";function o(c){if(c==null)return 0;if(r(c))return n(c)?s(c):c.length;var u=t(c);return u==i||u==a?c.size:e(c).length}return rB=o,rB}var nB,WL;function y2e(){if(WL)return nB;WL=1;var e=t6(),t=FK(),r=A6(),n=Ec(),s=Yv(),i=Fs(),a=dh(),o=Sp(),c=po(),u=Tp();function A(f,d,h){var g=i(f),p=g||a(f)||u(f);if(d=n(d,4),h==null){var m=f&&f.constructor;p?h=g?new m:[]:c(f)?h=o(m)?t(s(f)):{}:h={}}return(p?e:r)(f,function(x,v,y){return d(h,x,v,y)}),h}return nB=A,nB}var sB,YL;function w2e(){if(YL)return sB;YL=1;var e=fh(),t=jp(),r=Fs(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return sB=s,sB}var iB,XL;function d6(){if(XL)return iB;XL=1;var e=a6(),t=w2e();function r(n,s,i,a,o){var c=-1,u=n.length;for(i||(i=t),o||(o=[]);++c<u;){var A=n[c];s>0&&i(A)?s>1?r(A,s-1,i,a,o):e(o,A):a||(o[o.length]=A)}return o}return iB=r,iB}var aB,JL;function b2e(){if(JL)return aB;JL=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return aB=e,aB}var oB,ZL;function XK(){if(ZL)return oB;ZL=1;var e=b2e(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var a=arguments,o=-1,c=t(a.length-s,0),u=Array(c);++o<c;)u[o]=a[s+o];o=-1;for(var A=Array(s+1);++o<s;)A[o]=a[o];return A[s]=i(u),e(n,this,A)}}return oB=r,oB}var lB,eU;function B2e(){if(eU)return lB;eU=1;var e=l6(),t=pK(),r=sf(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return lB=n,lB}var cB,tU;function N2e(){if(tU)return cB;tU=1;var e=800,t=16,r=Date.now;function n(s){var i=0,a=0;return function(){var o=r(),c=t-(o-a);if(a=o,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return cB=n,cB}var AB,rU;function JK(){if(rU)return AB;rU=1;var e=B2e(),t=N2e(),r=t(e);return AB=r,AB}var uB,nU;function ty(){if(nU)return uB;nU=1;var e=sf(),t=XK(),r=JK();function n(s,i){return r(t(s,i,e),s+"")}return uB=n,uB}var fB,sU;function ZK(){if(sU)return fB;sU=1;function e(t,r,n,s){for(var i=t.length,a=n+(s?1:-1);s?a--:++a<i;)if(r(t[a],a,t))return a;return-1}return fB=e,fB}var dB,iU;function _2e(){if(iU)return dB;iU=1;function e(t){return t!==t}return dB=e,dB}var hB,aU;function C2e(){if(aU)return hB;aU=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return hB=e,hB}var mB,oU;function E2e(){if(oU)return mB;oU=1;var e=ZK(),t=_2e(),r=C2e();function n(s,i,a){return i===i?r(s,i,a):e(s,t,a)}return mB=n,mB}var pB,lU;function S2e(){if(lU)return pB;lU=1;var e=E2e();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return pB=t,pB}var gB,cU;function F2e(){if(cU)return gB;cU=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return gB=e,gB}var xB,AU;function j2e(){if(AU)return xB;AU=1;function e(){}return xB=e,xB}var vB,uU;function T2e(){if(uU)return vB;uU=1;var e=CK(),t=j2e(),r=u6(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return vB=s,vB}var yB,fU;function I2e(){if(fU)return yB;fU=1;var e=UK(),t=S2e(),r=F2e(),n=PK(),s=T2e(),i=u6(),a=200;function o(c,u,A){var f=-1,d=t,h=c.length,g=!0,p=[],m=p;if(A)g=!1,d=r;else if(h>=a){var x=u?null:s(c);if(x)return i(x);g=!1,d=n,m=new e}else m=u?[]:p;e:for(;++f<h;){var v=c[f],y=u?u(v):v;if(v=A||v!==0?v:0,g&&y===y){for(var w=m.length;w--;)if(m[w]===y)continue e;u&&m.push(y),p.push(v)}else d(m,y,A)||(m!==p&&m.push(y),p.push(v))}return p}return yB=o,yB}var wB,dU;function ez(){if(dU)return wB;dU=1;var e=Cc(),t=Fl();function r(n){return t(n)&&e(n)}return wB=r,wB}var bB,hU;function k2e(){if(hU)return bB;hU=1;var e=d6(),t=ty(),r=I2e(),n=ez(),s=t(function(i){return r(e(i,1,n,!0))});return bB=s,bB}var BB,mU;function L2e(){if(mU)return BB;mU=1;var e=Jv();function t(r,n){return e(n,function(s){return r[s]})}return BB=t,BB}var NB,pU;function tz(){if(pU)return NB;pU=1;var e=L2e(),t=RA();function r(n){return n==null?[]:e(n,t(n))}return NB=r,NB}var _B,gU;function go(){if(gU)return _B;gU=1;var e;if(typeof JS=="function")try{e={clone:Dxe(),constant:l6(),each:LK(),filter:KK(),has:zK(),isArray:Fs(),isEmpty:u2e(),isFunction:Sp(),isUndefined:GK(),keys:RA(),map:WK(),reduce:YK(),size:v2e(),transform:y2e(),union:k2e(),values:tz()}}catch{}return e||(e=window._),_B=e,_B}var CB,xU;function h6(){if(xU)return CB;xU=1;var e=go();CB=s;var t="\0",r="\0",n="";function s(A){this._isDirected=e.has(A,"directed")?A.directed:!0,this._isMultigraph=e.has(A,"multigraph")?A.multigraph:!1,this._isCompound=e.has(A,"compound")?A.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(A){return this._label=A,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(A){return e.isFunction(A)||(A=e.constant(A)),this._defaultNodeLabelFn=A,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return e.keys(this._nodes)},s.prototype.sources=function(){var A=this;return e.filter(this.nodes(),function(f){return e.isEmpty(A._in[f])})},s.prototype.sinks=function(){var A=this;return e.filter(this.nodes(),function(f){return e.isEmpty(A._out[f])})},s.prototype.setNodes=function(A,f){var d=arguments,h=this;return e.each(A,function(g){d.length>1?h.setNode(g,f):h.setNode(g)}),this},s.prototype.setNode=function(A,f){return e.has(this._nodes,A)?(arguments.length>1&&(this._nodes[A]=f),this):(this._nodes[A]=arguments.length>1?f:this._defaultNodeLabelFn(A),this._isCompound&&(this._parent[A]=r,this._children[A]={},this._children[r][A]=!0),this._in[A]={},this._preds[A]={},this._out[A]={},this._sucs[A]={},++this._nodeCount,this)},s.prototype.node=function(A){return this._nodes[A]},s.prototype.hasNode=function(A){return e.has(this._nodes,A)},s.prototype.removeNode=function(A){var f=this;if(e.has(this._nodes,A)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[A],this._isCompound&&(this._removeFromParentsChildList(A),delete this._parent[A],e.each(this.children(A),function(h){f.setParent(h)}),delete this._children[A]),e.each(e.keys(this._in[A]),d),delete this._in[A],delete this._preds[A],e.each(e.keys(this._out[A]),d),delete this._out[A],delete this._sucs[A],--this._nodeCount}return this},s.prototype.setParent=function(A,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=r;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===A)throw new Error("Setting "+f+" as parent of "+A+" would create a cycle");this.setNode(f)}return this.setNode(A),this._removeFromParentsChildList(A),this._parent[A]=f,this._children[f][A]=!0,this},s.prototype._removeFromParentsChildList=function(A){delete this._children[this._parent[A]][A]},s.prototype.parent=function(A){if(this._isCompound){var f=this._parent[A];if(f!==r)return f}},s.prototype.children=function(A){if(e.isUndefined(A)&&(A=r),this._isCompound){var f=this._children[A];if(f)return e.keys(f)}else{if(A===r)return this.nodes();if(this.hasNode(A))return[]}},s.prototype.predecessors=function(A){var f=this._preds[A];if(f)return e.keys(f)},s.prototype.successors=function(A){var f=this._sucs[A];if(f)return e.keys(f)},s.prototype.neighbors=function(A){var f=this.predecessors(A);if(f)return e.union(f,this.successors(A))},s.prototype.isLeaf=function(A){var f;return this.isDirected()?f=this.successors(A):f=this.neighbors(A),f.length===0},s.prototype.filterNodes=function(A){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(p,m){A(m)&&f.setNode(m,p)}),e.each(this._edgeObjs,function(p){f.hasNode(p.v)&&f.hasNode(p.w)&&f.setEdge(p,d.edge(p))});var h={};function g(p){var m=d.parent(p);return m===void 0||f.hasNode(m)?(h[p]=m,m):m in h?h[m]:g(m)}return this._isCompound&&e.each(f.nodes(),function(p){f.setParent(p,g(p))}),f},s.prototype.setDefaultEdgeLabel=function(A){return e.isFunction(A)||(A=e.constant(A)),this._defaultEdgeLabelFn=A,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return e.values(this._edgeObjs)},s.prototype.setPath=function(A,f){var d=this,h=arguments;return e.reduce(A,function(g,p){return h.length>1?d.setEdge(g,p,f):d.setEdge(g,p),p}),this},s.prototype.setEdge=function(){var A,f,d,h,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(A=p.v,f=p.w,d=p.name,arguments.length===2&&(h=arguments[1],g=!0)):(A=p,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),A=""+A,f=""+f,e.isUndefined(d)||(d=""+d);var m=o(this._isDirected,A,f,d);if(e.has(this._edgeLabels,m))return g&&(this._edgeLabels[m]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(A),this.setNode(f),this._edgeLabels[m]=g?h:this._defaultEdgeLabelFn(A,f,d);var x=c(this._isDirected,A,f,d);return A=x.v,f=x.w,Object.freeze(x),this._edgeObjs[m]=x,i(this._preds[f],A),i(this._sucs[A],f),this._in[f][m]=x,this._out[A][m]=x,this._edgeCount++,this},s.prototype.edge=function(A,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,A,f,d);return this._edgeLabels[h]},s.prototype.hasEdge=function(A,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,A,f,d);return e.has(this._edgeLabels,h)},s.prototype.removeEdge=function(A,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,A,f,d),g=this._edgeObjs[h];return g&&(A=g.v,f=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[f],A),a(this._sucs[A],f),delete this._in[f][h],delete this._out[A][h],this._edgeCount--),this},s.prototype.inEdges=function(A,f){var d=this._in[A];if(d){var h=e.values(d);return f?e.filter(h,function(g){return g.v===f}):h}},s.prototype.outEdges=function(A,f){var d=this._out[A];if(d){var h=e.values(d);return f?e.filter(h,function(g){return g.w===f}):h}},s.prototype.nodeEdges=function(A,f){var d=this.inEdges(A,f);if(d)return d.concat(this.outEdges(A,f))};function i(A,f){A[f]?A[f]++:A[f]=1}function a(A,f){--A[f]||delete A[f]}function o(A,f,d,h){var g=""+f,p=""+d;if(!A&&g>p){var m=g;g=p,p=m}return g+n+p+n+(e.isUndefined(h)?t:h)}function c(A,f,d,h){var g=""+f,p=""+d;if(!A&&g>p){var m=g;g=p,p=m}var x={v:g,w:p};return h&&(x.name=h),x}function u(A,f){return o(A,f.v,f.w,f.name)}return CB}var EB,vU;function U2e(){return vU||(vU=1,EB="2.1.8"),EB}var SB,yU;function P2e(){return yU||(yU=1,SB={Graph:h6(),version:U2e()}),SB}var FB,wU;function M2e(){if(wU)return FB;wU=1;var e=go(),t=h6();FB={write:r,read:i};function r(a){var o={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:n(a),edges:s(a)};return e.isUndefined(a.graph())||(o.value=e.clone(a.graph())),o}function n(a){return e.map(a.nodes(),function(o){var c=a.node(o),u=a.parent(o),A={v:o};return e.isUndefined(c)||(A.value=c),e.isUndefined(u)||(A.parent=u),A})}function s(a){return e.map(a.edges(),function(o){var c=a.edge(o),u={v:o.v,w:o.w};return e.isUndefined(o.name)||(u.name=o.name),e.isUndefined(c)||(u.value=c),u})}function i(a){var o=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(c){o.setNode(c.v,c.value),c.parent&&o.setParent(c.v,c.parent)}),e.each(a.edges,function(c){o.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),o}return FB}var jB,bU;function R2e(){if(bU)return jB;bU=1;var e=go();jB=t;function t(r){var n={},s=[],i;function a(o){e.has(n,o)||(n[o]=!0,i.push(o),e.each(r.successors(o),a),e.each(r.predecessors(o),a))}return e.each(r.nodes(),function(o){i=[],a(o),i.length&&s.push(i)}),s}return jB}var TB,BU;function rz(){if(BU)return TB;BU=1;var e=go();TB=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var s=this._keyIndices;if(r=String(r),!e.has(s,r)){var i=this._arr,a=i.length;return s[r]=a,i.push({key:r,priority:n}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var s=this._keyIndices[r];if(n>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[s].priority+" New: "+n);this._arr[s].priority=n,this._decrease(s)},t.prototype._heapify=function(r){var n=this._arr,s=2*r,i=s+1,a=r;s<n.length&&(a=n[s].priority<n[a].priority?s:a,i<n.length&&(a=n[i].priority<n[a].priority?i:a),a!==r&&(this._swap(r,a),this._heapify(a)))},t.prototype._decrease=function(r){for(var n=this._arr,s=n[r].priority,i;r!==0&&(i=r>>1,!(n[i].priority<s));)this._swap(r,i),r=i},t.prototype._swap=function(r,n){var s=this._arr,i=this._keyIndices,a=s[r],o=s[n];s[r]=o,s[n]=a,i[o.key]=r,i[a.key]=n},TB}var IB,NU;function nz(){if(NU)return IB;NU=1;var e=go(),t=rz();IB=n;var r=e.constant(1);function n(i,a,o,c){return s(i,String(a),o||r,c||function(u){return i.outEdges(u)})}function s(i,a,o,c){var u={},A=new t,f,d,h=function(g){var p=g.v!==f?g.v:g.w,m=u[p],x=o(g),v=d.distance+x;if(x<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+x);v<m.distance&&(m.distance=v,m.predecessor=f,A.decrease(p,v))};for(i.nodes().forEach(function(g){var p=g===a?0:Number.POSITIVE_INFINITY;u[g]={distance:p},A.add(g,p)});A.size()>0&&(f=A.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)c(f).forEach(h);return u}return IB}var kB,_U;function O2e(){if(_U)return kB;_U=1;var e=nz(),t=go();kB=r;function r(n,s,i){return t.transform(n.nodes(),function(a,o){a[o]=e(n,o,s,i)},{})}return kB}var LB,CU;function sz(){if(CU)return LB;CU=1;var e=go();LB=t;function t(r){var n=0,s=[],i={},a=[];function o(c){var u=i[c]={onStack:!0,lowlink:n,index:n++};if(s.push(c),r.successors(c).forEach(function(d){e.has(i,d)?i[d].onStack&&(u.lowlink=Math.min(u.lowlink,i[d].index)):(o(d),u.lowlink=Math.min(u.lowlink,i[d].lowlink))}),u.lowlink===u.index){var A=[],f;do f=s.pop(),i[f].onStack=!1,A.push(f);while(c!==f);a.push(A)}}return r.nodes().forEach(function(c){e.has(i,c)||o(c)}),a}return LB}var UB,EU;function Q2e(){if(EU)return UB;EU=1;var e=go(),t=sz();UB=r;function r(n){return e.filter(t(n),function(s){return s.length>1||s.length===1&&n.hasEdge(s[0],s[0])})}return UB}var PB,SU;function D2e(){if(SU)return PB;SU=1;var e=go();PB=r;var t=e.constant(1);function r(s,i,a){return n(s,i||t,a||function(o){return s.outEdges(o)})}function n(s,i,a){var o={},c=s.nodes();return c.forEach(function(u){o[u]={},o[u][u]={distance:0},c.forEach(function(A){u!==A&&(o[u][A]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(A){var f=A.v===u?A.w:A.v,d=i(A);o[u][f]={distance:d,predecessor:u}})}),c.forEach(function(u){var A=o[u];c.forEach(function(f){var d=o[f];c.forEach(function(h){var g=d[u],p=A[h],m=d[h],x=g.distance+p.distance;x<m.distance&&(m.distance=x,m.predecessor=p.predecessor)})})}),o}return PB}var MB,FU;function iz(){if(FU)return MB;FU=1;var e=go();MB=t,t.CycleException=r;function t(n){var s={},i={},a=[];function o(c){if(e.has(i,c))throw new r;e.has(s,c)||(i[c]=!0,s[c]=!0,e.each(n.predecessors(c),o),delete i[c],a.push(c))}if(e.each(n.sinks(),o),e.size(s)!==n.nodeCount())throw new r;return a}function r(){}return r.prototype=new Error,MB}var RB,jU;function H2e(){if(jU)return RB;jU=1;var e=iz();RB=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return RB}var OB,TU;function az(){if(TU)return OB;TU=1;var e=go();OB=t;function t(n,s,i){e.isArray(s)||(s=[s]);var a=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],c={};return e.each(s,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,i==="post",c,a,o)}),o}function r(n,s,i,a,o,c){e.has(a,s)||(a[s]=!0,i||c.push(s),e.each(o(s),function(u){r(n,u,i,a,o,c)}),i&&c.push(s))}return OB}var QB,IU;function $2e(){if(IU)return QB;IU=1;var e=az();QB=t;function t(r,n){return e(r,n,"post")}return QB}var DB,kU;function q2e(){if(kU)return DB;kU=1;var e=az();DB=t;function t(r,n){return e(r,n,"pre")}return DB}var HB,LU;function K2e(){if(LU)return HB;LU=1;var e=go(),t=h6(),r=rz();HB=n;function n(s,i){var a=new t,o={},c=new r,u;function A(d){var h=d.v===u?d.w:d.v,g=c.priority(h);if(g!==void 0){var p=i(d);p<g&&(o[h]=u,c.decrease(h,p))}}if(s.nodeCount()===0)return a;e.each(s.nodes(),function(d){c.add(d,Number.POSITIVE_INFINITY),a.setNode(d)}),c.decrease(s.nodes()[0],0);for(var f=!1;c.size()>0;){if(u=c.removeMin(),e.has(o,u))a.setEdge(u,o[u]);else{if(f)throw new Error("Input graph is not connected: "+s);f=!0}s.nodeEdges(u).forEach(A)}return a}return HB}var $B,UU;function z2e(){return UU||(UU=1,$B={components:R2e(),dijkstra:nz(),dijkstraAll:O2e(),findCycles:Q2e(),floydWarshall:D2e(),isAcyclic:H2e(),postorder:$2e(),preorder:q2e(),prim:K2e(),tarjan:sz(),topsort:iz()}),$B}var qB,PU;function G2e(){if(PU)return qB;PU=1;var e=P2e();return qB={Graph:e.Graph,json:M2e(),alg:z2e(),version:e.version},qB}var r2;if(typeof JS=="function")try{r2=G2e()}catch{}r2||(r2=window.graphlib);var Ko=r2,KB,MU;function V2e(){if(MU)return KB;MU=1;var e=TK(),t=1,r=4;function n(s){return e(s,t|r)}return KB=n,KB}var zB,RU;function ry(){if(RU)return zB;RU=1;var e=uh(),t=Cc(),r=Gv(),n=po();function s(i,a,o){if(!n(o))return!1;var c=typeof a;return(c=="number"?t(o)&&r(a,o.length):c=="string"&&a in o)?e(o[a],i):!1}return zB=s,zB}var GB,OU;function W2e(){if(OU)return GB;OU=1;var e=ty(),t=uh(),r=ry(),n=nf(),s=Object.prototype,i=s.hasOwnProperty,a=e(function(o,c){o=Object(o);var u=-1,A=c.length,f=A>2?c[2]:void 0;for(f&&r(c[0],c[1],f)&&(A=1);++u<A;)for(var d=c[u],h=n(d),g=-1,p=h.length;++g<p;){var m=h[g],x=o[m];(x===void 0||t(x,s[m])&&!i.call(o,m))&&(o[m]=d[m])}return o});return GB=a,GB}var VB,QU;function Y2e(){if(QU)return VB;QU=1;var e=Ec(),t=Cc(),r=RA();function n(s){return function(i,a,o){var c=Object(i);if(!t(i)){var u=e(a,3);i=r(i),a=function(f){return u(c[f],f,c)}}var A=s(i,a,o);return A>-1?c[u?i[A]:A]:void 0}}return VB=n,VB}var WB,DU;function X2e(){if(DU)return WB;DU=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return WB=t,WB}var YB,HU;function J2e(){if(HU)return YB;HU=1;var e=X2e(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return YB=r,YB}var XB,$U;function Z2e(){if($U)return XB;$U=1;var e=J2e(),t=po(),r=mh(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var A=typeof u.valueOf=="function"?u.valueOf():u;u=t(A)?A+"":A}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||a.test(u)?o(u.slice(2),f?2:8):s.test(u)?n:+u}return XB=c,XB}var JB,qU;function oz(){if(qU)return JB;qU=1;var e=Z2e(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return JB=n,JB}var ZB,KU;function eve(){if(KU)return ZB;KU=1;var e=oz();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return ZB=t,ZB}var e3,zU;function tve(){if(zU)return e3;zU=1;var e=ZK(),t=Ec(),r=eve(),n=Math.max;function s(i,a,o){var c=i==null?0:i.length;if(!c)return-1;var u=o==null?0:r(o);return u<0&&(u=n(c+u,0)),e(i,t(a,3),u)}return e3=s,e3}var t3,GU;function rve(){if(GU)return t3;GU=1;var e=Y2e(),t=tve(),r=e(t);return t3=r,t3}var r3,VU;function lz(){if(VU)return r3;VU=1;var e=d6();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return r3=t,r3}var n3,WU;function nve(){if(WU)return n3;WU=1;var e=c6(),t=IK(),r=nf();function n(s,i){return s==null?s:e(s,t(i),r)}return n3=n,n3}var s3,YU;function sve(){if(YU)return s3;YU=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return s3=e,s3}var i3,XU;function ive(){if(XU)return i3;XU=1;var e=Kv(),t=A6(),r=Ec();function n(s,i){var a={};return i=r(i,3),t(s,function(o,c,u){e(a,c,i(o,c,u))}),a}return i3=n,i3}var a3,JU;function m6(){if(JU)return a3;JU=1;var e=mh();function t(r,n,s){for(var i=-1,a=r.length;++i<a;){var o=r[i],c=n(o);if(c!=null&&(u===void 0?c===c&&!e(c):s(c,u)))var u=c,A=o}return A}return a3=t,a3}var o3,ZU;function ave(){if(ZU)return o3;ZU=1;function e(t,r){return t>r}return o3=e,o3}var l3,e7;function ove(){if(e7)return l3;e7=1;var e=m6(),t=ave(),r=sf();function n(s){return s&&s.length?e(s,r,t):void 0}return l3=n,l3}var c3,t7;function cz(){if(t7)return c3;t7=1;var e=Kv(),t=uh();function r(n,s,i){(i!==void 0&&!t(n[s],i)||i===void 0&&!(s in n))&&e(n,s,i)}return c3=r,c3}var A3,r7;function lve(){if(r7)return A3;r7=1;var e=tf(),t=Yv(),r=Fl(),n="[object Object]",s=Function.prototype,i=Object.prototype,a=s.toString,o=i.hasOwnProperty,c=a.call(Object);function u(A){if(!r(A)||e(A)!=n)return!1;var f=t(A);if(f===null)return!0;var d=o.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==c}return A3=u,A3}var u3,n7;function Az(){if(n7)return u3;n7=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return u3=e,u3}var f3,s7;function cve(){if(s7)return f3;s7=1;var e=Fp(),t=nf();function r(n){return e(n,t(n))}return f3=r,f3}var d3,i7;function Ave(){if(i7)return d3;i7=1;var e=cz(),t=vK(),r=SK(),n=yK(),s=jK(),i=jp(),a=Fs(),o=ez(),c=dh(),u=Sp(),A=po(),f=lve(),d=Tp(),h=Az(),g=cve();function p(m,x,v,y,w,S,T){var j=h(m,v),I=h(x,v),B=T.get(I);if(B){e(m,v,B);return}var C=S?S(j,I,v+"",m,x,T):void 0,N=C===void 0;if(N){var k=a(I),E=!k&&c(I),U=!k&&!E&&d(I);C=I,k||E||U?a(j)?C=j:o(j)?C=n(j):E?(N=!1,C=t(I,!0)):U?(N=!1,C=r(I,!0)):C=[]:f(I)||i(I)?(C=j,i(j)?C=g(j):(!A(j)||u(j))&&(C=s(I))):N=!1}N&&(T.set(I,C),w(C,I,y,S,T),T.delete(I)),e(m,v,C)}return d3=p,d3}var h3,a7;function uve(){if(a7)return h3;a7=1;var e=qv(),t=cz(),r=c6(),n=Ave(),s=po(),i=nf(),a=Az();function o(c,u,A,f,d){c!==u&&r(u,function(h,g){if(d||(d=new e),s(h))n(c,u,g,A,o,f,d);else{var p=f?f(a(c,g),h,g+"",c,u,d):void 0;p===void 0&&(p=h),t(c,g,p)}},i)}return h3=o,h3}var m3,o7;function fve(){if(o7)return m3;o7=1;var e=ty(),t=ry();function r(n){return e(function(s,i){var a=-1,o=i.length,c=o>1?i[o-1]:void 0,u=o>2?i[2]:void 0;for(c=n.length>3&&typeof c=="function"?(o--,c):void 0,u&&t(i[0],i[1],u)&&(c=o<3?void 0:c,o=1),s=Object(s);++a<o;){var A=i[a];A&&n(s,A,a,c)}return s})}return m3=r,m3}var p3,l7;function dve(){if(l7)return p3;l7=1;var e=uve(),t=fve(),r=t(function(n,s,i){e(n,s,i)});return p3=r,p3}var g3,c7;function uz(){if(c7)return g3;c7=1;function e(t,r){return t<r}return g3=e,g3}var x3,A7;function hve(){if(A7)return x3;A7=1;var e=m6(),t=uz(),r=sf();function n(s){return s&&s.length?e(s,r,t):void 0}return x3=n,x3}var v3,u7;function mve(){if(u7)return v3;u7=1;var e=m6(),t=Ec(),r=uz();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return v3=n,v3}var y3,f7;function pve(){if(f7)return y3;f7=1;var e=qo(),t=function(){return e.Date.now()};return y3=t,y3}var w3,d7;function gve(){if(d7)return w3;d7=1;var e=zv(),t=Zv(),r=Gv(),n=po(),s=Ip();function i(a,o,c,u){if(!n(a))return a;o=t(o,a);for(var A=-1,f=o.length,d=f-1,h=a;h!=null&&++A<f;){var g=s(o[A]),p=c;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(A!=d){var m=h[g];p=u?u(m,g,h):void 0,p===void 0&&(p=n(m)?m:r(o[A+1])?[]:{})}e(h,g,p),h=h[g]}return a}return w3=i,w3}var b3,h7;function xve(){if(h7)return b3;h7=1;var e=ey(),t=gve(),r=Zv();function n(s,i,a){for(var o=-1,c=i.length,u={};++o<c;){var A=i[o],f=e(s,A);a(f,A)&&t(u,r(A,s),f)}return u}return b3=n,b3}var B3,m7;function vve(){if(m7)return B3;m7=1;var e=xve(),t=$K();function r(n,s){return e(n,s,function(i,a){return t(n,a)})}return B3=r,B3}var N3,p7;function yve(){if(p7)return N3;p7=1;var e=lz(),t=XK(),r=JK();function n(s){return r(t(s,void 0,e),s+"")}return N3=n,N3}var _3,g7;function wve(){if(g7)return _3;g7=1;var e=vve(),t=yve(),r=t(function(n,s){return n==null?{}:e(n,s)});return _3=r,_3}var C3,x7;function bve(){if(x7)return C3;x7=1;var e=Math.ceil,t=Math.max;function r(n,s,i,a){for(var o=-1,c=t(e((s-n)/(i||1)),0),u=Array(c);c--;)u[a?c:++o]=n,n+=i;return u}return C3=r,C3}var E3,v7;function Bve(){if(v7)return E3;v7=1;var e=bve(),t=ry(),r=oz();function n(s){return function(i,a,o){return o&&typeof o!="number"&&t(i,a,o)&&(a=o=void 0),i=r(i),a===void 0?(a=i,i=0):a=r(a),o=o===void 0?i<a?1:-1:r(o),e(i,a,o,s)}}return E3=n,E3}var S3,y7;function Nve(){if(y7)return S3;y7=1;var e=Bve(),t=e();return S3=t,S3}var F3,w7;function _ve(){if(w7)return F3;w7=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return F3=e,F3}var j3,b7;function Cve(){if(b7)return j3;b7=1;var e=mh();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,a=r===r,o=e(r),c=n!==void 0,u=n===null,A=n===n,f=e(n);if(!u&&!f&&!o&&r>n||o&&c&&A&&!u&&!f||i&&c&&A||!s&&A||!a)return 1;if(!i&&!o&&!f&&r<n||f&&s&&a&&!i&&!o||u&&s&&a||!c&&a||!A)return-1}return 0}return j3=t,j3}var T3,B7;function Eve(){if(B7)return T3;B7=1;var e=Cve();function t(r,n,s){for(var i=-1,a=r.criteria,o=n.criteria,c=a.length,u=s.length;++i<c;){var A=e(a[i],o[i]);if(A){if(i>=u)return A;var f=s[i];return A*(f=="desc"?-1:1)}}return r.index-n.index}return T3=t,T3}var I3,N7;function Sve(){if(N7)return I3;N7=1;var e=Jv(),t=ey(),r=Ec(),n=VK(),s=_ve(),i=Vv(),a=Eve(),o=sf(),c=Fs();function u(A,f,d){f.length?f=e(f,function(p){return c(p)?function(m){return t(m,p.length===1?p[0]:p)}:p}):f=[o];var h=-1;f=e(f,i(r));var g=n(A,function(p,m,x){var v=e(f,function(y){return y(p)});return{criteria:v,index:++h,value:p}});return s(g,function(p,m){return a(p,m,d)})}return I3=u,I3}var k3,_7;function Fve(){if(_7)return k3;_7=1;var e=d6(),t=Sve(),r=ty(),n=ry(),s=r(function(i,a){if(i==null)return[];var o=a.length;return o>1&&n(i,a[0],a[1])?a=[]:o>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(i,e(a,1),[])});return k3=s,k3}var L3,C7;function jve(){if(C7)return L3;C7=1;var e=DK(),t=0;function r(n){var s=++t;return e(n)+s}return L3=r,L3}var U3,E7;function Tve(){if(E7)return U3;E7=1;function e(t,r,n){for(var s=-1,i=t.length,a=r.length,o={};++s<i;){var c=s<a?r[s]:void 0;n(o,t[s],c)}return o}return U3=e,U3}var P3,S7;function Ive(){if(S7)return P3;S7=1;var e=zv(),t=Tve();function r(n,s){return t(n||[],s||[],e)}return P3=r,P3}var n2;if(typeof JS=="function")try{n2={cloneDeep:V2e(),constant:l6(),defaults:W2e(),each:LK(),filter:KK(),find:rve(),flatten:lz(),forEach:kK(),forIn:nve(),has:zK(),isUndefined:GK(),last:sve(),map:WK(),mapValues:ive(),max:ove(),merge:dve(),min:hve(),minBy:mve(),now:pve(),pick:wve(),range:Nve(),reduce:YK(),sortBy:Fve(),uniqueId:jve(),values:tz(),zipObject:Ive()}}catch{}n2||(n2=window._);var Hn=n2,kve=ny;function ny(){var e={};e._next=e._prev=e,this._sentinel=e}ny.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return fz(t),t};ny.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&fz(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ny.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,Lve)),r=r._prev;return"["+e.join(", ")+"]"};function fz(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Lve(e,t){if(e!=="_next"&&e!=="_prev")return t}var oc=Hn,Uve=Ko.Graph,Pve=kve,Mve=Ove,Rve=oc.constant(1);function Ove(e,t){if(e.nodeCount()<=1)return[];var r=Dve(e,t||Rve),n=Qve(r.graph,r.buckets,r.zeroIdx);return oc.flatten(oc.map(n,function(s){return e.outEdges(s.v,s.w)}),!0)}function Qve(e,t,r){for(var n=[],s=t[t.length-1],i=t[0],a;e.nodeCount();){for(;a=i.dequeue();)M3(e,t,r,a);for(;a=s.dequeue();)M3(e,t,r,a);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(a=t[o].dequeue(),a){n=n.concat(M3(e,t,r,a,!0));break}}}return n}function M3(e,t,r,n,s){var i=s?[]:void 0;return oc.forEach(e.inEdges(n.v),function(a){var o=e.edge(a),c=e.node(a.v);s&&i.push({v:a.v,w:a.w}),c.out-=o,cC(t,r,c)}),oc.forEach(e.outEdges(n.v),function(a){var o=e.edge(a),c=a.w,u=e.node(c);u.in-=o,cC(t,r,u)}),e.removeNode(n.v),i}function Dve(e,t){var r=new Uve,n=0,s=0;oc.forEach(e.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),oc.forEach(e.edges(),function(o){var c=r.edge(o.v,o.w)||0,u=t(o),A=c+u;r.setEdge(o.v,o.w,A),s=Math.max(s,r.node(o.v).out+=u),n=Math.max(n,r.node(o.w).in+=u)});var i=oc.range(s+n+3).map(function(){return new Pve}),a=n+1;return oc.forEach(r.nodes(),function(o){cC(i,a,r.node(o))}),{graph:r,buckets:i,zeroIdx:a}}function cC(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var yu=Hn,Hve=Mve,$ve={run:qve,undo:zve};function qve(e){var t=e.graph().acyclicer==="greedy"?Hve(e,r(e)):Kve(e);yu.forEach(t,function(n){var s=e.edge(n);e.removeEdge(n),s.forwardName=n.name,s.reversed=!0,e.setEdge(n.w,n.v,s,yu.uniqueId("rev"))});function r(n){return function(s){return n.edge(s).weight}}}function Kve(e){var t=[],r={},n={};function s(i){yu.has(n,i)||(n[i]=!0,r[i]=!0,yu.forEach(e.outEdges(i),function(a){yu.has(r,a.w)?t.push(a):s(a.w)}),delete r[i])}return yu.forEach(e.nodes(),s),t}function zve(e){yu.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var sn=Hn,dz=Ko.Graph,xa={addDummyNode:hz,simplify:Gve,asNonCompoundGraph:Vve,successorWeights:Wve,predecessorWeights:Yve,intersectRect:Xve,buildLayerMatrix:Jve,normalizeRanks:Zve,removeEmptyRanks:eye,addBorderNode:tye,maxRank:mz,partition:rye,time:nye,notime:sye};function hz(e,t,r,n){var s;do s=sn.uniqueId(n);while(e.hasNode(s));return r.dummy=t,e.setNode(s,r),s}function Gve(e){var t=new dz().setGraph(e.graph());return sn.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),sn.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},s=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+s.weight,minlen:Math.max(n.minlen,s.minlen)})}),t}function Vve(e){var t=new dz({multigraph:e.isMultigraph()}).setGraph(e.graph());return sn.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),sn.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function Wve(e){var t=sn.map(e.nodes(),function(r){var n={};return sn.forEach(e.outEdges(r),function(s){n[s.w]=(n[s.w]||0)+e.edge(s).weight}),n});return sn.zipObject(e.nodes(),t)}function Yve(e){var t=sn.map(e.nodes(),function(r){var n={};return sn.forEach(e.inEdges(r),function(s){n[s.v]=(n[s.v]||0)+e.edge(s).weight}),n});return sn.zipObject(e.nodes(),t)}function Xve(e,t){var r=e.x,n=e.y,s=t.x-r,i=t.y-n,a=e.width/2,o=e.height/2;if(!s&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var c,u;return Math.abs(i)*a>Math.abs(s)*o?(i<0&&(o=-o),c=o*s/i,u=o):(s<0&&(a=-a),c=a,u=a*i/s),{x:r+c,y:n+u}}function Jve(e){var t=sn.map(sn.range(mz(e)+1),function(){return[]});return sn.forEach(e.nodes(),function(r){var n=e.node(r),s=n.rank;sn.isUndefined(s)||(t[s][n.order]=r)}),t}function Zve(e){var t=sn.min(sn.map(e.nodes(),function(r){return e.node(r).rank}));sn.forEach(e.nodes(),function(r){var n=e.node(r);sn.has(n,"rank")&&(n.rank-=t)})}function eye(e){var t=sn.min(sn.map(e.nodes(),function(i){return e.node(i).rank})),r=[];sn.forEach(e.nodes(),function(i){var a=e.node(i).rank-t;r[a]||(r[a]=[]),r[a].push(i)});var n=0,s=e.graph().nodeRankFactor;sn.forEach(r,function(i,a){sn.isUndefined(i)&&a%s!==0?--n:n&&sn.forEach(i,function(o){e.node(o).rank+=n})})}function tye(e,t,r,n){var s={width:0,height:0};return arguments.length>=4&&(s.rank=r,s.order=n),hz(e,"border",s,t)}function mz(e){return sn.max(sn.map(e.nodes(),function(t){var r=e.node(t).rank;if(!sn.isUndefined(r))return r}))}function rye(e,t){var r={lhs:[],rhs:[]};return sn.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function nye(e,t){var r=sn.now();try{return t()}finally{console.log(e+" time: "+(sn.now()-r)+"ms")}}function sye(e,t){return t()}var pz=Hn,iye=xa,aye={run:oye,undo:cye};function oye(e){e.graph().dummyChains=[],pz.forEach(e.edges(),function(t){lye(e,t)})}function lye(e,t){var r=t.v,n=e.node(r).rank,s=t.w,i=e.node(s).rank,a=t.name,o=e.edge(t),c=o.labelRank;if(i!==n+1){e.removeEdge(t);var u,A,f;for(f=0,++n;n<i;++f,++n)o.points=[],A={width:0,height:0,edgeLabel:o,edgeObj:t,rank:n},u=iye.addDummyNode(e,"edge",A,"_d"),n===c&&(A.width=o.width,A.height=o.height,A.dummy="edge-label",A.labelpos=o.labelpos),e.setEdge(r,u,{weight:o.weight},a),f===0&&e.graph().dummyChains.push(u),r=u;e.setEdge(r,s,{weight:o.weight},a)}}function cye(e){pz.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,s;for(e.setEdge(r.edgeObj,n);r.dummy;)s=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=s,r=e.node(t)})}var Hg=Hn,sy={longestPath:Aye,slack:uye};function Aye(e){var t={};function r(n){var s=e.node(n);if(Hg.has(t,n))return s.rank;t[n]=!0;var i=Hg.min(Hg.map(e.outEdges(n),function(a){return r(a.w)-e.edge(a).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),s.rank=i}Hg.forEach(e.sources(),r)}function uye(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var s2=Hn,fye=Ko.Graph,i2=sy.slack,gz=dye;function dye(e){var t=new fye({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var s,i;hye(t,e)<n;)s=mye(t,e),i=t.hasNode(s.v)?i2(e,s):-i2(e,s),pye(t,e,i);return t}function hye(e,t){function r(n){s2.forEach(t.nodeEdges(n),function(s){var i=s.v,a=n===i?s.w:i;!e.hasNode(a)&&!i2(t,s)&&(e.setNode(a,{}),e.setEdge(n,a,{}),r(a))})}return s2.forEach(e.nodes(),r),e.nodeCount()}function mye(e,t){return s2.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return i2(t,r)})}function pye(e,t,r){s2.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var yc=Hn,gye=gz,xye=sy.slack,vye=sy.longestPath,yye=Ko.alg.preorder,wye=Ko.alg.postorder,bye=xa.simplify,Bye=af;af.initLowLimValues=g6;af.initCutValues=p6;af.calcCutValue=xz;af.leaveEdge=yz;af.enterEdge=wz;af.exchangeEdges=bz;function af(e){e=bye(e),vye(e);var t=gye(e);g6(t),p6(t,e);for(var r,n;r=yz(t);)n=wz(t,e,r),bz(t,e,r,n)}function p6(e,t){var r=wye(e,e.nodes());r=r.slice(0,r.length-1),yc.forEach(r,function(n){Nye(e,t,n)})}function Nye(e,t,r){var n=e.node(r),s=n.parent;e.edge(r,s).cutvalue=xz(e,t,r)}function xz(e,t,r){var n=e.node(r),s=n.parent,i=!0,a=t.edge(r,s),o=0;return a||(i=!1,a=t.edge(s,r)),o=a.weight,yc.forEach(t.nodeEdges(r),function(c){var u=c.v===r,A=u?c.w:c.v;if(A!==s){var f=u===i,d=t.edge(c).weight;if(o+=f?d:-d,Cye(e,r,A)){var h=e.edge(r,A).cutvalue;o+=f?-h:h}}}),o}function g6(e,t){arguments.length<2&&(t=e.nodes()[0]),vz(e,{},1,t)}function vz(e,t,r,n,s){var i=r,a=e.node(n);return t[n]=!0,yc.forEach(e.neighbors(n),function(o){yc.has(t,o)||(r=vz(e,t,r,o,n))}),a.low=i,a.lim=r++,s?a.parent=s:delete a.parent,r}function yz(e){return yc.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function wz(e,t,r){var n=r.v,s=r.w;t.hasEdge(n,s)||(n=r.w,s=r.v);var i=e.node(n),a=e.node(s),o=i,c=!1;i.lim>a.lim&&(o=a,c=!0);var u=yc.filter(t.edges(),function(A){return c===F7(e,e.node(A.v),o)&&c!==F7(e,e.node(A.w),o)});return yc.minBy(u,function(A){return xye(t,A)})}function bz(e,t,r,n){var s=r.v,i=r.w;e.removeEdge(s,i),e.setEdge(n.v,n.w,{}),g6(e),p6(e,t),_ye(e,t)}function _ye(e,t){var r=yc.find(e.nodes(),function(s){return!t.node(s).parent}),n=yye(e,r);n=n.slice(1),yc.forEach(n,function(s){var i=e.node(s).parent,a=t.edge(s,i),o=!1;a||(a=t.edge(i,s),o=!0),t.node(s).rank=t.node(i).rank+(o?a.minlen:-a.minlen)})}function Cye(e,t,r){return e.hasEdge(t,r)}function F7(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var Eye=sy,Bz=Eye.longestPath,Sye=gz,Fye=Bye,jye=Tye;function Tye(e){switch(e.graph().ranker){case"network-simplex":j7(e);break;case"tight-tree":kye(e);break;case"longest-path":Iye(e);break;default:j7(e)}}var Iye=Bz;function kye(e){Bz(e),Sye(e)}function j7(e){Fye(e)}var AC=Hn,Lye=Uye;function Uye(e){var t=Mye(e);AC.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),s=n.edgeObj,i=Pye(e,t,s.v,s.w),a=i.path,o=i.lca,c=0,u=a[c],A=!0;r!==s.w;){if(n=e.node(r),A){for(;(u=a[c])!==o&&e.node(u).maxRank<n.rank;)c++;u===o&&(A=!1)}if(!A){for(;c<a.length-1&&e.node(u=a[c+1]).minRank<=n.rank;)c++;u=a[c]}e.setParent(r,u),r=e.successors(r)[0]}})}function Pye(e,t,r,n){var s=[],i=[],a=Math.min(t[r].low,t[n].low),o=Math.max(t[r].lim,t[n].lim),c,u;c=r;do c=e.parent(c),s.push(c);while(c&&(t[c].low>a||o>t[c].lim));for(u=c,c=n;(c=e.parent(c))!==u;)i.push(c);return{path:s.concat(i.reverse()),lca:u}}function Mye(e){var t={},r=0;function n(s){var i=r;AC.forEach(e.children(s),n),t[s]={low:i,lim:r++}}return AC.forEach(e.children(),n),t}var lc=Hn,uC=xa,Rye={run:Oye,cleanup:Hye};function Oye(e){var t=uC.addDummyNode(e,"root",{},"_root"),r=Qye(e),n=lc.max(lc.values(r))-1,s=2*n+1;e.graph().nestingRoot=t,lc.forEach(e.edges(),function(a){e.edge(a).minlen*=s});var i=Dye(e)+1;lc.forEach(e.children(),function(a){Nz(e,t,s,i,n,r,a)}),e.graph().nodeRankFactor=s}function Nz(e,t,r,n,s,i,a){var o=e.children(a);if(!o.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:r});return}var c=uC.addBorderNode(e,"_bt"),u=uC.addBorderNode(e,"_bb"),A=e.node(a);e.setParent(c,a),A.borderTop=c,e.setParent(u,a),A.borderBottom=u,lc.forEach(o,function(f){Nz(e,t,r,n,s,i,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,g=d.borderBottom?d.borderBottom:f,p=d.borderTop?n:2*n,m=h!==g?1:s-i[a]+1;e.setEdge(c,h,{weight:p,minlen:m,nestingEdge:!0}),e.setEdge(g,u,{weight:p,minlen:m,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,c,{weight:0,minlen:s+i[a]})}function Qye(e){var t={};function r(n,s){var i=e.children(n);i&&i.length&&lc.forEach(i,function(a){r(a,s+1)}),t[n]=s}return lc.forEach(e.children(),function(n){r(n,1)}),t}function Dye(e){return lc.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function Hye(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,lc.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var R3=Hn,$ye=xa,qye=Kye;function Kye(e){function t(r){var n=e.children(r),s=e.node(r);if(n.length&&R3.forEach(n,t),R3.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var i=s.minRank,a=s.maxRank+1;i<a;++i)T7(e,"borderLeft","_bl",r,s,i),T7(e,"borderRight","_br",r,s,i)}}R3.forEach(e.children(),t)}function T7(e,t,r,n,s,i){var a={width:0,height:0,rank:i,borderType:t},o=s[t][i-1],c=$ye.addDummyNode(e,"border",a,r);s[t][i]=c,e.setParent(c,n),o&&e.setEdge(o,c,{weight:1})}var gl=Hn,zye={adjust:Gye,undo:Vye};function Gye(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&_z(e)}function Vye(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Wye(e),(t==="lr"||t==="rl")&&(Yye(e),_z(e))}function _z(e){gl.forEach(e.nodes(),function(t){I7(e.node(t))}),gl.forEach(e.edges(),function(t){I7(e.edge(t))})}function I7(e){var t=e.width;e.width=e.height,e.height=t}function Wye(e){gl.forEach(e.nodes(),function(t){O3(e.node(t))}),gl.forEach(e.edges(),function(t){var r=e.edge(t);gl.forEach(r.points,O3),gl.has(r,"y")&&O3(r)})}function O3(e){e.y=-e.y}function Yye(e){gl.forEach(e.nodes(),function(t){Q3(e.node(t))}),gl.forEach(e.edges(),function(t){var r=e.edge(t);gl.forEach(r.points,Q3),gl.has(r,"x")&&Q3(r)})}function Q3(e){var t=e.x;e.x=e.y,e.y=t}var Gl=Hn,Xye=Jye;function Jye(e){var t={},r=Gl.filter(e.nodes(),function(o){return!e.children(o).length}),n=Gl.max(Gl.map(r,function(o){return e.node(o).rank})),s=Gl.map(Gl.range(n+1),function(){return[]});function i(o){if(!Gl.has(t,o)){t[o]=!0;var c=e.node(o);s[c.rank].push(o),Gl.forEach(e.successors(o),i)}}var a=Gl.sortBy(r,function(o){return e.node(o).rank});return Gl.forEach(a,i),s}var Wc=Hn,Zye=ewe;function ewe(e,t){for(var r=0,n=1;n<t.length;++n)r+=twe(e,t[n-1],t[n]);return r}function twe(e,t,r){for(var n=Wc.zipObject(r,Wc.map(r,function(u,A){return A})),s=Wc.flatten(Wc.map(t,function(u){return Wc.sortBy(Wc.map(e.outEdges(u),function(A){return{pos:n[A.w],weight:e.edge(A).weight}}),"pos")}),!0),i=1;i<r.length;)i<<=1;var a=2*i-1;i-=1;var o=Wc.map(new Array(a),function(){return 0}),c=0;return Wc.forEach(s.forEach(function(u){var A=u.pos+i;o[A]+=u.weight;for(var f=0;A>0;)A%2&&(f+=o[A+1]),A=A-1>>1,o[A]+=u.weight;c+=u.weight*f})),c}var k7=Hn,rwe=nwe;function nwe(e,t){return k7.map(t,function(r){var n=e.inEdges(r);if(n.length){var s=k7.reduce(n,function(i,a){var o=e.edge(a),c=e.node(a.v);return{sum:i.sum+o.weight*c.order,weight:i.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}var Ma=Hn,swe=iwe;function iwe(e,t){var r={};Ma.forEach(e,function(s,i){var a=r[s.v]={indegree:0,in:[],out:[],vs:[s.v],i};Ma.isUndefined(s.barycenter)||(a.barycenter=s.barycenter,a.weight=s.weight)}),Ma.forEach(t.edges(),function(s){var i=r[s.v],a=r[s.w];!Ma.isUndefined(i)&&!Ma.isUndefined(a)&&(a.indegree++,i.out.push(r[s.w]))});var n=Ma.filter(r,function(s){return!s.indegree});return awe(n)}function awe(e){var t=[];function r(i){return function(a){a.merged||(Ma.isUndefined(a.barycenter)||Ma.isUndefined(i.barycenter)||a.barycenter>=i.barycenter)&&owe(i,a)}}function n(i){return function(a){a.in.push(i),--a.indegree===0&&e.push(a)}}for(;e.length;){var s=e.pop();t.push(s),Ma.forEach(s.in.reverse(),r(s)),Ma.forEach(s.out,n(s))}return Ma.map(Ma.filter(t,function(i){return!i.merged}),function(i){return Ma.pick(i,["vs","i","barycenter","weight"])})}function owe(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var H0=Hn,lwe=xa,cwe=Awe;function Awe(e,t){var r=lwe.partition(e,function(A){return H0.has(A,"barycenter")}),n=r.lhs,s=H0.sortBy(r.rhs,function(A){return-A.i}),i=[],a=0,o=0,c=0;n.sort(uwe(!!t)),c=L7(i,s,c),H0.forEach(n,function(A){c+=A.vs.length,i.push(A.vs),a+=A.barycenter*A.weight,o+=A.weight,c=L7(i,s,c)});var u={vs:H0.flatten(i,!0)};return o&&(u.barycenter=a/o,u.weight=o),u}function L7(e,t,r){for(var n;t.length&&(n=H0.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function uwe(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var oA=Hn,fwe=rwe,dwe=swe,hwe=cwe,mwe=Cz;function Cz(e,t,r,n){var s=e.children(t),i=e.node(t),a=i?i.borderLeft:void 0,o=i?i.borderRight:void 0,c={};a&&(s=oA.filter(s,function(g){return g!==a&&g!==o}));var u=fwe(e,s);oA.forEach(u,function(g){if(e.children(g.v).length){var p=Cz(e,g.v,r,n);c[g.v]=p,oA.has(p,"barycenter")&&gwe(g,p)}});var A=dwe(u,r);pwe(A,c);var f=hwe(A,n);if(a&&(f.vs=oA.flatten([a,f.vs,o],!0),e.predecessors(a).length)){var d=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(o)[0]);oA.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function pwe(e,t){oA.forEach(e,function(r){r.vs=oA.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function gwe(e,t){oA.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var $0=Hn,xwe=Ko.Graph,vwe=ywe;function ywe(e,t,r){var n=wwe(e),s=new xwe({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return $0.forEach(e.nodes(),function(i){var a=e.node(i),o=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(i),s.setParent(i,o||n),$0.forEach(e[r](i),function(c){var u=c.v===i?c.w:c.v,A=s.edge(u,i),f=$0.isUndefined(A)?0:A.weight;s.setEdge(u,i,{weight:e.edge(c).weight+f})}),$0.has(a,"minRank")&&s.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),s}function wwe(e){for(var t;e.hasNode(t=$0.uniqueId("_root")););return t}var bwe=Hn,Bwe=Nwe;function Nwe(e,t,r){var n={},s;bwe.forEach(r,function(i){for(var a=e.parent(i),o,c;a;){if(o=e.parent(a),o?(c=n[o],n[o]=a):(c=s,s=a),c&&c!==a){t.setEdge(c,a);return}a=o}})}var gA=Hn,_we=Xye,Cwe=Zye,Ewe=mwe,Swe=vwe,Fwe=Bwe,jwe=Ko.Graph,U7=xa,Twe=Iwe;function Iwe(e){var t=U7.maxRank(e),r=P7(e,gA.range(1,t+1),"inEdges"),n=P7(e,gA.range(t-1,-1,-1),"outEdges"),s=_we(e);M7(e,s);for(var i=Number.POSITIVE_INFINITY,a,o=0,c=0;c<4;++o,++c){kwe(o%2?r:n,o%4>=2),s=U7.buildLayerMatrix(e);var u=Cwe(e,s);u<i&&(c=0,a=gA.cloneDeep(s),i=u)}M7(e,a)}function P7(e,t,r){return gA.map(t,function(n){return Swe(e,n,r)})}function kwe(e,t){var r=new jwe;gA.forEach(e,function(n){var s=n.graph().root,i=Ewe(n,s,r,t);gA.forEach(i.vs,function(a,o){n.node(a).order=o}),Fwe(n,r,i.vs)})}function M7(e,t){gA.forEach(t,function(r){gA.forEach(r,function(n,s){e.node(n).order=s})})}var vr=Hn,Lwe=Ko.Graph,Uwe=xa,Pwe={positionX:Gwe};function Mwe(e,t){var r={};function n(s,i){var a=0,o=0,c=s.length,u=vr.last(i);return vr.forEach(i,function(A,f){var d=Owe(e,A),h=d?e.node(d).order:c;(d||A===u)&&(vr.forEach(i.slice(o,f+1),function(g){vr.forEach(e.predecessors(g),function(p){var m=e.node(p),x=m.order;(x<a||h<x)&&!(m.dummy&&e.node(g).dummy)&&Ez(r,p,g)})}),o=f+1,a=h)}),i}return vr.reduce(t,n),r}function Rwe(e,t){var r={};function n(i,a,o,c,u){var A;vr.forEach(vr.range(a,o),function(f){A=i[f],e.node(A).dummy&&vr.forEach(e.predecessors(A),function(d){var h=e.node(d);h.dummy&&(h.order<c||h.order>u)&&Ez(r,d,A)})})}function s(i,a){var o=-1,c,u=0;return vr.forEach(a,function(A,f){if(e.node(A).dummy==="border"){var d=e.predecessors(A);d.length&&(c=e.node(d[0]).order,n(a,u,f,o,c),u=f,o=c)}n(a,u,a.length,c,i.length)}),a}return vr.reduce(t,s),r}function Owe(e,t){if(e.node(t).dummy)return vr.find(e.predecessors(t),function(r){return e.node(r).dummy})}function Ez(e,t,r){if(t>r){var n=t;t=r,r=n}var s=e[t];s||(e[t]=s={}),s[r]=!0}function Qwe(e,t,r){if(t>r){var n=t;t=r,r=n}return vr.has(e[t],r)}function Dwe(e,t,r,n){var s={},i={},a={};return vr.forEach(t,function(o){vr.forEach(o,function(c,u){s[c]=c,i[c]=c,a[c]=u})}),vr.forEach(t,function(o){var c=-1;vr.forEach(o,function(u){var A=n(u);if(A.length){A=vr.sortBy(A,function(p){return a[p]});for(var f=(A.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var g=A[d];i[u]===u&&c<a[g]&&!Qwe(r,u,g)&&(i[g]=u,i[u]=s[u]=s[g],c=a[g])}}})}),{root:s,align:i}}function Hwe(e,t,r,n,s){var i={},a=$we(e,t,r,s),o=s?"borderLeft":"borderRight";function c(f,d){for(var h=a.nodes(),g=h.pop(),p={};g;)p[g]?f(g):(p[g]=!0,h.push(g),h=h.concat(d(g))),g=h.pop()}function u(f){i[f]=a.inEdges(f).reduce(function(d,h){return Math.max(d,i[h.v]+a.edge(h))},0)}function A(f){var d=a.outEdges(f).reduce(function(g,p){return Math.min(g,i[p.w]-a.edge(p))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==o&&(i[f]=Math.max(i[f],d))}return c(u,a.predecessors.bind(a)),c(A,a.successors.bind(a)),vr.forEach(n,function(f){i[f]=i[r[f]]}),i}function $we(e,t,r,n){var s=new Lwe,i=e.graph(),a=Vwe(i.nodesep,i.edgesep,n);return vr.forEach(t,function(o){var c;vr.forEach(o,function(u){var A=r[u];if(s.setNode(A),c){var f=r[c],d=s.edge(f,A);s.setEdge(f,A,Math.max(a(e,u,c),d||0))}c=u})}),s}function qwe(e,t){return vr.minBy(vr.values(t),function(r){var n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return vr.forIn(r,function(i,a){var o=Wwe(e,a)/2;n=Math.max(i+o,n),s=Math.min(i-o,s)}),n-s})}function Kwe(e,t){var r=vr.values(t),n=vr.min(r),s=vr.max(r);vr.forEach(["u","d"],function(i){vr.forEach(["l","r"],function(a){var o=i+a,c=e[o],u;if(c!==t){var A=vr.values(c);u=a==="l"?n-vr.min(A):s-vr.max(A),u&&(e[o]=vr.mapValues(c,function(f){return f+u}))}})})}function zwe(e,t){return vr.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var s=vr.sortBy(vr.map(e,n));return(s[1]+s[2])/2})}function Gwe(e){var t=Uwe.buildLayerMatrix(e),r=vr.merge(Mwe(e,t),Rwe(e,t)),n={},s;vr.forEach(["u","d"],function(a){s=a==="u"?t:vr.values(t).reverse(),vr.forEach(["l","r"],function(o){o==="r"&&(s=vr.map(s,function(f){return vr.values(f).reverse()}));var c=(a==="u"?e.predecessors:e.successors).bind(e),u=Dwe(e,s,r,c),A=Hwe(e,s,u.root,u.align,o==="r");o==="r"&&(A=vr.mapValues(A,function(f){return-f})),n[a+o]=A})});var i=qwe(e,n);return Kwe(n,i),zwe(n,e.graph().align)}function Vwe(e,t,r){return function(n,s,i){var a=n.node(s),o=n.node(i),c=0,u;if(c+=a.width/2,vr.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(c+=r?u:-u),u=0,c+=(a.dummy?t:e)/2,c+=(o.dummy?t:e)/2,c+=o.width/2,vr.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(c+=r?u:-u),u=0,c}}function Wwe(e,t){return e.node(t).width}var q0=Hn,Sz=xa,Ywe=Pwe.positionX,Xwe=Jwe;function Jwe(e){e=Sz.asNonCompoundGraph(e),Zwe(e),q0.forEach(Ywe(e),function(t,r){e.node(r).x=t})}function Zwe(e){var t=Sz.buildLayerMatrix(e),r=e.graph().ranksep,n=0;q0.forEach(t,function(s){var i=q0.max(q0.map(s,function(a){return e.node(a).height}));q0.forEach(s,function(a){e.node(a).y=n+i/2}),n+=i+r})}var kr=Hn,R7=$ve,O7=aye,ebe=jye,tbe=xa.normalizeRanks,rbe=Lye,nbe=xa.removeEmptyRanks,Q7=Rye,sbe=qye,D7=zye,ibe=Twe,abe=Xwe,CA=xa,obe=Ko.Graph,lbe=cbe;function cbe(e,t){var r=t&&t.debugTiming?CA.time:CA.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return ybe(e)});r("  runLayout",function(){Abe(n,r)}),r("  updateInputGraph",function(){ube(e,n)})})}function Abe(e,t){t("    makeSpaceForEdgeLabels",function(){wbe(e)}),t("    removeSelfEdges",function(){jbe(e)}),t("    acyclic",function(){R7.run(e)}),t("    nestingGraph.run",function(){Q7.run(e)}),t("    rank",function(){ebe(CA.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){bbe(e)}),t("    removeEmptyRanks",function(){nbe(e)}),t("    nestingGraph.cleanup",function(){Q7.cleanup(e)}),t("    normalizeRanks",function(){tbe(e)}),t("    assignRankMinMax",function(){Bbe(e)}),t("    removeEdgeLabelProxies",function(){Nbe(e)}),t("    normalize.run",function(){O7.run(e)}),t("    parentDummyChains",function(){rbe(e)}),t("    addBorderSegments",function(){sbe(e)}),t("    order",function(){ibe(e)}),t("    insertSelfEdges",function(){Tbe(e)}),t("    adjustCoordinateSystem",function(){D7.adjust(e)}),t("    position",function(){abe(e)}),t("    positionSelfEdges",function(){Ibe(e)}),t("    removeBorderNodes",function(){Fbe(e)}),t("    normalize.undo",function(){O7.undo(e)}),t("    fixupEdgeLabelCoords",function(){Ebe(e)}),t("    undoCoordinateSystem",function(){D7.undo(e)}),t("    translateGraph",function(){_be(e)}),t("    assignNodeIntersects",function(){Cbe(e)}),t("    reversePoints",function(){Sbe(e)}),t("    acyclic.undo",function(){R7.undo(e)})}function ube(e,t){kr.forEach(e.nodes(),function(r){var n=e.node(r),s=t.node(r);n&&(n.x=s.x,n.y=s.y,t.children(r).length&&(n.width=s.width,n.height=s.height))}),kr.forEach(e.edges(),function(r){var n=e.edge(r),s=t.edge(r);n.points=s.points,kr.has(s,"x")&&(n.x=s.x,n.y=s.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var fbe=["nodesep","edgesep","ranksep","marginx","marginy"],dbe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},hbe=["acyclicer","ranker","rankdir","align"],mbe=["width","height"],pbe={width:0,height:0},gbe=["minlen","weight","width","height","labeloffset"],xbe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},vbe=["labelpos"];function ybe(e){var t=new obe({multigraph:!0,compound:!0}),r=H3(e.graph());return t.setGraph(kr.merge({},dbe,D3(r,fbe),kr.pick(r,hbe))),kr.forEach(e.nodes(),function(n){var s=H3(e.node(n));t.setNode(n,kr.defaults(D3(s,mbe),pbe)),t.setParent(n,e.parent(n))}),kr.forEach(e.edges(),function(n){var s=H3(e.edge(n));t.setEdge(n,kr.merge({},xbe,D3(s,gbe),kr.pick(s,vbe)))}),t}function wbe(e){var t=e.graph();t.ranksep/=2,kr.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function bbe(e){kr.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),s=e.node(t.w),i={rank:(s.rank-n.rank)/2+n.rank,e:t};CA.addDummyNode(e,"edge-proxy",i,"_ep")}})}function Bbe(e){var t=0;kr.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=kr.max(t,n.maxRank))}),e.graph().maxRank=t}function Nbe(e){kr.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function _be(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,s=0,i=e.graph(),a=i.marginx||0,o=i.marginy||0;function c(u){var A=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,A-d/2),r=Math.max(r,A+d/2),n=Math.min(n,f-h/2),s=Math.max(s,f+h/2)}kr.forEach(e.nodes(),function(u){c(e.node(u))}),kr.forEach(e.edges(),function(u){var A=e.edge(u);kr.has(A,"x")&&c(A)}),t-=a,n-=o,kr.forEach(e.nodes(),function(u){var A=e.node(u);A.x-=t,A.y-=n}),kr.forEach(e.edges(),function(u){var A=e.edge(u);kr.forEach(A.points,function(f){f.x-=t,f.y-=n}),kr.has(A,"x")&&(A.x-=t),kr.has(A,"y")&&(A.y-=n)}),i.width=r-t+a,i.height=s-n+o}function Cbe(e){kr.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),s=e.node(t.w),i,a;r.points?(i=r.points[0],a=r.points[r.points.length-1]):(r.points=[],i=s,a=n),r.points.unshift(CA.intersectRect(n,i)),r.points.push(CA.intersectRect(s,a))})}function Ebe(e){kr.forEach(e.edges(),function(t){var r=e.edge(t);if(kr.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function Sbe(e){kr.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function Fbe(e){kr.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),s=e.node(r.borderBottom),i=e.node(kr.last(r.borderLeft)),a=e.node(kr.last(r.borderRight));r.width=Math.abs(a.x-i.x),r.height=Math.abs(s.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}}),kr.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function jbe(e){kr.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Tbe(e){var t=CA.buildLayerMatrix(e);kr.forEach(t,function(r){var n=0;kr.forEach(r,function(s,i){var a=e.node(s);a.order=i+n,kr.forEach(a.selfEdges,function(o){CA.addDummyNode(e,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:i+ ++n,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function Ibe(e){kr.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),s=n.x+n.width/2,i=n.y,a=r.x-s,o=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:s+2*a/3,y:i-o},{x:s+5*a/6,y:i-o},{x:s+a,y:i},{x:s+5*a/6,y:i+o},{x:s+2*a/3,y:i+o}],r.label.x=r.x,r.label.y=r.y}})}function D3(e,t){return kr.mapValues(kr.pick(e,t),Number)}function H3(e){var t={};return kr.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var $g=Hn,kbe=xa,Lbe=Ko.Graph,Ube={debugOrdering:Pbe};function Pbe(e){var t=kbe.buildLayerMatrix(e),r=new Lbe({compound:!0,multigraph:!0}).setGraph({});return $g.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),$g.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),$g.forEach(t,function(n,s){var i="layer"+s;r.setNode(i,{rank:"same"}),$g.reduce(n,function(a,o){return r.setEdge(a,o,{style:"invis"}),o})}),r}var Mbe="0.8.5",Rbe={graphlib:Ko,layout:lbe,debug:Ube,util:{time:xa.time,notime:xa.notime},version:Mbe};const H7=U2(Rbe),Obe=(e,t,r={})=>{const{rankdir:n="TB",nodeWidth:s=280,nodeHeight:i=220,ranker:a="network-simplex",spouseEdgeStyle:o="#ec4899"}=r,c=new H7.graphlib.Graph;c.setGraph({rankdir:n,ranker:a,nodesep:50,edgesep:30,ranksep:100}),c.setDefaultEdgeLabel(()=>({}));const u=[],A=[];t.forEach(C=>{C.sourceHandle==="spouse"||C.targetHandle==="spouse"?u.push(C):A.push(C)});const f=new Map;A.forEach(C=>{f.has(C.target)||f.set(C.target,[]),f.get(C.target).push(C.source)});const d=new Map;u.forEach(C=>{const N=C.source,k=C.target;d.has(N)||d.set(N,[]),d.get(N).push(k),d.has(k)||d.set(k,[]),d.get(k).push(N)});const h=[],g=new Set;for(let C of d.keys())if(!g.has(C)){const N=[],k=[C];for(;k.length;){const E=k.pop();if(!g.has(E)){g.add(E),N.push(E);const U=d.get(E)||[];k.push(...U)}}h.push(N)}const p=new Map,m=new Map;h.forEach(C=>{const N=C.sort(),k=`combined_${N.join("_")}`;p.set(k,{combinedId:k,members:N}),N.forEach(E=>{m.set(E,k)})}),e.forEach(C=>{m.has(C.id)||c.setNode(C.id,{width:s,height:i})});const x=10;p.forEach((C,N)=>{const k=C.members.length,E=s*k+x*(k-1);c.setNode(N,{width:E,height:i})});const v=new Set;A.forEach(C=>{let N=C.source,k=C.target;m.has(N)&&(N=m.get(N)),m.has(k)&&(k=m.get(k));const E=`${N}->${k}`;v.has(E)||(v.add(E),c.setEdge(N,k))}),H7.layout(c);const y=new Map;(()=>{const C=e.filter(U=>!Array.from(f.entries()).some(([D,M])=>M.includes(U.id))).map(U=>U.id);C.forEach(U=>y.set(U,0));const N=[...C],k=new Map,E=U=>{var M;const D=(M=e.find(Q=>Q.id===U))==null?void 0:M.data.gender;return D==="male"||D==="female"?D:"unknown"};for(;N.length>0;){const U=N.shift(),D=y.get(U),M=E(U);Array.from(f.entries()).filter(([Q,K])=>K.includes(U)).forEach(([Q,K])=>{const O=k.get(Q);M==="male"?(y.set(Q,D+1),k.set(Q,"male"),N.push(Q)):(!y.has(Q)||O!=="male")&&(y.set(Q,D+1),k.set(Q,"female"),N.push(Q))})}})();const S=new Map;f.forEach((C,N)=>{const k=C.find(E=>{var D;return((D=e.find(M=>M.id===E))==null?void 0:D.data.gender)==="male"});k&&S.set(N,k)});const T=new Map,j=C=>{if(T.has(C))return T.get(C);const N=S.get(C),k=N?j(N)+1:1;return T.set(C,k),k},I=new Map;e.forEach(C=>{I.set(C.id,j(C.id))}),d.forEach((C,N)=>{var E;if((((E=e.find(U=>U.id===N))==null?void 0:E.data.gender)||"unknown")==="female"){const U=C.filter(D=>{var Q;return((Q=e.find(K=>K.id===D))==null?void 0:Q.data.gender)==="male"});if(U.length>0){const D=U[0],M=I.get(D)??1;I.set(N,M)}}});const B={};return e.forEach(C=>{if(!m.has(C.id)){const N=c.node(C.id);N&&(B[C.id]={x:N.x-s/2,y:N.y-i/2})}}),p.forEach((C,N)=>{const k=c.node(N);if(k){const E=k.x,U=k.y,M=C.members.sort((K,O)=>{var F,P;const z=((F=e.find(L=>L.id===K))==null?void 0:F.data.gender)||"unknown",G=((P=e.find(L=>L.id===O))==null?void 0:P.data.gender)||"unknown";return z==="male"&&G!=="male"?-1:G==="male"&&z!=="male"?1:K.localeCompare(O)});let Q=E-k.width/2;M.forEach(K=>{const O=Q+s/2;B[K]={x:O-s/2,y:U-i/2},Q+=s+x})}}),e.map(C=>{const N=B[C.id]||{x:0,y:0},k=I.get(C.id)??1,E=u.some(U=>U.source===C.id||U.target===C.id);return{...C,position:N,data:{...C.data,generation:k,isSpouse:E}}})},Fz=re.createContext(void 0),x6=()=>{const e=re.useContext(Fz);if(!e)throw new Error("useSelectedNode must be used within a SelectedNodeProvider");return e},Qbe=(e,t,r)=>{var s;if(!r||!Array.isArray(r))return null;const n=r.filter(i=>{var u;const a=i.relationshipType==="Child",o=e.toString(),c=(u=i.relatedPersonId)==null?void 0:u.toString();return a&&c===o});for(const i of n){const a=(s=i.personId)==null?void 0:s.toString(),o=t.find(c=>c.id===a);if(o&&o.gender==="male")return o}return null},Dbe=(e,t,r)=>{var s,i;if(!r||!Array.isArray(r))return null;const n=r.filter(a=>{var A;const o=a.relationshipType==="Child",c=e.toString(),u=(A=a.relatedPersonId)==null?void 0:A.toString();return o&&u===c});for(const a of n){const o=(s=a.personId)==null?void 0:s.toString(),c=t.find(u=>u.id===o);if(c&&c.gender==="female")return c;if(c&&c.gender==="male"){const u=r.find(A=>{var g,p;const f=A.relationshipType==="Child",d=e.toString(),h=(g=A.relatedPersonId)==null?void 0:g.toString();return f&&h===d&&((p=t.find(m=>{var x;return m.id===((x=A.personId)==null?void 0:x.toString())}))==null?void 0:p.gender)==="female"});if(u){const A=(i=u.personId)==null?void 0:i.toString(),f=t.find(d=>d.id===A);if(f)return f}}}return null},Hbe=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:s,sourcePosition:i,targetPosition:a,style:o={},data:c,markerEnd:u})=>{const{collapsedNodes:A,toggleNodeCollapse:f}=x6(),{theme:d}=ir(),[h,g,p]=KS({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:s,targetPosition:a}),m=(c==null?void 0:c.target)||"";return c!=null&&c.hasChildren,A.has(m),l.jsx(l.Fragment,{children:l.jsx("path",{id:e,style:o,className:"react-flow__edge-path",d:h,markerEnd:u})})},$be=({person:e,isOpen:t,onClose:r,persons:n,relationships:s})=>{var y,w,S,T,j,I,B;const{theme:i,language:a="en"}=ir(),{isMobile:o}=cs();H1e();const[c,u]=re.useState([]),[A,f]=re.useState([]);if(re.useEffect(()=>{if(!e||!t)return;const C=new Map;n.forEach(D=>C.set(D.id,D));const N=new Set,k=new Set;s&&Array.isArray(s)&&s.forEach(D=>{if((D.relationshipType==="Spouse"||D.relationshipType==="spouse"||D.relationshipType==="Husband"||D.relationshipType==="husband"||D.relationshipType==="Wife"||D.relationshipType==="wife")&&(D.personId.toString()===e.id||D.relatedPersonId.toString()===e.id)){const M=D.personId.toString()===e.id?D.relatedPersonId.toString():D.personId.toString();N.add(M)}(D.relationshipType==="Child"||D.relationshipType==="child"||D.relationshipType==="Son"||D.relationshipType==="son"||D.relationshipType==="Daughter"||D.relationshipType==="daughter")&&D.personId.toString()===e.id&&k.add(D.relatedPersonId.toString())}),e.relationships&&(e.relationships.spouses&&Array.isArray(e.relationships.spouses)&&e.relationships.spouses.forEach(D=>{typeof D=="object"&&D.person?typeof D.person=="object"&&D.person.id?N.add(D.person.id):typeof D.person=="string"&&N.add(D.person):typeof D=="string"&&N.add(D)}),e.relationships.children&&Array.isArray(e.relationships.children)&&e.relationships.children.forEach(D=>{typeof D=="object"&&D.id?k.add(D.id):typeof D=="string"&&k.add(D)}));const E=Array.from(N).map(D=>C.get(D)).filter(D=>D!==void 0),U=Array.from(k).map(D=>C.get(D)).filter(D=>D!==void 0);u(E),f(U)},[e,t,n,s]),!t||!e)return null;const d=o?"95vw":"600px",h=e,p=(()=>{var E,U,D,M;if(!((E=e.birth)!=null&&E.date)&&!h.birthDate)return null;const C=((U=e.birth)==null?void 0:U.date)||h.birthDate,N=new Date(C).getFullYear();return((D=e.death)!=null&&D.date||h.deathDate?new Date(((M=e.death)==null?void 0:M.date)||h.deathDate).getFullYear():new Date().getFullYear())-N})(),m=e.gender||"unknown",x=m==="male",v=m==="female";return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:C=>{C.target===C.currentTarget&&r()},children:l.jsxs("div",{className:"relative rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300",style:{width:d,background:i==="dark"?"linear-gradient(135deg, #1f2937 0%, #111827 100%)":"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:`2px solid ${i==="dark"?"#374151":"#e2e8f0"}`},onClick:C=>C.stopPropagation(),children:[l.jsxs("div",{className:"relative h-32 overflow-hidden",style:{background:x?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":v?"linear-gradient(135deg, #ec4899 0%, #be185d 100%)":"linear-gradient(135deg, #6b7280 0%, #374151 100%)"},children:[l.jsx("button",{onClick:C=>{C.preventDefault(),C.stopPropagation(),r()},className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-all duration-200 group z-10",type:"button",children:l.jsx(Oo,{size:20,className:"text-white group-hover:scale-110 transition-transform"})}),l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute -bottom-5 -left-5 w-20 h-20 rounded-full bg-white/5"})]}),l.jsxs("div",{className:"relative -mt-16 px-6 pb-6",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white shadow-xl flex items-center justify-center relative overflow-hidden",style:{background:x?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":v?"linear-gradient(135deg, #ec4899 0%, #be185d 100%)":"linear-gradient(135deg, #6b7280 0%, #374151 100%)"},children:h.photo&&!h.photo.includes("/api/placeholder")?l.jsx("img",{src:h.photo,alt:`${e.firstName} ${e.lastName}`,className:"w-full h-full rounded-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:x?l.jsx(ul,{size:40,color:"white",strokeWidth:1.5}):v?l.jsx(ur,{size:40,color:"white",strokeWidth:1.5,className:"transform scale-x-[-1]"}):l.jsx(ur,{size:40,color:"white",strokeWidth:1.5})})})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-2",style:{color:i==="dark"?"#f9fafb":"#111827"},children:[e.firstName," ",e.lastName]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:x?"#dbeafe":v?"#fce7f3":"#f3f4f6",color:x?"#1d4ed8":v?"#be185d":"#374151"},children:x?a==="ar"?"":"Male":v?a==="ar"?"":"Female":a==="ar"?" ":"Unknown"}),p&&l.jsxs("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[p," ",a==="ar"?"":"years old"]}),(y=e.death)!=null&&y.date||h.deathDate?l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:a==="ar"?"":"Deceased"}):l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:a==="ar"?"  ":"Living"})]})]}),l.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:i==="dark"?"#374151":"#f8fafc",borderColor:i==="dark"?"#4b5563":"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(ur,{size:18,className:"mr-2",style:{color:i==="dark"?"#9ca3af":"#6b7280"}}),l.jsx("h3",{className:"font-semibold",style:{color:i==="dark"?"#f9fafb":"#111827"},children:a==="ar"?" ":"Personal Information"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(((w=e.birth)==null?void 0:w.date)||h.birthDate)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ys,{size:14,className:"mr-2 text-blue-500"}),l.jsxs("span",{style:{color:i==="dark"?"#d1d5db":"#6b7280"},children:[l.jsx("strong",{children:a==="ar"?" :":"Birth Date:"})," ",((S=e.birth)==null?void 0:S.date)||h.birthDate]})]}),(((T=e.death)==null?void 0:T.date)||h.deathDate)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ys,{size:14,className:"mr-2 text-gray-500"}),l.jsxs("span",{style:{color:i==="dark"?"#d1d5db":"#6b7280"},children:[l.jsx("strong",{children:a==="ar"?" :":"Death Date:"})," ",((j=e.death)==null?void 0:j.date)||h.deathDate]})]}),(((I=e.birth)==null?void 0:I.place)||h.birthPlace)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ga,{size:14,className:"mr-2 text-green-500"}),l.jsxs("span",{style:{color:i==="dark"?"#d1d5db":"#6b7280"},children:[l.jsx("strong",{children:a==="ar"?" :":"Birth Place:"})," ",((B=e.birth)==null?void 0:B.place)||h.birthPlace]})]}),h.occupation&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ur,{size:14,className:"mr-2 text-purple-500"}),l.jsxs("span",{style:{color:i==="dark"?"#d1d5db":"#6b7280"},children:[l.jsx("strong",{children:a==="ar"?":":"Occupation:"})," ",h.occupation]})]})]})]}),l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:i==="dark"?"#374151":"#f8fafc",borderColor:i==="dark"?"#4b5563":"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(qr,{size:18,className:"mr-2 text-blue-500"}),l.jsx("h3",{className:"font-semibold",style:{color:i==="dark"?"#f9fafb":"#111827"},children:a==="ar"?"":"Parents"})]}),l.jsxs("div",{className:"space-y-2",children:[(()=>{var N,k;const C=Qbe(e.id,n,s);return C?l.jsxs("div",{className:"flex items-center p-3 rounded-xl border hover:shadow-md transition-all duration-200",style:{backgroundColor:i==="dark"?"#1f2937":"#ffffff",borderColor:i==="dark"?"#4b5563":"#e5e7eb"},children:[l.jsx("div",{className:"w-10 h-10 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:"#dbeafe"},children:l.jsx(ul,{size:16,color:"#3b82f6"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-medium",style:{color:i==="dark"?"#f9fafb":"#111827"},children:[l.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 block",children:a==="ar"?"":"Father"}),C.firstName," ",C.lastName]}),(((N=C.birth)==null?void 0:N.date)||C.birthDate)&&l.jsxs("p",{className:"text-xs",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:[a==="ar"?" :":"Born:"," ",((k=C.birth)==null?void 0:k.date)||C.birthDate]})]})]}):l.jsxs("div",{className:"flex items-center p-3 rounded-xl border",style:{backgroundColor:i==="dark"?"#1f2937":"#f9fafb",borderColor:i==="dark"?"#4b5563":"#e5e7eb"},children:[l.jsx("div",{className:"w-10 h-10 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:"#f3f4f6"},children:l.jsx(ul,{size:16,color:"#9ca3af"})}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-sm",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:[l.jsx("span",{className:"text-xs block",children:a==="ar"?"":"Father"}),a==="ar"?" ":"Not registered"]})})]})})(),(()=>{var N,k;const C=Dbe(e.id,n,s);return C?l.jsxs("div",{className:"flex items-center p-3 rounded-xl border hover:shadow-md transition-all duration-200",style:{backgroundColor:i==="dark"?"#1f2937":"#ffffff",borderColor:i==="dark"?"#4b5563":"#e5e7eb"},children:[l.jsx("div",{className:"w-10 h-10 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:"#fce7f3"},children:l.jsx(em,{size:16,className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-medium",style:{color:i==="dark"?"#f9fafb":"#111827"},children:[l.jsx("span",{className:"text-xs text-pink-600 dark:text-pink-400 block",children:a==="ar"?"":"Mother"}),C.firstName," ",C.lastName]}),(((N=C.birth)==null?void 0:N.date)||C.birthDate)&&l.jsxs("p",{className:"text-xs",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:[a==="ar"?" :":"Born:"," ",((k=C.birth)==null?void 0:k.date)||C.birthDate]})]})]}):l.jsxs("div",{className:"flex items-center p-3 rounded-xl border",style:{backgroundColor:i==="dark"?"#1f2937":"#f9fafb",borderColor:i==="dark"?"#4b5563":"#e5e7eb"},children:[l.jsx("div",{className:"w-10 h-10 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:"#f3f4f6"},children:l.jsx(ur,{size:16,className:"w-4 h-4 opacity-50"})}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-sm",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:[l.jsx("span",{className:"text-xs block",children:a==="ar"?"":"Mother"}),a==="ar"?" ":"Not registered"]})})]})})()]})]}),l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:i==="dark"?"#374151":"#f8fafc",borderColor:i==="dark"?"#4b5563":"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ns,{size:18,className:"mr-2 text-pink-500"}),l.jsx("h3",{className:"font-semibold",style:{color:i==="dark"?"#f9fafb":"#111827"},children:a==="ar"?"":"Spouses"})]}),c.length>0&&l.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",children:c.length})]}),c.length>0?l.jsx("div",{className:"space-y-2",children:c.map(C=>{var N;return l.jsxs("div",{className:"flex items-center p-3 rounded-xl border hover:shadow-md transition-all duration-200",style:{backgroundColor:i==="dark"?"#1f2937":"#ffffff",borderColor:i==="dark"?"#4b5563":"#e5e7eb"},children:[l.jsx("div",{className:"w-10 h-10 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:C.gender==="male"?"#dbeafe":"#fce7f3"},children:C.gender==="male"?l.jsx(ul,{size:16,color:"#3b82f6"}):l.jsx(em,{size:16,className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-medium",style:{color:i==="dark"?"#f9fafb":"#111827"},children:[C.firstName," ",C.lastName]}),((N=C.birth)==null?void 0:N.date)&&l.jsxs("p",{className:"text-xs",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:[a==="ar"?" :":"Born:"," ",C.birth.date]})]})]},C.id)})}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx(ns,{size:24,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:a==="ar"?"   ":"No spouses listed"})]})]}),l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:i==="dark"?"#374151":"#f8fafc",borderColor:i==="dark"?"#4b5563":"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Lo,{size:18,className:"mr-2 text-blue-500"}),l.jsx("h3",{className:"font-semibold",style:{color:i==="dark"?"#f9fafb":"#111827"},children:a==="ar"?"":"Children"})]}),A.length>0&&l.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:A.length})]}),A.length>0?l.jsx("div",{className:"space-y-2",children:A.map(C=>{var N;return l.jsxs("div",{className:"flex items-center p-3 rounded-xl border hover:shadow-md transition-all duration-200",style:{backgroundColor:i==="dark"?"#1f2937":"#ffffff",borderColor:i==="dark"?"#4b5563":"#e5e7eb"},children:[l.jsx("div",{className:"w-10 h-10 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:C.gender==="male"?"#dbeafe":"#fce7f3"},children:C.gender==="male"?l.jsx(ul,{size:16,color:"#3b82f6"}):l.jsx(em,{size:16,className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-medium",style:{color:i==="dark"?"#f9fafb":"#111827"},children:[C.firstName," ",C.lastName]}),((N=C.birth)==null?void 0:N.date)&&l.jsxs("p",{className:"text-xs",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:[a==="ar"?" :":"Born:"," ",C.birth.date]})]})]},C.id)})}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx(Lo,{size:24,className:"mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",style:{color:i==="dark"?"#9ca3af":"#6b7280"},children:a==="ar"?"   ":"No children listed"})]})]})]})]})]})})},qbe=({data:e,id:t})=>{const{theme:r,language:n="en"}=ir(),{isMobile:s}=cs(),{selectedNodeId:i,setSelectedNodeId:a,toggleNodeCollapse:o}=x6(),c=i===e.id,u=e.birthDate||e.occupation||e.birthPlace,A=s?200:280,f=s||u?220:200,d=e.gender||"unknown",h=d==="female",g=d==="male",m=e.familyRole==="patriarch"?{primary:"#1e40af",secondary:"#dbeafe",accent:"#3b82f6"}:e.familyRole==="matriarch"?{primary:"#be185d",secondary:"#fce7f3",accent:"#ec4899"}:g?{primary:"#3b82f6",secondary:"#dbeafe",accent:"#60a5fa"}:h?{primary:"#ec4899",secondary:"#fce7f3",accent:"#f472b6"}:{primary:"#6b7280",secondary:"#f3f4f6",accent:"#9ca3af"},[x,v]=re.useState(m.primary),y=T=>{T.stopPropagation(),a(c?null:e.id)},S=(()=>{if(!e.birthDate)return null;const T=new Date(e.birthDate).getFullYear();return(e.deathDate?new Date(e.deathDate).getFullYear():new Date().getFullYear())-T})();return l.jsxs("div",{className:`relative rounded-2xl cursor-pointer transition-all duration-300 ${c?"ring-4 ring-blue-400 shadow-2xl scale-105":"shadow-lg hover:shadow-xl hover:scale-102"}`,style:{width:A,height:f,backgroundColor:r==="dark"?"#1f2937":"#ffffff",border:`2px solid ${c?m.accent:"transparent"}`,zIndex:c?100:1,background:`linear-gradient(135deg, ${m.secondary} 0%, ${r==="dark"?"#1f2937":"#ffffff"} 100%)`},onClick:y,children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 h-8 rounded-t-2xl flex items-center justify-between px-3",style:{background:`linear-gradient(90deg, ${x} 0%, ${m.accent} 100%)`,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[e.familyRole==="patriarch"&&l.jsx(Nm,{size:14,color:"white"}),e.familyRole==="matriarch"&&l.jsx(Nm,{size:14,color:"white"}),e.isRoot&&l.jsx(G2,{size:14,color:"white"}),e.generation!==void 0&&l.jsxs("span",{className:"text-xs text-white font-medium",children:["G",e.generation]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[e.relationshipStatus==="married"&&l.jsx(ns,{size:12,color:"white"}),e.spouses&&e.spouses.length>0&&l.jsx(ns,{size:12,color:"white"}),e.children&&e.children.length>0&&l.jsx(Lo,{size:12,color:"white"})]})]}),l.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white shadow-md flex items-center justify-center",style:{backgroundColor:m.primary},children:g?l.jsx(ul,{size:24,color:"white"}):h?l.jsx(ur,{size:24,className:"w-6 h-6"}):l.jsx(ur,{size:24,color:"white"})})}),l.jsxs("div",{className:"absolute top-32 left-0 right-0 text-center px-3 py-2",children:[l.jsx("p",{className:`font-bold truncate ${s?"text-base mb-1":"text-lg mb-1"}`,style:{color:r==="dark"?"#f9fafb":"#111827",lineHeight:"1.1",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(S||e.birthDate)&&l.jsxs("div",{className:`flex items-center justify-center ${s?"space-x-1 mb-2 px-1":"space-x-2 mb-3 px-2"}`,children:[l.jsx(ys,{size:s?10:12,color:r==="dark"?"#9ca3af":"#6b7280"}),l.jsxs("span",{className:"text-xs",style:{color:r==="dark"?"#9ca3af":"#6b7280",lineHeight:"1.1",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[S?`${S} `:new Date(e.birthDate).getFullYear(),e.deathDate&&` - ${new Date(e.deathDate).getFullYear()}`]})]}),e.occupation&&l.jsxs("div",{className:`flex items-center justify-center ${s?"space-x-1 mb-2 px-1":"space-x-2 mb-3 px-2"}`,children:[l.jsx(ur,{size:s?10:12,color:r==="dark"?"#9ca3af":"#6b7280"}),l.jsx("span",{className:"truncate text-xs",style:{color:r==="dark"?"#9ca3af":"#6b7280",lineHeight:"1.1",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.occupation})]}),e.birthPlace&&l.jsxs("div",{className:`flex items-center justify-center ${s?"space-x-1 mb-2 px-1":"space-x-2 mb-3 px-2"}`,children:[l.jsx(ga,{size:s?10:12,color:r==="dark"?"#9ca3af":"#6b7280"}),l.jsx("span",{className:"truncate text-xs",style:{color:r==="dark"?"#9ca3af":"#6b7280",lineHeight:"1.1",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.birthPlace})]})]}),l.jsxs("div",{className:"absolute top-10 right-2 flex flex-col space-y-1",children:[e.spouses&&e.spouses.length>0&&l.jsxs("div",{className:"flex items-center space-x-1 bg-pink-100 dark:bg-pink-900 px-2 py-1 rounded-full shadow-sm",children:[l.jsx(ns,{size:8,color:"#ec4899"}),l.jsx("span",{className:"text-xs font-medium",style:{color:"#ec4899",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:e.spouses.length})]}),e.children&&e.children.length>0&&l.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded-full shadow-sm",children:[l.jsx(Lo,{size:8,color:"#3b82f6"}),l.jsx("span",{className:"text-xs font-medium",style:{color:"#3b82f6",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:e.children.length})]}),e.siblings&&e.siblings.length>0&&l.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 dark:bg-green-900 px-2 py-1 rounded-full shadow-sm",children:[l.jsx(qr,{size:8,color:"#10b981"}),l.jsx("span",{className:"text-xs font-medium",style:{color:"#10b981",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:e.siblings.length})]})]}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex rounded-b-2xl overflow-hidden",children:[l.jsxs("div",{className:"flex-1 flex items-center justify-center py-2 cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:m.primary},onClick:T=>{var j;T.stopPropagation(),(j=e.onSelectPerson)==null||j.call(e,e.id)},children:[l.jsx(Mo,{size:14,color:"white",className:"mr-1"}),l.jsx("span",{className:"text-white text-xs font-medium",style:{lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:n==="ar"?"":"View"})]}),l.jsxs("div",{className:"flex-1 flex items-center justify-center py-2 cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:"#10b981"},onClick:T=>{var j;T.stopPropagation(),(j=e.onAddChild)==null||j.call(e,e.id)},children:[l.jsx(Fd,{size:14,color:"white",className:"mr-1"}),l.jsx("span",{className:"text-white text-xs font-medium",style:{lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:n==="ar"?"":"Add"})]})]}),e.gender==="male"&&(e.spouses&&e.spouses.length>0||e.children&&e.children.length>0)&&l.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center cursor-pointer shadow-md z-20",style:{backgroundColor:m.primary},onClick:T=>{T.stopPropagation(),o(e.id)},children:e.isCollapsed?l.jsx(K2,{size:14,color:"white"}):l.jsx(cE,{size:14,color:"white"})}),c&&e.isOwnedTree&&l.jsxs("div",{className:"absolute flex items-center justify-center space-x-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-2 border-2",style:{top:-60,left:"50%",transform:"translateX(-50%)",zIndex:1e3,borderColor:m.accent},children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-pink-500 rounded-full cursor-pointer hover:bg-pink-600 transition-colors",onClick:T=>{var j;T.stopPropagation(),(j=e.onAddSpouse)==null||j.call(e,e.id)},title:n==="ar"?" /":"Add Spouse",children:l.jsx(ns,{size:14,color:"white"})}),l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-500 rounded-full cursor-pointer hover:bg-green-600 transition-colors",onClick:T=>{var j;T.stopPropagation(),(j=e.onAddChild)==null||j.call(e,e.id)},title:n==="ar"?" ":"Add Child",children:l.jsx(Lo,{size:14,color:"white"})}),e.onAddSibling&&l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-500 rounded-full cursor-pointer hover:bg-purple-600 transition-colors",onClick:T=>{var j;T.stopPropagation(),(j=e.onAddSibling)==null||j.call(e,e.id)},title:n==="ar"?" /":"Add Sibling",children:l.jsx(qr,{size:14,color:"white"})}),l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-yellow-500 rounded-full cursor-pointer hover:bg-yellow-600 transition-colors",onClick:T=>{var j;T.stopPropagation(),(j=e.onEditPerson)==null||j.call(e,e.id)},title:n==="ar"?"":"Edit",children:l.jsx(Ro,{size:14,color:"white"})}),l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-red-500 rounded-full cursor-pointer hover:bg-red-600 transition-colors",onClick:T=>{var j;T.stopPropagation(),(j=e.onDeletePerson)==null||j.call(e,e.id)},title:n==="ar"?"":"Delete",children:l.jsx(wl,{size:14,color:"white"})})]}),l.jsx(lo,{type:"target",position:Jt.Top,style:{background:m.primary,width:12,height:12,zIndex:10,border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0}),l.jsx(lo,{type:"source",position:Jt.Bottom,style:{background:m.primary,width:12,height:12,zIndex:10,border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0}),l.jsx(lo,{type:"source",position:Jt.Right,style:{background:"#ec4899",width:12,height:12,zIndex:10,right:-6,top:"50%",transform:"translateY(-50%)",border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0,id:"spouse"}),l.jsx(lo,{type:"target",position:Jt.Left,style:{background:"#ec4899",width:12,height:12,zIndex:10,left:-6,top:"50%",transform:"translateY(-50%)",border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0,id:"spouse"})]})},Kbe=({data:e,id:t})=>{const{theme:r}=ir(),{isMobile:n}=cs(),{selectedNodeId:s,setSelectedNodeId:i,toggleNodeCollapse:a}=x6(),o=s===e.id,c=e.spouses||[],u=Math.min(c.length,3),A=n?300:400,f=n?200:240,d=h=>{h.stopPropagation(),i(o?null:e.id)};return l.jsxs("div",{className:`relative rounded-2xl cursor-pointer transition-all duration-300 ${o?"ring-4 ring-pink-400 shadow-2xl scale-105":"shadow-lg hover:shadow-xl hover:scale-102"}`,style:{width:A,height:f,backgroundColor:r==="dark"?"#1f2937":"#ffffff",border:`2px solid ${o?"#ec4899":"transparent"}`,zIndex:o?100:1,background:`linear-gradient(135deg, #fce7f3 0%, ${r==="dark"?"#1f2937":"#ffffff"} 100%)`},onClick:d,children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-10 rounded-t-2xl flex items-center justify-center",style:{background:"linear-gradient(90deg, #ec4899 0%, #f472b6 100%)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ns,{size:16,color:"white"}),l.jsx("span",{className:"text-white font-bold text-sm",style:{lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:" "}),l.jsx(ns,{size:16,color:"white"})]})}),l.jsx("div",{className:"absolute top-12 left-5 right-5 bottom-16 flex space-x-2",children:c.slice(0,u).map((h,g)=>{var y;const p=((y=h.attributes)==null?void 0:y.gender)||h.gender||"unknown",m=p==="male",x=p==="female",v={primary:m?"#3b82f6":x?"#ec4899":"#6b7280",secondary:m?"#dbeafe":x?"#fce7f3":"#f3f4f6"};return l.jsxs("div",{className:"flex-1 relative rounded-xl border-2 overflow-hidden",style:{borderColor:v.primary,background:`linear-gradient(135deg, ${v.secondary} 0%, ${r==="dark"?"#374151":"#ffffff"} 100%)`},children:[l.jsx("div",{className:"h-6 flex items-center justify-center",style:{backgroundColor:v.primary},children:l.jsx("span",{className:"text-white text-xs font-medium",style:{lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:m?"":x?"":""})}),l.jsx("div",{className:"flex justify-center mt-2",children:h.photo?l.jsx("img",{src:h.photo,alt:h.name,className:"w-12 h-12 rounded-full border-2 border-white shadow-md object-cover"}):l.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-white shadow-md flex items-center justify-center",style:{backgroundColor:v.primary},children:m?l.jsx(ul,{size:16,color:"white"}):x?l.jsx(em,{size:16,className:"w-4 h-4"}):l.jsx(ur,{size:16,color:"white"})})}),l.jsxs("div",{className:"text-center mt-2 px-2",children:[l.jsx("p",{className:"font-bold text-sm truncate",style:{color:r==="dark"?"#f9fafb":"#111827",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.name}),h.birthDate&&l.jsxs("div",{className:"flex items-center justify-center mt-1",children:[l.jsx(ys,{size:10,color:r==="dark"?"#9ca3af":"#6b7280"}),l.jsx("span",{className:"text-xs ml-1",style:{color:r==="dark"?"#9ca3af":"#6b7280",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:new Date(h.birthDate).getFullYear()})]})]}),l.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex space-x-1",children:[l.jsx("button",{className:"flex-1 py-1 rounded text-xs text-white font-medium hover:opacity-80 transition-opacity",style:{backgroundColor:v.primary},onClick:w=>{var S;w.stopPropagation(),(S=e.onSelectPerson)==null||S.call(e,h.id)},children:l.jsx("span",{style:{lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:""})}),l.jsx("button",{className:"flex-1 py-1 rounded text-xs text-white font-medium bg-green-500 hover:opacity-80 transition-opacity",onClick:w=>{var S;w.stopPropagation(),(S=e.onAddChild)==null||S.call(e,h.id)},children:l.jsx("span",{style:{lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:""})})]})]},h.id)})}),l.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center space-x-2",children:c.length>1&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-1 bg-pink-100 dark:bg-pink-900 px-3 py-1 rounded-full",children:[l.jsx(ns,{size:12,color:"#ec4899"}),l.jsxs("span",{className:"text-xs font-medium",style:{color:"#ec4899",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent",overflow:"hidden",textOverflow:"ellipsis"},children:[c.length," "]})]}),e.children&&e.children.length>0&&l.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900 px-3 py-1 rounded-full",children:[l.jsx(Lo,{size:12,color:"#3b82f6"}),l.jsxs("span",{className:"text-xs font-medium",style:{color:"#3b82f6",lineHeight:"1.2",margin:"0",padding:"0",border:"none",outline:"none",background:"transparent"},children:[e.children.length," "]})]})]})}),o&&e.isOwnedTree&&l.jsxs("div",{className:"absolute flex items-center justify-center space-x-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-2 border-2 border-pink-400",style:{top:-60,left:"50%",transform:"translateX(-50%)",zIndex:1e3},children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-pink-500 rounded-full cursor-pointer hover:bg-pink-600 transition-colors",onClick:h=>{var g;h.stopPropagation(),c.length>0&&((g=e.onAddSpouse)==null||g.call(e,c[0].id))},title:" / ",children:l.jsx(ns,{size:14,color:"white"})}),l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-500 rounded-full cursor-pointer hover:bg-green-600 transition-colors",onClick:h=>{var g;h.stopPropagation(),c.length>0&&((g=e.onAddChild)==null||g.call(e,c[0].id))},title:"  ",children:l.jsx(Lo,{size:14,color:"white"})}),l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-yellow-500 rounded-full cursor-pointer hover:bg-yellow-600 transition-colors",onClick:h=>{var g;h.stopPropagation(),c.length>0&&((g=e.onEditPerson)==null||g.call(e,c[0].id))},title:" ",children:l.jsx(Ro,{size:14,color:"white"})})]}),(e.spouses&&e.spouses.length>0||e.children&&e.children.length>0)&&l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full flex items-center justify-center cursor-pointer shadow-md z-20",style:{backgroundColor:"#ec4899"},onClick:h=>{h.stopPropagation(),a(e.id)},children:e.isCollapsed?l.jsx(K2,{size:14,color:"white"}):l.jsx(cE,{size:14,color:"white"})}),l.jsx(lo,{type:"target",position:Jt.Top,style:{background:"#ec4899",width:14,height:14,zIndex:10,border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0}),l.jsx(lo,{type:"source",position:Jt.Bottom,style:{background:"#ec4899",width:14,height:14,zIndex:10,border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0}),l.jsx(lo,{type:"source",position:Jt.Right,style:{background:"#ec4899",width:14,height:14,zIndex:10,right:-7,top:"50%",transform:"translateY(-50%)",border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0,id:"spouse"}),l.jsx(lo,{type:"target",position:Jt.Left,style:{background:"#ec4899",width:14,height:14,zIndex:10,left:-7,top:"50%",transform:"translateY(-50%)",border:"2px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},isConnectable:!0,id:"spouse"})]})},zbe={person:qbe,combinedSpouse:Kbe},jz=({persons:e,rootPersonId:t,onSelectPerson:r,onEditPerson:n,onDeletePerson:s,onAddChild:i,onAddSpouse:a,onAddFather:o,onAddMother:c,onAddSibling:u,relationships:A,dataVersion:f=0,isOwnedTree:d=!1})=>{const h=ls(),[g,p,m]=g1e([]),[x,v,y]=x1e([]),{theme:w,language:S}=ir(),{isMobile:T}=cs(),[j,I]=re.useState(null),[B,C]=re.useState(null),[N,k]=re.useState(null),[E,U]=re.useState(new Set),[D,M]=re.useState(!1),[Q,K]=re.useState(()=>{const ze=localStorage.getItem("familyTreeManualConnections");return ze?JSON.parse(ze):[]}),O=re.useRef({}),[z,G]=re.useState(()=>{const ze=localStorage.getItem("familyTreeCustomPositions");return ze?JSON.parse(ze):{}}),[F,P]=re.useState({}),[L,q]=re.useState(null),[X,se]=re.useState(!1),ae=re.useCallback(ze=>{const de=e.find(be=>be.id.toString()===ze);de&&(q(de),se(!0))},[e]),W=re.useCallback(()=>{se(!1),q(null)},[]),ee=re.useCallback((ze,de,be=new Set)=>{if(be.has(ze))return[];be.add(ze);const Be=de.get(ze)||[];let et=[...Be];return Be.forEach(rt=>{const Nt=ee(rt,de,be);et=[...et,...Nt]}),et},[]),Ce=re.useCallback(ze=>{const de=new Map,be=new Map;e.forEach(Be=>{var me,$e,Re;const et=Be.id.toString(),rt=Be,Nt=rt.parentIds||rt.parents||rt.parent_ids||((me=rt.relationships)==null?void 0:me.parents)||[];if(Nt&&Nt.length>0)if(Array.isArray(Nt))Nt.forEach(Te=>{var it,Oe;let ve="";typeof Te=="object"&&(Te!=null&&Te.id)?ve=Te.id.toString():(typeof Te=="string"||typeof Te=="number")&&(ve=Te.toString()),ve&&(de.has(ve)||de.set(ve,[]),(it=de.get(ve))!=null&&it.includes(et)||(Oe=de.get(ve))==null||Oe.push(et))});else{let Te="";typeof Nt=="object"&&(Nt!=null&&Nt.id)?Te=Nt.id.toString():(typeof Nt=="string"||typeof Nt=="number")&&(Te=Nt.toString()),Te&&(de.has(Te)||de.set(Te,[]),($e=de.get(Te))!=null&&$e.includes(et)||(Re=de.get(Te))==null||Re.push(et))}if(rt.relationships&&Array.isArray(rt.relationships)){const Te=rt.relationships.filter(ve=>(ve.relationshipType==="Spouse"||ve.relationshipType==="spouse"||ve.relationshipType==="Husband"||ve.relationshipType==="husband"||ve.relationshipType==="Wife"||ve.relationshipType==="wife")&&(ve.personId.toString()===et||ve.relatedPersonId.toString()===et));Te&&Te.length>0&&Te.forEach(ve=>{var Oe,Se;let it="";if(ve.personId.toString()===et?it=ve.relatedPersonId.toString():ve.relatedPersonId.toString()===et&&(it=ve.personId.toString()),it){be.has(et)||be.set(et,[]);const Fe=be.get(et)!==void 0?be.get(et):[];(!Fe||!Fe.includes(it))&&((Oe=be.get(et))==null||Oe.push(it)),be.has(it)||be.set(it,[]);const lt=be.get(it)!==void 0?be.get(it):[];lt&&!lt.includes(et)&&((Se=be.get(it))==null||Se.push(et))}})}Be.relationships&&Be.relationships.spouses&&Be.relationships.spouses.forEach(Te=>{var it,Oe,Se;let ve="";if(typeof Te=="object"&&(Te!=null&&Te.person)?typeof Te.person=="object"&&((it=Te.person)!=null&&it.id)?ve=Te.person.id.toString():typeof Te.person=="string"&&(ve=Te.person.toString()):typeof Te=="string"&&(ve=Te.toString()),ve&&ve!==et&&!(be.get(et)||[]).includes(ve)){be.has(et)||be.set(et,[]),(Oe=be.get(et))==null||Oe.push(ve),be.has(ve)||be.set(ve,[]);const lt=be.get(ve)!==void 0?be.get(ve):[];lt&&!lt.includes(et)&&((Se=be.get(ve))==null||Se.push(et))}}),rt.spouseIds&&Array.isArray(rt.spouseIds)&&rt.spouseIds.forEach(Te=>{var it,Oe;const ve=Te.toString();if(ve&&ve!==et&&!(be.get(et)||[]).includes(ve)){be.has(et)||be.set(et,[]),(it=be.get(et))==null||it.push(ve),be.has(ve)||be.set(ve,[]);const Fe=be.get(ve)!==void 0?be.get(ve):[];Fe&&!Fe.includes(et)&&((Oe=be.get(ve))==null||Oe.push(et))}})}),A&&Array.isArray(A)&&A.forEach(Be=>{var et,rt,Nt,me,$e,Re;if(Be.relationshipType==="Spouse"||Be.relationshipType==="spouse"||Be.relationshipType==="Husband"||Be.relationshipType==="husband"||Be.relationshipType==="Wife"||Be.relationshipType==="wife"){const Te=Be.personId.toString(),ve=Be.relatedPersonId.toString();be.has(Te)||be.set(Te,[]);const it=be.get(Te)!==void 0?be.get(Te):[];(!it||!it.includes(ve))&&((et=be.get(Te))==null||et.push(ve)),be.has(ve)||be.set(ve,[]);const Oe=be.get(ve)!==void 0?be.get(ve):[];Oe&&!Oe.includes(Te)&&((rt=be.get(ve))==null||rt.push(Te))}else if(Be.relationshipType==="Father"||Be.relationshipType==="father"||Be.relationshipType==="Mother"||Be.relationshipType==="mother"||Be.relationshipType==="Parent"||Be.relationshipType==="parent"){const Te=Be.personId.toString(),ve=Be.relatedPersonId.toString();de.has(ve)||de.set(ve,[]),(Nt=de.get(ve))!=null&&Nt.includes(Te)||(me=de.get(ve))==null||me.push(Te)}else if(Be.relationshipType==="Child"||Be.relationshipType==="child"||Be.relationshipType==="Son"||Be.relationshipType==="son"||Be.relationshipType==="Daughter"||Be.relationshipType==="daughter"){const Te=Be.personId.toString(),ve=Be.relatedPersonId.toString();de.has(Te)||de.set(Te,[]),($e=de.get(Te))!=null&&$e.includes(ve)||(Re=de.get(Te))==null||Re.push(ve)}}),U(Be=>{const et=new Set(Be);if(et.has(ze)){const rt=new Set;{const $e=[...de.get(ze)||[]];for(;$e.length;){const Re=$e.shift();if(rt.has(Re))continue;rt.add(Re);const Te=de.get(Re)||[],ve=be.get(Re)||[];Te.forEach(it=>$e.push(it)),ve.forEach(it=>$e.push(it))}}(be.get(ze)||[]).forEach(me=>{rt.delete(me),et.delete(me)}),et.delete(ze);for(const me of rt)et.delete(me);p(me=>me.map($e=>{const Re=F[$e.id];return Re&&rt.has($e.id)?{...$e,position:Re}:$e}))}else{const rt=new Set;{const $e=[...de.get(ze)||[]];for(;$e.length;){const Re=$e.shift();if(rt.has(Re))continue;rt.add(Re);const Te=de.get(Re)||[],ve=be.get(Re)||[];Te.forEach(it=>$e.push(it)),ve.forEach(it=>$e.push(it))}}(be.get(ze)||[]).forEach(me=>rt.delete(me)),p(me=>{const $e={};return me.forEach(Re=>{rt.has(Re.id)&&($e[Re.id]={...Re.position})}),P(Re=>({...Re,...$e})),me}),et.add(ze);for(const me of rt)et.add(me)}return et})},[e,A,ee]),ye=re.useMemo(()=>{if(!e||e.length===0)return{flowNodes:[],flowEdges:[]};const ze=new Map;e.forEach(Se=>{var lt,We,He,tt,xt,nt;const Fe=Se;ze.set(Se.id.toString(),{id:Se.id.toString(),name:`${Se.firstName||""} ${Se.lastName||""}`.trim()||"Unknown",gender:Se.gender||"unknown",birthDate:((lt=Fe.birth)==null?void 0:lt.date)||Fe.birthDate||"",deathDate:((We=Fe.death)==null?void 0:We.date)||Fe.deathDate||"",birthPlace:((He=Fe.birth)==null?void 0:He.place)||Fe.birthPlace||"",occupation:((xt=(tt=Fe.occupation)==null?void 0:tt[0])==null?void 0:xt.title)||Fe.occupation||"",photo:((nt=Fe.primaryPhoto)==null?void 0:nt.url)||Fe.photo||"",children:[],spouses:[],siblings:[],parents:[],relationshipStatus:"single",marriageDate:"",generation:0,familyRole:"child"})});const de=new Map,be=new Map,Be=new Map;e.forEach(Se=>{var He,tt,xt,nt;const Fe=Se.id.toString(),lt=Se,We=lt.parentIds||lt.parents||lt.parent_ids||((He=lt.relationships)==null?void 0:He.parents)||[];if(We&&We.length>0)if(Array.isArray(We))We.forEach(Ye=>{var Lt,Et,Ut,Ct;let Ke="";typeof Ye=="object"&&(Ye!=null&&Ye.id)?Ke=Ye.id.toString():(typeof Ye=="string"||typeof Ye=="number")&&(Ke=Ye.toString()),Ke&&(de.has(Fe)||de.set(Fe,[]),(Lt=de.get(Fe))!=null&&Lt.includes(Ke)||(Et=de.get(Fe))==null||Et.push(Ke),be.has(Ke)||be.set(Ke,[]),(Ut=be.get(Ke))!=null&&Ut.includes(Fe)||(Ct=be.get(Ke))==null||Ct.push(Fe))});else{let Ye="";typeof We=="object"&&(We!=null&&We.id)?Ye=We.id.toString():(typeof We=="string"||typeof We=="number")&&(Ye=We.toString()),Ye&&(de.has(Fe)||de.set(Fe,[]),(tt=de.get(Fe))==null||tt.push(Ye),be.has(Ye)||be.set(Ye,[]),(xt=be.get(Ye))!=null&&xt.includes(Fe)||(nt=be.get(Ye))==null||nt.push(Fe))}if(lt.relationships&&Array.isArray(lt.relationships)){const Ye=lt.relationships.filter(Ke=>(Ke.relationshipType==="Spouse"||Ke.relationshipType==="spouse"||Ke.relationshipType==="Husband"||Ke.relationshipType==="husband"||Ke.relationshipType==="Wife"||Ke.relationshipType==="wife")&&(Ke.personId.toString()===Fe||Ke.relatedPersonId.toString()===Fe));Ye&&Ye.length>0&&Ye.forEach(Ke=>{var Et,Ut;let Lt="";if(Ke.personId.toString()===Fe?Lt=Ke.relatedPersonId.toString():Ke.relatedPersonId.toString()===Fe&&(Lt=Ke.personId.toString()),Lt){Be.has(Fe)||Be.set(Fe,[]);const Ct=Be.get(Fe)!==void 0?Be.get(Fe):[];(!Ct||!Ct.includes(Lt))&&((Et=Be.get(Fe))==null||Et.push(Lt)),Be.has(Lt)||Be.set(Lt,[]);const Vt=Be.get(Lt)!==void 0?Be.get(Lt):[];Vt&&!Vt.includes(Fe)&&((Ut=Be.get(Lt))==null||Ut.push(Fe))}})}Se.relationships&&Se.relationships.spouses&&Se.relationships.spouses.forEach(Ye=>{var Lt,Et,Ut;let Ke="";if(typeof Ye=="object"&&(Ye!=null&&Ye.person)?typeof Ye.person=="object"&&((Lt=Ye.person)!=null&&Lt.id)?Ke=Ye.person.id.toString():typeof Ye.person=="string"&&(Ke=Ye.person.toString()):typeof Ye=="string"&&(Ke=Ye.toString()),Ke&&Ke!==Fe&&!(Be.get(Fe)||[]).includes(Ke)){Be.has(Fe)||Be.set(Fe,[]),(Et=Be.get(Fe))==null||Et.push(Ke),Be.has(Ke)||Be.set(Ke,[]);const Vt=Be.get(Ke)!==void 0?Be.get(Ke):[];Vt&&!Vt.includes(Fe)&&((Ut=Be.get(Ke))==null||Ut.push(Fe))}}),lt.spouseIds&&Array.isArray(lt.spouseIds)&&lt.spouseIds.forEach(Ye=>{var Lt,Et;const Ke=Ye.toString();if(Ke&&Ke!==Fe&&!(Be.get(Fe)||[]).includes(Ke)){Be.has(Fe)||Be.set(Fe,[]),(Lt=Be.get(Fe))==null||Lt.push(Ke),Be.has(Ke)||Be.set(Ke,[]);const Ct=Be.get(Ke)!==void 0?Be.get(Ke):[];Ct&&!Ct.includes(Fe)&&((Et=Be.get(Ke))==null||Et.push(Fe))}})}),A&&Array.isArray(A)&&A.forEach(Se=>{var Fe,lt,We,He,tt,xt,nt,Ye,Ke,Lt;if(Se.relationshipType==="Spouse"||Se.relationshipType==="spouse"||Se.relationshipType==="Husband"||Se.relationshipType==="husband"||Se.relationshipType==="Wife"||Se.relationshipType==="wife"){const Et=Se.personId.toString(),Ut=Se.relatedPersonId.toString();Be.has(Et)||Be.set(Et,[]);const Ct=Be.get(Et)!==void 0?Be.get(Et):[];(!Ct||!Ct.includes(Ut))&&((Fe=Be.get(Et))==null||Fe.push(Ut)),Be.has(Ut)||Be.set(Ut,[]);const Vt=Be.get(Ut)!==void 0?Be.get(Ut):[];Vt&&!Vt.includes(Et)&&((lt=Be.get(Ut))==null||lt.push(Et))}else if(Se.relationshipType==="Father"||Se.relationshipType==="father"||Se.relationshipType==="Mother"||Se.relationshipType==="mother"||Se.relationshipType==="Parent"||Se.relationshipType==="parent"){const Et=Se.personId.toString(),Ut=Se.relatedPersonId.toString();de.has(Et)||de.set(Et,[]),(We=de.get(Et))!=null&&We.includes(Ut)||(He=de.get(Et))==null||He.push(Ut),be.has(Ut)||be.set(Ut,[]),(tt=be.get(Ut))!=null&&tt.includes(Et)||(xt=be.get(Ut))==null||xt.push(Et)}else if(Se.relationshipType==="Child"||Se.relationshipType==="child"||Se.relationshipType==="Son"||Se.relationshipType==="son"||Se.relationshipType==="Daughter"||Se.relationshipType==="daughter"){const Et=Se.personId.toString(),Ut=Se.relatedPersonId.toString();de.has(Ut)||de.set(Ut,[]),(nt=de.get(Ut))!=null&&nt.includes(Et)||(Ye=de.get(Ut))==null||Ye.push(Et),be.has(Et)||be.set(Et,[]),(Ke=be.get(Et))!=null&&Ke.includes(Ut)||(Lt=be.get(Et))==null||Lt.push(Ut)}});const et=[],rt=new Set;if(de.forEach((Se,Fe)=>{rt.add(Fe)}),t){const Se=ze.get(t);Se&&et.push(Se);const Fe=new Set,lt=[t];for(;lt.length>0;){const We=lt.shift();if(Fe.has(We))continue;Fe.add(We),(be.get(We)||[]).forEach(nt=>{Fe.has(nt)||lt.push(nt)}),(de.get(We)||[]).forEach(nt=>{Fe.has(nt)||lt.push(nt)}),(Be.get(We)||[]).forEach(nt=>{Fe.has(nt)||lt.push(nt)})}e.forEach(We=>{const He=We.id.toString();if(!Fe.has(He)&&!rt.has(He)){const tt=ze.get(He);tt&&et.push(tt)}})}else e.forEach(Se=>{const Fe=Se.id.toString();if(!rt.has(Fe)){const lt=ze.get(Fe);lt&&et.push(lt)}});const Nt=new Set;e.forEach(Se=>{const Fe=Se.id.toString(),lt=ze.get(Fe);(de.get(Fe)||[]).forEach(He=>{const tt=`${He}-${Fe}`;if(Nt.has(tt))return;Nt.add(tt);const xt=ze.get(He);xt&&lt&&(xt.children.some(Ye=>Ye.id===lt.id)||xt.children.push(lt))})});const me=new Set;e.forEach(Se=>{const Fe=Se.id.toString();(be.get(Fe)||[]).forEach(We=>{const He=de.get(We)||[];if(He.length>1){const tt=new Set;He.forEach(xt=>{He.forEach(nt=>{var Ye,Ke;if(xt!==nt){const Lt=[xt,nt].sort().join("-");if(!tt.has(Lt)){tt.add(Lt);const Et=`${xt}-${nt}`;if(me.has(Et))return;me.add(Et);const Ut=Be.get(xt)||[],Ct=Be.get(nt)||[];Ut.includes(nt)||(Be.has(xt)||Be.set(xt,[]),(Ye=Be.get(xt))==null||Ye.push(nt)),Ct.includes(xt)||(Be.has(nt)||Be.set(nt,[]),(Ke=Be.get(nt))==null||Ke.push(xt))}}})})}})});const $e=[],Re=[],Te=new Map,ve=Se=>Se;return(()=>{const Se=new Map,Fe=tt=>{var Et;const xt=ze.get(tt);if(!xt)return{horizontal:200,vertical:80};const nt=xt.children.length,Ye=((Et=Be.get(tt))==null?void 0:Et.length)||0;let Ke=200,Lt=80;return nt>2&&(Ke=180+nt*20),Ye>1&&(Ke=Math.max(Ke,150+Ye*80)),{horizontal:Ke,vertical:Lt}},lt=new Set,We=(tt,xt,nt,Ye)=>{const Ke=ve(tt.id);if(nt>50){console.warn("Maximum depth reached for node processing, stopping recursion");return}if(lt.has(Ke))return;if(lt.add(Ke),Te.has(Ke)){xt&&(Re.some(zt=>zt.source===xt&&zt.target===Ke)||Re.push({id:`${xt}-${Ke}`,source:xt,target:Ke,type:"bezier",markerEnd:{type:ka.Arrow},style:{strokeWidth:2}}));return}Te.set(Ke,Ke);const Lt=Be.get(tt.id)||[],Et=be.get(tt.id)||[],Ut=de.get(tt.id)||[];let Ct="child";nt===0&&Et.length>0?Ct=tt.gender==="female"?"matriarch":"patriarch":Et.length>0?Ct="parent":Lt.length>0&&(Ct="spouse");const Vt=Lt.map(Lr=>{const zt=ze.get(Lr);return zt?{id:zt.id,name:zt.name,gender:zt.gender,birthDate:zt.birthDate,photo:zt.photo}:null}).filter(Boolean),$n=Et.map(Lr=>{const zt=ze.get(Lr);return zt?{id:zt.id,name:zt.name,gender:zt.gender}:null}).filter(Boolean),Vr=new Set;Ut.forEach(Lr=>{(be.get(Lr)||[]).forEach(jr=>{jr!==tt.id&&Vr.add(jr)})});const Mn=Array.from(Vr).map(Lr=>{const zt=ze.get(Lr);return zt?{id:zt.id,name:zt.name,gender:zt.gender}:null}).filter(Boolean),Rn=z[Ke],qt=Rn||{x:Ye.x,y:Ye.y},As={id:Ke,type:"person",position:qt,data:{id:tt.id,name:tt.name,gender:tt.gender,birthDate:tt.birthDate,deathDate:tt.deathDate,birthPlace:tt.birthPlace,occupation:tt.occupation,photo:tt.photo,isCombinedSpouseNode:!1,spouses:Vt,spouseIds:Lt,children:$n,siblings:Mn,relationshipStatus:Lt.length>0?"married":"single",isOwnedTree:d,onEditPerson:n,onDeletePerson:s,onAddChild:i,onAddSpouse:a,onAddFather:o,onAddMother:c,onAddSibling:u,onSelectPerson:ae,navigate:h,isCollapsed:E.has(tt.id),isRoot:nt===0,generation:nt,familyRole:Ct}};console.log("Node ID:",tt.id,"Depth:",nt,"Final Generation:",nt+1),Se.set(Ke,{node:As,parentId:xt,depth:nt,position:Ye,children:[],spouses:[]}),$e.push(As),xt&&Re.push({id:`${xt}-${Ke}`,source:xt,target:Ke,type:"custom",data:{target:Ke,hasChildren:tt.children&&tt.children.length>0},markerEnd:{type:ka.Arrow},style:{strokeWidth:2}});const Kr=Be.get(tt.id)||[];if(Kr.length>0){const zt=(Kr.length-1)*10;let jr=Ye.x-zt/2;Kr.forEach((Sr,ne)=>{if(E.has(Sr))return;const he=ze.get(Sr);if(he){let Y;if(Kr.length===1)Y=Ye.x+10;else if(ne<Math.floor(Kr.length/2))Y=jr+ne*10;else if(ne===Math.floor(Kr.length/2)&&Kr.length%2===1)Y=Ye.x+10;else{const Pe=ne-Math.floor(Kr.length/2)-Kr.length%2;Y=Ye.x+10+Pe*10}const J={x:Y,y:Ye.y};We(he,null,nt,J);const ce=[Ke,Sr].sort().join("-");if(!Re.some(Pe=>Pe.id===ce)){const Pe=tt.gender,Ne=he.gender;let Ee=Ke,Qe=Sr;Pe==="male"&&Ne==="female"?(Ee=Ke,Qe=Sr):Pe==="female"&&Ne==="male"?(Ee=Sr,Qe=Ke):(Ee=Ke,Qe=Sr),Re.push({id:ce,source:Ee,target:Qe,type:"custom",data:{target:Qe},style:{stroke:"#ec4899",strokeWidth:2},markerEnd:{type:ka.Arrow,color:"#ec4899"},sourceHandle:"spouse",targetHandle:"spouse"})}const _e=Se.get(Ke);_e&&_e.spouses.push(Sr)}})}if(!E.has(tt.id)){const Lr=Fe(tt.id),zt=new Map,jr=[];tt.children.forEach(ne=>{let he=null;if(A&&Array.isArray(A)){const Y=A.find(J=>J.personId.toString()===ne.id&&(J.relationshipType==="Mother"||J.relationshipType==="mother"));Y&&(he=Y.relatedPersonId.toString())}he&&Kr.includes(he)?(zt.has(he)||zt.set(he,[]),zt.get(he).push(ne)):jr.push(ne)});let Sr=0;Kr.forEach(ne=>{(zt.get(ne)||[]).forEach(Y=>{ze.get(ne);const J=ve(ne),ce=Se.get(J);let Ae=Ye.x;ce&&(Ae=ce.position.x);const _e={x:Ae+Sr*Lr.horizontal-(tt.children.length-1)*(Lr.horizontal/2),y:Ye.y+Lr.vertical};We(Y,Ke,nt+1,_e);const Pe=Se.get(Ke);if(Pe&&Pe.children.push(ve(Y.id)),(de.get(Y.id)||[]).forEach(Ee=>{const Qe=ve(Ee),at=ve(Y.id);if(!Re.some(ht=>ht.source===Qe&&ht.target===at)&&Te.has(Qe)){const ht=ze.get(Ee),Ve=(ht==null?void 0:ht.gender)==="female"?"#ec4899":"#3b82f6";Re.push({id:`${Qe}-${at}`,source:Qe,target:at,type:"custom",data:{target:at},style:{stroke:Ve,strokeWidth:2},markerEnd:{type:ka.Arrow,color:Ve}})}}),tt.gender==="male"&&Kr.length>0){const Ee=Y.id;let Qe=null;if(A&&Array.isArray(A)){const at=A.find(Le=>Le.personId.toString()===Ee&&(Le.relationshipType==="Mother"||Le.relationshipType==="mother"));at&&(Qe=at.relatedPersonId.toString())}if(!Qe&&Kr.length>0&&(Qe=Kr[0]),Qe){const at=ve(Qe),Le=ve(Ee);!Re.some(Ve=>Ve.source===at&&Ve.target===Le)&&Te.has(at)&&Re.push({id:`mother-${at}-${Le}`,source:at,target:Le,type:"custom",data:{target:Le},style:{stroke:"#ec4899",strokeWidth:2,strokeDasharray:"5,5"},markerEnd:{type:ka.Arrow,color:"#ec4899"}})}}Sr++})}),jr.forEach(ne=>{const he={x:Ye.x,y:Ye.y+Lr.vertical};We(ne,Ke,nt+1,he);const Y=Se.get(Ke);Y&&Y.children.push(ve(ne.id)),(de.get(ne.id)||[]).forEach(ce=>{const Ae=ve(ce),_e=ve(ne.id);if(!Re.some(Ne=>Ne.source===Ae&&Ne.target===_e)&&Te.has(Ae)){const Ne=ze.get(ce),Ee=(Ne==null?void 0:Ne.gender)==="female"?"#ec4899":"#3b82f6";Re.push({id:`parent-${Ae}-${_e}`,source:Ae,target:_e,type:"custom",data:{target:_e},style:{stroke:Ee,strokeWidth:2},markerEnd:{type:ka.Arrow,color:Ee}})}}),Sr++})}};let He=0;return et.forEach(tt=>{const xt=Fe(tt.id),nt={x:He*xt.horizontal*1.5,y:0};We(tt,null,0,nt),He++}),e.forEach(tt=>{const xt=tt.id.toString(),nt=ve(xt);if(!Te.has(nt)){if(E.has(xt))return;const Ye=ze.get(xt);if(Ye){const Ke=de.get(xt)||[];if(!Ke.some(Et=>E.has(Et))){const Et=be.has(xt)&&be.get(xt).length>0,Ut=Ke.some(Ct=>Te.has(ve(Ct)));if(!Et&&!Ut){const Ct=Fe(xt),Vt={x:He*Ct.horizontal*.8,y:0};We(Ye,null,0,Vt),He++}else if(Ut){const Ct=Ke.find(Vt=>Te.has(ve(Vt)));if(Ct){const Vt=Se.get(ve(Ct));if(Vt){const $n=Vt.position,Vr=Fe(xt),Mn={x:$n.x,y:$n.y+Vr.vertical};We(Ye,ve(Ct),Vt.depth+1,Mn)}}}else if(Et){const Ct=be.get(xt)||[];let Vt=0;Ct.forEach(Rn=>{const qt=Se.get(ve(Rn));qt&&qt.depth>Vt&&(Vt=qt.depth)});const $n=Fe(xt),Vr={x:He*$n.horizontal*.8,y:0},Mn=Vt>0?Vt-1:0;We(Ye,null,Mn,Vr),He++}}}}}),{flowNodes:$e,flowEdges:Re}})(),{flowNodes:Obe($e,Re,{rankdir:"TB",nodeWidth:280,nodeHeight:220,ranker:"network-simplex"}),flowEdges:Re}},[e,A,d,n,s,i,a,o,c,h,E,ae,z]);re.useEffect(()=>{if(ye){const{flowNodes:ze,flowEdges:de}=ye,be=new Map;de.forEach(Re=>{var Te;if(((Te=Re.style)==null?void 0:Te.stroke)==="#ec4899"){const ve=[Re.source,Re.target].sort().join("-");be.has(ve)||be.set(ve,Re)}});const Be=Array.from(be.values()),rt=[...de.filter(Re=>{var Te;return((Te=Re.style)==null?void 0:Te.stroke)!=="#ec4899"}),...Be],Nt=Q.map((Re,Te)=>({id:`manual-${Re.source}-${Re.target}-${Te}`,source:Re.source,target:Re.target,type:"custom",data:{target:Re.target},markerEnd:{type:ka.Arrow},style:{stroke:"#8b5cf6",strokeWidth:2}}));let me=[...rt,...Nt];B&&(me=me.map(Re=>{var Te,ve;if(Re.source===B||Re.target===B){const it=typeof((Te=Re.style)==null?void 0:Te.strokeWidth)=="number"?Re.style.strokeWidth:2;return{...Re,animated:!0,style:{...Re.style,stroke:((ve=Re.style)==null?void 0:ve.stroke)==="#ec4899"?"#ff6b9d":"#a78bfa",strokeWidth:it+1,filter:"drop-shadow(0 0 4px rgba(167, 139, 250, 0.7))"}}}return Re})),p(ze),v(me);const $e={};ze.forEach(Re=>{$e[Re.id]={...Re.position}}),O.current=$e}},[ye,p,v,E,Q,B]),re.useCallback(()=>{K([]),localStorage.removeItem("familyTreeManualConnections"),v(ze=>ze.filter(de=>!de.id.startsWith("manual-")))},[v]);const Me=re.useCallback(ze=>{K(be=>{const Be=[...be,ze];return localStorage.setItem("familyTreeManualConnections",JSON.stringify(Be)),Be});const de={id:`manual-${ze.source}-${ze.target}-${Date.now()}`,source:ze.source,target:ze.target,type:"custom",data:{target:ze.target},markerEnd:{type:ka.Arrow},style:{stroke:"#8b5cf6",strokeWidth:2}};v(be=>Sq(de,be))},[v,K]),we=re.useCallback((ze,de,be)=>{p(Be=>Be.map(et=>et.id===de.id?{...et,position:{x:de.position.x,y:de.position.y}}:et))},[p]),oe=re.useCallback(()=>{p(ze=>{const de={},be={};return ze.forEach(Be=>{de[Be.id]={...Be.position},be[Be.id]={...Be.position}}),O.current=de,G(be),localStorage.setItem("familyTreeCustomPositions",JSON.stringify(be)),ze})},[p]);return l.jsx(Fz.Provider,{value:{selectedNodeId:B,setSelectedNodeId:C,collapsedNodes:E,toggleNodeCollapse:Ce},children:l.jsx(XS,{children:l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx("div",{className:`absolute z-20 flex flex-col gap-3 ${T?"top-2 right-2 gap-2":"top-6 right-6 gap-3"}`,children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{className:"px-2 py-1 text-xs rounded-md font-medium bg-gray-500 text-white hover:bg-gray-600 transition-all duration-200 shadow-md",onClick:()=>j&&j.zoomIn({duration:200}),title:S==="ar"?"":"Zoom In",disabled:!j,children:l.jsx(Cte,{size:14})}),l.jsx("button",{className:"px-2 py-1 text-xs rounded-md font-medium bg-gray-500 text-white hover:bg-gray-600 transition-all duration-200 shadow-md",onClick:()=>j&&j.zoomOut({duration:200}),title:S==="ar"?"":"Zoom Out",disabled:!j,children:l.jsx(Ete,{size:14})}),l.jsx("button",{className:"px-2 py-1 text-xs rounded-md font-medium bg-gray-500 text-white hover:bg-gray-600 transition-all duration-200 shadow-md",onClick:()=>j&&j.fitView({duration:500,padding:.1,includeHiddenNodes:!0}),title:S==="ar"?" ":"Fit View",disabled:!j,children:l.jsx(KO,{size:14})})]})}),l.jsxs(lK,{nodes:g,edges:x,onNodesChange:m,onEdgesChange:y,onConnect:Me,onNodeDrag:we,onNodeDragStop:oe,nodeTypes:zbe,edgeTypes:{custom:Hbe},defaultEdgeOptions:{type:"custom",markerEnd:{type:ka.Arrow},style:{strokeWidth:2}},style:{zIndex:1},fitView:!0,fitViewOptions:{padding:.1,includeHiddenNodes:!0},nodesDraggable:!0,nodesConnectable:D,elementsSelectable:!0,selectNodesOnDrag:!1,connectionLineStyle:{stroke:"#8b5cf6",strokeWidth:3},minZoom:.05,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.3},onNodeClick:(ze,de)=>{C(de.id)},onInit:I,onPaneClick:()=>{C(null)},children:[l.jsx(D1e,{variant:uo.Dots,gap:20,size:2,color:w==="dark"?"#374151":"#e5e7eb"}),l.jsx(U1e,{position:"bottom-left",style:{backgroundColor:w==="dark"?"#1f2937":"#ffffff",border:"none",borderRadius:"6px",padding:"4px",display:"flex",gap:"4px"}}),l.jsx(S1e,{nodeColor:ze=>{if(ze.type==="person"){const de=ze.data;return de.gender==="male"?"#3b82f6":de.gender==="female"?"#ec4899":"#6b7280"}return"#6b7280"},maskColor:w==="dark"?"rgba(31, 41, 55, 0.7)":"rgba(248, 250, 252, 0.7)",nodeBorderRadius:2,nodeStrokeWidth:2,position:"bottom-right"})]}),l.jsx($be,{person:L,isOpen:X,onClose:W,persons:e,relationships:A||[]})]})})})},Tz=({person:e,isOpen:t,onClose:r})=>{const{language:n}=ir(),{isMobile:s}=cs(),i=n==="ar",[a,o]=re.useState("info");if(!t||!e)return null;const u=((w,S)=>{if(!w)return null;let T;try{if(w.includes("T"))T=new Date(w);else if(w.includes("-")){const C=w.split("-");C.length===3?T=new Date(parseInt(C[0]),parseInt(C[1])-1,parseInt(C[2])):T=new Date(w)}else if(w.includes("/")){const C=w.split("/");C.length===3?T=new Date(parseInt(C[2]),parseInt(C[0])-1,parseInt(C[1])):T=new Date(w)}else T=new Date(w)}catch{return null}if(isNaN(T.getTime()))return null;let j;if(S&&S.trim()!=="")try{if(S.includes("T"))j=new Date(S);else if(S.includes("-")){const C=S.split("-");C.length===3?j=new Date(parseInt(C[0]),parseInt(C[1])-1,parseInt(C[2])):j=new Date(S)}else if(S.includes("/")){const C=S.split("/");C.length===3?j=new Date(parseInt(C[2]),parseInt(C[0])-1,parseInt(C[1])):j=new Date(S)}else j=new Date(S);isNaN(j.getTime())&&(j=new Date)}catch{j=new Date}else j=new Date;let I=j.getFullYear()-T.getFullYear();const B=j.getMonth()-T.getMonth();return(B<0||B===0&&j.getDate()<T.getDate())&&I--,I>=0?I:0})(e.birthDate,e.deathDate),A=e.gender||"unknown",f=A==="male",d=A==="female",h=()=>i?`${e.firstName} ${e.lastName}`:`${e.firstNameEn||e.firstName} ${e.lastNameEn||e.lastName}`,g=e.parents&&e.parents.length>0||e.parentIds&&e.parentIds.length>0,p=e.spouses&&e.spouses.length>0||e.spouseIds&&e.spouseIds.length>0,m=e.childrenDetails&&e.childrenDetails.length>0||e.children&&e.children.length>0,x=!!(e.parents&&e.parents.length>0),v=!!(e.spouses&&e.spouses.length>0),y=!!(e.childrenDetails&&e.childrenDetails.length>0);return console.log("Person data for tabs:",{hasParents:g,hasSpouses:p,hasChildren:m,showDetailedSpouses:v,parents:e.parents,parentIds:e.parentIds,spouses:e.spouses,spouseIds:e.spouseIds,childrenDetails:e.childrenDetails,children:e.children}),l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:w=>{w.target===w.currentTarget&&r()},children:l.jsxs("div",{className:"relative rounded-3xl shadow-2xl max-h-[95vh] overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300",style:{width:s?"95vw":"600px",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:"2px solid #e2e8f0"},onClick:w=>w.stopPropagation(),children:[l.jsxs("div",{className:"relative h-32 overflow-hidden",style:{background:f?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":d?"linear-gradient(135deg, #ec4899 0%, #be185d 100%)":"linear-gradient(135deg, #6b7280 0%, #374151 100%)"},children:[l.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),r()},className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-all duration-200 group z-10",type:"button",children:l.jsx(Oo,{size:20,className:"text-white group-hover:scale-110 transition-transform"})}),l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute -bottom-5 -left-5 w-20 h-20 rounded-full bg-white/5"})]}),l.jsxs("div",{className:"relative -mt-16 px-6 pb-6",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white shadow-xl flex items-center justify-center relative overflow-hidden",style:{background:f?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":d?"linear-gradient(135deg, #ec4899 0%, #be185d 100%)":"linear-gradient(135deg, #6b7280 0%, #374151 100%)"},children:e.avatar?l.jsx("img",{src:e.avatar,alt:h(),className:"w-full h-full rounded-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:f?l.jsx(ul,{size:40,color:"white",strokeWidth:1.5}):d?l.jsx(em,{size:40,color:"white",strokeWidth:1.5}):l.jsx(ur,{size:40,color:"white",strokeWidth:1.5})})})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#111827"},children:h()}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:f?"#dbeafe":d?"#fce7f3":"#f3f4f6",color:f?"#1d4ed8":d?"#be185d":"#374151"},children:f?i?"":"Male":d?i?"":"Female":i?" ":"Unknown"}),u!==null&&l.jsxs("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u," ",i?"":"years old"]}),e.deathDate?l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:i?"":"Deceased"}):l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:i?"  ":"Living"}),l.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:i?` ${e.generation}`:`Gen ${e.generation}`})]})]}),l.jsxs("div",{className:`flex ${s?"flex-wrap gap-1 p-1 bg-muted rounded-lg mb-4":"border-b mb-4"}`,style:{minHeight:"40px"},children:[l.jsx("button",{onClick:()=>o("info"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="info"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"} ${s?"flex-1 text-xs py-1.5":""}`,style:{minWidth:"80px"},children:i?"":"Info"}),g&&l.jsxs("button",{onClick:()=>o("parents"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="parents"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"} ${s?"flex-1 text-xs py-1.5":""}`,style:{minWidth:"80px"},children:[i?"":"Parents",l.jsx("span",{className:"ml-1 bg-primary-foreground text-primary text-xs px-1.5 py-0.5 rounded-full",children:x&&e.parents?e.parents.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).length:e.parentIds?e.parentIds.filter((w,S,T)=>S===T.indexOf(w)).length:0})]}),p&&l.jsxs("button",{onClick:()=>o("spouses"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="spouses"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"} ${s?"flex-1 text-xs py-1.5":""}`,style:{minWidth:"80px"},children:[i?"/":"Spouses",l.jsx("span",{className:"ml-1 bg-primary-foreground text-primary text-xs px-1.5 py-0.5 rounded-full",children:v&&e.spouses?e.spouses.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).length:e.spouseIds?e.spouseIds.filter((w,S,T)=>S===T.indexOf(w)).length:0})]}),m&&l.jsxs("button",{onClick:()=>o("children"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="children"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"} ${s?"flex-1 text-xs py-1.5":""}`,style:{minWidth:"80px"},children:[i?"":"Children",l.jsx("span",{className:"ml-1 bg-primary-foreground text-primary text-xs px-1.5 py-0.5 rounded-full",children:y&&e.childrenDetails?e.childrenDetails.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).length:e.children?e.children.filter((w,S,T)=>S===T.indexOf(w)).length:0})]})]}),l.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[a==="info"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:"#f8fafc",borderColor:"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(ur,{size:18,className:"mr-2 text-gray-600"}),l.jsx("h3",{className:"font-semibold",style:{color:"#111827"},children:i?" ":"Personal Information"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.birthDate&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ys,{size:14,className:"mr-2 text-blue-500"}),l.jsxs("span",{style:{color:"#6b7280"},children:[l.jsx("strong",{children:i?" :":"Birth Date:"})," ",new Date(e.birthDate).toLocaleDateString(i?"ar-SA":"en-US")]})]}),e.deathDate&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ys,{size:14,className:"mr-2 text-gray-500"}),l.jsxs("span",{style:{color:"#6b7280"},children:[l.jsx("strong",{children:i?" :":"Death Date:"})," ",new Date(e.deathDate).toLocaleDateString(i?"ar-SA":"en-US")]})]}),(e.birthPlace||e.birthPlaceEn)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ga,{size:14,className:"mr-2 text-green-500"}),l.jsxs("span",{style:{color:"#6b7280"},children:[l.jsx("strong",{children:i?" :":"Birth Place:"})," ",i?e.birthPlace:e.birthPlaceEn]})]}),(e.occupation||e.occupationEn)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(yA,{size:14,className:"mr-2 text-purple-500"}),l.jsxs("span",{style:{color:"#6b7280"},children:[l.jsx("strong",{children:i?":":"Occupation:"})," ",i?e.occupation:e.occupationEn]})]})]})]}),e.photos&&e.photos.length>0||e.documents&&e.documents.length>0?l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:"#f8fafc",borderColor:"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(ud,{size:18,className:"mr-2 text-gray-600"}),l.jsx("h3",{className:"font-semibold",style:{color:"#111827"},children:i?"":"Attachments"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.photos&&e.photos.length>0&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(hp,{size:14,className:"mr-1 text-purple-500"}),l.jsxs("span",{children:[e.photos.length," ",i?"":"Photos"]})]}),e.documents&&e.documents.length>0&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ud,{size:14,className:"mr-1 text-gray-500"}),l.jsxs("span",{children:[e.documents.length," ",i?"":"Documents"]})]})]})]}):null]}),a==="parents"&&g&&l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:"#f8fafc",borderColor:"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(fx,{size:18,className:"mr-2 text-blue-500"}),l.jsx("h3",{className:"font-semibold",style:{color:"#111827"},children:i?"":"Parents"}),l.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:x&&e.parents?e.parents.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).length:e.parentIds?e.parentIds.filter((w,S,T)=>S===T.indexOf(w)).length:0})]}),l.jsx("div",{className:"space-y-2",children:x&&e.parents?e.parents.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).map((w,S)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ur,{size:14,className:"mr-2 text-blue-500"}),l.jsxs("span",{children:[w.name," (",w.relationship,")"]})]},`parent-${w.id}-${S}`)):e.parentIds&&e.parentIds.length>0?e.parentIds.filter((w,S,T)=>S===T.indexOf(w)).map((w,S)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ur,{size:14,className:"mr-2 text-blue-500"}),l.jsx("span",{children:i?` ${S+1}`:`Parent ${S+1}`})]},`parent-id-${w}-${S}`)):null})]}),a==="spouses"&&p&&l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:"#f8fafc",borderColor:"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(ns,{size:18,className:"mr-2 text-red-500"}),l.jsx("h3",{className:"font-semibold",style:{color:"#111827"},children:i?"/":"Spouses"}),l.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:v&&e.spouses?e.spouses.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).length:e.spouseIds?e.spouseIds.filter((w,S,T)=>S===T.indexOf(w)).length:0})]}),l.jsx("div",{className:"space-y-2",children:v&&e.spouses?e.spouses.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).map((w,S)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ur,{size:14,className:"mr-2 text-red-500"}),l.jsx("span",{children:w.name})]},`spouse-${w.id}-${S}`)):e.spouseIds&&e.spouseIds.length>0?e.spouseIds.filter((w,S,T)=>S===T.indexOf(w)).map((w,S)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ur,{size:14,className:"mr-2 text-red-500"}),l.jsx("span",{children:i?`/ ${S+1}`:`Spouse ${S+1}`})]},`spouse-id-${w}-${S}`)):null})]}),a==="children"&&m&&l.jsxs("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:"#f8fafc",borderColor:"#e2e8f0"},children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(Lo,{size:18,className:"mr-2 text-blue-500"}),l.jsx("h3",{className:"font-semibold",style:{color:"#111827"},children:i?"":"Children"}),l.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:y&&e.childrenDetails?e.childrenDetails.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).length:e.children?e.children.filter((w,S,T)=>S===T.indexOf(w)).length:0})]}),l.jsx("div",{className:"space-y-2",children:y&&e.childrenDetails?e.childrenDetails.filter((w,S,T)=>S===T.findIndex(j=>j.id===w.id)).map((w,S)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ur,{size:14,className:"mr-2 text-blue-500"}),l.jsx("span",{children:w.name})]},`child-${w.id}-${S}`)):e.children&&e.children.length>0?e.children.filter((w,S,T)=>S===T.indexOf(w)).map((w,S)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ur,{size:14,className:"mr-2 text-blue-500"}),l.jsx("span",{children:i?` ${S+1}`:`Child ${S+1}`})]},`child-id-${w}-${S}`)):null})]})]})]})]})})},Gbe=({isOpen:e,onClose:t,treeId:r,treeName:n,treePersons:s})=>{const{language:i}=ir(),{user:a}=os(),o=i==="ar";ke.useEffect(()=>{if(e){const m=localStorage.getItem("user");if(localStorage.getItem("authToken"),m)try{const x=JSON.parse(m)}catch{}}},[e,a]),ke.useEffect(()=>()=>{},[]),ke.useEffect(()=>{},[e]);const[c,u]=re.useState({name:"",birthDate:"",birthPlace:"",gender:"Male",occupation:"",relatedPersonId:"",relationshipType:""}),[A,f]=re.useState(!1),d=[{value:"Father",label:o?"":"Father"},{value:"Mother",label:o?"":"Mother"},{value:"Son",label:o?"":"Son"},{value:"Daughter",label:o?"":"Daughter"},{value:"Brother",label:o?"":"Brother"},{value:"Sister",label:o?"":"Sister"},{value:"Grandfather",label:o?"":"Grandfather"},{value:"Grandmother",label:o?"":"Grandmother"},{value:"Grandson",label:o?"":"Grandson"},{value:"Granddaughter",label:o?"":"Granddaughter"},{value:"Uncle",label:o?"/":"Uncle"},{value:"Aunt",label:o?"/":"Aunt"},{value:"Nephew",label:o?" /":"Nephew"},{value:"Niece",label:o?" /":"Niece"},{value:"Cousin",label:o?" /":"Cousin"},{value:"Spouse",label:o?"/":"Spouse"}],h=m=>{const{name:x,value:v}=m.target;u(y=>({...y,[x]:v}))},g=async m=>{m.preventDefault(),f(!0);try{if(!c.name||!c.birthDate||!c.birthPlace||!c.occupation||!c.relatedPersonId||!c.relationshipType){Kt.error({en:"All fields are required",ar:"  "}),f(!1);return}const x=parseInt(r);if(isNaN(x)||x<=0){Kt.error({en:"Invalid tree ID",ar:"   "}),f(!1);return}const v=parseInt(c.relatedPersonId);if(isNaN(v)||v<=0){Kt.error({en:"Invalid related person ID",ar:"    "}),f(!1);return}const w=(()=>{if(a&&typeof a=="object"&&a.id!==void 0){if(typeof a.id=="string"&&a.id.length>0)return a.id;if(typeof a.id=="number"){const S=a.id.toString();if(S.length>0)return S}}try{const S=localStorage.getItem("user");if(S){const T=JSON.parse(S);if(T&&T.id!==void 0){if(typeof T.id=="string"&&T.id.length>0)return T.id;if(typeof T.id=="number"){const j=T.id.toString();if(j.length>0)return j}}}}catch{}try{const S=localStorage.getItem("authToken");if(S){const j=S.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),I=decodeURIComponent(atob(j).split("").map(function(N){return"%"+("00"+N.charCodeAt(0).toString(16)).slice(-2)}).join("")),B=JSON.parse(I),C=["sub","nameid","userId","id","jti"];for(const N of C)if(B[N]!==void 0){if(typeof B[N]=="string"&&B[N].length>0)return B[N];if(typeof B[N]=="number"){const k=B[N].toString();if(k.length>0)return k}}}}catch{}return null})();if(!w){Kt.error({en:"You must be logged in to send a join request",ar:"     "}),f(!1);return}await Ht.createJoinRequest(x,c.name,c.birthDate,c.birthPlace,c.gender,c.occupation,v,"Pending",w,c.relationshipType),Kt.success({en:"Join request sent successfully",ar:"    "}),t(),u({name:"",birthDate:"",birthPlace:"",gender:"Male",occupation:"",relatedPersonId:"",relationshipType:""})}catch(x){let v=o?`    : ${x.message}`:`Failed to send join request: ${x.message}`;x.message&&x.message.includes("A pending request already exists for this user and family tree")&&(v=o?"       ":"You already have a pending join request for this family tree"),Kt.error({en:v,ar:v})}finally{f(!1)}},p=m=>o?`${m.firstName} ${m.lastName}`:`${m.firstNameEn} ${m.lastNameEn}`;return l.jsx(Cp,{isOpen:e,onClose:t,title:o?`   ${n}`:`Join Request for ${n}`,children:l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?" ":"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(or,{name:"name",value:c.name,onChange:h,placeholder:o?"  ":"Enter your full name",className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?" ":"Birth Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(or,{type:"date",name:"birthDate",value:c.birthDate,onChange:h,className:"pl-10",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?"":"Gender"}),l.jsxs("select",{name:"gender",value:c.gender,onChange:h,className:"w-full border rounded-md px-3 py-2 text-sm bg-background text-foreground border-input",required:!0,children:[l.jsx("option",{value:"Male",children:o?"":"Male"}),l.jsx("option",{value:"Female",children:o?"":"Female"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?" ":"Birth Place"}),l.jsxs("div",{className:"relative",children:[l.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(or,{name:"birthPlace",value:c.birthPlace,onChange:h,placeholder:o?"  ":"Enter birth place",className:"pl-10",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?"":"Occupation"}),l.jsxs("div",{className:"relative",children:[l.jsx(yA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(or,{name:"occupation",value:c.occupation,onChange:h,placeholder:o?" ":"Enter your occupation",className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?" ":"Related Person"}),l.jsxs("div",{className:"relative",children:[l.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsxs("select",{name:"relatedPersonId",value:c.relatedPersonId,onChange:h,className:"w-full border rounded-md px-10 py-2 text-sm bg-background text-foreground border-input",required:!0,children:[l.jsx("option",{value:"",children:o?" ":"Select Person"}),s.map(m=>l.jsx("option",{value:m.id,children:p(m)},m.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:o?" ":"Relationship Type"}),l.jsxs("select",{name:"relationshipType",value:c.relationshipType,onChange:h,className:"w-full border rounded-md px-3 py-2 text-sm bg-background text-foreground border-input",required:!0,children:[l.jsx("option",{value:"",children:o?"  ":"Select Relationship"}),d.map(m=>l.jsx("option",{value:m.value,children:m.label},m.value))]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(je,{type:"button",variant:"outline",onClick:t,disabled:A,children:o?"":"Cancel"}),l.jsxs(je,{type:"submit",disabled:A,className:"flex items-center gap-2",children:[A&&l.jsx(Vn,{className:"h-4 w-4 animate-spin"}),o?" ":"Send Request"]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var a2={};a2.version="0.18.5";var Iz=1252,Vbe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kz=function(e){Vbe.indexOf(e)!=-1&&(Iz=e)};function Wbe(){kz(1252)}var Wm=function(e){kz(e)};function Ybe(){Wm(1200),Wbe()}var qg=function(t){return String.fromCharCode(t)},$7=function(t){return String.fromCharCode(t)},o2,cA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ym(e){for(var t="",r=0,n=0,s=0,i=0,a=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),a=(r&3)<<4|n>>4,s=e.charCodeAt(u++),o=(n&15)<<2|s>>6,c=s&63,isNaN(n)?o=c=64:isNaN(s)&&(c=64),t+=cA.charAt(i)+cA.charAt(a)+cA.charAt(o)+cA.charAt(c);return t}function wc(e){var t="",r=0,n=0,s=0,i=0,a=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=cA.indexOf(e.charAt(u++)),a=cA.indexOf(e.charAt(u++)),r=i<<2|a>>4,t+=String.fromCharCode(r),o=cA.indexOf(e.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=cA.indexOf(e.charAt(u++)),s=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var nn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Sc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Du(e){return nn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function q7(e){return nn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var jo=function(t){return nn?Sc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function iy(e){if(typeof ArrayBuffer>"u")return jo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function kp(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Xbe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ui=nn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Sc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Jbe(e){for(var t=[],r=0,n=e.length+250,s=Du(e.length+255),i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a<128)s[r++]=a;else if(a<2048)s[r++]=192|a>>6&31,s[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=e.charCodeAt(++i)&1023;s[r++]=240|a>>8&7,s[r++]=128|a>>2&63,s[r++]=128|o>>6&15|(a&3)<<4,s[r++]=128|o&63}else s[r++]=224|a>>12&15,s[r++]=128|a>>6&63,s[r++]=128|a&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Du(65535),n=65530)}return t.push(s.slice(0,r)),ui(t)}var om=/\u0000/g,Kg=/[\u0001-\u0006]/g;function gd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ko(e,t){var r=""+e;return r.length>=t?r:rs("0",t-r.length)+r}function v6(e,t){var r=""+e;return r.length>=t?r:rs(" ",t-r.length)+r}function l2(e,t){var r=""+e;return r.length>=t?r:r+rs(" ",t-r.length)}function Zbe(e,t){var r=""+Math.round(e);return r.length>=t?r:rs("0",t-r.length)+r}function e5e(e,t){var r=""+e;return r.length>=t?r:rs("0",t-r.length)+r}var K7=Math.pow(2,32);function Rf(e,t){if(e>K7||e<-K7)return Zbe(e,t);var r=Math.round(e);return e5e(r,t)}function c2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var z7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function t5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var as={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},G7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},r5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function A2(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,a=1,o=0,c=1,u=0,A=0,f=Math.floor(s);u<t&&(f=Math.floor(s),o=f*a+i,A=f*u+c,!(s-f<5e-8));)s=1/(s-f),i=a,a=o,c=u,u=A;if(A>t&&(u>t?(A=c,o=i):(A=u,o=a)),!r)return[0,n*o,A];var d=Math.floor(n*o/A);return[d,n*o-d*A,A]}function zg(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,a=[],o={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=c5e(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var Lz=new Date(1899,11,31,0,0,0),n5e=Lz.getTime(),s5e=new Date(1900,2,1,0,0,0);function Uz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=s5e&&(r+=24*60*60*1e3),(r-(n5e+(e.getTimezoneOffset()-Lz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function y6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function i5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function a5e(e){var t=e<0?12:11,r=y6(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function o5e(e){var t=y6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function l5e(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=a5e(e):t===10?r=e.toFixed(10).substr(0,12):r=o5e(e),y6(i5e(r.toUpperCase()))}function fC(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):l5e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return EA(14,Uz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function c5e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function A5e(e,t,r,n){var s="",i=0,a=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return $3[r.m-1][1];case 5:return $3[r.m-1][0];default:return $3[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return z7[r.q][0];default:return z7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ko(r.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(r.S+r.u)),i>=60*a&&(i=0),t==="s"?i===0?"0":""+i/a:(s=ko(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var A=u>0?ko(c,u):"";return A}function AA(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Pz=/%/g;function u5e(e,t,r){var n=t.replace(Pz,""),s=t.length-n.length;return cc(e,n,r*Math.pow(10,2*s))+rs("%",s)}function f5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return cc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Mz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Mz(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+i):r+="E+"+(a-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,A){return c+u+A.substr(0,(s+i)%s)+"."+A.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Rz=/# (\?+)( ?)\/( ?)(\d+)/;function d5e(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),a=s-i*n,o=n;return r+(i===0?"":""+i)+" "+(a===0?rs(" ",e[1].length+1+e[4].length):v6(a,e[1].length)+e[2]+"/"+e[3]+ko(o,e[4].length))}function h5e(e,t,r){return r+(t===0?"":""+t)+rs(" ",e[1].length+2+e[4].length)}var Oz=/^#*0*\.([0#]+)/,Qz=/\).*[0#]/,Dz=/\(###\) ###\\?-####/;function zi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function V7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function W7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function m5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function p5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Za(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Qz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Za("n",n,r):"("+Za("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return f5e(e,t,r);if(t.indexOf("%")!==-1)return u5e(e,t,r);if(t.indexOf("E")!==-1)return Mz(t,r);if(t.charCodeAt(0)===36)return"$"+Za(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,a,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Rf(c,t.length);if(t.match(/^[#?]+$/))return s=Rf(r,0),s==="0"&&(s=""),s.length>t.length?s:zi(t.substr(0,t.length-s.length))+s;if(i=t.match(Rz))return d5e(i,c,u);if(t.match(/^#+0+$/))return u+Rf(c,t.length-t.indexOf("0"));if(i=t.match(Oz))return s=V7(r,i[1].length).replace(/^([^\.]+)$/,"$1."+zi(i[1])).replace(/\.$/,"."+zi(i[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+rs("0",zi(i[1]).length-p.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+V7(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+AA(Rf(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Za(e,t,-r):AA(""+(Math.floor(r)+m5e(r,i[1].length)))+"."+ko(W7(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Za(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=gd(Za(e,t.replace(/[\\-]/g,""),r)),a=0,gd(gd(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<s.length?s.charAt(a++):g==="0"?"0":""}));if(t.match(Dz))return s=Za(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var A="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=A2(c,Math.pow(10,a)-1,!1),s=""+u,A=cc("n",i[1],o[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),s+=A+i[2]+"/"+i[3],A=l2(o[2],a),A.length<i[4].length&&(A=zi(i[4].substr(i[4].length-A.length))+A),s+=A,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=A2(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?v6(o[1],a)+i[2]+"/"+i[3]+l2(o[2],a):rs(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Rf(r,0),t.length<=s.length?s:zi(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var f=t.indexOf(".")-a,d=t.length-s.length-f;return zi(t.substr(0,f)+s+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return a=W7(r,i[1].length),r<0?"-"+Za(e,t,-r):AA(p5e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ko(0,3-g.length):"")+g})+"."+ko(a,i[1].length);switch(t){case"###,##0.00":return Za(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=AA(Rf(c,0));return h!=="0"?u+h:"";case"###,###.00":return Za(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Za(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function g5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return cc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function x5e(e,t,r){var n=t.replace(Pz,""),s=t.length-n.length;return cc(e,n,r*Math.pow(10,2*s))+rs("%",s)}function Hz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Hz(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+i):r+="E+"+(a-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,A){return c+u+A.substr(0,(s+i)%s)+"."+A.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ol(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Qz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ol("n",n,r):"("+ol("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return g5e(e,t,r);if(t.indexOf("%")!==-1)return x5e(e,t,r);if(t.indexOf("E")!==-1)return Hz(t,r);if(t.charCodeAt(0)===36)return"$"+ol(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,a,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ko(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:zi(t.substr(0,t.length-s.length))+s;if(i=t.match(Rz))return h5e(i,c,u);if(t.match(/^#+0+$/))return u+ko(c,t.length-t.indexOf("0"));if(i=t.match(Oz))return s=(""+r).replace(/^([^\.]+)$/,"$1."+zi(i[1])).replace(/\.$/,"."+zi(i[1])),s=s.replace(/\.(\d*)$/,function(g,p){return"."+p+rs("0",zi(i[1]).length-p.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+AA(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ol(e,t,-r):AA(""+r)+"."+rs("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ol(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=gd(ol(e,t.replace(/[\\-]/g,""),r)),a=0,gd(gd(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<s.length?s.charAt(a++):g==="0"?"0":""}));if(t.match(Dz))return s=ol(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var A="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=A2(c,Math.pow(10,a)-1,!1),s=""+u,A=cc("n",i[1],o[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),s+=A+i[2]+"/"+i[3],A=l2(o[2],a),A.length<i[4].length&&(A=zi(i[4].substr(i[4].length-A.length))+A),s+=A,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=A2(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?v6(o[1],a)+i[2]+"/"+i[3]+l2(o[2],a):rs(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:zi(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var f=t.indexOf(".")-a,d=t.length-s.length-f;return zi(t.substr(0,f)+s+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ol(e,t,-r):AA(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ko(0,3-g.length):"")+g})+"."+ko(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=AA(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return ol(e,t.slice(0,t.lastIndexOf(".")),r)+zi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function cc(e,t,r){return(r|0)===r?ol(e,t,r):Za(e,t,r)}function v5e(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var $z=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qz(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":c2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match($z))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function y5e(e,t,r,n){for(var s=[],i="",a=0,o="",c="t",u,A,f,d="H";a<e.length;)switch(o=e.charAt(a)){case"G":if(!c2(e,a))throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(f=e.charCodeAt(++a))!==34&&a<e.length;)i+=String.fromCharCode(f);s[s.length]={t:"t",v:i},++a;break;case"\\":var h=e.charAt(++a),g=h==="("||h===")"?h:"t";s[s.length]={t:g,v:h},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(u==null&&(u=zg(t,r,e.charAt(a+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=zg(t,r),u==null))return"";for(i=o;++a<e.length&&e.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),s[s.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var p={t:o,v:o};if(u==null&&(u=zg(t,r)),e.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",d="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",a+=5,d="h"):e.substr(a,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",a+=5,d="h"):(p.t="t",++a),u==null&&p.t==="T")return"";s[s.length]=p,c=o;break;case"[":for(i=o;e.charAt(a++)!=="]"&&a<e.length;)i+=e.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match($z)){if(u==null&&(u=zg(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",qz(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++a<e.length&&(o=e.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},c=o;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)i+=e.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"t",v:o},++a;break}var m=0,x=0,v;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=d,c="h",m<1&&(m=1);break;case"s":(v=s[a].v.match(/\.0+$/))&&(x=Math.max(x,v[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&s[a].v.match(/[Hh]/)&&(m=1),m<2&&s[a].v.match(/[Mm]/)&&(m=2),m<3&&s[a].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",w;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=A5e(s[a].t.charCodeAt(0),s[a].v,u,x),s[a].t="t";break;case"n":case"?":for(w=a+1;s[w]!=null&&((o=s[w].t)==="?"||o==="D"||(o===" "||o==="t")&&s[w+1]!=null&&(s[w+1].t==="?"||s[w+1].t==="t"&&s[w+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[w].v==="/"||s[w].v===" "&&s[w+1]!=null&&s[w+1].t=="?"));)s[a].v+=s[w].v,s[w]={v:"",t:";"},++w;y+=s[a].v,a=w-1;break;case"G":s[a].t="t",s[a].v=fC(t,r);break}var S="",T,j;if(y.length>0){y.charCodeAt(0)==40?(T=t<0&&y.charCodeAt(0)===45?-t:t,j=cc("n",y,T)):(T=t<0&&n>1?-t:t,j=cc("n",y,T),T<0&&s[0]&&s[0].t=="t"&&(j=j.substr(1),s[0].v="-"+s[0].v)),w=j.length-1;var I=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){I=a;break}var B=s.length;if(I===s.length&&j.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(w>=s[a].v.length-1?(w-=s[a].v.length,s[a].v=j.substr(w+1,s[a].v.length)):w<0?s[a].v="":(s[a].v=j.substr(0,w+1),w=-1),s[a].t="t",B=a);w>=0&&B<s.length&&(s[B].v=j.substr(0,w+1)+s[B].v)}else if(I!==s.length&&j.indexOf("E")===-1){for(w=j.indexOf(".")-1,a=I;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(A=s[a].v.indexOf(".")>-1&&a===I?s[a].v.indexOf(".")-1:s[a].v.length-1,S=s[a].v.substr(A+1);A>=0;--A)w>=0&&(s[a].v.charAt(A)==="0"||s[a].v.charAt(A)==="#")&&(S=j.charAt(w--)+S);s[a].v=S,s[a].t="t",B=a}for(w>=0&&B<s.length&&(s[B].v=j.substr(0,w+1)+s[B].v),w=j.indexOf(".")+1,a=I;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==I)){for(A=s[a].v.indexOf(".")>-1&&a===I?s[a].v.indexOf(".")+1:0,S=s[a].v.substr(0,A);A<s[a].v.length;++A)w<j.length&&(S+=j.charAt(w++));s[a].v=S,s[a].t="t",B=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(T=n>1&&t<0&&a>0&&s[a-1].v==="-"?-t:t,s[a].v=cc(s[a].t,s[a].v,T),s[a].t="t");var C="";for(a=0;a!==s.length;++a)s[a]!=null&&(C+=s[a].v);return C}var Y7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function X7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function w5e(e,t){var r=v5e(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(Y7),o=r[1].match(Y7);return X7(t,a)?[n,r[0]]:X7(t,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,i]}function EA(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:as)[e],n==null&&(n=r.table&&r.table[G7[e]]||as[G7[e]]),n==null&&(n=r5e[e]||"General");break}if(c2(n,0))return fC(t,r);t instanceof Date&&(t=Uz(t,r.date1904));var s=w5e(n,t);if(c2(s[1]))return fC(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return y5e(s[1],t,r,s[0])}function Kz(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(as[r]==null){t<0&&(t=r);continue}if(as[r]==e){t=r;break}}t<0&&(t=391)}return as[t]=e,t}function ay(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Kz(e[t],t)}function oy(){as=t5e()}var zz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function b5e(e){var t=typeof e=="number"?as[e]:e;return t=t.replace(zz,"(\\d+)"),new RegExp("^"+t+"$")}function B5e(e,t,r){var n=-1,s=-1,i=-1,a=-1,o=-1,c=-1;(t.match(zz)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":i=h;break;case"h":a=h;break;case"s":c=h;break;case"m":a>=0?o=h:s=h;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var A=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?u:n==-1&&s==-1&&i==-1?A:u+"T"+A}var N5e=function(){var e={};e.version="1.2.0";function t(){for(var j=0,I=new Array(256),B=0;B!=256;++B)j=B,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,I[B]=j;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(j){var I=0,B=0,C=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)N[C]=j[C];for(C=0;C!=256;++C)for(B=j[C],I=256+C;I<4096;I+=256)B=N[I]=B>>>8^j[B&255];var k=[];for(C=1;C!=16;++C)k[C-1]=typeof Int32Array<"u"?N.subarray(C*256,C*256+256):N.slice(C*256,C*256+256);return k}var s=n(r),i=s[0],a=s[1],o=s[2],c=s[3],u=s[4],A=s[5],f=s[6],d=s[7],h=s[8],g=s[9],p=s[10],m=s[11],x=s[12],v=s[13],y=s[14];function w(j,I){for(var B=I^-1,C=0,N=j.length;C<N;)B=B>>>8^r[(B^j.charCodeAt(C++))&255];return~B}function S(j,I){for(var B=I^-1,C=j.length-15,N=0;N<C;)B=y[j[N++]^B&255]^v[j[N++]^B>>8&255]^x[j[N++]^B>>16&255]^m[j[N++]^B>>>24]^p[j[N++]]^g[j[N++]]^h[j[N++]]^d[j[N++]]^f[j[N++]]^A[j[N++]]^u[j[N++]]^c[j[N++]]^o[j[N++]]^a[j[N++]]^i[j[N++]]^r[j[N++]];for(C+=15;N<C;)B=B>>>8^r[(B^j[N++])&255];return~B}function T(j,I){for(var B=I^-1,C=0,N=j.length,k=0,E=0;C<N;)k=j.charCodeAt(C++),k<128?B=B>>>8^r[(B^k)&255]:k<2048?(B=B>>>8^r[(B^(192|k>>6&31))&255],B=B>>>8^r[(B^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,E=j.charCodeAt(C++)&1023,B=B>>>8^r[(B^(240|k>>8&7))&255],B=B>>>8^r[(B^(128|k>>2&63))&255],B=B>>>8^r[(B^(128|E>>6&15|(k&3)<<4))&255],B=B>>>8^r[(B^(128|E&63))&255]):(B=B>>>8^r[(B^(224|k>>12&15))&255],B=B>>>8^r[(B^(128|k>>6&63))&255],B=B>>>8^r[(B^(128|k&63))&255]);return~B}return e.table=r,e.bstr=w,e.buf=S,e.str=T,e}(),vn=function(){var t={};t.version="1.2.1";function r(ne,he){for(var Y=ne.split("/"),J=he.split("/"),ce=0,Ae=0,_e=Math.min(Y.length,J.length);ce<_e;++ce){if(Ae=Y[ce].length-J[ce].length)return Ae;if(Y[ce]!=J[ce])return Y[ce]<J[ce]?-1:1}return Y.length-J.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var he=ne.lastIndexOf("/");return he===-1?ne:ne.slice(0,he+1)}function s(ne){if(ne.charAt(ne.length-1)=="/")return s(ne.slice(0,-1));var he=ne.lastIndexOf("/");return he===-1?ne:ne.slice(he+1)}function i(ne,he){typeof he=="string"&&(he=new Date(he));var Y=he.getHours();Y=Y<<6|he.getMinutes(),Y=Y<<5|he.getSeconds()>>>1,ne.write_shift(2,Y);var J=he.getFullYear()-1980;J=J<<4|he.getMonth()+1,J=J<<5|he.getDate(),ne.write_shift(2,J)}function a(ne){var he=ne.read_shift(2)&65535,Y=ne.read_shift(2)&65535,J=new Date,ce=Y&31;Y>>>=5;var Ae=Y&15;Y>>>=4,J.setMilliseconds(0),J.setFullYear(Y+1980),J.setMonth(Ae-1),J.setDate(ce);var _e=he&31;he>>>=5;var Pe=he&63;return he>>>=6,J.setHours(he),J.setMinutes(Pe),J.setSeconds(_e<<1),J}function o(ne){Ra(ne,0);for(var he={},Y=0;ne.l<=ne.length-4;){var J=ne.read_shift(2),ce=ne.read_shift(2),Ae=ne.l+ce,_e={};switch(J){case 21589:Y=ne.read_shift(1),Y&1&&(_e.mtime=ne.read_shift(4)),ce>5&&(Y&2&&(_e.atime=ne.read_shift(4)),Y&4&&(_e.ctime=ne.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}ne.l=Ae,he[J]=_e}return he}var c;function u(){return c||(c={})}function A(ne,he){if(ne[0]==80&&ne[1]==75)return Lt(ne,he);if((ne[0]|32)==109&&(ne[1]|32)==105)return qt(ne,he);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var Y=3,J=512,ce=0,Ae=0,_e=0,Pe=0,Ne=0,Ee=[],Qe=ne.slice(0,512);Ra(Qe,0);var at=f(Qe);switch(Y=at[0],Y){case 3:J=512;break;case 4:J=4096;break;case 0:if(at[1]==0)return Lt(ne,he);default:throw new Error("Major Version: Expected 3 or 4 saw "+Y)}J!==512&&(Qe=ne.slice(0,J),Ra(Qe,28));var Le=ne.slice(0,J);d(Qe,Y);var ht=Qe.read_shift(4,"i");if(Y===3&&ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ht);Qe.l+=4,_e=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),Pe=Qe.read_shift(4,"i"),ce=Qe.read_shift(4,"i"),Ne=Qe.read_shift(4,"i"),Ae=Qe.read_shift(4,"i");for(var Ve=-1,yt=0;yt<109&&(Ve=Qe.read_shift(4,"i"),!(Ve<0));++yt)Ee[yt]=Ve;var It=h(ne,J);m(Ne,Ae,It,J,Ee);var Mt=v(It,_e,Ee,J);Mt[_e].name="!Directory",ce>0&&Pe!==E&&(Mt[Pe].name="!MiniFAT"),Mt[Ee[0]].name="!FAT",Mt.fat_addrs=Ee,Mt.ssz=J;var At={},Rt=[],lr=[],Xt=[];y(_e,Mt,It,Rt,ce,At,lr,Pe),g(lr,Xt,Rt),Rt.shift();var Mr={FileIndex:lr,FullPaths:Xt};return he&&he.raw&&(Mr.raw={header:Le,sectors:It}),Mr}function f(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(U,"Header Signature: "),ne.l+=16;var he=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),he]}function d(ne,he){var Y=9;switch(ne.l+=2,Y=ne.read_shift(2)){case 9:if(he!=3)throw new Error("Sector Shift: Expected 9 saw "+Y);break;case 12:if(he!=4)throw new Error("Sector Shift: Expected 12 saw "+Y);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Y)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function h(ne,he){for(var Y=Math.ceil(ne.length/he)-1,J=[],ce=1;ce<Y;++ce)J[ce-1]=ne.slice(ce*he,(ce+1)*he);return J[Y-1]=ne.slice(Y*he),J}function g(ne,he,Y){for(var J=0,ce=0,Ae=0,_e=0,Pe=0,Ne=Y.length,Ee=[],Qe=[];J<Ne;++J)Ee[J]=Qe[J]=J,he[J]=Y[J];for(;Pe<Qe.length;++Pe)J=Qe[Pe],ce=ne[J].L,Ae=ne[J].R,_e=ne[J].C,Ee[J]===J&&(ce!==-1&&Ee[ce]!==ce&&(Ee[J]=Ee[ce]),Ae!==-1&&Ee[Ae]!==Ae&&(Ee[J]=Ee[Ae])),_e!==-1&&(Ee[_e]=J),ce!==-1&&J!=Ee[J]&&(Ee[ce]=Ee[J],Qe.lastIndexOf(ce)<Pe&&Qe.push(ce)),Ae!==-1&&J!=Ee[J]&&(Ee[Ae]=Ee[J],Qe.lastIndexOf(Ae)<Pe&&Qe.push(Ae));for(J=1;J<Ne;++J)Ee[J]===J&&(Ae!==-1&&Ee[Ae]!==Ae?Ee[J]=Ee[Ae]:ce!==-1&&Ee[ce]!==ce&&(Ee[J]=Ee[ce]));for(J=1;J<Ne;++J)if(ne[J].type!==0){if(Pe=J,Pe!=Ee[Pe])do Pe=Ee[Pe],he[J]=he[Pe]+"/"+he[J];while(Pe!==0&&Ee[Pe]!==-1&&Pe!=Ee[Pe]);Ee[J]=-1}for(he[0]+="/",J=1;J<Ne;++J)ne[J].type!==2&&(he[J]+="/")}function p(ne,he,Y){for(var J=ne.start,ce=ne.size,Ae=[],_e=J;Y&&ce>0&&_e>=0;)Ae.push(he.slice(_e*k,_e*k+k)),ce-=k,_e=fu(Y,_e*4);return Ae.length===0?ot(0):ui(Ae).slice(0,ne.size)}function m(ne,he,Y,J,ce){var Ae=E;if(ne===E){if(he!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var _e=Y[ne],Pe=(J>>>2)-1;if(!_e)return;for(var Ne=0;Ne<Pe&&(Ae=fu(_e,Ne*4))!==E;++Ne)ce.push(Ae);m(fu(_e,J-4),he-1,Y,J,ce)}}function x(ne,he,Y,J,ce){var Ae=[],_e=[];ce||(ce=[]);var Pe=J-1,Ne=0,Ee=0;for(Ne=he;Ne>=0;){ce[Ne]=!0,Ae[Ae.length]=Ne,_e.push(ne[Ne]);var Qe=Y[Math.floor(Ne*4/J)];if(Ee=Ne*4&Pe,J<4+Ee)throw new Error("FAT boundary crossed: "+Ne+" 4 "+J);if(!ne[Qe])break;Ne=fu(ne[Qe],Ee)}return{nodes:Ae,data:iP([_e])}}function v(ne,he,Y,J){var ce=ne.length,Ae=[],_e=[],Pe=[],Ne=[],Ee=J-1,Qe=0,at=0,Le=0,ht=0;for(Qe=0;Qe<ce;++Qe)if(Pe=[],Le=Qe+he,Le>=ce&&(Le-=ce),!_e[Le]){Ne=[];var Ve=[];for(at=Le;at>=0;){Ve[at]=!0,_e[at]=!0,Pe[Pe.length]=at,Ne.push(ne[at]);var yt=Y[Math.floor(at*4/J)];if(ht=at*4&Ee,J<4+ht)throw new Error("FAT boundary crossed: "+at+" 4 "+J);if(!ne[yt]||(at=fu(ne[yt],ht),Ve[at]))break}Ae[Le]={nodes:Pe,data:iP([Ne])}}return Ae}function y(ne,he,Y,J,ce,Ae,_e,Pe){for(var Ne=0,Ee=J.length?2:0,Qe=he[ne].data,at=0,Le=0,ht;at<Qe.length;at+=128){var Ve=Qe.slice(at,at+128);Ra(Ve,64),Le=Ve.read_shift(2),ht=_6(Ve,0,Le-Ee),J.push(ht);var yt={name:ht,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},It=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);It!==0&&(yt.ct=w(Ve,Ve.l-8));var Mt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Mt!==0&&(yt.mt=w(Ve,Ve.l-8)),yt.start=Ve.read_shift(4,"i"),yt.size=Ve.read_shift(4,"i"),yt.size<0&&yt.start<0&&(yt.size=yt.type=0,yt.start=E,yt.name=""),yt.type===5?(Ne=yt.start,ce>0&&Ne!==E&&(he[Ne].name="!StreamData")):yt.size>=4096?(yt.storage="fat",he[yt.start]===void 0&&(he[yt.start]=x(Y,yt.start,he.fat_addrs,he.ssz)),he[yt.start].name=yt.name,yt.content=he[yt.start].data.slice(0,yt.size)):(yt.storage="minifat",yt.size<0?yt.size=0:Ne!==E&&yt.start!==E&&he[Ne]&&(yt.content=p(yt,he[Ne].data,(he[Pe]||{}).data))),yt.content&&Ra(yt.content,0),Ae[ht]=yt,_e.push(yt)}}function w(ne,he){return new Date((Da(ne,he+4)/1e7*Math.pow(2,32)+Da(ne,he)/1e7-11644473600)*1e3)}function S(ne,he){return u(),A(c.readFileSync(ne),he)}function T(ne,he){var Y=he&&he.type;switch(Y||nn&&Buffer.isBuffer(ne)&&(Y="buffer"),Y||"base64"){case"file":return S(ne,he);case"base64":return A(jo(wc(ne)),he);case"binary":return A(jo(ne),he)}return A(ne,he)}function j(ne,he){var Y=he||{},J=Y.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=J+"/",ne.FileIndex[0]={name:J,type:5}),Y.CLSID&&(ne.FileIndex[0].clsid=Y.CLSID),I(ne)}function I(ne){var he="Sh33tJ5";if(!vn.find(ne,"/"+he)){var Y=ot(4);Y[0]=55,Y[1]=Y[3]=50,Y[2]=54,ne.FileIndex.push({name:he,type:2,content:Y,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+he),B(ne)}}function B(ne,he){j(ne);for(var Y=!1,J=!1,ce=ne.FullPaths.length-1;ce>=0;--ce){var Ae=ne.FileIndex[ce];switch(Ae.type){case 0:J?Y=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(Ae.R*Ae.L*Ae.C)&&(Y=!0),Ae.R>-1&&Ae.L>-1&&Ae.R==Ae.L&&(Y=!0);break;default:Y=!0;break}}if(!(!Y&&!he)){var _e=new Date(1987,1,19),Pe=0,Ne=Object.create?Object.create(null):{},Ee=[];for(ce=0;ce<ne.FullPaths.length;++ce)Ne[ne.FullPaths[ce]]=!0,ne.FileIndex[ce].type!==0&&Ee.push([ne.FullPaths[ce],ne.FileIndex[ce]]);for(ce=0;ce<Ee.length;++ce){var Qe=n(Ee[ce][0]);J=Ne[Qe],J||(Ee.push([Qe,{name:s(Qe).replace("/",""),type:1,clsid:M,ct:_e,mt:_e,content:null}]),Ne[Qe]=!0)}for(Ee.sort(function(ht,Ve){return r(ht[0],Ve[0])}),ne.FullPaths=[],ne.FileIndex=[],ce=0;ce<Ee.length;++ce)ne.FullPaths[ce]=Ee[ce][0],ne.FileIndex[ce]=Ee[ce][1];for(ce=0;ce<Ee.length;++ce){var at=ne.FileIndex[ce],Le=ne.FullPaths[ce];if(at.name=s(Le).replace("/",""),at.L=at.R=at.C=-(at.color=1),at.size=at.content?at.content.length:0,at.start=0,at.clsid=at.clsid||M,ce===0)at.C=Ee.length>1?1:-1,at.size=0,at.type=5;else if(Le.slice(-1)=="/"){for(Pe=ce+1;Pe<Ee.length&&n(ne.FullPaths[Pe])!=Le;++Pe);for(at.C=Pe>=Ee.length?-1:Pe,Pe=ce+1;Pe<Ee.length&&n(ne.FullPaths[Pe])!=n(Le);++Pe);at.R=Pe>=Ee.length?-1:Pe,at.type=1}else n(ne.FullPaths[ce+1]||"")==n(Le)&&(at.R=ce+1),at.type=2}}}function C(ne,he){var Y=he||{};if(Y.fileType=="mad")return As(ne,Y);switch(B(ne),Y.fileType){case"zip":return Ut(ne,Y)}var J=function(ht){for(var Ve=0,yt=0,It=0;It<ht.FileIndex.length;++It){var Mt=ht.FileIndex[It];if(Mt.content){var At=Mt.content.length;At>0&&(At<4096?Ve+=At+63>>6:yt+=At+511>>9)}}for(var Rt=ht.FullPaths.length+3>>2,lr=Ve+7>>3,Xt=Ve+127>>7,Mr=lr+yt+Rt+Xt,hr=Mr+127>>7,br=hr<=109?0:Math.ceil((hr-109)/127);Mr+hr+br+127>>7>hr;)br=++hr<=109?0:Math.ceil((hr-109)/127);var rr=[1,br,hr,Xt,Rt,yt,Ve,0];return ht.FileIndex[0].size=Ve<<6,rr[7]=(ht.FileIndex[0].start=rr[0]+rr[1]+rr[2]+rr[3]+rr[4]+rr[5])+(rr[6]+7>>3),rr}(ne),ce=ot(J[7]<<9),Ae=0,_e=0;{for(Ae=0;Ae<8;++Ae)ce.write_shift(1,D[Ae]);for(Ae=0;Ae<8;++Ae)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),Ae=0;Ae<3;++Ae)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,J[2]),ce.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:E),ce.write_shift(4,J[3]),ce.write_shift(-4,J[1]?J[0]-1:E),ce.write_shift(4,J[1]),Ae=0;Ae<109;++Ae)ce.write_shift(-4,Ae<J[2]?J[1]+Ae:-1)}if(J[1])for(_e=0;_e<J[1];++_e){for(;Ae<236+_e*127;++Ae)ce.write_shift(-4,Ae<J[2]?J[1]+Ae:-1);ce.write_shift(-4,_e===J[1]-1?E:_e+1)}var Pe=function(ht){for(_e+=ht;Ae<_e-1;++Ae)ce.write_shift(-4,Ae+1);ht&&(++Ae,ce.write_shift(-4,E))};for(_e=Ae=0,_e+=J[1];Ae<_e;++Ae)ce.write_shift(-4,Q.DIFSECT);for(_e+=J[2];Ae<_e;++Ae)ce.write_shift(-4,Q.FATSECT);Pe(J[3]),Pe(J[4]);for(var Ne=0,Ee=0,Qe=ne.FileIndex[0];Ne<ne.FileIndex.length;++Ne)Qe=ne.FileIndex[Ne],Qe.content&&(Ee=Qe.content.length,!(Ee<4096)&&(Qe.start=_e,Pe(Ee+511>>9)));for(Pe(J[6]+7>>3);ce.l&511;)ce.write_shift(-4,Q.ENDOFCHAIN);for(_e=Ae=0,Ne=0;Ne<ne.FileIndex.length;++Ne)Qe=ne.FileIndex[Ne],Qe.content&&(Ee=Qe.content.length,!(!Ee||Ee>=4096)&&(Qe.start=_e,Pe(Ee+63>>6)));for(;ce.l&511;)ce.write_shift(-4,Q.ENDOFCHAIN);for(Ae=0;Ae<J[4]<<2;++Ae){var at=ne.FullPaths[Ae];if(!at||at.length===0){for(Ne=0;Ne<17;++Ne)ce.write_shift(4,0);for(Ne=0;Ne<3;++Ne)ce.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)ce.write_shift(4,0);continue}Qe=ne.FileIndex[Ae],Ae===0&&(Qe.start=Qe.size?Qe.start-1:E);var Le=Ae===0&&Y.root||Qe.name;if(Ee=2*(Le.length+1),ce.write_shift(64,Le,"utf16le"),ce.write_shift(2,Ee),ce.write_shift(1,Qe.type),ce.write_shift(1,Qe.color),ce.write_shift(-4,Qe.L),ce.write_shift(-4,Qe.R),ce.write_shift(-4,Qe.C),Qe.clsid)ce.write_shift(16,Qe.clsid,"hex");else for(Ne=0;Ne<4;++Ne)ce.write_shift(4,0);ce.write_shift(4,Qe.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,Qe.start),ce.write_shift(4,Qe.size),ce.write_shift(4,0)}for(Ae=1;Ae<ne.FileIndex.length;++Ae)if(Qe=ne.FileIndex[Ae],Qe.size>=4096)if(ce.l=Qe.start+1<<9,nn&&Buffer.isBuffer(Qe.content))Qe.content.copy(ce,ce.l,0,Qe.size),ce.l+=Qe.size+511&-512;else{for(Ne=0;Ne<Qe.size;++Ne)ce.write_shift(1,Qe.content[Ne]);for(;Ne&511;++Ne)ce.write_shift(1,0)}for(Ae=1;Ae<ne.FileIndex.length;++Ae)if(Qe=ne.FileIndex[Ae],Qe.size>0&&Qe.size<4096)if(nn&&Buffer.isBuffer(Qe.content))Qe.content.copy(ce,ce.l,0,Qe.size),ce.l+=Qe.size+63&-64;else{for(Ne=0;Ne<Qe.size;++Ne)ce.write_shift(1,Qe.content[Ne]);for(;Ne&63;++Ne)ce.write_shift(1,0)}if(nn)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function N(ne,he){var Y=ne.FullPaths.map(function(Ne){return Ne.toUpperCase()}),J=Y.map(function(Ne){var Ee=Ne.split("/");return Ee[Ee.length-(Ne.slice(-1)=="/"?2:1)]}),ce=!1;he.charCodeAt(0)===47?(ce=!0,he=Y[0].slice(0,-1)+he):ce=he.indexOf("/")!==-1;var Ae=he.toUpperCase(),_e=ce===!0?Y.indexOf(Ae):J.indexOf(Ae);if(_e!==-1)return ne.FileIndex[_e];var Pe=!Ae.match(Kg);for(Ae=Ae.replace(om,""),Pe&&(Ae=Ae.replace(Kg,"!")),_e=0;_e<Y.length;++_e)if((Pe?Y[_e].replace(Kg,"!"):Y[_e]).replace(om,"")==Ae||(Pe?J[_e].replace(Kg,"!"):J[_e]).replace(om,"")==Ae)return ne.FileIndex[_e];return null}var k=64,E=-2,U="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:E,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(ne,he,Y){u();var J=C(ne,Y);c.writeFileSync(he,J)}function O(ne){for(var he=new Array(ne.length),Y=0;Y<ne.length;++Y)he[Y]=String.fromCharCode(ne[Y]);return he.join("")}function z(ne,he){var Y=C(ne,he);switch(he&&he.type||"buffer"){case"file":return u(),c.writeFileSync(he.filename,Y),Y;case"binary":return typeof Y=="string"?Y:O(Y);case"base64":return Ym(typeof Y=="string"?Y:O(Y));case"buffer":if(nn)return Buffer.isBuffer(Y)?Y:Sc(Y);case"array":return typeof Y=="string"?jo(Y):Y}return Y}var G;function F(ne){try{var he=ne.InflateRaw,Y=new he;if(Y._processChunk(new Uint8Array([3,0]),Y._finishFlushFlag),Y.bytesRead)G=ne;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function P(ne,he){if(!G)return Ye(ne,he);var Y=G.InflateRaw,J=new Y,ce=J._processChunk(ne.slice(ne.l),J._finishFlushFlag);return ne.l+=J.bytesRead,ce}function L(ne){return G?G.deflateRawSync(ne):Se(ne)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(ne){var he=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(he>>16|he>>8|he)&255}for(var W=typeof Uint8Array<"u",ee=W?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)ee[Ce]=ae(Ce);function ye(ne,he){var Y=ee[ne&255];return he<=8?Y>>>8-he:(Y=Y<<8|ee[ne>>8&255],he<=16?Y>>>16-he:(Y=Y<<8|ee[ne>>16&255],Y>>>24-he))}function Me(ne,he){var Y=he&7,J=he>>>3;return(ne[J]|(Y<=6?0:ne[J+1]<<8))>>>Y&3}function we(ne,he){var Y=he&7,J=he>>>3;return(ne[J]|(Y<=5?0:ne[J+1]<<8))>>>Y&7}function oe(ne,he){var Y=he&7,J=he>>>3;return(ne[J]|(Y<=4?0:ne[J+1]<<8))>>>Y&15}function ze(ne,he){var Y=he&7,J=he>>>3;return(ne[J]|(Y<=3?0:ne[J+1]<<8))>>>Y&31}function de(ne,he){var Y=he&7,J=he>>>3;return(ne[J]|(Y<=1?0:ne[J+1]<<8))>>>Y&127}function be(ne,he,Y){var J=he&7,ce=he>>>3,Ae=(1<<Y)-1,_e=ne[ce]>>>J;return Y<8-J||(_e|=ne[ce+1]<<8-J,Y<16-J)||(_e|=ne[ce+2]<<16-J,Y<24-J)||(_e|=ne[ce+3]<<24-J),_e&Ae}function Be(ne,he,Y){var J=he&7,ce=he>>>3;return J<=5?ne[ce]|=(Y&7)<<J:(ne[ce]|=Y<<J&255,ne[ce+1]=(Y&7)>>8-J),he+3}function et(ne,he,Y){var J=he&7,ce=he>>>3;return Y=(Y&1)<<J,ne[ce]|=Y,he+1}function rt(ne,he,Y){var J=he&7,ce=he>>>3;return Y<<=J,ne[ce]|=Y&255,Y>>>=8,ne[ce+1]=Y,he+8}function Nt(ne,he,Y){var J=he&7,ce=he>>>3;return Y<<=J,ne[ce]|=Y&255,Y>>>=8,ne[ce+1]=Y&255,ne[ce+2]=Y>>>8,he+16}function me(ne,he){var Y=ne.length,J=2*Y>he?2*Y:he+5,ce=0;if(Y>=he)return ne;if(nn){var Ae=q7(J);if(ne.copy)ne.copy(Ae);else for(;ce<ne.length;++ce)Ae[ce]=ne[ce];return Ae}else if(W){var _e=new Uint8Array(J);if(_e.set)_e.set(ne);else for(;ce<Y;++ce)_e[ce]=ne[ce];return _e}return ne.length=J,ne}function $e(ne){for(var he=new Array(ne),Y=0;Y<ne;++Y)he[Y]=0;return he}function Re(ne,he,Y){var J=1,ce=0,Ae=0,_e=0,Pe=0,Ne=ne.length,Ee=W?new Uint16Array(32):$e(32);for(Ae=0;Ae<32;++Ae)Ee[Ae]=0;for(Ae=Ne;Ae<Y;++Ae)ne[Ae]=0;Ne=ne.length;var Qe=W?new Uint16Array(Ne):$e(Ne);for(Ae=0;Ae<Ne;++Ae)Ee[ce=ne[Ae]]++,J<ce&&(J=ce),Qe[Ae]=0;for(Ee[0]=0,Ae=1;Ae<=J;++Ae)Ee[Ae+16]=Pe=Pe+Ee[Ae-1]<<1;for(Ae=0;Ae<Ne;++Ae)Pe=ne[Ae],Pe!=0&&(Qe[Ae]=Ee[Pe+16]++);var at=0;for(Ae=0;Ae<Ne;++Ae)if(at=ne[Ae],at!=0)for(Pe=ye(Qe[Ae],J)>>J-at,_e=(1<<J+4-at)-1;_e>=0;--_e)he[Pe|_e<<at]=at&15|Ae<<4;return J}var Te=W?new Uint16Array(512):$e(512),ve=W?new Uint16Array(32):$e(32);if(!W){for(var it=0;it<512;++it)Te[it]=0;for(it=0;it<32;++it)ve[it]=0}(function(){for(var ne=[],he=0;he<32;he++)ne.push(5);Re(ne,ve,32);var Y=[];for(he=0;he<=143;he++)Y.push(8);for(;he<=255;he++)Y.push(9);for(;he<=279;he++)Y.push(7);for(;he<=287;he++)Y.push(8);Re(Y,Te,288)})();var Oe=function(){for(var he=W?new Uint8Array(32768):[],Y=0,J=0;Y<se.length-1;++Y)for(;J<se[Y+1];++J)he[J]=Y;for(;J<32768;++J)he[J]=29;var ce=W?new Uint8Array(259):[];for(Y=0,J=0;Y<X.length-1;++Y)for(;J<X[Y+1];++J)ce[J]=Y;function Ae(Pe,Ne){for(var Ee=0;Ee<Pe.length;){var Qe=Math.min(65535,Pe.length-Ee),at=Ee+Qe==Pe.length;for(Ne.write_shift(1,+at),Ne.write_shift(2,Qe),Ne.write_shift(2,~Qe&65535);Qe-- >0;)Ne[Ne.l++]=Pe[Ee++]}return Ne.l}function _e(Pe,Ne){for(var Ee=0,Qe=0,at=W?new Uint16Array(32768):[];Qe<Pe.length;){var Le=Math.min(65535,Pe.length-Qe);if(Le<10){for(Ee=Be(Ne,Ee,+(Qe+Le==Pe.length)),Ee&7&&(Ee+=8-(Ee&7)),Ne.l=Ee/8|0,Ne.write_shift(2,Le),Ne.write_shift(2,~Le&65535);Le-- >0;)Ne[Ne.l++]=Pe[Qe++];Ee=Ne.l*8;continue}Ee=Be(Ne,Ee,+(Qe+Le==Pe.length)+2);for(var ht=0;Le-- >0;){var Ve=Pe[Qe];ht=(ht<<5^Ve)&32767;var yt=-1,It=0;if((yt=at[ht])&&(yt|=Qe&-32768,yt>Qe&&(yt-=32768),yt<Qe))for(;Pe[yt+It]==Pe[Qe+It]&&It<250;)++It;if(It>2){Ve=ce[It],Ve<=22?Ee=rt(Ne,Ee,ee[Ve+1]>>1)-1:(rt(Ne,Ee,3),Ee+=5,rt(Ne,Ee,ee[Ve-23]>>5),Ee+=3);var Mt=Ve<8?0:Ve-4>>2;Mt>0&&(Nt(Ne,Ee,It-X[Ve]),Ee+=Mt),Ve=he[Qe-yt],Ee=rt(Ne,Ee,ee[Ve]>>3),Ee-=3;var At=Ve<4?0:Ve-2>>1;At>0&&(Nt(Ne,Ee,Qe-yt-se[Ve]),Ee+=At);for(var Rt=0;Rt<It;++Rt)at[ht]=Qe&32767,ht=(ht<<5^Pe[Qe])&32767,++Qe;Le-=It-1}else Ve<=143?Ve=Ve+48:Ee=et(Ne,Ee,1),Ee=rt(Ne,Ee,ee[Ve]),at[ht]=Qe&32767,++Qe}Ee=rt(Ne,Ee,0)-1}return Ne.l=(Ee+7)/8|0,Ne.l}return function(Ne,Ee){return Ne.length<8?Ae(Ne,Ee):_e(Ne,Ee)}}();function Se(ne){var he=ot(50+Math.floor(ne.length*1.1)),Y=Oe(ne,he);return he.slice(0,Y)}var Fe=W?new Uint16Array(32768):$e(32768),lt=W?new Uint16Array(32768):$e(32768),We=W?new Uint16Array(128):$e(128),He=1,tt=1;function xt(ne,he){var Y=ze(ne,he)+257;he+=5;var J=ze(ne,he)+1;he+=5;var ce=oe(ne,he)+4;he+=4;for(var Ae=0,_e=W?new Uint8Array(19):$e(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,Ee=W?new Uint8Array(8):$e(8),Qe=W?new Uint8Array(8):$e(8),at=_e.length,Le=0;Le<ce;++Le)_e[q[Le]]=Ae=we(ne,he),Ne<Ae&&(Ne=Ae),Ee[Ae]++,he+=3;var ht=0;for(Ee[0]=0,Le=1;Le<=Ne;++Le)Qe[Le]=ht=ht+Ee[Le-1]<<1;for(Le=0;Le<at;++Le)(ht=_e[Le])!=0&&(Pe[Le]=Qe[ht]++);var Ve=0;for(Le=0;Le<at;++Le)if(Ve=_e[Le],Ve!=0){ht=ee[Pe[Le]]>>8-Ve;for(var yt=(1<<7-Ve)-1;yt>=0;--yt)We[ht|yt<<Ve]=Ve&7|Le<<3}var It=[];for(Ne=1;It.length<Y+J;)switch(ht=We[de(ne,he)],he+=ht&7,ht>>>=3){case 16:for(Ae=3+Me(ne,he),he+=2,ht=It[It.length-1];Ae-- >0;)It.push(ht);break;case 17:for(Ae=3+we(ne,he),he+=3;Ae-- >0;)It.push(0);break;case 18:for(Ae=11+de(ne,he),he+=7;Ae-- >0;)It.push(0);break;default:It.push(ht),Ne<ht&&(Ne=ht);break}var Mt=It.slice(0,Y),At=It.slice(Y);for(Le=Y;Le<286;++Le)Mt[Le]=0;for(Le=J;Le<30;++Le)At[Le]=0;return He=Re(Mt,Fe,286),tt=Re(At,lt,30),he}function nt(ne,he){if(ne[0]==3&&!(ne[1]&3))return[Du(he),2];for(var Y=0,J=0,ce=q7(he||1<<18),Ae=0,_e=ce.length>>>0,Pe=0,Ne=0;!(J&1);){if(J=we(ne,Y),Y+=3,J>>>1)J>>1==1?(Pe=9,Ne=5):(Y=xt(ne,Y),Pe=He,Ne=tt);else{Y&7&&(Y+=8-(Y&7));var Ee=ne[Y>>>3]|ne[(Y>>>3)+1]<<8;if(Y+=32,Ee>0)for(!he&&_e<Ae+Ee&&(ce=me(ce,Ae+Ee),_e=ce.length);Ee-- >0;)ce[Ae++]=ne[Y>>>3],Y+=8;continue}for(;;){!he&&_e<Ae+32767&&(ce=me(ce,Ae+32767),_e=ce.length);var Qe=be(ne,Y,Pe),at=J>>>1==1?Te[Qe]:Fe[Qe];if(Y+=at&15,at>>>=4,!(at>>>8&255))ce[Ae++]=at;else{if(at==256)break;at-=257;var Le=at<8?0:at-4>>2;Le>5&&(Le=0);var ht=Ae+X[at];Le>0&&(ht+=be(ne,Y,Le),Y+=Le),Qe=be(ne,Y,Ne),at=J>>>1==1?ve[Qe]:lt[Qe],Y+=at&15,at>>>=4;var Ve=at<4?0:at-2>>1,yt=se[at];for(Ve>0&&(yt+=be(ne,Y,Ve),Y+=Ve),!he&&_e<ht&&(ce=me(ce,ht+100),_e=ce.length);Ae<ht;)ce[Ae]=ce[Ae-yt],++Ae}}}return he?[ce,Y+7>>>3]:[ce.slice(0,Ae),Y+7>>>3]}function Ye(ne,he){var Y=ne.slice(ne.l||0),J=nt(Y,he);return ne.l+=J[1],J[0]}function Ke(ne,he){if(ne)typeof console<"u"&&console.error(he);else throw new Error(he)}function Lt(ne,he){var Y=ne;Ra(Y,0);var J=[],ce=[],Ae={FileIndex:J,FullPaths:ce};j(Ae,{root:he.root});for(var _e=Y.length-4;(Y[_e]!=80||Y[_e+1]!=75||Y[_e+2]!=5||Y[_e+3]!=6)&&_e>=0;)--_e;Y.l=_e+4,Y.l+=4;var Pe=Y.read_shift(2);Y.l+=6;var Ne=Y.read_shift(4);for(Y.l=Ne,_e=0;_e<Pe;++_e){Y.l+=20;var Ee=Y.read_shift(4),Qe=Y.read_shift(4),at=Y.read_shift(2),Le=Y.read_shift(2),ht=Y.read_shift(2);Y.l+=8;var Ve=Y.read_shift(4),yt=o(Y.slice(Y.l+at,Y.l+at+Le));Y.l+=at+Le+ht;var It=Y.l;Y.l=Ve+4,Et(Y,Ee,Qe,Ae,yt),Y.l=It}return Ae}function Et(ne,he,Y,J,ce){ne.l+=2;var Ae=ne.read_shift(2),_e=ne.read_shift(2),Pe=a(ne);if(Ae&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=ne.read_shift(4),Ee=ne.read_shift(4),Qe=ne.read_shift(4),at=ne.read_shift(2),Le=ne.read_shift(2),ht="",Ve=0;Ve<at;++Ve)ht+=String.fromCharCode(ne[ne.l++]);if(Le){var yt=o(ne.slice(ne.l,ne.l+Le));(yt[21589]||{}).mt&&(Pe=yt[21589].mt),((ce||{})[21589]||{}).mt&&(Pe=ce[21589].mt)}ne.l+=Le;var It=ne.slice(ne.l,ne.l+Ee);switch(_e){case 8:It=P(ne,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var Mt=!1;Ae&8&&(Ne=ne.read_shift(4),Ne==134695760&&(Ne=ne.read_shift(4),Mt=!0),Ee=ne.read_shift(4),Qe=ne.read_shift(4)),Ee!=he&&Ke(Mt,"Bad compressed size: "+he+" != "+Ee),Qe!=Y&&Ke(Mt,"Bad uncompressed size: "+Y+" != "+Qe),Lr(J,ht,It,{unsafe:!0,mt:Pe})}function Ut(ne,he){var Y=he||{},J=[],ce=[],Ae=ot(1),_e=Y.compression?8:0,Pe=0,Ne=0,Ee=0,Qe=0,at=0,Le=ne.FullPaths[0],ht=Le,Ve=ne.FileIndex[0],yt=[],It=0;for(Ne=1;Ne<ne.FullPaths.length;++Ne)if(ht=ne.FullPaths[Ne].slice(Le.length),Ve=ne.FileIndex[Ne],!(!Ve.size||!Ve.content||ht=="Sh33tJ5")){var Mt=Qe,At=ot(ht.length);for(Ee=0;Ee<ht.length;++Ee)At.write_shift(1,ht.charCodeAt(Ee)&127);At=At.slice(0,At.l),yt[at]=N5e.buf(Ve.content,0);var Rt=Ve.content;_e==8&&(Rt=L(Rt)),Ae=ot(30),Ae.write_shift(4,67324752),Ae.write_shift(2,20),Ae.write_shift(2,Pe),Ae.write_shift(2,_e),Ve.mt?i(Ae,Ve.mt):Ae.write_shift(4,0),Ae.write_shift(-4,yt[at]),Ae.write_shift(4,Rt.length),Ae.write_shift(4,Ve.content.length),Ae.write_shift(2,At.length),Ae.write_shift(2,0),Qe+=Ae.length,J.push(Ae),Qe+=At.length,J.push(At),Qe+=Rt.length,J.push(Rt),Ae=ot(46),Ae.write_shift(4,33639248),Ae.write_shift(2,0),Ae.write_shift(2,20),Ae.write_shift(2,Pe),Ae.write_shift(2,_e),Ae.write_shift(4,0),Ae.write_shift(-4,yt[at]),Ae.write_shift(4,Rt.length),Ae.write_shift(4,Ve.content.length),Ae.write_shift(2,At.length),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(4,0),Ae.write_shift(4,Mt),It+=Ae.l,ce.push(Ae),It+=At.length,ce.push(At),++at}return Ae=ot(22),Ae.write_shift(4,101010256),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,at),Ae.write_shift(2,at),Ae.write_shift(4,It),Ae.write_shift(4,Qe),Ae.write_shift(2,0),ui([ui(J),ui(ce),Ae])}var Ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vt(ne,he){if(ne.ctype)return ne.ctype;var Y=ne.name||"",J=Y.match(/\.([^\.]+)$/);return J&&Ct[J[1]]||he&&(J=(Y=he).match(/[\.\\]([^\.\\])+$/),J&&Ct[J[1]])?Ct[J[1]]:"application/octet-stream"}function $n(ne){for(var he=Ym(ne),Y=[],J=0;J<he.length;J+=76)Y.push(he.slice(J,J+76));return Y.join(`\r
`)+`\r
`}function Vr(ne){var he=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var Qe=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});he=he.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),he.charAt(0)==`
`&&(he="=0D"+he.slice(1)),he=he.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Y=[],J=he.split(`\r
`),ce=0;ce<J.length;++ce){var Ae=J[ce];if(Ae.length==0){Y.push("");continue}for(var _e=0;_e<Ae.length;){var Pe=76,Ne=Ae.slice(_e,_e+Pe);Ne.charAt(Pe-1)=="="?Pe--:Ne.charAt(Pe-2)=="="?Pe-=2:Ne.charAt(Pe-3)=="="&&(Pe-=3),Ne=Ae.slice(_e,_e+Pe),_e+=Pe,_e<Ae.length&&(Ne+="="),Y.push(Ne)}}return Y.join(`\r
`)}function Mn(ne){for(var he=[],Y=0;Y<ne.length;++Y){for(var J=ne[Y];Y<=ne.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+ne[++Y];he.push(J)}for(var ce=0;ce<he.length;++ce)he[ce]=he[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(Ae){return String.fromCharCode(parseInt(Ae.slice(1),16))});return jo(he.join(`\r
`))}function Rn(ne,he,Y){for(var J="",ce="",Ae="",_e,Pe=0;Pe<10;++Pe){var Ne=he[Pe];if(!Ne||Ne.match(/^\s*$/))break;var Ee=Ne.match(/^(.*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":J=Ee[2].trim();break;case"content-type":Ae=Ee[2].trim();break;case"content-transfer-encoding":ce=Ee[2].trim();break}}switch(++Pe,ce.toLowerCase()){case"base64":_e=jo(wc(he.slice(Pe).join("")));break;case"quoted-printable":_e=Mn(he.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var Qe=Lr(ne,J.slice(Y.length),_e,{unsafe:!0});Ae&&(Qe.ctype=Ae)}function qt(ne,he){if(O(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Y=he&&he.root||"",J=(nn&&Buffer.isBuffer(ne)?ne.toString("binary"):O(ne)).split(`\r
`),ce=0,Ae="";for(ce=0;ce<J.length;++ce)if(Ae=J[ce],!!/^Content-Location:/i.test(Ae)&&(Ae=Ae.slice(Ae.indexOf("file")),Y||(Y=Ae.slice(0,Ae.lastIndexOf("/")+1)),Ae.slice(0,Y.length)!=Y))for(;Y.length>0&&(Y=Y.slice(0,Y.length-1),Y=Y.slice(0,Y.lastIndexOf("/")+1),Ae.slice(0,Y.length)!=Y););var _e=(J[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var Pe="--"+(_e[1]||""),Ne=[],Ee=[],Qe={FileIndex:Ne,FullPaths:Ee};j(Qe);var at,Le=0;for(ce=0;ce<J.length;++ce){var ht=J[ce];ht!==Pe&&ht!==Pe+"--"||(Le++&&Rn(Qe,J.slice(at,ce),Y),at=ce)}return Qe}function As(ne,he){var Y=he||{},J=Y.boundary||"SheetJS";J="------="+J;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],Ae=ne.FullPaths[0],_e=Ae,Pe=ne.FileIndex[0],Ne=1;Ne<ne.FullPaths.length;++Ne)if(_e=ne.FullPaths[Ne].slice(Ae.length),Pe=ne.FileIndex[Ne],!(!Pe.size||!Pe.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(It){return"_x"+It.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(It){return"_u"+It.charCodeAt(0).toString(16)+"_"});for(var Ee=Pe.content,Qe=nn&&Buffer.isBuffer(Ee)?Ee.toString("binary"):O(Ee),at=0,Le=Math.min(1024,Qe.length),ht=0,Ve=0;Ve<=Le;++Ve)(ht=Qe.charCodeAt(Ve))>=32&&ht<128&&++at;var yt=at>=Le*4/5;ce.push(J),ce.push("Content-Location: "+(Y.root||"file:///C:/SheetJS/")+_e),ce.push("Content-Transfer-Encoding: "+(yt?"quoted-printable":"base64")),ce.push("Content-Type: "+Vt(Pe,_e)),ce.push(""),ce.push(yt?Vr(Qe):$n(Qe))}return ce.push(J+`--\r
`),ce.join(`\r
`)}function Kr(ne){var he={};return j(he,ne),he}function Lr(ne,he,Y,J){var ce=J&&J.unsafe;ce||j(ne);var Ae=!ce&&vn.find(ne,he);if(!Ae){var _e=ne.FullPaths[0];he.slice(0,_e.length)==_e?_e=he:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+he).replace("//","/")),Ae={name:s(he),type:2},ne.FileIndex.push(Ae),ne.FullPaths.push(_e),ce||vn.utils.cfb_gc(ne)}return Ae.content=Y,Ae.size=Y?Y.length:0,J&&(J.CLSID&&(Ae.clsid=J.CLSID),J.mt&&(Ae.mt=J.mt),J.ct&&(Ae.ct=J.ct)),Ae}function zt(ne,he){j(ne);var Y=vn.find(ne,he);if(Y){for(var J=0;J<ne.FileIndex.length;++J)if(ne.FileIndex[J]==Y)return ne.FileIndex.splice(J,1),ne.FullPaths.splice(J,1),!0}return!1}function jr(ne,he,Y){j(ne);var J=vn.find(ne,he);if(J){for(var ce=0;ce<ne.FileIndex.length;++ce)if(ne.FileIndex[ce]==J)return ne.FileIndex[ce].name=s(Y),ne.FullPaths[ce]=Y,!0}return!1}function Sr(ne){B(ne,!0)}return t.find=N,t.read=T,t.parse=A,t.write=z,t.writeFile=K,t.utils={cfb_new:Kr,cfb_add:Lr,cfb_del:zt,cfb_mov:jr,cfb_gc:Sr,ReadShift:cm,CheckField:AG,prep_blob:Ra,bconcat:ui,use_zlib:F,_deflateRaw:Se,_inflateRaw:Ye,consts:Q},t}();function _5e(e){return typeof e=="string"?iy(e):Array.isArray(e)?Xbe(e):e}function Lp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=iy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Jm(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([_5e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=e,a.href=i,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=kp(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function pi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function J7(e,t){for(var r=[],n=pi(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function w6(e){for(var t=[],r=pi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function ly(e){for(var t=[],r=pi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function C5e(e){for(var t=[],r=pi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var u2=new Date(1899,11,30,0,0,0);function va(e,t){var r=e.getTime(),n=u2.getTime()+(e.getTimezoneOffset()-u2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Gz=new Date,E5e=u2.getTime()+(Gz.getTimezoneOffset()-u2.getTimezoneOffset())*6e4,Z7=Gz.getTimezoneOffset();function Vz(e){var t=new Date;return t.setTime(e*24*60*60*1e3+E5e),t.getTimezoneOffset()!==Z7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Z7)*6e4),t}var eP=new Date("2017-02-19T19:06:09.000Z"),Wz=isNaN(eP.getFullYear())?new Date("2/19/17"):eP,S5e=Wz.getFullYear()==2017;function Zi(e,t){var r=new Date(e);if(S5e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Wz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function cy(e,t){if(nn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function ya(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ya(e[r]));return t}function rs(e,t){for(var r="";r.length<t;)r+=e;return r}function Ac(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var F5e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&F5e.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Fr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return nn?n=Sc(r):n=Jbe(r),vn.utils.cfb_add(e,t,n)}vn.utils.cfb_add(e,t,r)}else e.file(t,r)}function b6(){return vn.utils.cfb_new()}var js=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,j5e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},B6=w6(j5e),N6=/[&<>'"]/g,T5e=/[\u0000-\u0008\u000b-\u001f]/g;function gn(e){var t=e+"";return t.replace(N6,function(r){return B6[r]}).replace(T5e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tP(e){return gn(e).replace(/ /g,"_x0020_")}var Yz=/[\u0000-\u001f]/g;function I5e(e){var t=e+"";return t.replace(N6,function(r){return B6[r]}).replace(/\n/g,"<br/>").replace(Yz,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function k5e(e){var t=e+"";return t.replace(N6,function(r){return B6[r]}).replace(Yz,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function L5e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function U5e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function q3(e){for(var t="",r=0,n=0,s=0,i=0,a=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=s&63,t+=String.fromCharCode(a);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=e.charCodeAt(r++),o=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function rP(e){var t=Du(2*e.length),r,n,s=1,i=0,a=0,o;for(n=0;n<e.length;n+=s)s=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),s=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(t[i++]=a&255,t[i++]=a>>>8,a=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function nP(e){return Sc(e,"binary").toString("utf8")}var Gg="foo bar baz",lm=nn&&(nP(Gg)==q3(Gg)&&nP||rP(Gg)==q3(Gg)&&rP)||q3,Jm=nn?function(e){return Sc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},P5e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),Xz=/(^\s|\s$|\n)/;function fi(e,t){return"<"+e+(t.match(Xz)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Zm(e){return pi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Tt(e,t,r){return"<"+e+(r!=null?Zm(r):"")+(t!=null?(t.match(Xz)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function dC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function M5e(e,t){switch(typeof e){case"string":var r=Tt("vt:lpwstr",gn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Tt((e|0)==e?"vt:i4":"vt:r8",gn(String(e)));case"boolean":return Tt("vt:bool",e?"true":"false")}if(e instanceof Date)return Tt("vt:filetime",dC(e));throw new Error("Unable to serialize "+e)}var Gs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ph=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Qa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function R5e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function O5e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,a=n?-t:t;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var sP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},iP=nn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Sc(t)})):sP(e)}:sP,aP=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(K0(e,s)));return n.join("").replace(om,"")},_6=nn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(om,""):aP(e,t,r)}:aP,oP=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},Jz=nn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):oP(e,t,r)}:oP,lP=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(Xf(e,s)));return n.join("")},Up=nn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):lP(t,r,n)}:lP,Zz=function(e,t){var r=Da(e,t);return r>0?Up(e,t+4,t+4+r-1):""},eG=Zz,tG=function(e,t){var r=Da(e,t);return r>0?Up(e,t+4,t+4+r-1):""},rG=tG,nG=function(e,t){var r=2*Da(e,t);return r>0?Up(e,t+4,t+4+r-1):""},sG=nG,iG=function(t,r){var n=Da(t,r);return n>0?_6(t,r+4,r+4+n):""},aG=iG,oG=function(e,t){var r=Da(e,t);return r>0?Up(e,t+4,t+4+r):""},lG=oG,cG=function(e,t){return R5e(e,t)},f2=cG,C6=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};nn&&(eG=function(t,r){if(!Buffer.isBuffer(t))return Zz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},rG=function(t,r){if(!Buffer.isBuffer(t))return tG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},sG=function(t,r){if(!Buffer.isBuffer(t))return nG(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},aG=function(t,r){if(!Buffer.isBuffer(t))return iG(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},lG=function(t,r){if(!Buffer.isBuffer(t))return oG(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},f2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):cG(t,r)},C6=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Xf=function(e,t){return e[t]},K0=function(e,t){return e[t+1]*256+e[t]},Q5e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Da=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},fu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},D5e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function cm(e,t){var r="",n,s,i=[],a,o,c,u;switch(t){case"dbcs":if(u=this.l,nn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(K0(this,u)),u+=2;e*=2;break;case"utf8":r=Up(this,this.l,this.l+e);break;case"utf16le":e*=2,r=_6(this,this.l,this.l+e);break;case"wstr":return cm.call(this,e,"dbcs");case"lpstr-ansi":r=eG(this,this.l),e=4+Da(this,this.l);break;case"lpstr-cp":r=rG(this,this.l),e=4+Da(this,this.l);break;case"lpwstr":r=sG(this,this.l),e=4+2*Da(this,this.l);break;case"lpp4":e=4+Da(this,this.l),r=aG(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Da(this,this.l),r=lG(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(a=Xf(this,this.l+e++))!==0;)i.push(qg(a));r=i.join("");break;case"_wstr":for(e=0,r="";(a=K0(this,this.l+e))!==0;)i.push(qg(a)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Xf(this,u),this.l=u+1,o=cm.call(this,e-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(qg(K0(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Xf(this,u),this.l=u+1,o=cm.call(this,e-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(qg(Xf(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Xf(this,this.l),this.l++,n;case 2:return n=(t==="i"?Q5e:K0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?fu:D5e)(this,this.l),this.l+=4,n):(s=Da(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=f2(this,this.l):s=f2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=Jz(this,this.l,e);break}}return this.l+=e,r}var H5e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},$5e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},q5e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function K5e(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)q5e(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var a=t.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,H5e(this,t,this.l);break;case 8:if(n=8,r==="f"){O5e(this,t,this.l);break}case 16:break;case-4:n=4,$5e(this,t,this.l);break}return this.l+=n,this}function AG(e,t){var r=Jz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ra(e,t){e.l=t,e.read_shift=cm,e.chk=AG,e.write_shift=K5e}function Cl(e,t){e.l+=t}function ot(e){var t=Du(e);return Ra(t,0),t}function ma(){var e=[],t=nn?256:2048,r=function(u){var A=ot(u);return Ra(A,0),A},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},a=function(){return s(),ui(e)},o=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:a,_bufs:e}}function wt(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=RCe[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var a=e.next(i);s<=127?a.write_shift(1,s):(a.write_shift(1,(s&127)+128),a.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&C6(r)&&e.push(r)}}function Am(e,t,r){var n=ya(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function cP(e,t,r){var n=ya(e);return n.s=Am(n.s,t.s,r),n.e=Am(n.e,t.s,r),n}function um(e,t){if(e.cRel&&e.c<0)for(e=ya(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ya(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=xn(e);return!e.cRel&&e.cRel!=null&&(r=V5e(r)),!e.rRel&&e.rRel!=null&&(r=z5e(r)),r}function K3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ui(e.s.c)+":"+(e.e.cRel?"":"$")+Ui(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mi(e.s.r)+":"+(e.e.rRel?"":"$")+mi(e.e.r):um(e.s,t.biff)+":"+um(e.e,t.biff)}function E6(e){return parseInt(G5e(e),10)-1}function mi(e){return""+(e+1)}function z5e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function G5e(e){return e.replace(/\$(\d+)$/,"$1")}function S6(e){for(var t=W5e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ui(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function V5e(e){return e.replace(/^([A-Z])/,"$$$1")}function W5e(e){return e.replace(/^\$([A-Z])/,"$1")}function Y5e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ws(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function xn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function qa(e){var t=e.indexOf(":");return t==-1?{s:Ws(e),e:Ws(e)}:{s:Ws(e.slice(0,t)),e:Ws(e.slice(t+1))}}function Ss(e,t){return typeof t>"u"||typeof t=="number"?Ss(e.s,e.e):(typeof e!="string"&&(e=xn(e)),typeof t!="string"&&(t=xn(t)),e==t?e:e+":"+t)}function Pn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function AP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=EA(e.z,r?va(t):t)}catch{}try{return e.w=EA((e.XF||{}).numFmtId||(r?14:0),r?va(t):t)}catch{return""+t}}function bc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Pp[e.v]||e.v:t==null?AP(e,e.v):AP(e,t))}function of(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function uG(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),a=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Ws(n.origin):n.origin;a=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var A=Pn(i["!ref"]);u.s.c=A.s.c,u.s.r=A.s.r,u.e.c=Math.max(u.e.c,A.e.c),u.e.r=Math.max(u.e.r,A.e.r),a==-1&&(u.e.r=a=A.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},g=a+f,p=o+d;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||as[14],n.cellDates?(h.t="d",h.w=EA(h.z,va(h.v))):(h.t="n",h.v=va(h.v),h.w=EA(h.z,h.v))):h.t="s";if(s)i[g]||(i[g]=[]),i[g][p]&&i[g][p].z&&(h.z=i[g][p].z),i[g][p]=h;else{var m=xn({c:p,r:g});i[m]&&i[m].z&&(h.z=i[m].z),i[m]=h}}}return u.s.c<1e7&&(i["!ref"]=Ss(u)),i}function gh(e,t){return uG(null,e,t)}function X5e(e){return e.read_shift(4,"i")}function Po(e,t){return t||(t=ot(4)),t.write_shift(4,e),t}function Pi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ys(e,t){var r=!1;return t==null&&(r=!0,t=ot(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function J5e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Z5e(e,t){return t||(t=ot(4)),t.write_shift(2,0),t.write_shift(2,0),t}function F6(e,t){var r=e.l,n=e.read_shift(1),s=Pi(e),i=[],a={t:s,h:s};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(J5e(e));a.r=i}else a.r=[{ich:0,ifnt:0}];return e.l=r+t,a}function e4e(e,t){var r=!1;return t==null&&(r=!0,t=ot(15+4*e.t.length)),t.write_shift(1,0),Ys(e.t,t),r?t.slice(0,t.l):t}var t4e=F6;function r4e(e,t){var r=!1;return t==null&&(r=!0,t=ot(23+4*e.t.length)),t.write_shift(1,1),Ys(e.t,t),t.write_shift(4,1),Z5e({},t),r?t.slice(0,t.l):t}function xo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function lf(e,t){return t==null&&(t=ot(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function cf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Af(e,t){return t==null&&(t=ot(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var n4e=Pi,fG=Ys;function j6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function d2(e,t){var r=!1;return t==null&&(r=!0,t=ot(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var s4e=Pi,hC=j6,T6=d2;function dG(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?f2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):fu(t,0)>>2;return r?s/100:s}function hG(e,t){t==null&&(t=ot(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function mG(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function i4e(e,t){return t||(t=ot(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var uf=mG,xh=i4e;function vh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hu(e,t){return(t||ot(8)).write_shift(8,e,"f")}function a4e(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),a=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=m4e[s];u&&(t.rgb=wP(u));break;case 2:t.rgb=wP([a,o,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function h2(e,t){if(t||(t=ot(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function o4e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function l4e(e,t){t||(t=ot(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var pG=2,La=3,Vg=11,m2=19,Wg=64,c4e=65,A4e=71,u4e=4108,f4e=4126,ci=80,uP={1:{n:"CodePage",t:pG},2:{n:"Category",t:ci},3:{n:"PresentationFormat",t:ci},4:{n:"ByteCount",t:La},5:{n:"LineCount",t:La},6:{n:"ParagraphCount",t:La},7:{n:"SlideCount",t:La},8:{n:"NoteCount",t:La},9:{n:"HiddenCount",t:La},10:{n:"MultimediaClipCount",t:La},11:{n:"ScaleCrop",t:Vg},12:{n:"HeadingPairs",t:u4e},13:{n:"TitlesOfParts",t:f4e},14:{n:"Manager",t:ci},15:{n:"Company",t:ci},16:{n:"LinksUpToDate",t:Vg},17:{n:"CharacterCount",t:La},19:{n:"SharedDoc",t:Vg},22:{n:"HyperlinksChanged",t:Vg},23:{n:"AppVersion",t:La,p:"version"},24:{n:"DigSig",t:c4e},26:{n:"ContentType",t:ci},27:{n:"ContentStatus",t:ci},28:{n:"Language",t:ci},29:{n:"Version",t:ci},255:{},2147483648:{n:"Locale",t:m2},2147483651:{n:"Behavior",t:m2},1919054434:{}},fP={1:{n:"CodePage",t:pG},2:{n:"Title",t:ci},3:{n:"Subject",t:ci},4:{n:"Author",t:ci},5:{n:"Keywords",t:ci},6:{n:"Comments",t:ci},7:{n:"Template",t:ci},8:{n:"LastAuthor",t:ci},9:{n:"RevNumber",t:ci},10:{n:"EditTime",t:Wg},11:{n:"LastPrinted",t:Wg},12:{n:"CreatedDate",t:Wg},13:{n:"ModifiedDate",t:Wg},14:{n:"PageCount",t:La},15:{n:"WordCount",t:La},16:{n:"CharCount",t:La},17:{n:"Thumbnail",t:A4e},18:{n:"Application",t:ci},19:{n:"DocSecurity",t:La},255:{},2147483648:{n:"Locale",t:m2},2147483651:{n:"Behavior",t:m2},1919054434:{}};function d4e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var h4e=d4e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),m4e=ya(h4e),Pp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},p4e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Yg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function gG(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function xG(e,t){var r=C5e(p4e),n=[],s;n[n.length]=js,n[n.length]=Tt("Types",null,{xmlns:Gs.CT,"xmlns:xsd":Gs.xsd,"xmlns:xsi":Gs.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Tt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=Tt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Yg[c][t.bookType]||Yg[c].xlsx}))},a=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Tt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Yg[c][t.bookType]||Yg[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Tt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Yr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function vG(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function xd(e){var t=[js,Tt("Relationships",null,{xmlns:Gs.RELS})];return pi(e["!id"]).forEach(function(r){t[t.length]=Tt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function mn(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[Yr.HLINK,Yr.XPATH,Yr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function g4e(e){var t=[js];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function dP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function x4e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function v4e(e){var t=[js];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(dP(e[r][0],e[r][1])),t.push(x4e("",e[r][0]));return t.push(dP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function yG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+a2.version+"</meta:generator></office:meta></office:document-meta>"}var Eu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function z3(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=gn(t),n[n.length]=r?Tt(e,t,r):fi(e,t))}function wG(e,t){var r=t||{},n=[js,Tt("cp:coreProperties",null,{"xmlns:cp":Gs.CORE_PROPS,"xmlns:dc":Gs.dc,"xmlns:dcterms":Gs.dcterms,"xmlns:dcmitype":Gs.dcmitype,"xmlns:xsi":Gs.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&z3("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:dC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&z3("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:dC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=Eu.length;++i){var a=Eu[i],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e?e[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&z3(a[0],o,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var vd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function BG(e){var t=[],r=Tt;return e||(e={}),e.Application="SheetJS",t[t.length]=js,t[t.length]=Tt("Properties",null,{xmlns:Gs.EXT_PROPS,"xmlns:vt":Gs.vt}),vd.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=gn(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+gn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function NG(e){var t=[js,Tt("Properties",null,{xmlns:Gs.CUST_PROPS,"xmlns:vt":Gs.vt})];if(!e)return t.join("");var r=1;return pi(e).forEach(function(s){++r,t[t.length]=Tt("property",M5e(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:gn(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var hP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function y4e(e,t){var r=[];return pi(hP).map(function(n){for(var s=0;s<Eu.length;++s)if(Eu[s][1]==n)return Eu[s];for(s=0;s<vd.length;++s)if(vd[s][1]==n)return vd[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(fi(hP[n[1]]||n[1],s))}}),Tt("DocumentProperties",r.join(""),{xmlns:Qa.o})}function w4e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&pi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var a=0;a<Eu.length;++a)if(i==Eu[a][1])return;for(a=0;a<vd.length;++a)if(i==vd[a][1])return;for(a=0;a<r.length;++a)if(i==r[a])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),s.push(Tt(tP(i),o,{"dt:dt":c}))}}),t&&pi(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var a=t[i],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),s.push(Tt(tP(i),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Qa.o+'">'+s.join("")+"</"+n+">"}function b4e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var a=ot(8);return a.write_shift(4,n),a.write_shift(4,s),a}function mP(e,t){var r=ot(4),n=ot(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ot(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=b4e(t);break;case 31:case 80:for(n=ot(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ui([r,n])}var _G=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function B4e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function pP(e,t,r){var n=ot(8),s=[],i=[],a=8,o=0,c=ot(8),u=ot(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),a+=8+c.length,!t){u=ot(8),u.write_shift(4,0),s.unshift(u);var A=[ot(4)];for(A[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=ot(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);A.push(c)}c=ui(A),i.unshift(c),a+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(_G.indexOf(e[o][0])>-1||bG.indexOf(e[o][0])>-1)&&e[o][1]!=null){var d=e[o][1],h=0;if(t){h=+t[e[o][0]];var g=r[h];if(g.p=="version"&&typeof d=="string"){var p=d.split(".");d=(+p[0]<<16)+(+p[1]||0)}c=mP(g.t,d)}else{var m=B4e(d);m==-1&&(m=31,d=String(d)),c=mP(m,d)}i.push(c),u=ot(8),u.write_shift(4,t?h:2+o),s.push(u),a+=8+c.length}var x=8*(i.length+1);for(o=0;o<i.length;++o)s[o].write_shift(4,x),x+=i[o].length;return n.write_shift(4,a),n.write_shift(4,i.length),ui([n].concat(s).concat(i))}function gP(e,t,r,n,s,i){var a=ot(s?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,vn.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,s?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,s?68:48);var c=pP(e,r,n);if(o.push(c),s){var u=pP(s,null,null);a.write_shift(16,i,"hex"),a.write_shift(4,68+c.length),o.push(u)}return ui(o)}function N4e(e,t){t||(t=ot(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function _4e(e,t){return e.read_shift(t)===1}function Gi(e,t){return t||(t=ot(2)),t.write_shift(2,+!!e),t}function CG(e){return e.read_shift(2,"u")}function to(e,t){return t||(t=ot(2)),t.write_shift(2,e),t}function EG(e,t,r){return r||(r=ot(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function SG(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var a=n?e.read_shift(n,s):"";return a}function C4e(e){var t=e.t||"",r=ot(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ot(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return ui(s)}function E4e(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function S4e(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):E4e(e,n,r)}function F4e(e,t,r){if(r.biff>5)return S4e(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function FG(e,t,r){return r||(r=ot(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function xP(e,t){t||(t=ot(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function j4e(e){var t=ot(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)t.write_shift(4,a[r]);if(i==28)n=n.slice(1),xP(n,t);else if(i&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var o=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&xP(s>-1?n.slice(s+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function $u(e,t,r,n){return n||(n=ot(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function T4e(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),a=e.read_shift(n,"i");return[s,i,a]}function I4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function jG(e,t){return t||(t=ot(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function I6(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ot(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function k4e(e,t){var r=!t||t.biff==8,n=ot(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function L4e(e,t){var r=!t||t.biff>=8?2:1,n=ot(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function U4e(e,t){var r=ot(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=C4e(e[s]);var i=ui([r].concat(n));return i.parts=[r.length].concat(n.map(function(a){return a.length})),i}function P4e(){var e=ot(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function M4e(e){var t=ot(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function R4e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=ot(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function O4e(e,t,r,n){var s=ot(10);return $u(e,t,n,s),s.write_shift(4,r),s}function Q4e(e,t,r,n,s){var i=!s||s.biff==8,a=ot(8+ +i+(1+i)*r.length);return $u(e,t,n,a),a.write_shift(2,r.length),i&&a.write_shift(1,1),a.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),a}function D4e(e,t,r,n){var s=r&&r.biff==5;n||(n=ot(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function H4e(e,t){var r=t.biff==8||!t.biff?4:2,n=ot(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function vP(e,t,r,n){var s=r&&r.biff==5;n||(n=ot(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function $4e(e){var t=ot(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function q4e(e,t,r,n,s,i){var a=ot(8);return $u(e,t,n,a),EG(r,i,a),a}function K4e(e,t,r,n){var s=ot(14);return $u(e,t,n,s),Hu(r,s),s}function z4e(e,t,r){if(r.biff<8)return G4e(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(T4e(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function G4e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=SG(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function V4e(e){var t=ot(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)jG(e[r],t);return t}function W4e(e){var t=ot(24),r=Ws(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return ui([t,j4e(e[1])])}function Y4e(e){var t=e[1].Tooltip,r=ot(10+2*(t.length+1));r.write_shift(2,2048);var n=Ws(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function X4e(e){return e||(e=ot(4)),e.write_shift(2,1),e.write_shift(2,1),e}function J4e(e,t,r){if(!r.cellStyles)return Cl(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:i,w:a,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Z4e(e,t){var r=ot(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function eBe(e){for(var t=ot(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function tBe(e,t,r){var n=ot(15);return Rp(n,e,t),n.write_shift(8,r,"f"),n}function rBe(e,t,r){var n=ot(9);return Rp(n,e,t),n.write_shift(2,r),n}var nBe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=w6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],A=Du(1);switch(c.type){case"base64":A=jo(wc(o));break;case"binary":A=jo(o);break;case"buffer":case"array":A=o;break}Ra(A,0);var f=A.read_shift(1),d=!!(f&136),h=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,m=521;f==2&&(p=A.read_shift(2)),A.l+=3,f!=2&&(p=A.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(m=A.read_shift(2));var x=A.read_shift(2),v=c.codepage||1252;f!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(v=e[A[A.l]]),A.l+=1,A.l+=2),g&&(A.l+=36);for(var y=[],w={},S=Math.min(A.length,f==2?521:m-10-(h?264:0)),T=g?32:11;A.l<S&&A[A.l]!=13;)switch(w={},w.name=o2.utils.decode(v,A.slice(A.l,A.l+T)).replace(/[\u0000\r\n].*$/g,""),A.l+=T,w.type=String.fromCharCode(A.read_shift(1)),f!=2&&!g&&(w.offset=A.read_shift(4)),w.len=A.read_shift(1),f==2&&(w.offset=A.read_shift(2)),w.dec=A.read_shift(1),w.name.length&&y.push(w),f!=2&&(A.l+=g?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(A[A.l]!==13&&(A.l=m-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=m;var j=0,I=0;for(u[0]=[],I=0;I!=y.length;++I)u[0][I]=y[I].name;for(;p-- >0;){if(A[A.l]===42){A.l+=x;continue}for(++A.l,u[++j]=[],I=0,I=0;I!=y.length;++I){var B=A.slice(A.l,A.l+y[I].len);A.l+=y[I].len,Ra(B,0);var C=o2.utils.decode(v,B);switch(y[I].type){case"C":C.trim().length&&(u[j][I]=C.replace(/\s+$/,""));break;case"D":C.length===8?u[j][I]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):u[j][I]=C;break;case"F":u[j][I]=parseFloat(C.trim());break;case"+":case"I":u[j][I]=g?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":u[j][I]=!0;break;case"N":case"F":u[j][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][I]="##MEMO##"+(g?parseInt(C.trim(),10):B.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(u[j][I]=+C||0);break;case"@":u[j][I]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[j][I]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[j][I]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][I]=-B.read_shift(-8,"f");break;case"B":if(h&&y[I].len==8){u[j][I]=B.read_shift(8,"f");break}case"G":case"P":B.l+=y[I].len;break;case"0":if(y[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[I].type)}}}if(f!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var A=gh(r(o,u),u);return A["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,A}function s(o,c){try{return of(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var u=c||{};if(+u.codepage>=0&&Wm(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var A=ma(),f=y2(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),g=o["!cols"]||[],p=0,m=0,x=0,v=1;for(p=0;p<d.length;++p){if(((g[p]||{}).DBF||{}).name){d[p]=g[p].DBF.name,++x;continue}if(d[p]!=null){if(++x,typeof d[p]=="number"&&(d[p]=d[p].toString(10)),typeof d[p]!="string")throw new Error("DBF Invalid column name "+d[p]+" |"+typeof d[p]+"|");if(d.indexOf(d[p])!==p){for(m=0;m<1024;++m)if(d.indexOf(d[p]+"_"+m)==-1){d[p]+="_"+m;break}}}}var y=Pn(o["!ref"]),w=[],S=[],T=[];for(p=0;p<=y.e.c-y.s.c;++p){var j="",I="",B=0,C=[];for(m=0;m<h.length;++m)h[m][p]!=null&&C.push(h[m][p]);if(C.length==0||d[p]==null){w[p]="?";continue}for(m=0;m<C.length;++m){switch(typeof C[m]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=C[m]instanceof Date?"D":"C";break;default:I="C"}B=Math.max(B,String(C[m]).length),j=j&&j!=I?"C":I}B>250&&(B=250),I=((g[p]||{}).DBF||{}).type,I=="C"&&g[p].DBF.len>B&&(B=g[p].DBF.len),j=="B"&&I=="N"&&(j="N",T[p]=g[p].DBF.dec,B=g[p].DBF.len),S[p]=j=="C"||I=="N"?B:i[j]||0,v+=S[p],w[p]=j}var N=A.next(32);for(N.write_shift(4,318902576),N.write_shift(4,h.length),N.write_shift(2,296+32*x),N.write_shift(2,v),p=0;p<4;++p)N.write_shift(4,0);for(N.write_shift(4,0|(+t[Iz]||3)<<8),p=0,m=0;p<d.length;++p)if(d[p]!=null){var k=A.next(32),E=(d[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,E,"sbcs"),k.write_shift(1,w[p]=="?"?"C":w[p],"sbcs"),k.write_shift(4,m),k.write_shift(1,S[p]||i[w[p]]||0),k.write_shift(1,T[p]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),m+=S[p]||i[w[p]]||0}var U=A.next(264);for(U.write_shift(4,13),p=0;p<65;++p)U.write_shift(4,0);for(p=0;p<h.length;++p){var D=A.next(v);for(D.write_shift(1,0),m=0;m<d.length;++m)if(d[m]!=null)switch(w[m]){case"L":D.write_shift(1,h[p][m]==null?63:h[p][m]?84:70);break;case"B":D.write_shift(8,h[p][m]||0,"f");break;case"N":var M="0";for(typeof h[p][m]=="number"&&(M=h[p][m].toFixed(T[m]||0)),x=0;x<S[m]-M.length;++x)D.write_shift(1,32);D.write_shift(1,M,"sbcs");break;case"D":h[p][m]?(D.write_shift(4,("0000"+h[p][m].getFullYear()).slice(-4),"sbcs"),D.write_shift(2,("00"+(h[p][m].getMonth()+1)).slice(-2),"sbcs"),D.write_shift(2,("00"+h[p][m].getDate()).slice(-2),"sbcs")):D.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(h[p][m]!=null?h[p][m]:"").slice(0,S[m]);for(D.write_shift(1,Q,"sbcs"),x=0;x<S[m]-Q.length;++x)D.write_shift(1,32);break}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}}(),sBe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+pi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var g=e[h];return typeof g=="number"?$7(g):g},n=function(d,h,g){var p=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?d:$7(p)};e["|"]=254;function s(d,h){switch(h.type){case"base64":return i(wc(d),h);case"binary":return i(d,h);case"buffer":return i(nn&&Buffer.isBuffer(d)?d.toString("binary"):kp(d),h);case"array":return i(cy(d),h)}throw new Error("Unrecognized type "+h.type)}function i(d,h){var g=d.split(/[\n\r]+/),p=-1,m=-1,x=0,v=0,y=[],w=[],S=null,T={},j=[],I=[],B=[],C=0,N;for(+h.codepage>=0&&Wm(+h.codepage);x!==g.length;++x){C=0;var k=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),E=k.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),U=E[0],D;if(k.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":E[1].charAt(0)=="P"&&w.push(k.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,Q=!1,K=!1,O=!1,z=-1,G=-1;for(v=1;v<E.length;++v)switch(E[v].charAt(0)){case"A":break;case"X":m=parseInt(E[v].slice(1))-1,Q=!0;break;case"Y":for(p=parseInt(E[v].slice(1))-1,Q||(m=0),N=y.length;N<=p;++N)y[N]=[];break;case"K":D=E[v].slice(1),D.charAt(0)==='"'?D=D.slice(1,D.length-1):D==="TRUE"?D=!0:D==="FALSE"?D=!1:isNaN(Ac(D))?isNaN(Xm(D).getDate())||(D=Zi(D)):(D=Ac(D),S!==null&&qz(S)&&(D=Vz(D))),M=!0;break;case"E":O=!0;var F=r3e(E[v].slice(1),{r:p,c:m});y[p][m]=[y[p][m],F];break;case"S":K=!0,y[p][m]=[y[p][m],"S5S"];break;case"G":break;case"R":z=parseInt(E[v].slice(1))-1;break;case"C":G=parseInt(E[v].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+k)}if(M&&(y[p][m]&&y[p][m].length==2?y[p][m][0]=D:y[p][m]=D,S=null),K){if(O)throw new Error("SYLK shared formula cannot have own formula");var P=z>-1&&y[z][G];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");y[p][m][1]=n3e(P[1],{r:p-z,c:m-G})}break;case"F":var L=0;for(v=1;v<E.length;++v)switch(E[v].charAt(0)){case"X":m=parseInt(E[v].slice(1))-1,++L;break;case"Y":for(p=parseInt(E[v].slice(1))-1,N=y.length;N<=p;++N)y[N]=[];break;case"M":C=parseInt(E[v].slice(1))/20;break;case"F":break;case"G":break;case"P":S=w[parseInt(E[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=E[v].slice(1).split(" "),N=parseInt(B[0],10);N<=parseInt(B[1],10);++N)C=parseInt(B[2],10),I[N-1]=C===0?{hidden:!0}:{wch:C},k6(I[N-1]);break;case"C":m=parseInt(E[v].slice(1))-1,I[m]||(I[m]={});break;case"R":p=parseInt(E[v].slice(1))-1,j[p]||(j[p]={}),C>0?(j[p].hpt=C,j[p].hpx=UG(C)):C===0&&(j[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+k)}L<1&&(S=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+k)}}return j.length>0&&(T["!rows"]=j),I.length>0&&(T["!cols"]=I),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,T]}function a(d,h){var g=s(d,h),p=g[0],m=g[1],x=gh(p,h);return pi(m).forEach(function(v){x[v]=m[v]}),x}function o(d,h){return of(a(d,h),h)}function c(d,h,g,p){var m="C;Y"+(g+1)+";X"+(p+1)+";K";switch(d.t){case"n":m+=d.v||0,d.f&&!d.F&&(m+=";E"+U6(d.f,{r:g,c:p}));break;case"b":m+=d.v?"TRUE":"FALSE";break;case"e":m+=d.w||d.v;break;case"d":m+='"'+(d.w||d.v)+'"';break;case"s":m+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return m}function u(d,h){h.forEach(function(g,p){var m="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?m+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=p2(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=g2(g.wpx)),typeof g.wch=="number"&&(m+=Math.round(g.wch))),m.charAt(m.length-1)!=" "&&d.push(m)})}function A(d,h){h.forEach(function(g,p){var m="F;";g.hidden?m+="M0;":g.hpt?m+="M"+20*g.hpt+";":g.hpx&&(m+="M"+20*x2(g.hpx)+";"),m.length>2&&d.push(m+"R"+(p+1))})}function f(d,h){var g=["ID;PWXL;N;E"],p=[],m=Pn(d["!ref"]),x,v=Array.isArray(d),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),d["!cols"]&&u(g,d["!cols"]),d["!rows"]&&A(g,d["!rows"]),g.push("B;Y"+(m.e.r-m.s.r+1)+";X"+(m.e.c-m.s.c+1)+";D"+[m.s.c,m.s.r,m.e.c,m.e.r].join(" "));for(var w=m.s.r;w<=m.e.r;++w)for(var S=m.s.c;S<=m.e.c;++S){var T=xn({r:w,c:S});x=v?(d[w]||[])[S]:d[T],!(!x||x.v==null&&(!x.f||x.F))&&p.push(c(x,d,w,S))}return g.join(y)+y+p.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:a,from_sheet:f}}(),iBe=function(){function e(i,a){switch(a.type){case"base64":return t(wc(i),a);case"binary":return t(i,a);case"buffer":return t(nn&&Buffer.isBuffer(i)?i.toString("binary"):kp(i),a);case"array":return t(cy(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){for(var o=i.split(`
`),c=-1,u=-1,A=0,f=[];A!==o.length;++A){if(o[A].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var d=o[A].trim().split(","),h=d[0],g=d[1];++A;for(var p=o[A]||"";(p.match(/["]/g)||[]).length&1&&A<o.length-1;)p+=`
`+o[++A];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(Ac(g))?isNaN(Xm(g).getDate())?f[c][u]=g:f[c][u]=Zi(g):f[c][u]=Ac(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(i,a){return gh(e(i,a),a)}function n(i,a){return of(r(i,a),a)}var s=function(){var i=function(c,u,A,f,d){c.push(u),c.push(A+","+f),c.push('"'+d.replace(/"/g,'""')+'"')},a=function(c,u,A,f){c.push(u+","+A),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],A=Pn(c["!ref"]),f,d=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,A.e.r-A.s.r+1,""),i(u,"TUPLES",0,A.e.c-A.s.c+1,""),i(u,"DATA",0,0,"");for(var h=A.s.r;h<=A.e.r;++h){a(u,-1,0,"BOT");for(var g=A.s.c;g<=A.e.c;++g){var p=xn({r:h,c:g});if(f=d?(c[h]||[])[g]:c[p],!f){a(u,1,0,"");continue}switch(f.t){case"n":var m=f.w;!m&&f.v!=null&&(m=f.v),m==null?f.f&&!f.F?a(u,1,0,"="+f.f):a(u,1,0,""):a(u,0,m,"V");break;case"b":a(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=EA(f.z||as[14],va(Zi(f.v)))),a(u,0,f.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var x=`\r
`,v=u.join(x);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),TG=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),g=-1,p=-1,m=0,x=[];m!==h.length;++m){var v=h[m].trim().split(":");if(v[0]==="cell"){var y=Ws(v[1]);if(x.length<=y.r)for(g=x.length;g<=y.r;++g)x[g]||(x[g]=[]);switch(g=y.r,p=y.c,v[2]){case"t":x[g][p]=e(v[3]);break;case"v":x[g][p]=+v[3];break;case"vtf":var w=v[v.length-1];case"vtc":switch(v[3]){case"nl":x[g][p]=!!+v[4];break;default:x[g][p]=+v[4];break}v[2]=="vtf"&&(x[g][p]=[x[g][p],w])}}}return d&&d.sheetRows&&(x=x.slice(0,d.sheetRows)),x}function n(f,d){return gh(r(f,d),d)}function s(f,d){return of(n(f,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],g,p="",m=qa(f["!ref"]),x=Array.isArray(f),v=m.s.r;v<=m.e.r;++v)for(var y=m.s.c;y<=m.e.c;++y)if(p=xn({r:v,c:y}),g=x?(f[v]||[])[y]:f[p],!(!g||g.v==null||g.t==="z")){switch(h=["cell",p,"t"],g.t){case"s":case"str":h.push(t(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=t(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var w=va(Zi(g.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=g.w||EA(g.z||as[14],w);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(m.e.c-m.s.c+1)+":r:"+(m.e.r-m.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function A(f){return[i,a,o,a,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:A}}(),aBe=function(){function e(A,f,d,h,g){g.raw?f[d][h]=A:A===""||(A==="TRUE"?f[d][h]=!0:A==="FALSE"?f[d][h]=!1:isNaN(Ac(A))?isNaN(Xm(A).getDate())?f[d][h]=A:f[d][h]=Zi(A):f[d][h]=Ac(A))}function t(A,f){var d=f||{},h=[];if(!A||A.length===0)return h;for(var g=A.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var m=10,x=0,v=0;v<=p;++v)x=g[v].indexOf(" "),x==-1?x=g[v].length:x++,m=Math.max(m,x);for(v=0;v<=p;++v){h[v]=[];var y=0;for(e(g[v].slice(0,m).trim(),h,v,y,d),y=1;y<=(g[v].length-m)/10+1;++y)e(g[v].slice(m+(y-1)*10,m+y*10).trim(),h,v,y,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(A){for(var f={},d=!1,h=0,g=0;h<A.length;++h)(g=A.charCodeAt(h))==34?d=!d:!d&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h]);if(!g.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h])}return g.sort(function(p,m){return p[0]-m[0]||n[p[1]]-n[m[1]]}),r[g.pop()[1]]||44}function i(A,f){var d=f||{},h="",g=d.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};A.slice(0,4)=="sep="?A.charCodeAt(5)==13&&A.charCodeAt(6)==10?(h=A.charAt(4),A=A.slice(7)):A.charCodeAt(5)==13||A.charCodeAt(5)==10?(h=A.charAt(4),A=A.slice(6)):h=s(A.slice(0,1024)):d&&d.FS?h=d.FS:h=s(A.slice(0,1024));var m=0,x=0,v=0,y=0,w=0,S=h.charCodeAt(0),T=!1,j=0,I=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var B=d.dateNF!=null?b5e(d.dateNF):null;function C(){var N=A.slice(y,w),k={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)k.t="z";else if(d.raw)k.t="s",k.v=N;else if(N.trim().length===0)k.t="s",k.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(k.t="s",k.v=N.slice(2,-1).replace(/""/g,'"')):s3e(N)?(k.t="n",k.f=N.slice(1)):(k.t="s",k.v=N);else if(N=="TRUE")k.t="b",k.v=!0;else if(N=="FALSE")k.t="b",k.v=!1;else if(!isNaN(v=Ac(N)))k.t="n",d.cellText!==!1&&(k.w=N),k.v=v;else if(!isNaN(Xm(N).getDate())||B&&N.match(B)){k.z=d.dateNF||as[14];var E=0;B&&N.match(B)&&(N=B5e(N,d.dateNF,N.match(B)||[]),E=1),d.cellDates?(k.t="d",k.v=Zi(N,E)):(k.t="n",k.v=va(Zi(N,E))),d.cellText!==!1&&(k.w=EA(k.z,k.v instanceof Date?va(k.v):k.v)),d.cellNF||delete k.z}else k.t="s",k.v=N;if(k.t=="z"||(d.dense?(g[m]||(g[m]=[]),g[m][x]=k):g[xn({c:x,r:m})]=k),y=w+1,I=A.charCodeAt(y),p.e.c<x&&(p.e.c=x),p.e.r<m&&(p.e.r=m),j==S)++x;else if(x=0,++m,d.sheetRows&&d.sheetRows<=m)return!0}e:for(;w<A.length;++w)switch(j=A.charCodeAt(w)){case 34:I===34&&(T=!T);break;case S:case 10:case 13:if(!T&&C())break e;break}return w-y>0&&C(),g["!ref"]=Ss(p),g}function a(A,f){return!(f&&f.PRN)||f.FS||A.slice(0,4)=="sep="||A.indexOf("	")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0?i(A,f):gh(t(A,f),f)}function o(A,f){var d="",h=f.type=="string"?[0,0,0,0]:xEe(A,f);switch(f.type){case"base64":d=wc(A);break;case"binary":d=A;break;case"buffer":f.codepage==65001?d=A.toString("utf8"):f.codepage&&typeof o2<"u"||(d=nn&&Buffer.isBuffer(A)?A.toString("binary"):kp(A));break;case"array":d=cy(A);break;case"string":d=A;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=lm(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=lm(d):f.type=="binary"&&typeof o2<"u",d.slice(0,19)=="socialcalc:version:"?TG.to_sheet(f.type=="string"?d:lm(d),f):a(d,f)}function c(A,f){return of(o(A,f),f)}function u(A){for(var f=[],d=Pn(A["!ref"]),h,g=Array.isArray(A),p=d.s.r;p<=d.e.r;++p){for(var m=[],x=d.s.c;x<=d.e.c;++x){var v=xn({r:p,c:x});if(h=g?(A[p]||[])[x]:A[v],!h||h.v==null){m.push("          ");continue}for(var y=(h.w||(bc(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";m.push(y+(x===0?" ":""))}f.push(m.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),yP=function(){function e(F,P,L){if(F){Ra(F,F.l||0);for(var q=L.Enum||z;F.l<F.length;){var X=F.read_shift(2),se=q[X]||q[65535],ae=F.read_shift(2),W=F.l+ae,ee=se.f&&se.f(F,ae,L);if(F.l=W,P(ee,se,X))return}}}function t(F,P){switch(P.type){case"base64":return r(jo(wc(F)),P);case"binary":return r(jo(F),P);case"buffer":case"array":return r(F,P)}throw"Unsupported type "+P.type}function r(F,P){if(!F)return F;var L=P||{},q=L.dense?[]:{},X="Sheet1",se="",ae=0,W={},ee=[],Ce=[],ye={s:{r:0,c:0},e:{r:0,c:0}},Me=L.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)L.Enum=z,e(F,function(de,be,Be){switch(Be){case 0:L.vers=de,de>=4096&&(L.qpro=!0);break;case 6:ye=de;break;case 204:de&&(se=de);break;case 222:se=de;break;case 15:case 51:L.qpro||(de[1].v=de[1].v.slice(1));case 13:case 14:case 16:Be==14&&(de[2]&112)==112&&(de[2]&15)>1&&(de[2]&15)<15&&(de[1].z=L.dateNF||as[14],L.cellDates&&(de[1].t="d",de[1].v=Vz(de[1].v))),L.qpro&&de[3]>ae&&(q["!ref"]=Ss(ye),W[X]=q,ee.push(X),q=L.dense?[]:{},ye={s:{r:0,c:0},e:{r:0,c:0}},ae=de[3],X=se||"Sheet"+(ae+1),se="");var et=L.dense?(q[de[0].r]||[])[de[0].c]:q[xn(de[0])];if(et){et.t=de[1].t,et.v=de[1].v,de[1].z!=null&&(et.z=de[1].z),de[1].f!=null&&(et.f=de[1].f);break}L.dense?(q[de[0].r]||(q[de[0].r]=[]),q[de[0].r][de[0].c]=de[1]):q[xn(de[0])]=de[1];break}},L);else if(F[2]==26||F[2]==14)L.Enum=G,F[2]==14&&(L.qpro=!0,F.l=0),e(F,function(de,be,Be){switch(Be){case 204:X=de;break;case 22:de[1].v=de[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(de[3]>ae&&(q["!ref"]=Ss(ye),W[X]=q,ee.push(X),q=L.dense?[]:{},ye={s:{r:0,c:0},e:{r:0,c:0}},ae=de[3],X="Sheet"+(ae+1)),Me>0&&de[0].r>=Me)break;L.dense?(q[de[0].r]||(q[de[0].r]=[]),q[de[0].r][de[0].c]=de[1]):q[xn(de[0])]=de[1],ye.e.c<de[0].c&&(ye.e.c=de[0].c),ye.e.r<de[0].r&&(ye.e.r=de[0].r);break;case 27:de[14e3]&&(Ce[de[14e3][0]]=de[14e3][1]);break;case 1537:Ce[de[0]]=de[1],de[0]==ae&&(X=de[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(q["!ref"]=Ss(ye),W[se||X]=q,ee.push(se||X),!Ce.length)return{SheetNames:ee,Sheets:W};for(var we={},oe=[],ze=0;ze<Ce.length;++ze)W[ee[ze]]?(oe.push(Ce[ze]||ee[ze]),we[Ce[ze]]=W[Ce[ze]]||W[ee[ze]]):(oe.push(Ce[ze]),we[Ce[ze]]={"!ref":"A1"});return{SheetNames:oe,Sheets:we}}function n(F,P){var L=P||{};if(+L.codepage>=0&&Wm(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var q=ma(),X=Pn(F["!ref"]),se=Array.isArray(F),ae=[];kt(q,0,i(1030)),kt(q,6,c(X));for(var W=Math.min(X.e.r,8191),ee=X.s.r;ee<=W;++ee)for(var Ce=mi(ee),ye=X.s.c;ye<=X.e.c;++ye){ee===X.s.r&&(ae[ye]=Ui(ye));var Me=ae[ye]+Ce,we=se?(F[ee]||[])[ye]:F[Me];if(!(!we||we.t=="z"))if(we.t=="n")(we.v|0)==we.v&&we.v>=-32768&&we.v<=32767?kt(q,13,h(ee,ye,we.v)):kt(q,14,p(ee,ye,we.v));else{var oe=bc(we);kt(q,15,f(ee,ye,oe.slice(0,239)))}}return kt(q,1),q.end()}function s(F,P){var L=P||{};if(+L.codepage>=0&&Wm(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var q=ma();kt(q,0,a(F));for(var X=0,se=0;X<F.SheetNames.length;++X)(F.Sheets[F.SheetNames[X]]||{})["!ref"]&&kt(q,27,O(F.SheetNames[X],se++));var ae=0;for(X=0;X<F.SheetNames.length;++X){var W=F.Sheets[F.SheetNames[X]];if(!(!W||!W["!ref"])){for(var ee=Pn(W["!ref"]),Ce=Array.isArray(W),ye=[],Me=Math.min(ee.e.r,8191),we=ee.s.r;we<=Me;++we)for(var oe=mi(we),ze=ee.s.c;ze<=ee.e.c;++ze){we===ee.s.r&&(ye[ze]=Ui(ze));var de=ye[ze]+oe,be=Ce?(W[we]||[])[ze]:W[de];if(!(!be||be.t=="z"))if(be.t=="n")kt(q,23,C(we,ze,ae,be.v));else{var Be=bc(be);kt(q,22,j(we,ze,ae,Be.slice(0,239)))}}++ae}}return kt(q,1),q.end()}function i(F){var P=ot(2);return P.write_shift(2,F),P}function a(F){var P=ot(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var L=0,q=0,X=0,se=0;se<F.SheetNames.length;++se){var ae=F.SheetNames[se],W=F.Sheets[ae];if(!(!W||!W["!ref"])){++X;var ee=qa(W["!ref"]);L<ee.e.r&&(L=ee.e.r),q<ee.e.c&&(q=ee.e.c)}}return L>8191&&(L=8191),P.write_shift(2,L),P.write_shift(1,X),P.write_shift(1,q),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function o(F,P,L){var q={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&L.qpro?(q.s.c=F.read_shift(1),F.l++,q.s.r=F.read_shift(2),q.e.c=F.read_shift(1),F.l++,q.e.r=F.read_shift(2),q):(q.s.c=F.read_shift(2),q.s.r=F.read_shift(2),P==12&&L.qpro&&(F.l+=2),q.e.c=F.read_shift(2),q.e.r=F.read_shift(2),P==12&&L.qpro&&(F.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(F){var P=ot(8);return P.write_shift(2,F.s.c),P.write_shift(2,F.s.r),P.write_shift(2,F.e.c),P.write_shift(2,F.e.r),P}function u(F,P,L){var q=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(q[0].c=F.read_shift(1),q[3]=F.read_shift(1),q[0].r=F.read_shift(2),F.l+=2):(q[2]=F.read_shift(1),q[0].c=F.read_shift(2),q[0].r=F.read_shift(2)),q}function A(F,P,L){var q=F.l+P,X=u(F,P,L);if(X[1].t="s",L.vers==20768){F.l++;var se=F.read_shift(1);return X[1].v=F.read_shift(se,"utf8"),X}return L.qpro&&F.l++,X[1].v=F.read_shift(q-F.l,"cstr"),X}function f(F,P,L){var q=ot(7+L.length);q.write_shift(1,255),q.write_shift(2,P),q.write_shift(2,F),q.write_shift(1,39);for(var X=0;X<q.length;++X){var se=L.charCodeAt(X);q.write_shift(1,se>=128?95:se)}return q.write_shift(1,0),q}function d(F,P,L){var q=u(F,P,L);return q[1].v=F.read_shift(2,"i"),q}function h(F,P,L){var q=ot(7);return q.write_shift(1,255),q.write_shift(2,P),q.write_shift(2,F),q.write_shift(2,L,"i"),q}function g(F,P,L){var q=u(F,P,L);return q[1].v=F.read_shift(8,"f"),q}function p(F,P,L){var q=ot(13);return q.write_shift(1,255),q.write_shift(2,P),q.write_shift(2,F),q.write_shift(8,L,"f"),q}function m(F,P,L){var q=F.l+P,X=u(F,P,L);if(X[1].v=F.read_shift(8,"f"),L.qpro)F.l=q;else{var se=F.read_shift(2);w(F.slice(F.l,F.l+se),X),F.l+=se}return X}function x(F,P,L){var q=P&32768;return P&=-32769,P=(q?F:0)+(P>=8192?P-16384:P),(q?"":"$")+(L?Ui(P):mi(P))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(F,P){Ra(F,0);for(var L=[],q=0,X="",se="",ae="",W="";F.l<F.length;){var ee=F[F.l++];switch(ee){case 0:L.push(F.read_shift(8,"f"));break;case 1:se=x(P[0].c,F.read_shift(2),!0),X=x(P[0].r,F.read_shift(2),!1),L.push(se+X);break;case 2:{var Ce=x(P[0].c,F.read_shift(2),!0),ye=x(P[0].r,F.read_shift(2),!1);se=x(P[0].c,F.read_shift(2),!0),X=x(P[0].r,F.read_shift(2),!1),L.push(Ce+ye+":"+se+X)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(F.read_shift(2));break;case 6:{for(var Me="";ee=F[F.l++];)Me+=String.fromCharCode(ee);L.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:W=L.pop(),ae=L.pop(),L.push(["AND","OR"][ee-20]+"("+ae+","+W+")");break;default:if(ee<32&&y[ee])W=L.pop(),ae=L.pop(),L.push(ae+y[ee]+W);else if(v[ee]){if(q=v[ee][1],q==69&&(q=F[F.l++]),q>L.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+L.join("|")+"|");return}var we=L.slice(-q);L.length-=q,L.push(v[ee][0]+"("+we.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}L.length==1?P[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function S(F){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=F.read_shift(2),P[3]=F[F.l++],P[0].c=F[F.l++],P}function T(F,P){var L=S(F);return L[1].t="s",L[1].v=F.read_shift(P-4,"cstr"),L}function j(F,P,L,q){var X=ot(6+q.length);X.write_shift(2,F),X.write_shift(1,L),X.write_shift(1,P),X.write_shift(1,39);for(var se=0;se<q.length;++se){var ae=q.charCodeAt(se);X.write_shift(1,ae>=128?95:ae)}return X.write_shift(1,0),X}function I(F,P){var L=S(F);L[1].v=F.read_shift(2);var q=L[1].v>>1;if(L[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return L[1].v=q,L}function B(F,P){var L=S(F),q=F.read_shift(4),X=F.read_shift(4),se=F.read_shift(2);if(se==65535)return q===0&&X===3221225472?(L[1].t="e",L[1].v=15):q===0&&X===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var ae=se&32768;return se=(se&32767)-16446,L[1].v=(1-ae*2)*(X*Math.pow(2,se+32)+q*Math.pow(2,se)),L}function C(F,P,L,q){var X=ot(14);if(X.write_shift(2,F),X.write_shift(1,L),X.write_shift(1,P),q==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var se=0,ae=0,W=0,ee=0;return q<0&&(se=1,q=-q),ae=Math.log2(q)|0,q/=Math.pow(2,ae-31),ee=q>>>0,ee&2147483648||(q/=2,++ae,ee=q>>>0),q-=ee,ee|=2147483648,ee>>>=0,q*=Math.pow(2,32),W=q>>>0,X.write_shift(4,W),X.write_shift(4,ee),ae+=16383+(se?32768:0),X.write_shift(2,ae),X}function N(F,P){var L=B(F);return F.l+=P-14,L}function k(F,P){var L=S(F),q=F.read_shift(4);return L[1].v=q>>6,L}function E(F,P){var L=S(F),q=F.read_shift(8,"f");return L[1].v=q,L}function U(F,P){var L=E(F);return F.l+=P-10,L}function D(F,P){return F[F.l+P-1]==0?F.read_shift(P,"cstr"):""}function M(F,P){var L=F[F.l++];L>P-1&&(L=P-1);for(var q="";q.length<L;)q+=String.fromCharCode(F[F.l++]);return q}function Q(F,P,L){if(!(!L.qpro||P<21)){var q=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var X=F.read_shift(P-21,"cstr");return[q,X]}}function K(F,P){for(var L={},q=F.l+P;F.l<q;){var X=F.read_shift(2);if(X==14e3){for(L[X]=[0,""],L[X][0]=F.read_shift(2);F[F.l];)L[X][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return L}function O(F,P){var L=ot(5+F.length);L.write_shift(2,14e3),L.write_shift(2,P);for(var q=0;q<F.length;++q){var X=F.charCodeAt(q);L[L.l++]=X>127?95:X}return L[L.l++]=0,L}var z={0:{n:"BOF",f:CG},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:m},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:D},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:E},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:D},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),oBe=/^\s|\s$|[\t\n\r]/;function IG(e,t){if(!t.bookSST)return"";var r=[js];r[r.length]=Tt("sst",null,{xmlns:ph[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(oBe)&&(i+=' xml:space="preserve"'),i+=">"+gn(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function lBe(e){return[e.read_shift(4),e.read_shift(4)]}function cBe(e,t){return t||(t=ot(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var ABe=e4e;function uBe(e){var t=ma();wt(t,159,cBe(e));for(var r=0;r<e.length;++r)wt(t,19,ABe(e[r]));return wt(t,160),t.end()}function fBe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function kG(e){var t=0,r,n=fBe(e),s=n.length+1,i,a,o,c,u;for(r=Du(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)a=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^a;return t^52811}var dBe=function(){function e(s,i){switch(i.type){case"base64":return t(wc(s),i);case"binary":return t(s,i);case"buffer":return t(nn&&Buffer.isBuffer(s)?s.toString("binary"):kp(s),i);case"array":return t(cy(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var a=i||{},o=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(A,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,g,p=-1;g=d.exec(A);){switch(g[0]){case"\\cell":var m=A.slice(h,d.lastIndex-g[0].length);if(m[0]==" "&&(m=m.slice(1)),++p,m.length){var x={v:m,t:"s"};Array.isArray(o)?o[f][p]=x:o[xn({r:f,c:p})]=x}break}h=d.lastIndex}p>u.e.c&&(u.e.c=p)}),o["!ref"]=Ss(u),o}function r(s,i){return of(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=Pn(s["!ref"]),o,c=Array.isArray(s),u=a.s.r;u<=a.e.r;++u){i.push("\\trowd\\trautofit1");for(var A=a.s.c;A<=a.e.c;++A)i.push("\\cellx"+(A+1));for(i.push("\\pard\\intbl"),A=a.s.c;A<=a.e.c;++A){var f=xn({r:u,c:A});o=c?(s[u]||[])[A]:s[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(bc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function wP(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var hBe=6,uc=hBe;function p2(e){return Math.floor((e+Math.round(128/uc)/256)*uc)}function g2(e){return Math.floor((e-5)/uc*100+.5)/100}function mC(e){return Math.round((e*uc+5)/uc*256)/256}function k6(e){e.width?(e.wpx=p2(e.width),e.wch=g2(e.wpx),e.MDW=uc):e.wpx?(e.wch=g2(e.wpx),e.width=mC(e.wch),e.MDW=uc):typeof e.wch=="number"&&(e.width=mC(e.wch),e.wpx=p2(e.width),e.MDW=uc),e.customWidth&&delete e.customWidth}var mBe=96,LG=mBe;function x2(e){return e*96/LG}function UG(e){return e*LG/96}function pBe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Tt("numFmt",null,{numFmtId:n,formatCode:gn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Tt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function gBe(e){var t=[];return t[t.length]=Tt("cellXfs",null),e.forEach(function(r){t[t.length]=Tt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Tt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function PG(e,t){var r=[js,Tt("styleSheet",null,{xmlns:ph[0],"xmlns:vt":Gs.vt})],n;return e.SSF&&(n=pBe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=gBe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function xBe(e,t){var r=e.read_shift(2),n=Pi(e);return[r,n]}function vBe(e,t,r){r||(r=ot(6+4*t.length)),r.write_shift(2,e),Ys(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function yBe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=o4e(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(n.underline=a);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=a4e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pi(e),n}function wBe(e,t){t||(t=ot(25+4*32)),t.write_shift(2,e.sz*20),l4e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),h2(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ys(e.name,t),t.length>t.l?t.slice(0,t.l):t}var bBe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],G3,BBe=Cl;function bP(e,t){t||(t=ot(4*3+8*7+16*1)),G3||(G3=w6(bBe));var r=G3[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(h2({auto:1},t),h2({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function NBe(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function MG(e,t,r){r||(r=ot(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function d0(e,t){return t||(t=ot(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var _Be=Cl;function CBe(e,t){return t||(t=ot(51)),t.write_shift(1,0),d0(null,t),d0(null,t),d0(null,t),d0(null,t),d0(null,t),t.length>t.l?t.slice(0,t.l):t}function EBe(e,t){return t||(t=ot(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),d2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function SBe(e,t,r){var n=ot(2052);return n.write_shift(4,e),d2(t,n),d2(r,n),n.length>n.l?n.slice(0,n.l):n}function FBe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(wt(e,615,Po(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&wt(e,44,vBe(s,t[s]))}),wt(e,616))}}function jBe(e){var t=1;wt(e,611,Po(t)),wt(e,43,wBe({sz:12,color:{theme:1},name:"Calibri",family:2})),wt(e,612)}function TBe(e){var t=2;wt(e,603,Po(t)),wt(e,45,bP({patternType:"none"})),wt(e,45,bP({patternType:"gray125"})),wt(e,604)}function IBe(e){var t=1;wt(e,613,Po(t)),wt(e,46,CBe()),wt(e,614)}function kBe(e){var t=1;wt(e,626,Po(t)),wt(e,47,MG({numFmtId:0},65535)),wt(e,627)}function LBe(e,t){wt(e,617,Po(t.length)),t.forEach(function(r){wt(e,47,MG(r,0))}),wt(e,618)}function UBe(e){var t=1;wt(e,619,Po(t)),wt(e,48,EBe({xfId:0,name:"Normal"})),wt(e,620)}function PBe(e){var t=0;wt(e,505,Po(t)),wt(e,506)}function MBe(e){var t=0;wt(e,508,SBe(t,"TableStyleMedium9","PivotStyleMedium4")),wt(e,509)}function RBe(e,t){var r=ma();return wt(r,278),FBe(r,e.SSF),jBe(r),TBe(r),IBe(r),kBe(r),LBe(r,t.cellXfs),UBe(r),PBe(r),MBe(r),wt(r,279),r.end()}function RG(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[js];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function OBe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pi(e)}}function QBe(e){var t=ot(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ys(e.name,t),t.slice(0,t.l)}function DBe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function HBe(e){var t=ot(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function $Be(e,t){var r=ot(8+2*t.length);return r.write_shift(4,e),Ys(t,r),r.slice(0,r.l)}function qBe(e){return e.l+=4,e.read_shift(4)!=0}function KBe(e,t){var r=ot(8);return r.write_shift(4,e),r.write_shift(4,1),r}function zBe(){var e=ma();return wt(e,332),wt(e,334,Po(1)),wt(e,335,QBe({name:"XLDAPR",version:12e4,flags:3496657072})),wt(e,336),wt(e,339,$Be(1,"XLDAPR")),wt(e,52),wt(e,35,Po(514)),wt(e,4096,Po(0)),wt(e,4097,to(1)),wt(e,36),wt(e,53),wt(e,340),wt(e,337,KBe(1)),wt(e,51,HBe([[1,0]])),wt(e,338),wt(e,333),e.end()}function OG(){var e=[js];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function GBe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=xn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var od=1024;function QG(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Tt("xml",null,{"xmlns:v":Qa.v,"xmlns:o":Qa.o,"xmlns:x":Qa.x,"xmlns:mv":Qa.mv}).replace(/\/>/,">"),Tt("o:shapelayout",Tt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Tt("v:shapetype",[Tt("v:stroke",null,{joinstyle:"miter"}),Tt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];od<e*1e3;)od+=1e3;return t.forEach(function(i){var a=Ws(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Tt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Tt("v:fill",c,o),A={on:"t",obscured:"t"};++od,s=s.concat(["<v:shape"+Zm({id:"_x0000_s"+od,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Tt("v:shadow",null,A),Tt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fi("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),fi("x:AutoFill","False"),fi("x:Row",String(a.r)),fi("x:Column",String(a.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function DG(e){var t=[js,Tt("comments",null,{xmlns:ph[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=gn(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(gn(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(fi("t",gn(i[0]||"")));else{for(var a=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)a+=`Reply:
    `+i[o]+`
`;t.push(fi("t",gn(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function VBe(e,t,r){var n=[js,Tt("ThreadedComments",null,{xmlns:Gs.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(Tt("threadedComment",fi("text",a.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function WBe(e){var t=[js,Tt("personList",null,{xmlns:Gs.TCMNT,"xmlns:x":ph[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Tt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function YBe(e){var t={};t.iauthor=e.read_shift(4);var r=uf(e);return t.rfx=r.s,t.ref=xn(r.s),e.l+=16,t}function XBe(e,t){return t==null&&(t=ot(36)),t.write_shift(4,e[1].iauthor),xh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var JBe=Pi;function ZBe(e){return Ys(e.slice(0,54))}function e3e(e){var t=ma(),r=[];return wt(t,628),wt(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),wt(t,632,ZBe(s.a)))})}),wt(t,631),wt(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:Ws(n[0]),e:Ws(n[0])};wt(t,635,XBe([i,s])),s.t&&s.t.length>0&&wt(t,637,r4e(s)),wt(t,636),delete s.iauthor})}),wt(t,634),wt(t,629),t.end()}function t3e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&vn.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var HG=["xlsb","xlsm","xlam","biff8","xla"],r3e=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,a){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,A=a.length>0?parseInt(a,10)|0:0;return o?A+=t.c:--A,c?u+=t.r:--u,s+(o?"":"$")+Ui(A)+(c?"":"$")+mi(u)}return function(s,i){return t=i,s.replace(e,r)}}(),L6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,U6=function(){return function(t,r){return t.replace(L6,function(n,s,i,a,o,c){var u=S6(a)-(i?0:r.c),A=E6(c)-(o?0:r.r),f=A==0?"":o?A+1:"["+A+"]",d=u==0?"":i?u+1:"["+u+"]";return s+"R"+f+"C"+d})}}();function n3e(e,t){return e.replace(L6,function(r,n,s,i,a,o){return n+(s=="$"?s+i:Ui(S6(i)+t.c))+(a=="$"?a+o:mi(E6(o)+t.r))})}function s3e(e){return e.length!=1}function Ns(e){e.l+=1}function SA(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function $G(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return qG(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),a=SA(e),o=SA(e);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function qG(e){var t=SA(e),r=SA(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function i3e(e,t,r){if(r.biff<8)return qG(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=SA(e),a=SA(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function KG(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return a3e(e);var n=e.read_shift(r&&r.biff==12?4:2),s=SA(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function a3e(e){var t=SA(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function o3e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function l3e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return c3e(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function c3e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function A3e(e,t,r){var n=(e[e.l++]&96)>>5,s=$G(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function u3e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var a=$G(e,i,r);return[n,s,a]}function f3e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function d3e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function h3e(e,t,r){var n=(e[e.l++]&96)>>5,s=i3e(e,t-1,r);return[n,s]}function m3e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function BP(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function p3e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function g3e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function x3e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function v3e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function y3e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function zG(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function w3e(e){return e.read_shift(2),zG(e)}function b3e(e){return e.read_shift(2),zG(e)}function B3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=KG(e,0,r);return[n,s]}function N3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=l3e(e,0,r);return[n,s]}function _3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=KG(e,0,r);return[n,s,i]}function C3e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[CNe[s],WG[s],n]}function E3e(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:S3e(e);return[s,(i[0]===0?WG:_Ne)[i[1]]]}function S3e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function F3e(e,t,r){e.l+=r&&r.biff==2?3:4}function j3e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function T3e(e){return e.l++,Pp[e.read_shift(1)]}function I3e(e){return e.l++,e.read_shift(2)}function k3e(e){return e.l++,e.read_shift(1)!==0}function L3e(e){return e.l++,vh(e)}function U3e(e,t,r){return e.l++,SG(e,t-1,r)}function P3e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=_4e(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Pp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=vh(e);break;case 2:r[1]=F4e(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function M3e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?uf:I4e)(e));return s}function R3e(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=P3e(e,r.biff);return a}function O3e(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Q3e(e,t,r){if(r.biff==5)return D3e(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function D3e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function H3e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function $3e(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function q3e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function K3e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var z3e=Cl,G3e=Cl,V3e=Cl;function Mp(e,t,r){return e.l+=2,[o3e(e)]}function P6(e){return e.l+=6,[]}var W3e=Mp,Y3e=P6,X3e=P6,J3e=Mp;function GG(e){return e.l+=2,[CG(e),e.read_shift(2)&1]}var Z3e=Mp,eNe=GG,tNe=P6,rNe=Mp,nNe=Mp,sNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function iNe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),a=sNe[r>>2&31];return{ixti:t,coltype:r&3,rt:a,idx:n,c:s,C:i}}function aNe(e){return e.l+=2,[e.read_shift(4)]}function oNe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function lNe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function cNe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ANe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function uNe(e){return e.l+=4,[0,0]}var NP={1:{n:"PtgExp",f:j3e},2:{n:"PtgTbl",f:V3e},3:{n:"PtgAdd",f:Ns},4:{n:"PtgSub",f:Ns},5:{n:"PtgMul",f:Ns},6:{n:"PtgDiv",f:Ns},7:{n:"PtgPower",f:Ns},8:{n:"PtgConcat",f:Ns},9:{n:"PtgLt",f:Ns},10:{n:"PtgLe",f:Ns},11:{n:"PtgEq",f:Ns},12:{n:"PtgGe",f:Ns},13:{n:"PtgGt",f:Ns},14:{n:"PtgNe",f:Ns},15:{n:"PtgIsect",f:Ns},16:{n:"PtgUnion",f:Ns},17:{n:"PtgRange",f:Ns},18:{n:"PtgUplus",f:Ns},19:{n:"PtgUminus",f:Ns},20:{n:"PtgPercent",f:Ns},21:{n:"PtgParen",f:Ns},22:{n:"PtgMissArg",f:Ns},23:{n:"PtgStr",f:U3e},26:{n:"PtgSheet",f:oNe},27:{n:"PtgEndSheet",f:lNe},28:{n:"PtgErr",f:T3e},29:{n:"PtgBool",f:k3e},30:{n:"PtgInt",f:I3e},31:{n:"PtgNum",f:L3e},32:{n:"PtgArray",f:m3e},33:{n:"PtgFunc",f:C3e},34:{n:"PtgFuncVar",f:E3e},35:{n:"PtgName",f:O3e},36:{n:"PtgRef",f:B3e},37:{n:"PtgArea",f:A3e},38:{n:"PtgMemArea",f:H3e},39:{n:"PtgMemErr",f:z3e},40:{n:"PtgMemNoMem",f:G3e},41:{n:"PtgMemFunc",f:$3e},42:{n:"PtgRefErr",f:q3e},43:{n:"PtgAreaErr",f:f3e},44:{n:"PtgRefN",f:N3e},45:{n:"PtgAreaN",f:h3e},46:{n:"PtgMemAreaN",f:cNe},47:{n:"PtgMemNoMemN",f:ANe},57:{n:"PtgNameX",f:Q3e},58:{n:"PtgRef3d",f:_3e},59:{n:"PtgArea3d",f:u3e},60:{n:"PtgRefErr3d",f:K3e},61:{n:"PtgAreaErr3d",f:d3e},255:{}},fNe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},dNe={1:{n:"PtgElfLel",f:GG},2:{n:"PtgElfRw",f:rNe},3:{n:"PtgElfCol",f:W3e},6:{n:"PtgElfRwV",f:nNe},7:{n:"PtgElfColV",f:J3e},10:{n:"PtgElfRadical",f:Z3e},11:{n:"PtgElfRadicalS",f:tNe},13:{n:"PtgElfColS",f:Y3e},15:{n:"PtgElfColSV",f:X3e},16:{n:"PtgElfRadicalLel",f:eNe},25:{n:"PtgList",f:iNe},29:{n:"PtgSxName",f:aNe},255:{}},hNe={0:{n:"PtgAttrNoop",f:uNe},1:{n:"PtgAttrSemi",f:y3e},2:{n:"PtgAttrIf",f:x3e},4:{n:"PtgAttrChoose",f:p3e},8:{n:"PtgAttrGoto",f:g3e},16:{n:"PtgAttrSum",f:F3e},32:{n:"PtgAttrBaxcel",f:BP},33:{n:"PtgAttrBaxcel",f:BP},64:{n:"PtgAttrSpace",f:w3e},65:{n:"PtgAttrSpaceSemi",f:b3e},128:{n:"PtgAttrIfError",f:v3e},255:{}};function mNe(e,t,r,n){if(n.biff<8)return Cl(e,t);for(var s=e.l+t,i=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=R3e(e,0,n),i.push(r[a][1]);break;case"PtgMemArea":r[a][2]=M3e(e,r[a][1],n),i.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=e.read_shift(4),i.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return t=s-e.l,t!==0&&i.push(Cl(e,t)),i}function pNe(e,t,r){for(var n=e.l+t,s,i,a=[];n!=e.l;)t=n-e.l,i=e[e.l],s=NP[i]||NP[fNe[i]],(i===24||i===25)&&(s=(i===24?dNe:hNe)[e[e.l+1]]),!s||!s.f?Cl(e,t):a.push([s.n,s.f(e,t,r)]);return a}function gNe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var xNe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function vNe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function VG(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function _P(e,t,r){var n=VG(e,t,r);return n=="#REF"?n:vNe(n,r)}function Wd(e,t,r,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},o=[],c,u,A,f=0,d=0,h,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,m="",x=0,v=e[0].length;x<v;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:m=rs(" ",e[0][p][1][1]);break;case 1:m=rs("\r",e[0][p][1][1]);break;default:if(m="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+m,p=-1}o.push(u+xNe[y[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=Am(y[1][1],a,s),o.push(um(A,i));break;case"PtgRefN":A=r?Am(y[1][1],r,s):y[1][1],o.push(um(A,i));break;case"PtgRef3d":f=y[1][1],A=Am(y[1][2],a,s),g=_P(n,f,s),o.push(g+"!"+um(A,i));break;case"PtgFunc":case"PtgFuncVar":var w=y[1][0],S=y[1][1];w||(w=0),w&=127;var T=w==0?[]:o.slice(-w);o.length-=w,S==="User"&&(S=T.shift()),o.push(S+"("+T.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":h=cP(y[1][1],r?{s:r}:a,s),o.push(K3(h,s));break;case"PtgArea":h=cP(y[1][1],a,s),o.push(K3(h,s));break;case"PtgArea3d":f=y[1][1],h=y[1][2],g=_P(n,f,s),o.push(g+"!"+K3(h,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=y[1][2];var j=(n.names||[])[d-1]||(n[0]||[])[d],I=j?j.Name:"SH33TJSNAME"+String(d);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var B=y[1][1];d=y[1][2];var C;if(s.biff<=5)B<0&&(B=-B),n[B]&&(C=n[B][d]);else{var N="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][d]&&n[B][d].itab>0&&(N=n.SheetNames[n[B][d].itab-1]+"!"):N=n.SheetNames[d-1]+"!"),n[B]&&n[B][d])N+=n[B][d].Name;else if(n[0]&&n[0][d])N+=n[0][d].Name;else{var k=(VG(n,B,s)||"").split(";;");k[d-1]?N=k[d-1]:N+="SH33TJSERRX"}o.push(N);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var E="(",U=")";if(p>=0){switch(m="",e[0][p][1][0]){case 2:E=rs(" ",e[0][p][1][1])+E;break;case 3:E=rs("\r",e[0][p][1][1])+E;break;case 4:U=rs(" ",e[0][p][1][1])+U;break;case 5:U=rs("\r",e[0][p][1][1])+U;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(E+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":A={c:y[1][1],r:y[1][0]};var D={c:r.c,r:r.r};if(n.sharedf[xn(A)]){var M=n.sharedf[xn(A)];o.push(Wd(M,a,D,n,s))}else{var Q=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(A.c<u[0].s.c||A.c>u[0].e.c)&&!(A.r<u[0].s.r||A.r>u[0].e.r)){o.push(Wd(u[1],a,D,n,s)),Q=!0;break}Q||o.push(y[1])}break;case"PtgArray":o.push("{"+gNe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&p>=0&&K.indexOf(e[0][x][0])==-1){y=e[0][p];var O=!0;switch(y[1][0]){case 4:O=!1;case 0:m=rs(" ",y[1][1]);break;case 5:O=!1;case 1:m=rs("\r",y[1][1]);break;default:if(m="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((O?m:"")+o.pop()+(O?"":m)),p=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function yNe(e){if(e==null){var t=ot(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Hu(e);return Hu(0)}function wNe(e,t,r,n,s){var i=$u(t,r,s),a=yNe(e.v),o=ot(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=ot(e.bf.length),A=0;A<e.bf.length;++A)u[A]=e.bf[A];var f=ui([i,a,o,u]);return f}function Ay(e,t,r){var n=e.read_shift(4),s=pNe(e,n,r),i=e.read_shift(4),a=i>0?mNe(e,i,s,r):null;return[s,a]}var bNe=Ay,uy=Ay,BNe=Ay,NNe=Ay,_Ne={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},WG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},CNe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ENe(e){var t="of:="+e.replace(L6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function SNe(e){return e.replace(/\./,"!")}var fm=typeof Map<"u";function M6(e,t,r){var n=0,s=e.length;if(r){if(fm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=fm?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(fm?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function fy(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(uc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=g2(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=mC(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function YG(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function OA(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){Kz(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function FNe(e,t,r){if(e&&e["!ref"]){var n=Pn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function jNe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ss(e[r])+'"/>';return t+"</mergeCells>"}function TNe(e,t,r,n,s){var i=!1,a={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,a.codeName=Jm(gn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Tt("outlinePr",null,u)}!i&&!o||(s[s.length]=Tt("sheetPr",o,a))}var INe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],kNe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function LNe(e){var t={sheet:1};return INe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),kNe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=kG(e.password).toString(16).toUpperCase()),Tt("sheetProtection",null,t)}function UNe(e){return YG(e),Tt("pageMargins",null,e)}function PNe(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=Tt("col",null,fy(s,n)));return r[r.length]="</cols>",r.join("")}function MNe(e,t,r,n){var s=typeof e.ref=="string"?e.ref:Ss(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,a=qa(s);a.s.r==a.e.r&&(a.e.r=qa(t["!ref"]).e.r,s=Ss(a));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Tt("autoFilter",null,{ref:s})}function RNe(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Tt("sheetViews",Tt("sheetView",null,s),{})}function ONe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,a=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Pp[e.v];break;case"d":n&&n.cellDates?s=Zi(e.v,-1).toISOString():(e=ya(e),e.t="n",s=""+(e.v=va(Zi(e.v)))),typeof e.z>"u"&&(e.z=as[14]);break;default:s=e.v;break}var o=fi("v",gn(s)),c={r:t},u=OA(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=fi("v",""+M6(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=a),typeof e.f=="string"&&e.f){var A=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Tt("f",gn(e.f),A)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Tt("c",o,c)}function QNe(e,t,r,n){var s=[],i=[],a=Pn(e["!ref"]),o="",c,u="",A=[],f=0,d=0,h=e["!rows"],g=Array.isArray(e),p={r:u},m,x=-1;for(d=a.s.c;d<=a.e.c;++d)A[d]=Ui(d);for(f=a.s.r;f<=a.e.r;++f){for(i=[],u=mi(f),d=a.s.c;d<=a.e.c;++d){c=A[d]+u;var v=g?(e[f]||[])[d]:e[c];v!==void 0&&(o=ONe(v,c,e,t))!=null&&i.push(o)}(i.length>0||h&&h[f])&&(p={r:u},h&&h[f]&&(m=h[f],m.hidden&&(p.hidden=1),x=-1,m.hpx?x=x2(m.hpx):m.hpt&&(x=m.hpt),x>-1&&(p.ht=x,p.customHeight=1),m.level&&(p.outlineLevel=m.level)),s[s.length]=Tt("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},m=h[f],m.hidden&&(p.hidden=1),x=-1,m.hpx?x=x2(m.hpx):m.hpt&&(x=m.hpt),x>-1&&(p.ht=x,p.customHeight=1),m.level&&(p.outlineLevel=m.level),s[s.length]=Tt("row","",p));return s.join("")}function XG(e,t,r,n){var s=[js,Tt("worksheet",null,{xmlns:ph[0],"xmlns:r":Gs.r})],i=r.SheetNames[e],a=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",A=Pn(u);if(A.e.c>16383||A.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575),u=Ss(A)}n||(n={}),c["!comments"]=[];var f=[];TNe(c,r,e,t,s),s[s.length]=Tt("dimension",null,{ref:u}),s[s.length]=RNe(c,t,e,r),t.sheetFormat&&(s[s.length]=Tt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=PNe(c,c["!cols"])),s[a=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=QNe(c,t),o.length>0&&(s[s.length]=o)),s.length>a+1&&(s[s.length]="</sheetData>",s[a]=s[a].replace("/>",">")),c["!protect"]&&(s[s.length]=LNe(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=MNe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=jNe(c["!merges"]));var d=-1,h,g=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=mn(n,-1,gn(p[1].Target).replace(/#.*$/,""),Yr.HLINK),h["r:id"]="rId"+g),(d=p[1].Target.indexOf("#"))>-1&&(h.location=gn(p[1].Target.slice(d+1))),p[1].Tooltip&&(h.tooltip=gn(p[1].Tooltip)),s[s.length]=Tt("hyperlink",null,h))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=UNe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=fi("ignoredErrors",Tt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=mn(n,-1,"../drawings/drawing"+(e+1)+".xml",Yr.DRAW),s[s.length]=Tt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=mn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Yr.VML),s[s.length]=Tt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function DNe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function HNe(e,t,r){var n=ot(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=x2(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var a=0;s.level&&(a|=s.level),s.hidden&&(a|=16),(s.hpx||s.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},A=0;A<16;++A)if(!(t.s.c>A+1<<10||t.e.c<A<<10)){for(var f=-1,d=-1,h=A<<10;h<A+1<<10;++h){u.c=h;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[xn(u)];g&&(f<0&&(f=h),d=h)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var p=n.l;return n.l=c,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function $Ne(e,t,r,n){var s=HNe(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&wt(e,0,s)}var qNe=uf,KNe=xh;function zNe(){}function GNe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=n4e(e),r}function VNe(e,t,r){r==null&&(r=ot(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return h2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),fG(e,r),r.slice(0,r.l)}function WNe(e){var t=xo(e);return[t]}function YNe(e,t,r){return r==null&&(r=ot(8)),lf(t,r)}function XNe(e){var t=cf(e);return[t]}function JNe(e,t,r){return r==null&&(r=ot(4)),Af(t,r)}function ZNe(e){var t=xo(e),r=e.read_shift(1);return[t,r,"b"]}function e_e(e,t,r){return r==null&&(r=ot(9)),lf(t,r),r.write_shift(1,e.v?1:0),r}function t_e(e){var t=cf(e),r=e.read_shift(1);return[t,r,"b"]}function r_e(e,t,r){return r==null&&(r=ot(5)),Af(t,r),r.write_shift(1,e.v?1:0),r}function n_e(e){var t=xo(e),r=e.read_shift(1);return[t,r,"e"]}function s_e(e,t,r){return r==null&&(r=ot(9)),lf(t,r),r.write_shift(1,e.v),r}function i_e(e){var t=cf(e),r=e.read_shift(1);return[t,r,"e"]}function a_e(e,t,r){return r==null&&(r=ot(8)),Af(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function o_e(e){var t=xo(e),r=e.read_shift(4);return[t,r,"s"]}function l_e(e,t,r){return r==null&&(r=ot(12)),lf(t,r),r.write_shift(4,t.v),r}function c_e(e){var t=cf(e),r=e.read_shift(4);return[t,r,"s"]}function A_e(e,t,r){return r==null&&(r=ot(8)),Af(t,r),r.write_shift(4,t.v),r}function u_e(e){var t=xo(e),r=vh(e);return[t,r,"n"]}function f_e(e,t,r){return r==null&&(r=ot(16)),lf(t,r),Hu(e.v,r),r}function d_e(e){var t=cf(e),r=vh(e);return[t,r,"n"]}function h_e(e,t,r){return r==null&&(r=ot(12)),Af(t,r),Hu(e.v,r),r}function m_e(e){var t=xo(e),r=dG(e);return[t,r,"n"]}function p_e(e,t,r){return r==null&&(r=ot(12)),lf(t,r),hG(e.v,r),r}function g_e(e){var t=cf(e),r=dG(e);return[t,r,"n"]}function x_e(e,t,r){return r==null&&(r=ot(8)),Af(t,r),hG(e.v,r),r}function v_e(e){var t=xo(e),r=F6(e);return[t,r,"is"]}function y_e(e){var t=xo(e),r=Pi(e);return[t,r,"str"]}function w_e(e,t,r){return r==null&&(r=ot(12+4*e.v.length)),lf(t,r),Ys(e.v,r),r.length>r.l?r.slice(0,r.l):r}function b_e(e){var t=cf(e),r=Pi(e);return[t,r,"str"]}function B_e(e,t,r){return r==null&&(r=ot(8+4*e.v.length)),Af(t,r),Ys(e.v,r),r.length>r.l?r.slice(0,r.l):r}function N_e(e,t,r){var n=e.l+t,s=xo(e);s.r=r["!row"];var i=e.read_shift(1),a=[s,i,"b"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);a[3]=Wd(o,null,s,r.supbooks,r)}else e.l=n;return a}function __e(e,t,r){var n=e.l+t,s=xo(e);s.r=r["!row"];var i=e.read_shift(1),a=[s,i,"e"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);a[3]=Wd(o,null,s,r.supbooks,r)}else e.l=n;return a}function C_e(e,t,r){var n=e.l+t,s=xo(e);s.r=r["!row"];var i=vh(e),a=[s,i,"n"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);a[3]=Wd(o,null,s,r.supbooks,r)}else e.l=n;return a}function E_e(e,t,r){var n=e.l+t,s=xo(e);s.r=r["!row"];var i=Pi(e),a=[s,i,"str"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);a[3]=Wd(o,null,s,r.supbooks,r)}else e.l=n;return a}var S_e=uf,F_e=xh;function j_e(e,t){return t==null&&(t=ot(4)),t.write_shift(4,e),t}function T_e(e,t){var r=e.l+t,n=uf(e),s=j6(e),i=Pi(e),a=Pi(e),o=Pi(e);e.l=r;var c={rfx:n,relId:s,loc:i,display:o};return a&&(c.Tooltip=a),c}function I_e(e,t){var r=ot(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xh({s:Ws(e[0]),e:Ws(e[0])},r),T6("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Ys(s||"",r),Ys(e[1].Tooltip||"",r),Ys("",r),r.slice(0,r.l)}function k_e(){}function L_e(e,t,r){var n=e.l+t,s=mG(e),i=e.read_shift(1),a=[s];if(a[2]=i,r.cellFormula){var o=bNe(e,n-e.l,r);a[1]=o}else e.l=n;return a}function U_e(e,t,r){var n=e.l+t,s=uf(e),i=[s];if(r.cellFormula){var a=NNe(e,n-e.l,r);i[1]=a,e.l=n}else e.l=n;return i}function P_e(e,t,r){r==null&&(r=ot(18));var n=fy(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var JG=["left","right","top","bottom","header","footer"];function M_e(e){var t={};return JG.forEach(function(r){t[r]=vh(e)}),t}function R_e(e,t){return t==null&&(t=ot(6*8)),YG(e),JG.forEach(function(r){Hu(e[r],t)}),t}function O_e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Q_e(e,t,r){r==null&&(r=ot(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function D_e(e){var t=ot(24);return t.write_shift(4,4),t.write_shift(4,1),xh(e,t),t}function H_e(e,t){return t==null&&(t=ot(16*4+2)),t.write_shift(2,e.password?kG(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function $_e(){}function q_e(){}function K_e(e,t,r,n,s,i,a){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ya(t),t.z=t.z||as[14],t.v=va(Zi(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=OA(s.cellXfs,t,s),t.l&&i["!links"].push([xn(c),t.l]),t.c&&i["!comments"].push([xn(c),t.c]),t.t){case"s":case"str":return s.bookSST?(o=M6(s.Strings,t.v,s.revStrings),c.t="s",c.v=o,a?wt(e,18,A_e(t,c)):wt(e,7,l_e(t,c))):(c.t="str",a?wt(e,17,B_e(t,c)):wt(e,6,w_e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?wt(e,13,x_e(t,c)):wt(e,2,p_e(t,c)):a?wt(e,16,h_e(t,c)):wt(e,5,f_e(t,c)),!0;case"b":return c.t="b",a?wt(e,15,r_e(t,c)):wt(e,4,e_e(t,c)),!0;case"e":return c.t="e",a?wt(e,14,a_e(t,c)):wt(e,3,s_e(t,c)),!0}return a?wt(e,12,JNe(t,c)):wt(e,1,YNe(t,c)),!0}function z_e(e,t,r,n){var s=Pn(t["!ref"]||"A1"),i,a="",o=[];wt(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var A=s.s.r;A<=u;++A){a=mi(A),$Ne(e,t,s,A);var f=!1;if(A<=s.e.r)for(var d=s.s.c;d<=s.e.c;++d){A===s.s.r&&(o[d]=Ui(d)),i=o[d]+a;var h=c?(t[A]||[])[d]:t[i];if(!h){f=!1;continue}f=K_e(e,h,A,d,n,t,f)}}wt(e,146)}function G_e(e,t){!t||!t["!merges"]||(wt(e,177,j_e(t["!merges"].length)),t["!merges"].forEach(function(r){wt(e,176,F_e(r))}),wt(e,178))}function V_e(e,t){!t||!t["!cols"]||(wt(e,390),t["!cols"].forEach(function(r,n){r&&wt(e,60,P_e(n,r))}),wt(e,391))}function W_e(e,t){!t||!t["!ref"]||(wt(e,648),wt(e,649,D_e(Pn(t["!ref"]))),wt(e,650))}function Y_e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=mn(r,-1,n[1].Target.replace(/#.*$/,""),Yr.HLINK);wt(e,494,I_e(n,s))}}),delete t["!links"]}function X_e(e,t,r,n){if(t["!comments"].length>0){var s=mn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Yr.VML);wt(e,551,T6("rId"+s)),t["!legacy"]=s}}function J_e(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Ss(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=qa(i);o.s.r==o.e.r&&(o.e.r=qa(t["!ref"]).e.r,i=Ss(o));for(var c=0;c<a.length;++c){var u=a[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),wt(e,161,xh(Pn(i))),wt(e,162)}}function Z_e(e,t,r){wt(e,133),wt(e,137,Q_e(t,r)),wt(e,138),wt(e,134)}function eCe(e,t){t["!protect"]&&wt(e,535,H_e(t["!protect"]))}function tCe(e,t,r,n){var s=ma(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Pn(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],wt(s,129),(r.vbaraw||a["!outline"])&&wt(s,147,VNe(o,a["!outline"])),wt(s,148,KNe(c)),Z_e(s,a,r.Workbook),V_e(s,a),z_e(s,a,e,t),eCe(s,a),J_e(s,a,r,e),G_e(s,a),Y_e(s,a,n),a["!margins"]&&wt(s,476,R_e(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&W_e(s,a),X_e(s,a,e,n),wt(s,130),s.end()}function rCe(e,t){e.l+=10;var r=Pi(e);return{name:r}}var nCe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function sCe(e){return!e.Workbook||!e.Workbook.WBProps?"false":U5e(e.Workbook.WBProps.date1904)?"true":"false"}var iCe="][*?/\\".split("");function ZG(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return iCe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function aCe(e,t,r){e.forEach(function(n,s){ZG(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=t&&t[s]&&t[s].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function oCe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];aCe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)FNe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function eV(e){var t=[js];t[t.length]=Tt("workbook",null,{xmlns:ph[0],"xmlns:r":Gs.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(nCe.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Tt("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var a={name:gn(e.SheetNames[i].slice(0,31))};if(a.sheetId=""+(i+1),a["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Tt("sheet",null,a)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Tt("definedName",gn(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function lCe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=hC(e),r.name=Pi(e),r}function cCe(e,t){return t||(t=ot(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),T6(e.strRelID,t),Ys(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ACe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Pi(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function uCe(e,t){t||(t=ot(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),fG(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function fCe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=s4e(e),a=BNe(e,0,r),o=j6(e);e.l=n;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function dCe(e,t){wt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};wt(e,156,cCe(s))}wt(e,144)}function hCe(e,t){t||(t=ot(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ys("SheetJS",t),Ys(a2.version,t),Ys(a2.version,t),Ys("7262",t),t.length>t.l?t.slice(0,t.l):t}function mCe(e,t){t||(t=ot(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function pCe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(wt(e,135),wt(e,158,mCe(s)),wt(e,136))}}function gCe(e,t){var r=ma();return wt(r,131),wt(r,128,hCe()),wt(r,153,uCe(e.Workbook&&e.Workbook.WBProps||null)),pCe(r,e),dCe(r,e),wt(r,132),r.end()}function xCe(e,t,r){return(t.slice(-4)===".bin"?gCe:eV)(e)}function vCe(e,t,r,n,s){return(t.slice(-4)===".bin"?tCe:XG)(e,r,n,s)}function yCe(e,t,r){return(t.slice(-4)===".bin"?RBe:PG)(e,r)}function wCe(e,t,r){return(t.slice(-4)===".bin"?uBe:IG)(e,r)}function bCe(e,t,r){return(t.slice(-4)===".bin"?e3e:DG)(e)}function BCe(e){return(e.slice(-4)===".bin"?zBe:OG)()}function NCe(e,t){var r=[];return e.Props&&r.push(y4e(e.Props,t)),e.Custprops&&r.push(w4e(e.Props,e.Custprops)),r.join("")}function _Ce(){return""}function CCe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(Tt("NumberFormat",null,{"ss:Format":gn(as[n.numFmtId])}));var a={"ss:ID":"s"+(21+s)};r.push(Tt("Style",i.join(""),a))}),Tt("Styles",r.join(""))}function tV(e){return Tt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+U6(e.Ref,{r:0,c:0})})}function ECe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(tV(s)))}return Tt("Names",r.join(""))}function SCe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],a=0;a<s.length;++a){var o=s[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(tV(o)))}return i.join("")}function FCe(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Tt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Tt("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Tt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Tt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(fi("ProtectContents","True")),e["!protect"].objects&&s.push(fi("ProtectObjects","True")),e["!protect"].scenarios&&s.push(fi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(fi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(fi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){e["!protect"][a[0]]&&s.push("<"+a[1]+"/>")})),s.length==0?"":Tt("WorksheetOptions",s.join(""),{xmlns:Qa.x})}function jCe(e){return e.map(function(t){var r=L5e(t.t||""),n=Tt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Tt("Comment",n,{"ss:Author":t.a})}).join("")}function TCe(e,t,r,n,s,i,a){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+gn(U6(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var c=Ws(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=gn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=gn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],A=0;A!=u.length;++A)u[A].s.c!=a.c||u[A].s.r!=a.r||(u[A].e.c>u[A].s.c&&(o["ss:MergeAcross"]=u[A].e.c-u[A].s.c),u[A].e.r>u[A].s.r&&(o["ss:MergeDown"]=u[A].e.r-u[A].s.r));var f="",d="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(e.v);break;case"b":f="Boolean",d=e.v?"1":"0";break;case"e":f="Error",d=Pp[e.v];break;case"d":f="DateTime",d=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||as[14]);break;case"s":f="String",d=k5e(e.v||"");break}var h=OA(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=a.c+1;var g=e.v!=null?d:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=jCe(e.c)),Tt("Cell",p,o)}function ICe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=UG(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function kCe(e,t,r,n){if(!e["!ref"])return"";var s=Pn(e["!ref"]),i=e["!merges"]||[],a=0,o=[];e["!cols"]&&e["!cols"].forEach(function(m,x){k6(m);var v=!!m.width,y=fy(x,m),w={"ss:Index":x+1};v&&(w["ss:Width"]=p2(y.width)),m.hidden&&(w["ss:Hidden"]="1"),o.push(Tt("Column",null,w))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var A=[ICe(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var d=!1;for(a=0;a!=i.length;++a)if(!(i[a].s.c>f)&&!(i[a].s.r>u)&&!(i[a].e.c<f)&&!(i[a].e.r<u)){(i[a].s.c!=f||i[a].s.r!=u)&&(d=!0);break}if(!d){var h={r:u,c:f},g=xn(h),p=c?(e[u]||[])[f]:e[g];A.push(TCe(p,g,e,t,r,n,h))}}A.push("</Row>"),A.length>2&&o.push(A.join(""))}return o.join("")}function LCe(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],a=i?SCe(i,t,e,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=i?kCe(i,t,e,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(FCe(i,t,e,r)),n.join("")}function UCe(e,t){t||(t={}),e.SSF||(e.SSF=ya(as)),e.SSF&&(oy(),ay(e.SSF),t.revssf=ly(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],OA(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(NCe(e,t)),r.push(_Ce()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Tt("Worksheet",LCe(n,t,e),{"ss:Name":gn(e.SheetNames[n])}));return r[2]=CCe(e,t),r[3]=ECe(e),js+Tt("Workbook",r.join(""),{xmlns:Qa.ss,"xmlns:o":Qa.o,"xmlns:x":Qa.x,"xmlns:ss":Qa.ss,"xmlns:dt":Qa.dt,"xmlns:html":Qa.html})}var V3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function PCe(e,t){var r=[],n=[],s=[],i=0,a,o=J7(uP,"n"),c=J7(fP,"n");if(e.Props)for(a=pi(e.Props),i=0;i<a.length;++i)(Object.prototype.hasOwnProperty.call(o,a[i])?r:Object.prototype.hasOwnProperty.call(c,a[i])?n:s).push([a[i],e.Props[a[i]]]);if(e.Custprops)for(a=pi(e.Custprops),i=0;i<a.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},a[i])||(Object.prototype.hasOwnProperty.call(o,a[i])?r:Object.prototype.hasOwnProperty.call(c,a[i])?n:s).push([a[i],e.Custprops[a[i]]]);var u=[];for(i=0;i<s.length;++i)_G.indexOf(s[i][0])>-1||bG.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);n.length&&vn.utils.cfb_add(t,"/SummaryInformation",gP(n,V3.SI,c,fP)),(r.length||u.length)&&vn.utils.cfb_add(t,"/DocumentSummaryInformation",gP(r,V3.DSI,o,uP,u.length?u:null,V3.UDI))}function MCe(e,t){var r=t||{},n=vn.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return vn.utils.cfb_add(n,s,rV(e,r)),r.biff==8&&(e.Props||e.Custprops)&&PCe(e,n),r.biff==8&&e.vbaraw&&t3e(n,vn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var RCe={0:{f:DNe},1:{f:WNe},2:{f:m_e},3:{f:n_e},4:{f:ZNe},5:{f:u_e},6:{f:y_e},7:{f:o_e},8:{f:E_e},9:{f:C_e},10:{f:N_e},11:{f:__e},12:{f:XNe},13:{f:g_e},14:{f:i_e},15:{f:t_e},16:{f:d_e},17:{f:b_e},18:{f:c_e},19:{f:F6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fCe},40:{},42:{},43:{f:yBe},44:{f:xBe},45:{f:BBe},46:{f:_Be},47:{f:NBe},48:{},49:{f:X5e},50:{},51:{f:DBe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:J4e},62:{f:v_e},63:{f:GBe},64:{f:$_e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:O_e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:GNe},148:{f:qNe,p:16},151:{f:k_e},152:{},153:{f:ACe},154:{},155:{},156:{f:lCe},157:{},158:{},159:{T:1,f:lBe},160:{T:-1},161:{T:1,f:uf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:S_e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:OBe},336:{T:-1},337:{f:qBe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:z4e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:L_e},427:{f:U_e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:M_e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zNe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:T_e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:JBe},633:{T:1},634:{T:-1},635:{T:1,f:YBe},636:{T:-1},637:{f:t4e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rCe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:q_e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function kt(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,a=e.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&C6(r)&&e.push(r)}}function OCe(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return kt(e,t,r,s);var i=t;if(!isNaN(i)){for(var a=r.parts||[],o=0,c=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var A=e.next(4);for(A.write_shift(2,i),A.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(A=e.next(4),A.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;A.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Rp(e,t,r){return e||(e=ot(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function QCe(e,t,r,n){var s=ot(9);return Rp(s,e,t),EG(r,n||"b",s),s}function DCe(e,t,r){var n=ot(8+2*r.length);return Rp(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function HCe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?va(Zi(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?kt(e,2,rBe(r,n,s)):kt(e,3,tBe(r,n,s));return;case"b":case"e":kt(e,5,QCe(r,n,t.v,t.t));return;case"s":case"str":kt(e,4,DCe(r,n,(t.v||"").slice(0,255)));return}kt(e,1,Rp(null,r,n))}function $Ce(e,t,r,n){var s=Array.isArray(t),i=Pn(t["!ref"]||"A1"),a,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),a=Ss(i)}for(var u=i.s.r;u<=i.e.r;++u){o=mi(u);for(var A=i.s.c;A<=i.e.c;++A){u===i.s.r&&(c[A]=Ui(A)),a=c[A]+o;var f=s?(t[u]||[])[A]:t[a];f&&HCe(e,f,u,A)}}}function qCe(e,t){for(var r=t||{},n=ma(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return kt(n,r.biff==4?1033:r.biff==3?521:9,I6(e,16,r)),$Ce(n,e.Sheets[e.SheetNames[s]],s,r),kt(n,10),n.end()}function KCe(e,t,r){kt(e,49,R4e({sz:12,name:"Arial"},r))}function zCe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&kt(e,1054,D4e(s,t[s],r))})}function GCe(e,t){var r=ot(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),kt(e,2151,r),r=ot(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),jG(Pn(t["!ref"]||"A1"),r),r.write_shift(4,4),kt(e,2152,r)}function VCe(e,t){for(var r=0;r<16;++r)kt(e,224,vP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){kt(e,224,vP(n,0,t))})}function WCe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];kt(e,440,W4e(n)),n[1].Tooltip&&kt(e,2048,Y4e(n))}delete t["!links"]}function YCe(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&kt(e,125,Z4e(fy(s,n),s))})}}function XCe(e,t,r,n,s){var i=16+OA(s.cellXfs,t,s);if(t.v==null&&!t.bf){kt(e,513,$u(r,n,i));return}if(t.bf)kt(e,6,wNe(t,r,n,s,i));else switch(t.t){case"d":case"n":var a=t.t=="d"?va(Zi(t.v)):t.v;kt(e,515,K4e(r,n,a,i));break;case"b":case"e":kt(e,517,q4e(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var o=M6(s.Strings,t.v,s.revStrings);kt(e,253,O4e(r,n,o,i))}else kt(e,516,Q4e(r,n,(t.v||"").slice(0,255),i,s));break;default:kt(e,513,$u(r,n,i))}}function JCe(e,t,r){var n=ma(),s=r.SheetNames[e],i=r.Sheets[s]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,A,f="",d=[],h=Pn(i["!ref"]||"A1"),g=u?65536:16384;if(h.e.c>255||h.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,g-1)}kt(n,2057,I6(r,16,t)),kt(n,13,to(1)),kt(n,12,to(100)),kt(n,15,Gi(!0)),kt(n,17,Gi(!1)),kt(n,16,Hu(.001)),kt(n,95,Gi(!0)),kt(n,42,Gi(!1)),kt(n,43,Gi(!1)),kt(n,130,to(1)),kt(n,128,$4e()),kt(n,131,Gi(!1)),kt(n,132,Gi(!1)),u&&YCe(n,i["!cols"]),kt(n,512,H4e(h,t)),u&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=mi(p);for(var m=h.s.c;m<=h.e.c;++m){p===h.s.r&&(d[m]=Ui(m)),A=d[m]+f;var x=c?(i[p]||[])[m]:i[A];x&&(XCe(n,x,p,m,t),u&&x.l&&i["!links"].push([A,x.l]))}}var v=o.CodeName||o.name||s;return u&&kt(n,574,M4e((a.Views||[])[0])),u&&(i["!merges"]||[]).length&&kt(n,229,V4e(i["!merges"])),u&&WCe(n,i),kt(n,442,FG(v)),u&&GCe(n,i),kt(n,10),n.end()}function ZCe(e,t,r){var n=ma(),s=(e||{}).Workbook||{},i=s.Sheets||[],a=s.WBProps||{},o=r.biff==8,c=r.biff==5;if(kt(n,2057,I6(e,5,r)),r.bookType=="xla"&&kt(n,135),kt(n,225,o?to(1200):null),kt(n,193,N4e(2)),c&&kt(n,191),c&&kt(n,192),kt(n,226),kt(n,92,k4e("SheetJS",r)),kt(n,66,to(o?1200:1252)),o&&kt(n,353,to(0)),o&&kt(n,448),kt(n,317,eBe(e.SheetNames.length)),o&&e.vbaraw&&kt(n,211),o&&e.vbaraw){var u=a.CodeName||"ThisWorkbook";kt(n,442,FG(u))}kt(n,156,to(17)),kt(n,25,Gi(!1)),kt(n,18,Gi(!1)),kt(n,19,to(0)),o&&kt(n,431,Gi(!1)),o&&kt(n,444,to(0)),kt(n,61,P4e()),kt(n,64,Gi(!1)),kt(n,141,to(0)),kt(n,34,Gi(sCe(e)=="true")),kt(n,14,Gi(!0)),o&&kt(n,439,Gi(!1)),kt(n,218,to(0)),KCe(n,e,r),zCe(n,e.SSF,r),VCe(n,r),o&&kt(n,352,Gi(!1));var A=n.end(),f=ma();o&&kt(f,140,X4e()),o&&r.Strings&&OCe(f,252,U4e(r.Strings)),kt(f,10);var d=f.end(),h=ma(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var m=A.length+g+d.length;for(p=0;p<e.SheetNames.length;++p){var x=i[p]||{};kt(h,133,L4e({pos:m,hs:x.Hidden||0,dt:0,name:e.SheetNames[p]},r)),m+=t[p].length}var v=h.end();if(g!=v.length)throw new Error("BS8 "+g+" != "+v.length);var y=[];return A.length&&y.push(A),v.length&&y.push(v),d.length&&y.push(d),ui(y)}function eEe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ya(as)),e&&e.SSF&&(oy(),ay(e.SSF),r.revssf=ly(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,R6(r),r.cellXfs=[],OA(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=JCe(s,r,e);return n.unshift(ZCe(e,n,r)),ui(n)}function rV(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=qa(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return eEe(e,t);case 4:case 3:case 2:return qCe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function tEe(e,t,r,n){for(var s=e["!merges"]||[],i=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>a)&&!(s[u].e.r<r||s[u].e.c<a)){if(s[u].s.r<r||s[u].s.c<a){o=-1;break}o=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(o<0)){var A=xn({r,c:a}),f=n.dense?(e[r]||[])[a]:e[A],d=f&&f.v!=null&&(f.h||I5e(f.w||(bc(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+A,i.push(Tt("td",d,h))}}var g="<tr>";return g+i.join("")+"</tr>"}var rEe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nEe="</body></html>";function sEe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function nV(e,t){var r=t||{},n=r.header!=null?r.header:rEe,s=r.footer!=null?r.footer:nEe,i=[n],a=qa(e["!ref"]);r.dense=Array.isArray(e),i.push(sEe(e,a,r));for(var o=a.s.r;o<=a.e.r;++o)i.push(tEe(e,a,o,r));return i.push("</table>"+s),i.join("")}function sV(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?Ws(n.origin):n.origin;s=a.r,i=a.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var A=qa(e["!ref"]);u.s.r=Math.min(u.s.r,A.s.r),u.s.c=Math.min(u.s.c,A.s.c),u.e.r=Math.max(u.e.r,A.e.r),u.e.c=Math.max(u.e.c,A.e.c),s==-1&&(u.e.r=s=A.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),g=0,p=0,m=0,x=0,v=0,y=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&p<c;++g){var w=o[g];if(CP(w)){if(n.display)continue;h[p]={hidden:!0}}var S=w.children;for(m=x=0;m<S.length;++m){var T=S[m];if(!(n.display&&CP(T))){var j=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):P5e(T.innerHTML),I=T.getAttribute("data-z")||T.getAttribute("z");for(d=0;d<f.length;++d){var B=f[d];B.s.c==x+i&&B.s.r<p+s&&p+s<=B.e.r&&(x=B.e.c+1-i,d=-1)}y=+T.getAttribute("colspan")||1,((v=+T.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:p+s,c:x+i},e:{r:p+s+(v||1)-1,c:x+i+(y||1)-1}});var C={t:"s",v:j},N=T.getAttribute("data-t")||T.getAttribute("t")||"";j!=null&&(j.length==0?C.t=N||"z":n.raw||j.trim().length==0||N=="s"||(j==="TRUE"?C={t:"b",v:!0}:j==="FALSE"?C={t:"b",v:!1}:isNaN(Ac(j))?isNaN(Xm(j).getDate())||(C={t:"d",v:Zi(j)},n.cellDates||(C={t:"n",v:va(C.v)}),C.z=n.dateNF||as[14]):C={t:"n",v:Ac(j)})),C.z===void 0&&I!=null&&(C.z=I);var k="",E=T.getElementsByTagName("A");if(E&&E.length)for(var U=0;U<E.length&&!(E[U].hasAttribute("href")&&(k=E[U].getAttribute("href"),k.charAt(0)!="#"));++U);k&&k.charAt(0)!="#"&&(C.l={Target:k}),n.dense?(e[p+s]||(e[p+s]=[]),e[p+s][x+i]=C):e[xn({c:x+i,r:p+s})]=C,u.e.c<x+i&&(u.e.c=x+i),x+=y}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+s),e["!ref"]=Ss(u),p>=c&&(e["!fullref"]=Ss((u.e.r=o.length-g+p-1+s,u))),e}function iV(e,t){var r=t||{},n=r.dense?[]:{};return sV(n,e,t)}function iEe(e,t){return of(iV(e,t),t)}function CP(e){var t="",r=aEe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function aEe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var oEe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Zm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return js+t}}(),EP=function(){var e=function(i){return gn(i).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,a,o){var c=[];c.push('      <table:table table:name="'+gn(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,A=0,f=qa(i["!ref"]||"A1"),d=i["!merges"]||[],h=0,g=Array.isArray(i);if(i["!cols"])for(A=0;A<=f.e.c;++A)c.push("        <table:table-column"+(i["!cols"][A]?' table:style-name="co'+i["!cols"][A].ods+'"':"")+`></table:table-column>
`);var p="",m=i["!rows"]||[];for(u=0;u<f.s.r;++u)p=m[u]?' table:style-name="ro'+m[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=m[u]?' table:style-name="ro'+m[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),A=0;A<f.s.c;++A)c.push(t);for(;A<=f.e.c;++A){var x=!1,v={},y="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>A)&&!(d[h].s.r>u)&&!(d[h].e.c<A)&&!(d[h].e.r<u)){(d[h].s.c!=A||d[h].s.r!=u)&&(x=!0),v["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,v["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(x){c.push(r);continue}var w=xn({r:u,c:A}),S=g?(i[u]||[])[A]:i[w];if(S&&S.f&&(v["table:formula"]=gn(ENe(S.f)),S.F&&S.F.slice(0,w.length)==w)){var T=qa(S.F);v["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,v["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":y=S.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=S.v?"true":"false";break;case"n":y=S.w||String(S.v||0),v["office:value-type"]="float",v["office:value"]=S.v||0;break;case"s":case"str":y=S.v==null?"":S.v,v["office:value-type"]="string";break;case"d":y=S.w||Zi(S.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Zi(S.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(y);if(S.l&&S.l.Target){var I=S.l.Target;I=I.charAt(0)=="#"?"#"+SNe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),j=Tt("text:a",j,{"xlink:href":I.replace(/&/g,"&amp;")})}c.push("          "+Tt("table:table-cell",Tt("text:p",j,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,a){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var A=0;A<u["!cols"].length;++A)if(u["!cols"][A]){var f=u["!cols"][A];if(f.width==null&&f.wpx==null&&f.wch==null)continue;k6(f),f.ods=o;var d=u["!cols"][A].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var A=0;A<u["!rows"].length;++A)if(u["!rows"][A]){u["!rows"][A].ods=c;var f=u["!rows"][A].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(a,o){var c=[js],u=Zm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),A=Zm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+A+`>
`),c.push(yG().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,a),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)c.push(n(a.Sheets[a.SheetNames[f]],a,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function aV(e,t){if(t.bookType=="fods")return EP(e,t);var r=b6(),n="",s=[],i=[];return n="mimetype",Fr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Fr(r,n,EP(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Fr(r,n,oEe(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Fr(r,n,js+yG()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Fr(r,n,v4e(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Fr(r,n,g4e(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function v2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function lEe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):jo(Jm(e))}function cEe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function FA(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function AEe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function ep(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function dn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function yd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Rs(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=ep(e,r),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:a=4,o=e.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=e.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=ep(e,r),o=e.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:o,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function li(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(dn(n*8+s.type)),s.type==2&&t.push(dn(s.data.length)),t.push(s.data))})}),FA(t)}function Bo(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=ep(e,n),i=Rs(e.slice(n[0],n[0]+s));n[0]+=s;var a={id:yd(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Rs(o.data),u=yd(c[3][0].data);a.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(a.merge=yd(i[3][0].data)>>>0>0),r.push(a)}return r}function Of(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:dn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:dn(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(a){s.push(a.data),a.meta[3]=[{type:0,data:dn(a.data.length)}],n[2].push({data:li(a.meta),type:2})});var i=li(n);t.push(dn(i.length)),t.push(i),s.forEach(function(a){return t.push(a)})}),FA(t)}function uEe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ep(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var a=t[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=t[r[0]],o>1&&(a|=t[r[0]+1]<<8),o>2&&(a|=t[r[0]+2]<<16),o>3&&(a|=t[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}s.push(t.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[FA(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var A=FA(s);if(A.length!=n)throw new Error("Unexpected length: ".concat(A.length," != ").concat(n));return A}function No(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(uEe(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return FA(t)}function Qf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=dn(n),a=i.length;t.push(i),n<=60?(a++,t.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),a+=n,s[0]=0,s[1]=a&255,s[2]=a>>8&255,s[3]=a>>16&255,r+=n}return FA(t)}function W3(e,t){var r=new Uint8Array(32),n=v2(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,AEe(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function Y3(e,t){var r=new Uint8Array(32),n=v2(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function Yc(e){var t=Rs(e);return ep(t[1][0].data)}function fEe(e,t,r){var n,s,i,a;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(i=e[8])==null?void 0:i[0])==null?void 0:a.data)&&yd(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=v2(e[7][0].data),A=0,f=[],d=v2(e[4][0].data),h=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),d.setUint16(p*2,65535);continue}u.setUint16(p*2,A,!0),d.setUint16(p*2,h,!0);var m,x;switch(typeof t[p]){case"string":m=W3({t:"s",v:t[p]},r),x=Y3({t:"s",v:t[p]},r);break;case"number":m=W3({t:"n",v:t[p]},r),x=Y3({t:"n",v:t[p]},r);break;case"boolean":m=W3({t:"b",v:t[p]},r),x=Y3({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(m),A+=m.length,g.push(x),h+=x.length,++c}for(e[2][0].data=dn(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),d.setUint16(p*2,65535,!0);return e[6][0].data=FA(f),e[3][0].data=FA(g),c}function dEe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=qa(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Ss(n)));var i=y2(r,{range:n,header:1}),a=["~Sh33tJ5~"];i.forEach(function(P){return P.forEach(function(L){typeof L=="string"&&a.push(L)})});var o={},c=[],u=vn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(P,L){return[P,u.FullPaths[L]]}).forEach(function(P){var L=P[0],q=P[1];if(L.type==2&&L.name.match(/\.iwa/)){var X=L.content,se=No(X),ae=Bo(se);ae.forEach(function(W){c.push(W.id),o[W.id]={deps:[],location:q,type:yd(W.messages[0].meta[1][0].data)}})}}),c.sort(function(P,L){return P-L});var A=c.filter(function(P){return P>1}).map(function(P){return[P,dn(P)]});u.FileIndex.map(function(P,L){return[P,u.FullPaths[L]]}).forEach(function(P){var L=P[0];if(P[1],!!L.name.match(/\.iwa/)){var q=Bo(No(L.content));q.forEach(function(X){X.messages.forEach(function(se){A.forEach(function(ae){X.messages.some(function(W){return yd(W.meta[1][0].data)!=11006&&cEe(W.data,ae[1])})&&o[ae[0]].deps.push(X.id)})})})}});for(var f=vn.find(u,o[1].location),d=Bo(No(f.content)),h,g=0;g<d.length;++g){var p=d[g];p.id==1&&(h=p)}var m=Yc(Rs(h.messages[0].data)[1][0].data);for(f=vn.find(u,o[m].location),d=Bo(No(f.content)),g=0;g<d.length;++g)p=d[g],p.id==m&&(h=p);for(m=Yc(Rs(h.messages[0].data)[2][0].data),f=vn.find(u,o[m].location),d=Bo(No(f.content)),g=0;g<d.length;++g)p=d[g],p.id==m&&(h=p);for(m=Yc(Rs(h.messages[0].data)[2][0].data),f=vn.find(u,o[m].location),d=Bo(No(f.content)),g=0;g<d.length;++g)p=d[g],p.id==m&&(h=p);var x=Rs(h.messages[0].data);{x[6][0].data=dn(n.e.r+1),x[7][0].data=dn(n.e.c+1);var v=Yc(x[46][0].data),y=vn.find(u,o[v].location),w=Bo(No(y.content));{for(var S=0;S<w.length&&w[S].id!=v;++S);if(w[S].id!=v)throw"Bad ColumnRowUIDMapArchive";var T=Rs(w[S].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var j=0;j<=n.e.c;++j){var I=[];I[1]=I[2]=[{type:0,data:dn(j+420690)}],T[1].push({type:2,data:li(I)}),T[2].push({type:0,data:dn(j)}),T[3].push({type:0,data:dn(j)})}T[4]=[],T[5]=[],T[6]=[];for(var B=0;B<=n.e.r;++B)I=[],I[1]=I[2]=[{type:0,data:dn(B+726270)}],T[4].push({type:2,data:li(I)}),T[5].push({type:0,data:dn(B)}),T[6].push({type:0,data:dn(B)});w[S].messages[0].data=li(T)}y.content=Qf(Of(w)),y.size=y.content.length,delete x[46];var C=Rs(x[4][0].data);{C[7][0].data=dn(n.e.r+1);var N=Rs(C[1][0].data),k=Yc(N[2][0].data);y=vn.find(u,o[k].location),w=Bo(No(y.content));{if(w[0].id!=k)throw"Bad HeaderStorageBucket";var E=Rs(w[0].messages[0].data);for(B=0;B<i.length;++B){var U=Rs(E[2][0].data);U[1][0].data=dn(B),U[4][0].data=dn(i[B].length),E[2][B]={type:E[2][0].type,data:li(U)}}w[0].messages[0].data=li(E)}y.content=Qf(Of(w)),y.size=y.content.length;var D=Yc(C[2][0].data);y=vn.find(u,o[D].location),w=Bo(No(y.content));{if(w[0].id!=D)throw"Bad HeaderStorageBucket";for(E=Rs(w[0].messages[0].data),j=0;j<=n.e.c;++j)U=Rs(E[2][0].data),U[1][0].data=dn(j),U[4][0].data=dn(n.e.r+1),E[2][j]={type:E[2][0].type,data:li(U)};w[0].messages[0].data=li(E)}y.content=Qf(Of(w)),y.size=y.content.length;var M=Yc(C[4][0].data);(function(){for(var P=vn.find(u,o[M].location),L=Bo(No(P.content)),q,X=0;X<L.length;++X){var se=L[X];se.id==M&&(q=se)}var ae=Rs(q.messages[0].data);{ae[3]=[];var W=[];a.forEach(function(ye,Me){W[1]=[{type:0,data:dn(Me)}],W[2]=[{type:0,data:dn(1)}],W[3]=[{type:2,data:lEe(ye)}],ae[3].push({type:2,data:li(W)})})}q.messages[0].data=li(ae);var ee=Of(L),Ce=Qf(ee);P.content=Ce,P.size=P.content.length})();var Q=Rs(C[3][0].data);{var K=Q[1][0];delete Q[2];var O=Rs(K.data);{var z=Yc(O[2][0].data);(function(){for(var P=vn.find(u,o[z].location),L=Bo(No(P.content)),q,X=0;X<L.length;++X){var se=L[X];se.id==z&&(q=se)}var ae=Rs(q.messages[0].data);{delete ae[6],delete Q[7];var W=new Uint8Array(ae[5][0].data);ae[5]=[];for(var ee=0,Ce=0;Ce<=n.e.r;++Ce){var ye=Rs(W);ee+=fEe(ye,i[Ce],a),ye[1][0].data=dn(Ce),ae[5].push({data:li(ye),type:2})}ae[1]=[{type:0,data:dn(n.e.c+1)}],ae[2]=[{type:0,data:dn(n.e.r+1)}],ae[3]=[{type:0,data:dn(ee)}],ae[4]=[{type:0,data:dn(n.e.r+1)}]}q.messages[0].data=li(ae);var Me=Of(L),we=Qf(Me);P.content=we,P.size=P.content.length})()}K.data=li(O)}C[3][0].data=li(Q)}x[4][0].data=li(C)}h.messages[0].data=li(x);var G=Of(d),F=Qf(G);return f.content=F,f.size=f.content.length,u}function hEe(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function R6(e){hEe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function mEe(e,t){return t.bookType=="ods"?aV(e,t):t.bookType=="numbers"?dEe(e,t):t.bookType=="xlsb"?pEe(e,t):gEe(e,t)}function pEe(e,t){od=1024,e&&!e.SSF&&(e.SSF=ya(as)),e&&e.SSF&&(oy(),ay(e.SSF),t.revssf=ly(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=HG.indexOf(t.bookType)>-1,s=gG();R6(t=t||{});var i=b6(),a="",o=0;if(t.cellXfs=[],OA(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Fr(i,a,wG(e.Props,t)),s.coreprops.push(a),mn(t.rels,2,a,Yr.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,a,BG(e.Props)),s.extprops.push(a),mn(t.rels,3,a,Yr.EXT_PROPS),e.Custprops!==e.Props&&pi(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Fr(i,a,NG(e.Custprops)),s.custprops.push(a),mn(t.rels,4,a,Yr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var A={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Fr(i,a,vCe(o-1,a,t,e,A)),s.sheets.push(a),mn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Yr.WS[0])}if(f){var h=f["!comments"],g=!1,p="";h&&h.length>0&&(p="xl/comments"+o+"."+r,Fr(i,p,bCe(h,p)),s.comments.push(p),mn(A,-1,"../comments"+o+"."+r,Yr.CMNT),g=!0),f["!legacy"]&&g&&Fr(i,"xl/drawings/vmlDrawing"+o+".vml",QG(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}A["!id"].rId1&&Fr(i,vG(a),xd(A))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Fr(i,a,wCe(t.Strings,a,t)),s.strs.push(a),mn(t.wbrels,-1,"sharedStrings."+r,Yr.SST)),a="xl/workbook."+r,Fr(i,a,xCe(e,a)),s.workbooks.push(a),mn(t.rels,1,a,Yr.WB),a="xl/theme/theme1.xml",Fr(i,a,RG(e.Themes,t)),s.themes.push(a),mn(t.wbrels,-1,"theme/theme1.xml",Yr.THEME),a="xl/styles."+r,Fr(i,a,yCe(e,a,t)),s.styles.push(a),mn(t.wbrels,-1,"styles."+r,Yr.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",Fr(i,a,e.vbaraw),s.vba.push(a),mn(t.wbrels,-1,"vbaProject.bin",Yr.VBA)),a="xl/metadata."+r,Fr(i,a,BCe(a)),s.metadata.push(a),mn(t.wbrels,-1,"metadata."+r,Yr.XLMETA),Fr(i,"[Content_Types].xml",xG(s,t)),Fr(i,"_rels/.rels",xd(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",xd(t.wbrels)),delete t.revssf,delete t.ssf,i}function gEe(e,t){od=1024,e&&!e.SSF&&(e.SSF=ya(as)),e&&e.SSF&&(oy(),ay(e.SSF),t.revssf=ly(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=HG.indexOf(t.bookType)>-1,s=gG();R6(t=t||{});var i=b6(),a="",o=0;if(t.cellXfs=[],OA(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Fr(i,a,wG(e.Props,t)),s.coreprops.push(a),mn(t.rels,2,a,Yr.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,a,BG(e.Props)),s.extprops.push(a),mn(t.rels,3,a,Yr.EXT_PROPS),e.Custprops!==e.Props&&pi(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Fr(i,a,NG(e.Custprops)),s.custprops.push(a),mn(t.rels,4,a,Yr.CUST_PROPS));var A=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Fr(i,a,XG(o-1,t,e,f)),s.sheets.push(a),mn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Yr.WS[0])}if(d){var g=d["!comments"],p=!1,m="";if(g&&g.length>0){var x=!1;g.forEach(function(v){v[1].forEach(function(y){y.T==!0&&(x=!0)})}),x&&(m="xl/threadedComments/threadedComment"+o+"."+r,Fr(i,m,VBe(g,A,t)),s.threadedcomments.push(m),mn(f,-1,"../threadedComments/threadedComment"+o+"."+r,Yr.TCMNT)),m="xl/comments"+o+"."+r,Fr(i,m,DG(g)),s.comments.push(m),mn(f,-1,"../comments"+o+"."+r,Yr.CMNT),p=!0}d["!legacy"]&&p&&Fr(i,"xl/drawings/vmlDrawing"+o+".vml",QG(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Fr(i,vG(a),xd(f))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Fr(i,a,IG(t.Strings,t)),s.strs.push(a),mn(t.wbrels,-1,"sharedStrings."+r,Yr.SST)),a="xl/workbook."+r,Fr(i,a,eV(e)),s.workbooks.push(a),mn(t.rels,1,a,Yr.WB),a="xl/theme/theme1.xml",Fr(i,a,RG(e.Themes,t)),s.themes.push(a),mn(t.wbrels,-1,"theme/theme1.xml",Yr.THEME),a="xl/styles."+r,Fr(i,a,PG(e,t)),s.styles.push(a),mn(t.wbrels,-1,"styles."+r,Yr.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",Fr(i,a,e.vbaraw),s.vba.push(a),mn(t.wbrels,-1,"vbaProject.bin",Yr.VBA)),a="xl/metadata."+r,Fr(i,a,OG()),s.metadata.push(a),mn(t.wbrels,-1,"metadata."+r,Yr.XLMETA),A.length>1&&(a="xl/persons/person.xml",Fr(i,a,WBe(A)),s.people.push(a),mn(t.wbrels,-1,"persons/person.xml",Yr.PEOPLE)),Fr(i,"[Content_Types].xml",xG(s,t)),Fr(i,"_rels/.rels",xd(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",xd(t.wbrels)),delete t.revssf,delete t.ssf,i}function xEe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=wc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function oV(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Lp(t.file,vn.write(e,{type:nn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return vn.write(e,t)}function vEe(e,t){var r=ya(t||{}),n=mEe(e,r);return yEe(n,r)}function yEe(e,t){var r={},n=nn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?vn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(iy(s))}return t.password&&typeof encrypt_agile<"u"?oV(encrypt_agile(s,t.password),t):t.type==="file"?Lp(t.file,s):t.type=="string"?lm(s):s}function wEe(e,t){var r=t||{},n=MCe(e,r);return oV(n,r)}function ll(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ym(Jm(n));case"binary":return Jm(n);case"string":return e;case"file":return Lp(t.file,n,"utf8");case"buffer":return nn?Sc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ll(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function bEe(e,t){switch(t.type){case"base64":return Ym(e);case"binary":return e;case"string":return e;case"file":return Lp(t.file,e,"binary");case"buffer":return nn?Sc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Xg(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ym(r):t.type=="string"?lm(r):r;case"file":return Lp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function lV(e,t){Ybe(),oCe(e);var r=ya(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=lV(e,r);return r.type="array",iy(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ll(UCe(e,r),r);case"slk":case"sylk":return ll(sBe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return ll(nV(e.Sheets[e.SheetNames[s]],r),r);case"txt":return bEe(cV(e.Sheets[e.SheetNames[s]],r),r);case"csv":return ll(O6(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return ll(iBe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Xg(nBe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return ll(aBe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return ll(dBe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return ll(TG.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return ll(aV(e,r),r);case"wk1":return Xg(yP.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Xg(yP.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Xg(rV(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),wEe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return vEe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function BEe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function NEe(e,t,r){var n=r||{};return n.type="file",n.file=t,BEe(n),lV(e,n)}function _Ee(e,t,r,n,s,i,a,o){var c=mi(r),u=o.defval,A=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||e[r])for(var h=t.s.c;h<=t.e.c;++h){var g=a?e[r][h]:e[n[h]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[h]!=null&&(d[i[h]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[h]!=null){if(p==null)if(g.t=="e"&&p===null)d[i[h]]=null;else if(u!==void 0)d[i[h]]=u;else if(A&&p===null)d[i[h]]=null;else continue;else d[i[h]]=A&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?p:bc(g,p,o);p!=null&&(f=!1)}}return{row:d,isempty:f}}function y2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},A=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof A){case"string":c=Pn(A);break;case"number":c=Pn(e["!ref"]),c.s.r=A;break;default:c=A}n>0&&(s=0);var f=mi(c.s.r),d=[],h=[],g=0,p=0,m=Array.isArray(e),x=c.s.r,v=0,y={};m&&!e[x]&&(e[x]=[]);var w=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(w[v]||{}).hidden)switch(d[v]=Ui(v),r=m?e[x][v]:e[d[v]+f],n){case 1:i[v]=v-c.s.c;break;case 2:i[v]=d[v];break;case 3:i[v]=u.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=bc(r,null,u),p=y[a]||0,!p)y[a]=1;else{do o=a+"_"+p++;while(y[o]);y[a]=p,y[o]=1}i[v]=o}for(x=c.s.r+s;x<=c.e.r;++x)if(!(S[x]||{}).hidden){var T=_Ee(e,c,x,d,n,i,m,u);(T.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[g++]=T.row)}return h.length=g,h}var SP=/"/g;function CEe(e,t,r,n,s,i,a,o){for(var c=!0,u=[],A="",f=mi(r),d=t.s.c;d<=t.e.c;++d)if(n[d]){var h=o.dense?(e[r]||[])[d]:e[n[d]+f];if(h==null)A="";else if(h.v!=null){c=!1,A=""+(o.rawNumbers&&h.t=="n"?h.v:bc(h,null,o));for(var g=0,p=0;g!==A.length;++g)if((p=A.charCodeAt(g))===s||p===i||p===34||o.forceQuotes){A='"'+A.replace(SP,'""')+'"';break}A=="ID"&&(A='"ID"')}else h.f!=null&&!h.F?(c=!1,A="="+h.f,A.indexOf(",")>=0&&(A='"'+A.replace(SP,'""')+'"')):A="";u.push(A)}return o.blankrows===!1&&c?null:u.join(a)}function O6(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Pn(e["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),A="",f=[];n.dense=Array.isArray(e);for(var d=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],g=s.s.c;g<=s.e.c;++g)(d[g]||{}).hidden||(f[g]=Ui(g));for(var p=0,m=s.s.r;m<=s.e.r;++m)(h[m]||{}).hidden||(A=CEe(e,s,m,f,a,c,i,n),A!=null&&(n.strip&&(A=A.replace(u,"")),(A||n.blankrows!==!1)&&r.push((p++?o:"")+A)));return delete n.dense,r.join("")}function cV(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=O6(e,t);return r}function EEe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Pn(e["!ref"]),i="",a=[],o,c=[],u=Array.isArray(e);for(o=s.s.c;o<=s.e.c;++o)a[o]=Ui(o);for(var A=s.s.r;A<=s.e.r;++A)for(i=mi(A),o=s.s.c;o<=s.e.c;++o)if(t=a[o]+i,r=u?(e[A]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function AV(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},a=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Ws(n.origin):n.origin;a=c.r,o=c.c}var u,A={s:{c:0,r:0},e:{c:o,r:a+t.length-1+s}};if(i["!ref"]){var f=Pn(i["!ref"]);A.e.c=Math.max(A.e.c,f.e.c),A.e.r=Math.max(A.e.r,f.e.r),a==-1&&(a=f.e.r+1,A.e.r=a+t.length-1+s)}else a==-1&&(a=0,A.e.r=t.length-1+s);var d=n.header||[],h=0;t.forEach(function(p,m){pi(p).forEach(function(x){(h=d.indexOf(x))==-1&&(d[h=d.length]=x);var v=p[x],y="z",w="",S=xn({c:o+h,r:a+m+s});u=tp(i,S),v&&typeof v=="object"&&!(v instanceof Date)?i[S]=v:(typeof v=="number"?y="n":typeof v=="boolean"?y="b":typeof v=="string"?y="s":v instanceof Date?(y="d",n.cellDates||(y="n",v=va(v)),w=n.dateNF||as[14]):v===null&&n.nullError&&(y="e",v=0),u?(u.t=y,u.v=v,delete u.w,delete u.R,w&&(u.z=w)):i[S]=u={t:y,v},w&&(u.z=w))})}),A.e.c=Math.max(A.e.c,o+d.length-1);var g=mi(a);if(s)for(h=0;h<d.length;++h)i[Ui(h+o)+g]={t:"s",v:d[h]};return i["!ref"]=Ss(A),i}function SEe(e,t){return AV(null,e,t)}function tp(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ws(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?tp(e,xn(t)):tp(e,xn({r:t,c:r||0}))}function FEe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function jEe(){return{SheetNames:[],Sheets:{}}}function TEe(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=a+s)!=-1;++s);}if(ZG(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function IEe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=FEe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function kEe(e,t){return e.z=t,e}function uV(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function LEe(e,t,r){return uV(e,"#"+t,r)}function UEe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function PEe(e,t,r,n){for(var s=typeof t!="string"?t:Pn(t),i=typeof t=="string"?t:Ss(t),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var c=tp(e,a,o);c.t="n",c.F=i,delete c.v,a==s.s.r&&o==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var X3={encode_col:Ui,encode_row:mi,encode_cell:xn,encode_range:Ss,decode_col:S6,decode_row:E6,split_cell:Y5e,decode_cell:Ws,decode_range:qa,format_cell:bc,sheet_add_aoa:uG,sheet_add_json:AV,sheet_add_dom:sV,aoa_to_sheet:gh,json_to_sheet:SEe,table_to_sheet:iV,table_to_book:iEe,sheet_to_csv:O6,sheet_to_txt:cV,sheet_to_json:y2,sheet_to_html:nV,sheet_to_formulae:EEe,sheet_to_row_object_array:y2,sheet_get_cell:tp,book_new:jEe,book_append_sheet:TEe,book_set_sheet_visibility:IEe,cell_set_number_format:kEe,cell_set_hyperlink:uV,cell_set_internal_link:LEe,cell_add_comment:UEe,sheet_set_array_formula:PEe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pC=function(e,t){return pC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},pC(e,t)};function zo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pC(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gC=function(){return gC=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gC.apply(this,arguments)};function Ki(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(A){try{u(n.next(A))}catch(f){a(f)}}function c(A){try{u(n.throw(A))}catch(f){a(f)}}function u(A){A.done?i(A.value):s(A.value).then(o,c)}u((n=n.apply(e,[])).next())})}function ji(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(A){u=[6,A],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Jg(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var Bc=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),dy=function(e,t){return Bc.fromClientRect(e,t.getBoundingClientRect())},MEe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Bc(0,0,n,s)},hy=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},ps=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=e[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},FP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",REe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zg=0;Zg<FP.length;Zg++)REe[FP.charCodeAt(Zg)]=Zg;var jP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var e1=0;e1<jP.length;e1++)z0[jP.charCodeAt(e1)]=e1;var OEe=function(e){var t=e.length*.75,r=e.length,n,s=0,i,a,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=z0[e.charCodeAt(n)],a=z0[e.charCodeAt(n+1)],o=z0[e.charCodeAt(n+2)],c=z0[e.charCodeAt(n+3)],A[s++]=i<<2|a>>4,A[s++]=(a&15)<<4|o>>2,A[s++]=(o&3)<<6|c&63;return u},QEe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},DEe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Su=5,Q6=11,J3=2,HEe=Q6-Su,fV=65536>>Su,$Ee=1<<Su,Z3=$Ee-1,qEe=1024>>Su,KEe=fV+qEe,zEe=KEe,GEe=32,VEe=zEe+GEe,WEe=65536>>Q6,YEe=1<<HEe,XEe=YEe-1,TP=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},JEe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},ZEe=function(e,t){var r=OEe(e),n=Array.isArray(r)?DEe(r):new Uint32Array(r),s=Array.isArray(r)?QEe(r):new Uint16Array(r),i=24,a=TP(s,i/2,n[4]/2),o=n[5]===2?TP(s,(i+n[4])/2):JEe(n,Math.ceil((i+n[4])/4));return new eSe(n[0],n[1],n[2],n[3],a,o)},eSe=function(){function e(t,r,n,s,i,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Su],r=(r<<J3)+(t&Z3),this.data[r];if(t<=65535)return r=this.index[fV+(t-55296>>Su)],r=(r<<J3)+(t&Z3),this.data[r];if(t<this.highStart)return r=VEe-WEe+(t>>Q6),r=this.index[r],r+=t>>Su&XEe,r=this.index[r],r=(r<<J3)+(t&Z3),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),IP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tSe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t1=0;t1<IP.length;t1++)tSe[IP.charCodeAt(t1)]=t1;var rSe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kP=50,nSe=1,dV=2,hV=3,sSe=4,iSe=5,LP=7,mV=8,UP=9,uA=10,xC=11,PP=12,vC=13,aSe=14,G0=15,yC=16,r1=17,h0=18,oSe=19,MP=20,wC=21,m0=22,eN=23,Df=24,Ia=25,V0=26,W0=27,Hf=28,lSe=29,du=30,cSe=31,n1=32,s1=33,bC=34,BC=35,NC=36,rp=37,_C=38,X1=39,J1=40,tN=41,pV=42,ASe=43,uSe=[9001,65288],gV="!",Or="",i1="",CC=ZEe(rSe),Vl=[du,NC],EC=[nSe,dV,hV,iSe],xV=[uA,mV],RP=[W0,V0],fSe=EC.concat(xV),OP=[_C,X1,J1,bC,BC],dSe=[G0,vC],hSe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(i,a){var o=CC.get(i);if(o>kP?(s.push(!0),o-=kP):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(yC);if(o===sSe||o===xC){if(a===0)return n.push(a),r.push(du);var c=r[a-1];return fSe.indexOf(c)===-1?(n.push(n[a-1]),r.push(c)):(n.push(a),r.push(du))}if(n.push(a),o===cSe)return r.push(t==="strict"?wC:rp);if(o===pV||o===lSe)return r.push(du);if(o===ASe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(rp):r.push(du);r.push(o)}),[n,r,s]},rN=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===t)return!0;if(a!==uA)break}if(s===uA)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=r;c<=n.length;){c++;var a=n[c];if(a===t)return!0;if(a!==uA)break}if(o!==uA)break}return!1},QP=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===uA)r--;else return n}return 0},mSe=function(e,t,r,n,s){if(r[n]===0)return Or;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Or;var a=i-1,o=i+1,c=t[i],u=a>=0?t[a]:0,A=t[o];if(c===dV&&A===hV)return Or;if(EC.indexOf(c)!==-1)return gV;if(EC.indexOf(A)!==-1||xV.indexOf(A)!==-1)return Or;if(QP(i,t)===mV)return i1;if(CC.get(e[i])===xC||(c===n1||c===s1)&&CC.get(e[o])===xC||c===LP||A===LP||c===UP||[uA,vC,G0].indexOf(c)===-1&&A===UP||[r1,h0,oSe,Df,Hf].indexOf(A)!==-1||QP(i,t)===m0||rN(eN,m0,i,t)||rN([r1,h0],wC,i,t)||rN(PP,PP,i,t))return Or;if(c===uA)return i1;if(c===eN||A===eN)return Or;if(A===yC||c===yC)return i1;if([vC,G0,wC].indexOf(A)!==-1||c===aSe||u===NC&&dSe.indexOf(c)!==-1||c===Hf&&A===NC||A===MP||Vl.indexOf(A)!==-1&&c===Ia||Vl.indexOf(c)!==-1&&A===Ia||c===W0&&[rp,n1,s1].indexOf(A)!==-1||[rp,n1,s1].indexOf(c)!==-1&&A===V0||Vl.indexOf(c)!==-1&&RP.indexOf(A)!==-1||RP.indexOf(c)!==-1&&Vl.indexOf(A)!==-1||[W0,V0].indexOf(c)!==-1&&(A===Ia||[m0,G0].indexOf(A)!==-1&&t[o+1]===Ia)||[m0,G0].indexOf(c)!==-1&&A===Ia||c===Ia&&[Ia,Hf,Df].indexOf(A)!==-1)return Or;if([Ia,Hf,Df,r1,h0].indexOf(A)!==-1)for(var f=i;f>=0;){var d=t[f];if(d===Ia)return Or;if([Hf,Df].indexOf(d)!==-1)f--;else break}if([W0,V0].indexOf(A)!==-1)for(var f=[r1,h0].indexOf(c)!==-1?a:i;f>=0;){var d=t[f];if(d===Ia)return Or;if([Hf,Df].indexOf(d)!==-1)f--;else break}if(_C===c&&[_C,X1,bC,BC].indexOf(A)!==-1||[X1,bC].indexOf(c)!==-1&&[X1,J1].indexOf(A)!==-1||[J1,BC].indexOf(c)!==-1&&A===J1||OP.indexOf(c)!==-1&&[MP,V0].indexOf(A)!==-1||OP.indexOf(A)!==-1&&c===W0||Vl.indexOf(c)!==-1&&Vl.indexOf(A)!==-1||c===Df&&Vl.indexOf(A)!==-1||Vl.concat(Ia).indexOf(c)!==-1&&A===m0&&uSe.indexOf(e[o])===-1||Vl.concat(Ia).indexOf(A)!==-1&&c===h0)return Or;if(c===tN&&A===tN){for(var h=r[i],g=1;h>0&&(h--,t[h]===tN);)g++;if(g%2!==0)return Or}return c===n1&&A===s1?Or:i1},pSe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=hSe(e,t.lineBreak),n=r[0],s=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(o){return[Ia,du,pV].indexOf(o)!==-1?rp:o}));var a=t.wordBreak==="keep-all"?i.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,s,a]},gSe=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===gV,this.start=n,this.end=s}return e.prototype.slice=function(){return ps.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),xSe=function(e,t){var r=hy(e),n=pSe(r,t),s=n[0],i=n[1],a=n[2],o=r.length,c=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var A=Or;u<o&&(A=mSe(r,i,s,++u,a))===Or;);if(A!==Or||u===o){var f=new gSe(r,A,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},vSe=1,ySe=2,Op=4,DP=8,w2=10,HP=47,dm=92,wSe=9,bSe=32,a1=34,p0=61,BSe=35,NSe=36,_Se=37,o1=39,l1=40,g0=41,CSe=95,Aa=45,ESe=33,SSe=60,FSe=62,jSe=64,TSe=91,ISe=93,kSe=61,LSe=123,c1=63,USe=125,$P=124,PSe=126,MSe=128,qP=65533,nN=42,wu=43,RSe=44,OSe=58,QSe=59,np=46,DSe=0,HSe=8,$Se=11,qSe=14,KSe=31,zSe=127,il=-1,vV=48,yV=97,wV=101,GSe=102,VSe=117,WSe=122,bV=65,BV=69,NV=70,YSe=85,XSe=90,Ii=function(e){return e>=vV&&e<=57},JSe=function(e){return e>=55296&&e<=57343},$f=function(e){return Ii(e)||e>=bV&&e<=NV||e>=yV&&e<=GSe},ZSe=function(e){return e>=yV&&e<=WSe},e6e=function(e){return e>=bV&&e<=XSe},t6e=function(e){return ZSe(e)||e6e(e)},r6e=function(e){return e>=MSe},A1=function(e){return e===w2||e===wSe||e===bSe},b2=function(e){return t6e(e)||r6e(e)||e===CSe},KP=function(e){return b2(e)||Ii(e)||e===Aa},n6e=function(e){return e>=DSe&&e<=HSe||e===$Se||e>=qSe&&e<=KSe||e===zSe},sA=function(e,t){return e!==dm?!1:t!==w2},u1=function(e,t,r){return e===Aa?b2(t)||sA(t,r):b2(e)?!0:!!(e===dm&&sA(e,t))},sN=function(e,t,r){return e===wu||e===Aa?Ii(t)?!0:t===np&&Ii(r):Ii(e===np?t:e)},s6e=function(e){var t=0,r=1;(e[t]===wu||e[t]===Aa)&&(e[t]===Aa&&(r=-1),t++);for(var n=[];Ii(e[t]);)n.push(e[t++]);var s=n.length?parseInt(ps.apply(void 0,n),10):0;e[t]===np&&t++;for(var i=[];Ii(e[t]);)i.push(e[t++]);var a=i.length,o=a?parseInt(ps.apply(void 0,i),10):0;(e[t]===BV||e[t]===wV)&&t++;var c=1;(e[t]===wu||e[t]===Aa)&&(e[t]===Aa&&(c=-1),t++);for(var u=[];Ii(e[t]);)u.push(e[t++]);var A=u.length?parseInt(ps.apply(void 0,u),10):0;return r*(s+o*Math.pow(10,-a))*Math.pow(10,c*A)},i6e={type:2},a6e={type:3},o6e={type:4},l6e={type:13},c6e={type:8},A6e={type:21},u6e={type:9},f6e={type:10},d6e={type:11},h6e={type:12},m6e={type:14},f1={type:23},p6e={type:1},g6e={type:25},x6e={type:24},v6e={type:26},y6e={type:27},w6e={type:28},b6e={type:29},B6e={type:31},SC={type:32},_V=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(hy(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==SC;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case a1:return this.consumeStringToken(a1);case BSe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(KP(r)||sA(n,s)){var i=u1(r,n,s)?ySe:vSe,a=this.consumeName();return{type:5,value:a,flags:i}}break;case NSe:if(this.peekCodePoint(0)===p0)return this.consumeCodePoint(),l6e;break;case o1:return this.consumeStringToken(o1);case l1:return i6e;case g0:return a6e;case nN:if(this.peekCodePoint(0)===p0)return this.consumeCodePoint(),m6e;break;case wu:if(sN(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case RSe:return o6e;case Aa:var o=t,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(sN(o,c,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(u1(o,c,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Aa&&u===FSe)return this.consumeCodePoint(),this.consumeCodePoint(),x6e;break;case np:if(sN(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case HP:if(this.peekCodePoint(0)===nN)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===nN&&(A=this.consumeCodePoint(),A===HP))return this.consumeToken();if(A===il)return this.consumeToken()}break;case OSe:return v6e;case QSe:return y6e;case SSe:if(this.peekCodePoint(0)===ESe&&this.peekCodePoint(1)===Aa&&this.peekCodePoint(2)===Aa)return this.consumeCodePoint(),this.consumeCodePoint(),g6e;break;case jSe:var f=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(u1(f,d,h)){var a=this.consumeName();return{type:7,value:a}}break;case TSe:return w6e;case dm:if(sA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case ISe:return b6e;case kSe:if(this.peekCodePoint(0)===p0)return this.consumeCodePoint(),c6e;break;case LSe:return d6e;case USe:return h6e;case VSe:case YSe:var g=this.peekCodePoint(0),p=this.peekCodePoint(1);return g===wu&&($f(p)||p===c1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case $P:if(this.peekCodePoint(0)===p0)return this.consumeCodePoint(),u6e;if(this.peekCodePoint(0)===$P)return this.consumeCodePoint(),A6e;break;case PSe:if(this.peekCodePoint(0)===p0)return this.consumeCodePoint(),f6e;break;case il:return SC}return A1(t)?(this.consumeWhiteSpace(),B6e):Ii(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):b2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ps(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();$f(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===c1&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(ps.apply(void 0,t.map(function(c){return c===c1?vV:c})),16),i=parseInt(ps.apply(void 0,t.map(function(c){return c===c1?NV:c})),16);return{type:30,start:s,end:i}}var a=parseInt(ps.apply(void 0,t),16);if(this.peekCodePoint(0)===Aa&&$f(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];$f(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(ps.apply(void 0,o),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===l1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===l1?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===il)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===o1||r===a1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===il||this.peekCodePoint(0)===g0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),f1)}for(;;){var s=this.consumeCodePoint();if(s===il||s===g0)return{type:22,value:ps.apply(void 0,t)};if(A1(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===il||this.peekCodePoint(0)===g0?(this.consumeCodePoint(),{type:22,value:ps.apply(void 0,t)}):(this.consumeBadUrlRemnants(),f1);if(s===a1||s===o1||s===l1||n6e(s))return this.consumeBadUrlRemnants(),f1;if(s===dm)if(sA(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),f1;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;A1(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===g0||t===il)return;sA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=ps.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===il||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===w2)return this._value.splice(0,n),p6e;if(s===dm){var i=this._value[n+1];i!==il&&i!==void 0&&(i===w2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):sA(s,i)&&(r+=this.consumeStringSlice(n),r+=ps(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Op,n=this.peekCodePoint(0);for((n===wu||n===Aa)&&t.push(this.consumeCodePoint());Ii(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===np&&Ii(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=DP;Ii(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===BV||n===wV)&&((s===wu||s===Aa)&&Ii(i)||Ii(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=DP;Ii(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[s6e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(u1(s,i,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===_Se?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if($f(t)){for(var r=ps(t);$f(this.peekCodePoint(0))&&r.length<6;)r+=ps(this.consumeCodePoint());A1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||JSe(n)||n>1114111?qP:n}return t===il?qP:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(KP(r))t+=ps(r);else if(sA(r,this.peekCodePoint(0)))t+=ps(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),CV=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new _V;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||_6e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?SC:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Qp=function(e){return e.type===15},yh=function(e){return e.type===17},wn=function(e){return e.type===20},N6e=function(e){return e.type===0},FC=function(e,t){return wn(e)&&e.value===t},EV=function(e){return e.type!==31},Yd=function(e){return e.type!==31&&e.type!==4},jl=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},_6e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},jA=function(e){return e.type===17||e.type===15},_s=function(e){return e.type===16||jA(e)},SV=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},hi={type:17,number:0,flags:Op},D6={type:16,number:50,flags:Op},fA={type:16,number:100,flags:Op},Y0=function(e,t,r){var n=e[0],s=e[1];return[Fn(n,t),Fn(typeof s<"u"?s:n,r)]},Fn=function(e,t){if(e.type===16)return e.number/100*t;if(Qp(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},FV="deg",jV="grad",TV="rad",IV="turn",my={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case FV:return Math.PI*t.number/180;case jV:return Math.PI/200*t.number;case TV:return t.number;case IV:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},kV=function(e){return e.type===15&&(e.unit===FV||e.unit===jV||e.unit===TV||e.unit===IV)},LV=function(e){var t=e.filter(wn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[hi,hi];case"to top":case"bottom":return co(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[hi,fA];case"to right":case"left":return co(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[fA,fA];case"to bottom":case"top":return co(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[fA,hi];case"to left":case"right":return co(270)}return 0},co=function(e){return Math.PI*e/180},xA={name:"color",parse:function(e,t){if(t.type===18){var r=C6e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return dA(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),a=t.value.substring(3,4);return dA(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return dA(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),a=t.value.substring(6,8);return dA(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(t.type===20){var o=fc[t.value.toUpperCase()];if(typeof o<"u")return o}return fc.TRANSPARENT}},vA=function(e){return(255&e)===0},Ks=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},dA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},zP=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},GP=function(e,t){var r=t.filter(Yd);if(r.length===3){var n=r.map(zP),s=n[0],i=n[1],a=n[2];return dA(s,i,a,1)}if(r.length===4){var o=r.map(zP),s=o[0],i=o[1],a=o[2],c=o[3];return dA(s,i,a,c)}return 0};function iN(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var VP=function(e,t){var r=t.filter(Yd),n=r[0],s=r[1],i=r[2],a=r[3],o=(n.type===17?co(n.number):my.parse(e,n))/(Math.PI*2),c=_s(s)?s.number/100:0,u=_s(i)?i.number/100:0,A=typeof a<"u"&&_s(a)?Fn(a,1):1;if(c===0)return dA(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,d=u*2-f,h=iN(d,f,o+1/3),g=iN(d,f,o),p=iN(d,f,o-1/3);return dA(h*255,g*255,p*255,A)},C6e={hsl:VP,hsla:VP,rgb:GP,rgba:GP},hm=function(e,t){return xA.parse(e,CV.create(t).parseComponentValue())},fc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},E6e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(wn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},S6e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},py=function(e,t){var r=xA.parse(e,t[0]),n=t[1];return n&&_s(n)?{color:r,stop:n}:{color:r,stop:null}},WP=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=hi),n.stop===null&&(n.stop=fA);for(var s=[],i=0,a=0;a<e.length;a++){var o=e[a].stop;if(o!==null){var c=Fn(o,t);c>i?s.push(c):s.push(i),i=c}else s.push(null)}for(var u=null,a=0;a<s.length;a++){var A=s[a];if(A===null)u===null&&(u=a);else if(u!==null){for(var f=a-u,d=s[u-1],h=(A-d)/(f+1),g=1;g<=f;g++)s[u+g-1]=h*g;u=null}}return e.map(function(p,m){var x=p.color;return{color:x,stop:Math.max(Math.min(1,s[m]/t),0)}})},F6e=function(e,t,r){var n=t/2,s=r/2,i=Fn(e[0],t)-n,a=s-Fn(e[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},j6e=function(e,t,r){var n=typeof e=="number"?e:F6e(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,a=r/2,o=s/2,c=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[s,i-u,i+u,a-c,a+c]},Co=function(e,t){return Math.sqrt(e*e+t*t)},YP=function(e,t,r,n,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(a,o){var c=o[0],u=o[1],A=Co(r-c,n-u);return(s?A<a.optimumDistance:A>a.optimumDistance)?{optimumCorner:o,optimumDistance:A}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},T6e=function(e,t,r,n,s){var i=0,a=0;switch(e.size){case 0:e.shape===0?i=a=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)i=a=Math.min(Co(t,r),Co(t,r-s),Co(t-n,r),Co(t-n,r-s));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),c=YP(n,s,t,r,!0),u=c[0],A=c[1];i=Co(u-t,(A-r)/o),a=o*i}break;case 1:e.shape===0?i=a=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)i=a=Math.max(Co(t,r),Co(t,r-s),Co(t-n,r),Co(t-n,r-s));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),f=YP(n,s,t,r,!1),u=f[0],A=f[1];i=Co(u-t,(A-r)/o),a=o*i}break}return Array.isArray(e.size)&&(i=Fn(e.size[0],n),a=e.size.length===2?Fn(e.size[1],s):i),[i,a]},I6e=function(e,t){var r=co(180),n=[];return jl(t).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=LV(s);return}else if(kV(a)){r=my.parse(e,a);return}}var o=py(e,s);n.push(o)}),{angle:r,stops:n,type:1}},d1=function(e,t){var r=co(180),n=[];return jl(t).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=LV(s);return}else if(kV(a)){r=(my.parse(e,a)+co(270))%co(360);return}}var o=py(e,s);n.push(o)}),{angle:r,stops:n,type:1}},k6e=function(e,t){var r=co(180),n=[],s=1,i=0,a=3,o=[];return jl(t).forEach(function(c,u){var A=c[0];if(u===0){if(wn(A)&&A.value==="linear"){s=1;return}else if(wn(A)&&A.value==="radial"){s=2;return}}if(A.type===18){if(A.name==="from"){var f=xA.parse(e,A.values[0]);n.push({stop:hi,color:f})}else if(A.name==="to"){var f=xA.parse(e,A.values[0]);n.push({stop:fA,color:f})}else if(A.name==="color-stop"){var d=A.values.filter(Yd);if(d.length===2){var f=xA.parse(e,d[1]),h=d[0];yh(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:f})}}}}),s===1?{angle:(r+co(180))%co(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:o,type:s}},UV="closest-side",PV="farthest-side",MV="closest-corner",RV="farthest-corner",OV="circle",QV="ellipse",DV="cover",HV="contain",L6e=function(e,t){var r=0,n=3,s=[],i=[];return jl(t).forEach(function(a,o){var c=!0;if(o===0){var u=!1;c=a.reduce(function(f,d){if(u)if(wn(d))switch(d.value){case"center":return i.push(D6),f;case"top":case"left":return i.push(hi),f;case"right":case"bottom":return i.push(fA),f}else(_s(d)||jA(d))&&i.push(d);else if(wn(d))switch(d.value){case OV:return r=0,!1;case QV:return r=1,!1;case"at":return u=!0,!1;case UV:return n=0,!1;case DV:case PV:return n=1,!1;case HV:case MV:return n=2,!1;case RV:return n=3,!1}else if(jA(d)||_s(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return f},c)}if(c){var A=py(e,a);s.push(A)}}),{size:n,shape:r,stops:s,position:i,type:2}},h1=function(e,t){var r=0,n=3,s=[],i=[];return jl(t).forEach(function(a,o){var c=!0;if(o===0?c=a.reduce(function(A,f){if(wn(f))switch(f.value){case"center":return i.push(D6),!1;case"top":case"left":return i.push(hi),!1;case"right":case"bottom":return i.push(fA),!1}else if(_s(f)||jA(f))return i.push(f),!1;return A},c):o===1&&(c=a.reduce(function(A,f){if(wn(f))switch(f.value){case OV:return r=0,!1;case QV:return r=1,!1;case HV:case UV:return n=0,!1;case PV:return n=1,!1;case MV:return n=2,!1;case DV:case RV:return n=3,!1}else if(jA(f)||_s(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return A},c)),c){var u=py(e,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},U6e=function(e){return e.type===1},P6e=function(e){return e.type===2},H6={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=$V[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function M6e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!$V[e.name])}var $V={"linear-gradient":I6e,"-moz-linear-gradient":d1,"-ms-linear-gradient":d1,"-o-linear-gradient":d1,"-webkit-linear-gradient":d1,"radial-gradient":L6e,"-moz-radial-gradient":h1,"-ms-radial-gradient":h1,"-o-radial-gradient":h1,"-webkit-radial-gradient":h1,"-webkit-gradient":k6e},R6e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Yd(n)&&M6e(n)}).map(function(n){return H6.parse(e,n)})}},O6e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(wn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Q6e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return jl(t).map(function(r){return r.filter(_s)}).map(SV)}},D6e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return jl(t).map(function(r){return r.filter(wn).map(function(n){return n.value}).join(" ")}).map(H6e)}},H6e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},wd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(wd||(wd={}));var $6e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return jl(t).map(function(r){return r.filter(q6e)})}},q6e=function(e){return wn(e)||_s(e)},gy=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},K6e=gy("top"),z6e=gy("right"),G6e=gy("bottom"),V6e=gy("left"),xy=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return SV(r.filter(_s))}}},W6e=xy("top-left"),Y6e=xy("top-right"),X6e=xy("bottom-right"),J6e=xy("bottom-left"),vy=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Z6e=vy("top"),eFe=vy("right"),tFe=vy("bottom"),rFe=vy("left"),yy=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Qp(r)?r.number:0}}},nFe=yy("top"),sFe=yy("right"),iFe=yy("bottom"),aFe=yy("left"),oFe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lFe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},cFe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(wn).reduce(function(r,n){return r|AFe(n.value)},0)}},AFe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},uFe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fFe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},B2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(B2||(B2={}));var dFe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return B2.STRICT;case"normal":default:return B2.NORMAL}}},hFe={name:"line-height",initialValue:"normal",prefix:!1,type:4},XP=function(e,t){return wn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:_s(e)?Fn(e,t):t},mFe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:H6.parse(e,t)}},pFe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},jC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},wy=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},gFe=wy("top"),xFe=wy("right"),vFe=wy("bottom"),yFe=wy("left"),wFe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(wn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bFe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},by=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},BFe=by("top"),NFe=by("right"),_Fe=by("bottom"),CFe=by("left"),EFe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},SFe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},FFe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&FC(t[0],"none")?[]:jl(t).map(function(r){for(var n={color:fc.TRANSPARENT,offsetX:hi,offsetY:hi,blur:hi},s=0,i=0;i<r.length;i++){var a=r[i];jA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=xA.parse(e,a)}return n})}},jFe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},TFe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=LFe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},IFe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},kFe=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,s,i,a,o]:null},LFe={matrix:IFe,matrix3d:kFe},JP={type:16,number:50,flags:Op},UFe=[JP,JP],PFe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(_s);return r.length!==2?UFe:[r[0],r[1]]}},MFe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},mm;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(mm||(mm={}));var RFe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return mm.BREAK_ALL;case"keep-all":return mm.KEEP_ALL;case"normal":default:return mm.NORMAL}}},OFe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(yh(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qV={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},QFe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return yh(t)?t.number:1}},DFe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},HFe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(wn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},$Fe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},qFe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},KFe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(yh(t))return t.number;if(wn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},zFe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(wn).map(function(r){return r.value})}},GFe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Os=function(e,t){return(e&t)!==0},VFe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},WFe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(EV),i=0;i<s.length;i++){var a=s[i],o=s[i+1];if(a.type===20){var c=o&&yh(o)?o.number:1;n.push({counter:a.value,increment:c})}}return n}},YFe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(EV),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(wn(i)&&i.value!=="none"){var o=a&&yh(a)?a.number:0;r.push({counter:i.value,reset:o})}}return r}},XFe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Qp).map(function(r){return qV.parse(e,r)})}},JFe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(N6e);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,o=s[i+1].value;n.push({open:a,close:o})}return n}},ZP=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},ZFe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&FC(t[0],"none")?[]:jl(t).map(function(r){for(var n={color:255,offsetX:hi,offsetY:hi,blur:hi,spread:hi,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];FC(a,"inset")?n.inset=!0:jA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=xA.parse(e,a)}return n})}},e8e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(wn).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},t8e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},r8e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qp(t)?t.number:0}},n8e=function(){function e(t,r){var n,s;this.animationDuration=Qt(t,XFe,r.animationDuration),this.backgroundClip=Qt(t,E6e,r.backgroundClip),this.backgroundColor=Qt(t,S6e,r.backgroundColor),this.backgroundImage=Qt(t,R6e,r.backgroundImage),this.backgroundOrigin=Qt(t,O6e,r.backgroundOrigin),this.backgroundPosition=Qt(t,Q6e,r.backgroundPosition),this.backgroundRepeat=Qt(t,D6e,r.backgroundRepeat),this.backgroundSize=Qt(t,$6e,r.backgroundSize),this.borderTopColor=Qt(t,K6e,r.borderTopColor),this.borderRightColor=Qt(t,z6e,r.borderRightColor),this.borderBottomColor=Qt(t,G6e,r.borderBottomColor),this.borderLeftColor=Qt(t,V6e,r.borderLeftColor),this.borderTopLeftRadius=Qt(t,W6e,r.borderTopLeftRadius),this.borderTopRightRadius=Qt(t,Y6e,r.borderTopRightRadius),this.borderBottomRightRadius=Qt(t,X6e,r.borderBottomRightRadius),this.borderBottomLeftRadius=Qt(t,J6e,r.borderBottomLeftRadius),this.borderTopStyle=Qt(t,Z6e,r.borderTopStyle),this.borderRightStyle=Qt(t,eFe,r.borderRightStyle),this.borderBottomStyle=Qt(t,tFe,r.borderBottomStyle),this.borderLeftStyle=Qt(t,rFe,r.borderLeftStyle),this.borderTopWidth=Qt(t,nFe,r.borderTopWidth),this.borderRightWidth=Qt(t,sFe,r.borderRightWidth),this.borderBottomWidth=Qt(t,iFe,r.borderBottomWidth),this.borderLeftWidth=Qt(t,aFe,r.borderLeftWidth),this.boxShadow=Qt(t,ZFe,r.boxShadow),this.color=Qt(t,oFe,r.color),this.direction=Qt(t,lFe,r.direction),this.display=Qt(t,cFe,r.display),this.float=Qt(t,uFe,r.cssFloat),this.fontFamily=Qt(t,$Fe,r.fontFamily),this.fontSize=Qt(t,qFe,r.fontSize),this.fontStyle=Qt(t,GFe,r.fontStyle),this.fontVariant=Qt(t,zFe,r.fontVariant),this.fontWeight=Qt(t,KFe,r.fontWeight),this.letterSpacing=Qt(t,fFe,r.letterSpacing),this.lineBreak=Qt(t,dFe,r.lineBreak),this.lineHeight=Qt(t,hFe,r.lineHeight),this.listStyleImage=Qt(t,mFe,r.listStyleImage),this.listStylePosition=Qt(t,pFe,r.listStylePosition),this.listStyleType=Qt(t,jC,r.listStyleType),this.marginTop=Qt(t,gFe,r.marginTop),this.marginRight=Qt(t,xFe,r.marginRight),this.marginBottom=Qt(t,vFe,r.marginBottom),this.marginLeft=Qt(t,yFe,r.marginLeft),this.opacity=Qt(t,QFe,r.opacity);var i=Qt(t,wFe,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Qt(t,bFe,r.overflowWrap),this.paddingTop=Qt(t,BFe,r.paddingTop),this.paddingRight=Qt(t,NFe,r.paddingRight),this.paddingBottom=Qt(t,_Fe,r.paddingBottom),this.paddingLeft=Qt(t,CFe,r.paddingLeft),this.paintOrder=Qt(t,e8e,r.paintOrder),this.position=Qt(t,SFe,r.position),this.textAlign=Qt(t,EFe,r.textAlign),this.textDecorationColor=Qt(t,DFe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Qt(t,HFe,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Qt(t,FFe,r.textShadow),this.textTransform=Qt(t,jFe,r.textTransform),this.transform=Qt(t,TFe,r.transform),this.transformOrigin=Qt(t,PFe,r.transformOrigin),this.visibility=Qt(t,MFe,r.visibility),this.webkitTextStrokeColor=Qt(t,t8e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qt(t,r8e,r.webkitTextStrokeWidth),this.wordBreak=Qt(t,RFe,r.wordBreak),this.zIndex=Qt(t,OFe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return vA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Os(this.display,4)||Os(this.display,33554432)||Os(this.display,268435456)||Os(this.display,536870912)||Os(this.display,67108864)||Os(this.display,134217728)},e}(),s8e=function(){function e(t,r){this.content=Qt(t,VFe,r.content),this.quotes=Qt(t,JFe,r.quotes)}return e}(),eM=function(){function e(t,r){this.counterIncrement=Qt(t,WFe,r.counterIncrement),this.counterReset=Qt(t,YFe,r.counterReset)}return e}(),Qt=function(e,t,r){var n=new _V,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var i=new CV(n.read());switch(t.type){case 2:var a=i.parseComponentValue();return t.parse(e,wn(a)?a.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return my.parse(e,i.parseComponentValue());case"color":return xA.parse(e,i.parseComponentValue());case"image":return H6.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return jA(o)?o:hi;case"length-percentage":var c=i.parseComponentValue();return _s(c)?c:hi;case"time":return qV.parse(e,i.parseComponentValue())}break}},i8e="data-html2canvas-debug",a8e=function(e){var t=e.getAttribute(i8e);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},TC=function(e,t){var r=a8e(e);return r===1||t===r},Tl=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,TC(r,3))debugger;this.styles=new n8e(t,window.getComputedStyle(r,null)),LC(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=dy(this.context,r),TC(r,4)&&(this.flags|=16)}return e}(),o8e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m1=0;m1<tM.length;m1++)X0[tM.charCodeAt(m1)]=m1;var l8e=function(e){var t=e.length*.75,r=e.length,n,s=0,i,a,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=X0[e.charCodeAt(n)],a=X0[e.charCodeAt(n+1)],o=X0[e.charCodeAt(n+2)],c=X0[e.charCodeAt(n+3)],A[s++]=i<<2|a>>4,A[s++]=(a&15)<<4|o>>2,A[s++]=(o&3)<<6|c&63;return u},c8e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},A8e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Fu=5,$6=11,aN=2,u8e=$6-Fu,KV=65536>>Fu,f8e=1<<Fu,oN=f8e-1,d8e=1024>>Fu,h8e=KV+d8e,m8e=h8e,p8e=32,g8e=m8e+p8e,x8e=65536>>$6,v8e=1<<u8e,y8e=v8e-1,rM=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},w8e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},b8e=function(e,t){var r=l8e(e),n=Array.isArray(r)?A8e(r):new Uint32Array(r),s=Array.isArray(r)?c8e(r):new Uint16Array(r),i=24,a=rM(s,i/2,n[4]/2),o=n[5]===2?rM(s,(i+n[4])/2):w8e(n,Math.ceil((i+n[4])/4));return new B8e(n[0],n[1],n[2],n[3],a,o)},B8e=function(){function e(t,r,n,s,i,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Fu],r=(r<<aN)+(t&oN),this.data[r];if(t<=65535)return r=this.index[KV+(t-55296>>Fu)],r=(r<<aN)+(t&oN),this.data[r];if(t<this.highStart)return r=g8e-x8e+(t>>$6),r=this.index[r],r+=t>>Fu&y8e,r=this.index[r],r=(r<<aN)+(t&oN),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),nM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N8e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p1=0;p1<nM.length;p1++)N8e[nM.charCodeAt(p1)]=p1;var _8e=1,lN=2,cN=3,sM=4,iM=5,C8e=7,aM=8,AN=9,uN=10,oM=11,lM=12,cM=13,AM=14,fN=15,E8e=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},S8e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=e[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},F8e=b8e(o8e),eo="",dN="",j8e=function(e){return F8e.get(e)},T8e=function(e,t,r){var n=r-2,s=t[n],i=t[r-1],a=t[r];if(i===lN&&a===cN)return eo;if(i===lN||i===cN||i===sM||a===lN||a===cN||a===sM)return dN;if(i===aM&&[aM,AN,oM,lM].indexOf(a)!==-1||(i===oM||i===AN)&&(a===AN||a===uN)||(i===lM||i===uN)&&a===uN||a===cM||a===iM||a===C8e||i===_8e)return eo;if(i===cM&&a===AM){for(;s===iM;)s=t[--n];if(s===AM)return eo}if(i===fN&&a===fN){for(var o=0;s===fN;)o++,s=t[--n];if(o%2===0)return eo}return dN},I8e=function(e){var t=E8e(e),r=t.length,n=0,s=0,i=t.map(j8e);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=eo;n<r&&(a=T8e(t,i,++n))===eo;);if(a!==eo||n===r){var o=S8e.apply(null,t.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},k8e=function(e){for(var t=I8e(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},L8e=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(n),i===t)return!0}}return!1},U8e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=hy(n.data).map(function(c){return ps(c)}),i=0,a={},o=s.every(function(c,u){r.setStart(n,i),r.setEnd(n,i+c.length);var A=r.getBoundingClientRect();i+=c.length;var f=A.x>a.x||A.y>a.y;return a=A,u===0?!0:f});return e.body.removeChild(t),o},P8e=function(){return typeof new Image().crossOrigin<"u"},M8e=function(){return typeof new XMLHttpRequest().responseType=="string"},R8e=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},uM=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},O8e=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=t.toDataURL();s.src=i;var a=IC(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),fM(a).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",uM(c)?fM(IC(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),uM(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},IC=function(e,t,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(s),a},fM=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ai={get SUPPORT_RANGE_BOUNDS(){var e=L8e(document);return Object.defineProperty(Ai,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ai.SUPPORT_RANGE_BOUNDS&&U8e(document);return Object.defineProperty(Ai,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=R8e(document);return Object.defineProperty(Ai,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?O8e(document):Promise.resolve(!1);return Object.defineProperty(Ai,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=P8e();return Object.defineProperty(Ai,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=M8e();return Object.defineProperty(Ai,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ai,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ai,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},pm=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),Q8e=function(e,t,r,n){var s=$8e(t,r),i=[],a=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Ai.SUPPORT_RANGE_BOUNDS){var c=dM(n,a,o.length).getClientRects();if(c.length>1){var u=q6(o),A=0;u.forEach(function(d){i.push(new pm(d,Bc.fromDOMRectList(e,dM(n,A+a,d.length).getClientRects()))),A+=d.length})}else i.push(new pm(o,Bc.fromDOMRectList(e,c)))}else{var f=n.splitText(o.length);i.push(new pm(o,D8e(e,n))),n=f}else Ai.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),i},D8e=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var i=dy(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return Bc.EMPTY},dM=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},q6=function(e){if(Ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return k8e(e)},H8e=function(e,t){if(Ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return K8e(e,t)},$8e=function(e,t){return t.letterSpacing!==0?q6(e):H8e(e,t)},q8e=[32,160,4961,65792,65793,4153,4241],K8e=function(e,t){for(var r=xSe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),o=hy(a),c="";o.forEach(function(u){q8e.indexOf(u)===-1?c+=ps(u):(c.length&&n.push(c),n.push(ps(u)),c="")}),c.length&&n.push(c)}};!(s=r.next()).done;)i();return n},z8e=function(){function e(t,r,n){this.text=G8e(r.data,n.textTransform),this.textBounds=Q8e(t,this.text,n,r)}return e}(),G8e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(V8e,W8e);case 2:return e.toUpperCase();default:return e}},V8e=/(^|\s|:|-|\(|\))([a-z])/g,W8e=function(e,t,r){return e.length>0?t+r.toUpperCase():e},zV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Tl),GV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Tl),VV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=new XMLSerializer,a=dy(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Tl),WV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Tl),kC=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Tl),Y8e=[{type:15,flags:0,unit:"px",number:3}],X8e=[{type:16,flags:0,number:50}],J8e=function(e){return e.width>e.height?new Bc(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Bc(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Z8e=function(e){var t=e.type===eje?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},N2="checkbox",_2="radio",eje="password",hM=707406591,K6=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Z8e(n),(s.type===N2||s.type===_2)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=J8e(s.bounds)),s.type){case N2:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Y8e;break;case _2:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=X8e;break}return s}return t}(Tl),YV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Tl),XV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Tl),JV=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=eW(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?hm(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):fc.TRANSPARENT,a=n.contentWindow.document.body?hm(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):fc.TRANSPARENT;s.backgroundColor=vA(i)?vA(a)?s.styles.backgroundColor:a:i}}catch{}return s}return t}(Tl),tje=["OL","UL","MENU"],Z1=function(e,t,r,n){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,tW(s)&&s.data.trim().length>0)r.textNodes.push(new z8e(e,s,r.styles));else if(ld(s))if(iW(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return Z1(e,o,r,n)});else{var a=ZV(e,s);a.styles.isVisible()&&(rje(s,a,n)?a.flags|=4:nje(a.styles)&&(a.flags|=2),tje.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?Z1(e,s.shadowRoot,a,n):!C2(s)&&!rW(s)&&!E2(s)&&Z1(e,s,a,n))}},ZV=function(e,t){return UC(t)?new zV(e,t):nW(t)?new GV(e,t):rW(t)?new VV(e,t):sje(t)?new WV(e,t):ije(t)?new kC(e,t):aje(t)?new K6(e,t):E2(t)?new YV(e,t):C2(t)?new XV(e,t):sW(t)?new JV(e,t):new Tl(e,t)},eW=function(e,t){var r=ZV(e,t);return r.flags|=4,Z1(e,t,r,r),r},rje=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||z6(e)&&r.styles.isTransparent()},nje=function(e){return e.isPositioned()||e.isFloating()},tW=function(e){return e.nodeType===Node.TEXT_NODE},ld=function(e){return e.nodeType===Node.ELEMENT_NODE},LC=function(e){return ld(e)&&typeof e.style<"u"&&!ex(e)},ex=function(e){return typeof e.className=="object"},sje=function(e){return e.tagName==="LI"},ije=function(e){return e.tagName==="OL"},aje=function(e){return e.tagName==="INPUT"},oje=function(e){return e.tagName==="HTML"},rW=function(e){return e.tagName==="svg"},z6=function(e){return e.tagName==="BODY"},nW=function(e){return e.tagName==="CANVAS"},mM=function(e){return e.tagName==="VIDEO"},UC=function(e){return e.tagName==="IMG"},sW=function(e){return e.tagName==="IFRAME"},pM=function(e){return e.tagName==="STYLE"},lje=function(e){return e.tagName==="SCRIPT"},C2=function(e){return e.tagName==="TEXTAREA"},E2=function(e){return e.tagName==="SELECT"},iW=function(e){return e.tagName==="SLOT"},gM=function(e){return e.tagName.indexOf("-")>0},cje=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,i=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var a=[];return i&&s.forEach(function(o){var c=r.counters[o.counter];a.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),a},e}(),xM={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},vM={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Aje={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uje={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qf=function(e,t,r,n,s,i){return e<t||e>r?sp(e,s,i.length>0):n.integers.reduce(function(a,o,c){for(;e>=o;)e-=o,a+=n.values[c];return a},"")+i},aW=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},ms=function(e,t,r,n,s){var i=r-t+1;return(e<0?"-":"")+(aW(Math.abs(e),i,n,function(a){return ps(Math.floor(a%i)+t)})+s)},au=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return aW(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Jf=1,Zc=2,eA=4,J0=8,Wl=function(e,t,r,n,s,i){if(e<-9999||e>9999)return sp(e,4,s.length>0);var a=Math.abs(e),o=s;if(a===0)return t[0]+o;for(var c=0;a>0&&c<=4;c++){var u=a%10;u===0&&Os(i,Jf)&&o!==""?o=t[u]+o:u>1||u===1&&c===0||u===1&&c===1&&Os(i,Zc)||u===1&&c===1&&Os(i,eA)&&e>100||u===1&&c>1&&Os(i,J0)?o=t[u]+(c>0?r[c-1]:"")+o:u===1&&c>0&&(o=r[c-1]+o),a=Math.floor(a/10)}return(e<0?n:"")+o},yM="",wM="",bM="",hN="",sp=function(e,t,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=ms(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return au(e,"",s);case 6:return qf(e,1,3999,xM,3,n).toLowerCase();case 7:return qf(e,1,3999,xM,3,n);case 8:return ms(e,945,969,!1,n);case 9:return ms(e,97,122,!1,n);case 10:return ms(e,65,90,!1,n);case 11:return ms(e,1632,1641,!0,n);case 12:case 49:return qf(e,1,9999,vM,3,n);case 35:return qf(e,1,9999,vM,3,n).toLowerCase();case 13:return ms(e,2534,2543,!0,n);case 14:case 30:return ms(e,6112,6121,!0,n);case 15:return au(e,"",s);case 16:return au(e,"",s);case 17:case 48:return Wl(e,"",yM,"",s,Zc|eA|J0);case 47:return Wl(e,"",wM,"",s,Jf|Zc|eA|J0);case 42:return Wl(e,"",yM,"",s,Zc|eA|J0);case 41:return Wl(e,"",wM,"",s,Jf|Zc|eA|J0);case 26:return Wl(e,"","",bM,s,0);case 25:return Wl(e,"","",bM,s,Jf|Zc|eA);case 31:return Wl(e,"","",hN,i,Jf|Zc|eA);case 33:return Wl(e,"","",hN,i,0);case 32:return Wl(e,"","",hN,i,Jf|Zc|eA);case 18:return ms(e,2406,2415,!0,n);case 20:return qf(e,1,19999,uje,3,n);case 21:return ms(e,2790,2799,!0,n);case 22:return ms(e,2662,2671,!0,n);case 22:return qf(e,1,10999,Aje,3,n);case 23:return au(e,"");case 24:return au(e,"");case 27:return ms(e,3302,3311,!0,n);case 28:return au(e,"",s);case 29:return au(e,"",s);case 34:return ms(e,3792,3801,!0,n);case 37:return ms(e,6160,6169,!0,n);case 38:return ms(e,4160,4169,!0,n);case 39:return ms(e,2918,2927,!0,n);case 40:return ms(e,1776,1785,!0,n);case 43:return ms(e,3046,3055,!0,n);case 44:return ms(e,3174,3183,!0,n);case 45:return ms(e,3664,3673,!0,n);case 46:return ms(e,3872,3881,!0,n);case 3:default:return ms(e,48,57,!0,n)}},oW="data-html2canvas-ignore",BM=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new cje,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=fje(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,o=s.contentWindow,c=o.document,u=mje(s).then(function(){return Ki(n,void 0,void 0,function(){var A,f;return ji(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(vje),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),A=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hje(c)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,f)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(gje(document.doctype)+"<html></html>"),xje(this.referenceElement.ownerDocument,i,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(t){if(TC(t,2))debugger;if(nW(t))return this.createCanvasClone(t);if(mM(t))return this.createVideoClone(t);if(pM(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return UC(r)&&(UC(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),gM(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return mN(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!ld(r)||!lje(r)&&!r.hasAttribute(oW)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!ld(r)||!pM(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(ld(i)&&iW(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(tW(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&ld(t)&&(LC(t)||ex(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=n.getComputedStyle(t),a=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&LC(s)&&(this.clonedReferenceElement=s),z6(s)&&bje(s);var c=this.counters.parse(new eM(this.context,i)),u=this.resolvePseudoContent(t,s,a,gm.BEFORE);gM(t)&&(r=!0),mM(t)||this.cloneChildNodes(t,s,r),u&&s.insertBefore(u,s.firstChild);var A=this.resolvePseudoContent(t,s,o,gm.AFTER);return A&&s.appendChild(A),this.counters.pop(c),(i&&(this.options.copyStyles||ex(t))&&!sW(t)||r)&&mN(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(C2(t)||E2(t))&&(C2(s)||E2(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var i=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new eM(this.context,n));var c=new s8e(this.context,n),u=o.createElement("html2canvaspseudoelement");mN(n,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(o.createTextNode(f.value));else if(f.type===22){var d=o.createElement("img");d.src=f.value,d.style.opacity="1",u.appendChild(d)}else if(f.type===18){if(f.name==="attr"){var h=f.values.filter(wn);h.length&&u.appendChild(o.createTextNode(t.getAttribute(h[0].value)||""))}else if(f.name==="counter"){var g=f.values.filter(Yd),p=g[0],m=g[1];if(p&&wn(p)){var x=i.counters.getCounterValue(p.value),v=m&&wn(m)?jC.parse(i.context,m.value):3;u.appendChild(o.createTextNode(sp(x,v,!1)))}}else if(f.name==="counters"){var y=f.values.filter(Yd),p=y[0],w=y[1],m=y[2];if(p&&wn(p)){var S=i.counters.getCounterValues(p.value),T=m&&wn(m)?jC.parse(i.context,m.value):3,j=w&&w.type===0?w.value:"",I=S.map(function(N){return sp(N,T,!1)}).join(j);u.appendChild(o.createTextNode(I))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(o.createTextNode(ZP(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(ZP(c.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(f.value))}}),u.className=PC+" "+MC;var A=s===gm.BEFORE?" "+PC:" "+MC;return ex(r)?r.className.baseValue+=A:r.className+=A,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),gm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(gm||(gm={}));var fje=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(oW,"true"),e.body.appendChild(r),r},dje=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},hje=function(e){return Promise.all([].slice.call(e.images,0).map(dje))},mje=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},pje=["all","d","content"],mN=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);pje.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},gje=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},xje=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},vje=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},yje=":before",wje=":after",PC="___html2canvas___pseudoelement_before",MC="___html2canvas___pseudoelement_after",NM=`{
    content: "" !important;
    display: none !important;
}`,bje=function(e){Bje(e,"."+PC+yje+NM+`
         .`+MC+wje+NM)},Bje=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},lW=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Nje=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(gN(t)||Sje(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ki(this,void 0,void 0,function(){var r,n,s,i,a=this;return ji(this,function(o){switch(o.label){case 0:return r=lW.isSameOrigin(t),n=!pN(t)&&this._options.useCORS===!0&&Ai.SUPPORT_CORS_IMAGES&&!r,s=!pN(t)&&!r&&!gN(t)&&typeof this._options.proxy=="string"&&Ai.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!pN(t)&&!gN(t)&&!s&&!n?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(Fje(i)||n)&&(A.crossOrigin="anonymous"),A.src=i,A.complete===!0&&setTimeout(function(){return c(A)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,a){var o=Ai.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")i(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(d){return a(d)},!1),f.readAsDataURL(c.response)}else a("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=a;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var A=r._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+s)}}c.send()})},e}(),_je=/^data:image\/svg\+xml/i,Cje=/^data:image\/.*;base64,/i,Eje=/^data:image\/.*/i,Sje=function(e){return Ai.SUPPORT_SVG_DRAWING||!jje(e)},pN=function(e){return Eje.test(e)},Fje=function(e){return Cje.test(e)},gN=function(e){return e.substr(0,4)==="blob"},jje=function(e){return e.substr(-3).toLowerCase()==="svg"||_je.test(e)},Ot=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Kf=function(e,t,r){return new Ot(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},g1=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=Kf(this.start,this.startControl,t),s=Kf(this.startControl,this.endControl,t),i=Kf(this.endControl,this.end,t),a=Kf(n,s,t),o=Kf(s,i,t),c=Kf(a,o,t);return r?new e(this.start,n,a,c):new e(c,o,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),no=function(e){return e.type===1},Tje=function(){function e(t){var r=t.styles,n=t.bounds,s=Y0(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],o=Y0(r.borderTopRightRadius,n.width,n.height),c=o[0],u=o[1],A=Y0(r.borderBottomRightRadius,n.width,n.height),f=A[0],d=A[1],h=Y0(r.borderBottomLeftRadius,n.width,n.height),g=h[0],p=h[1],m=[];m.push((i+c)/n.width),m.push((g+f)/n.width),m.push((a+p)/n.height),m.push((u+d)/n.height);var x=Math.max.apply(Math,m);x>1&&(i/=x,a/=x,c/=x,u/=x,f/=x,d/=x,g/=x,p/=x);var v=n.width-c,y=n.height-d,w=n.width-f,S=n.height-p,T=r.borderTopWidth,j=r.borderRightWidth,I=r.borderBottomWidth,B=r.borderLeftWidth,C=Fn(r.paddingTop,t.bounds.width),N=Fn(r.paddingRight,t.bounds.width),k=Fn(r.paddingBottom,t.bounds.width),E=Fn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?On(n.left+B/3,n.top+T/3,i-B/3,a-T/3,ln.TOP_LEFT):new Ot(n.left+B/3,n.top+T/3),this.topRightBorderDoubleOuterBox=i>0||a>0?On(n.left+v,n.top+T/3,c-j/3,u-T/3,ln.TOP_RIGHT):new Ot(n.left+n.width-j/3,n.top+T/3),this.bottomRightBorderDoubleOuterBox=f>0||d>0?On(n.left+w,n.top+y,f-j/3,d-I/3,ln.BOTTOM_RIGHT):new Ot(n.left+n.width-j/3,n.top+n.height-I/3),this.bottomLeftBorderDoubleOuterBox=g>0||p>0?On(n.left+B/3,n.top+S,g-B/3,p-I/3,ln.BOTTOM_LEFT):new Ot(n.left+B/3,n.top+n.height-I/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?On(n.left+B*2/3,n.top+T*2/3,i-B*2/3,a-T*2/3,ln.TOP_LEFT):new Ot(n.left+B*2/3,n.top+T*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?On(n.left+v,n.top+T*2/3,c-j*2/3,u-T*2/3,ln.TOP_RIGHT):new Ot(n.left+n.width-j*2/3,n.top+T*2/3),this.bottomRightBorderDoubleInnerBox=f>0||d>0?On(n.left+w,n.top+y,f-j*2/3,d-I*2/3,ln.BOTTOM_RIGHT):new Ot(n.left+n.width-j*2/3,n.top+n.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||p>0?On(n.left+B*2/3,n.top+S,g-B*2/3,p-I*2/3,ln.BOTTOM_LEFT):new Ot(n.left+B*2/3,n.top+n.height-I*2/3),this.topLeftBorderStroke=i>0||a>0?On(n.left+B/2,n.top+T/2,i-B/2,a-T/2,ln.TOP_LEFT):new Ot(n.left+B/2,n.top+T/2),this.topRightBorderStroke=i>0||a>0?On(n.left+v,n.top+T/2,c-j/2,u-T/2,ln.TOP_RIGHT):new Ot(n.left+n.width-j/2,n.top+T/2),this.bottomRightBorderStroke=f>0||d>0?On(n.left+w,n.top+y,f-j/2,d-I/2,ln.BOTTOM_RIGHT):new Ot(n.left+n.width-j/2,n.top+n.height-I/2),this.bottomLeftBorderStroke=g>0||p>0?On(n.left+B/2,n.top+S,g-B/2,p-I/2,ln.BOTTOM_LEFT):new Ot(n.left+B/2,n.top+n.height-I/2),this.topLeftBorderBox=i>0||a>0?On(n.left,n.top,i,a,ln.TOP_LEFT):new Ot(n.left,n.top),this.topRightBorderBox=c>0||u>0?On(n.left+v,n.top,c,u,ln.TOP_RIGHT):new Ot(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||d>0?On(n.left+w,n.top+y,f,d,ln.BOTTOM_RIGHT):new Ot(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||p>0?On(n.left,n.top+S,g,p,ln.BOTTOM_LEFT):new Ot(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?On(n.left+B,n.top+T,Math.max(0,i-B),Math.max(0,a-T),ln.TOP_LEFT):new Ot(n.left+B,n.top+T),this.topRightPaddingBox=c>0||u>0?On(n.left+Math.min(v,n.width-j),n.top+T,v>n.width+j?0:Math.max(0,c-j),Math.max(0,u-T),ln.TOP_RIGHT):new Ot(n.left+n.width-j,n.top+T),this.bottomRightPaddingBox=f>0||d>0?On(n.left+Math.min(w,n.width-B),n.top+Math.min(y,n.height-I),Math.max(0,f-j),Math.max(0,d-I),ln.BOTTOM_RIGHT):new Ot(n.left+n.width-j,n.top+n.height-I),this.bottomLeftPaddingBox=g>0||p>0?On(n.left+B,n.top+Math.min(S,n.height-I),Math.max(0,g-B),Math.max(0,p-I),ln.BOTTOM_LEFT):new Ot(n.left+B,n.top+n.height-I),this.topLeftContentBox=i>0||a>0?On(n.left+B+E,n.top+T+C,Math.max(0,i-(B+E)),Math.max(0,a-(T+C)),ln.TOP_LEFT):new Ot(n.left+B+E,n.top+T+C),this.topRightContentBox=c>0||u>0?On(n.left+Math.min(v,n.width+B+E),n.top+T+C,v>n.width+B+E?0:c-B+E,u-(T+C),ln.TOP_RIGHT):new Ot(n.left+n.width-(j+N),n.top+T+C),this.bottomRightContentBox=f>0||d>0?On(n.left+Math.min(w,n.width-(B+E)),n.top+Math.min(y,n.height+T+C),Math.max(0,f-(j+N)),d-(I+k),ln.BOTTOM_RIGHT):new Ot(n.left+n.width-(j+N),n.top+n.height-(I+k)),this.bottomLeftContentBox=g>0||p>0?On(n.left+B+E,n.top+S,Math.max(0,g-(B+E)),p-(I+k),ln.BOTTOM_LEFT):new Ot(n.left+B+E,n.top+n.height-(I+k))}return e}(),ln;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ln||(ln={}));var On=function(e,t,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,o=n*i,c=e+r,u=t+n;switch(s){case ln.TOP_LEFT:return new g1(new Ot(e,u),new Ot(e,u-o),new Ot(c-a,t),new Ot(c,t));case ln.TOP_RIGHT:return new g1(new Ot(e,t),new Ot(e+a,t),new Ot(c,u-o),new Ot(c,u));case ln.BOTTOM_RIGHT:return new g1(new Ot(c,t),new Ot(c,t+o),new Ot(e+a,u),new Ot(e,u));case ln.BOTTOM_LEFT:default:return new g1(new Ot(c,u),new Ot(c-a,u),new Ot(e,t+o),new Ot(e,t))}},S2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Ije=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},F2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},kje=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),x1=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),Lje=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Uje=function(e){return e.type===0},cW=function(e){return e.type===1},Pje=function(e){return e.type===2},_M=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Mje=function(e,t,r,n,s){return e.map(function(i,a){switch(a){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+s);case 3:return i.add(t,r+s)}return i})},AW=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),uW=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Tje(this.container),this.container.styles.opacity<1&&this.effects.push(new Lje(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new kje(n,s,i))}if(this.container.styles.overflowX!==0){var a=S2(this.curves),o=F2(this.curves);_M(a,o)?this.effects.push(new x1(a,6)):(this.effects.push(new x1(a,2)),this.effects.push(new x1(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!cW(c)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=S2(n.curves),o=F2(n.curves);_M(a,o)||s.unshift(new x1(o,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(c){return Os(c.target,t)})},e}(),RC=function(e,t,r,n){e.container.elements.forEach(function(s){var i=Os(s.flags,4),a=Os(s.flags,2),o=new uW(s,e);Os(s.styles.display,2048)&&n.push(o);var c=Os(s.flags,8)?[]:n;if(i||a){var u=i||s.styles.isPositioned()?r:t,A=new AW(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var d=0;u.negativeZIndex.some(function(g,p){return f>g.element.container.styles.zIndex.order?(d=p,!1):d>0}),u.negativeZIndex.splice(d,0,A)}else if(f>0){var h=0;u.positiveZIndex.some(function(g,p){return f>=g.element.container.styles.zIndex.order?(h=p+1,!1):h>0}),u.positiveZIndex.splice(h,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else s.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);RC(o,A,i?A:r,c)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),RC(o,t,r,c);Os(s.flags,8)&&fW(s,c)})},fW=function(e,t){for(var r=e instanceof kC?e.start:1,n=e instanceof kC?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof WV&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=sp(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Rje=function(e){var t=new uW(e,null),r=new AW(t),n=[];return RC(t,r,r,n),fW(t.container,n),r},CM=function(e,t){switch(t){case 0:return Ao(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ao(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ao(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ao(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Oje=function(e,t){switch(t){case 0:return Ao(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ao(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ao(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ao(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Qje=function(e,t){switch(t){case 0:return Ao(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ao(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ao(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ao(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Dje=function(e,t){switch(t){case 0:return v1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return v1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return v1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return v1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},v1=function(e,t){var r=[];return no(e)?r.push(e.subdivide(.5,!1)):r.push(e),no(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Ao=function(e,t,r,n){var s=[];return no(e)?s.push(e.subdivide(.5,!1)):s.push(e),no(r)?s.push(r.subdivide(.5,!0)):s.push(r),no(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),no(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},dW=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},j2=function(e){var t=e.styles,r=e.bounds,n=Fn(t.paddingLeft,r.width),s=Fn(t.paddingRight,r.width),i=Fn(t.paddingTop,r.width),a=Fn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+i+a))},Hje=function(e,t){return e===0?t.bounds:e===2?j2(t):dW(t)},$je=function(e,t){return e===0?t.bounds:e===2?j2(t):dW(t)},xN=function(e,t,r){var n=Hje(Zf(e.styles.backgroundOrigin,t),e),s=$je(Zf(e.styles.backgroundClip,t),e),i=qje(Zf(e.styles.backgroundSize,t),r,n),a=i[0],o=i[1],c=Y0(Zf(e.styles.backgroundPosition,t),n.width-a,n.height-o),u=Kje(Zf(e.styles.backgroundRepeat,t),c,i,n,s),A=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[u,A,f,a,o]},zf=function(e){return wn(e)&&e.value===wd.AUTO},y1=function(e){return typeof e=="number"},qje=function(e,t,r){var n=t[0],s=t[1],i=t[2],a=e[0],o=e[1];if(!a)return[0,0];if(_s(a)&&o&&_s(o))return[Fn(a,r.width),Fn(o,r.height)];var c=y1(i);if(wn(a)&&(a.value===wd.CONTAIN||a.value===wd.COVER)){if(y1(i)){var u=r.width/r.height;return u<i!=(a.value===wd.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var A=y1(n),f=y1(s),d=A||f;if(zf(a)&&(!o||zf(o))){if(A&&f)return[n,s];if(!c&&!d)return[r.width,r.height];if(d&&c){var h=A?n:s*i,g=f?s:n/i;return[h,g]}var p=A?n:r.width,m=f?s:r.height;return[p,m]}if(c){var x=0,v=0;return _s(a)?x=Fn(a,r.width):_s(o)&&(v=Fn(o,r.height)),zf(a)?x=v*i:(!o||zf(o))&&(v=x/i),[x,v]}var y=null,w=null;if(_s(a)?y=Fn(a,r.width):o&&_s(o)&&(w=Fn(o,r.height)),y!==null&&(!o||zf(o))&&(w=A&&f?y/n*s:r.height),w!==null&&zf(a)&&(y=A&&f?w/s*n:r.width),y!==null&&w!==null)return[y,w];throw new Error("Unable to calculate background-size for element")},Zf=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Kje=function(e,t,r,n,s){var i=t[0],a=t[1],o=r[0],c=r[1];switch(e){case 2:return[new Ot(Math.round(n.left),Math.round(n.top+a)),new Ot(Math.round(n.left+n.width),Math.round(n.top+a)),new Ot(Math.round(n.left+n.width),Math.round(c+n.top+a)),new Ot(Math.round(n.left),Math.round(c+n.top+a))];case 3:return[new Ot(Math.round(n.left+i),Math.round(n.top)),new Ot(Math.round(n.left+i+o),Math.round(n.top)),new Ot(Math.round(n.left+i+o),Math.round(n.height+n.top)),new Ot(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Ot(Math.round(n.left+i),Math.round(n.top+a)),new Ot(Math.round(n.left+i+o),Math.round(n.top+a)),new Ot(Math.round(n.left+i+o),Math.round(n.top+a+c)),new Ot(Math.round(n.left+i),Math.round(n.top+a+c))];default:return[new Ot(Math.round(s.left),Math.round(s.top)),new Ot(Math.round(s.left+s.width),Math.round(s.top)),new Ot(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ot(Math.round(s.left),Math.round(s.height+s.top))]}},zje="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",EM="Hidden Text",Gje=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=zje,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(EM)),n.appendChild(i),n.appendChild(s);var o=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(EM)),n.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),hW=function(){function e(t,r){this.context=t,this.options=r}return e}(),Vje=1e4,Wje=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Gje(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),Pje(r)&&(this.ctx.globalAlpha=r.opacity),Uje(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),cW(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Ki(this,void 0,void 0,function(){var n;return ji(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Ki(this,void 0,void 0,function(){return ji(this,function(n){switch(n.label){case 0:if(Os(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=q6(r.text);a.reduce(function(o,c){return i.ctx.fillText(c,o,r.bounds.top+s),o+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=eTe(r.fontFamily).join(", "),i=Qp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(r,n){return Ki(this,void 0,void 0,function(){var s,i,a,o,c,u,A,f,d=this;return ji(this,function(h){return s=this.createFontStyle(n),i=s[0],a=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(a,o),u=c.baseline,A=c.middle,f=n.paintOrder,r.textBounds.forEach(function(g){f.forEach(function(p){switch(p){case 0:d.ctx.fillStyle=Ks(n.color),d.renderTextWithLetterSpacing(g,n.letterSpacing,u);var m=n.textShadow;m.length&&g.text.trim().length&&(m.slice(0).reverse().forEach(function(x){d.ctx.shadowColor=Ks(x.color),d.ctx.shadowOffsetX=x.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=x.offsetY.number*d.options.scale,d.ctx.shadowBlur=x.blur.number,d.renderTextWithLetterSpacing(g,n.letterSpacing,u)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),n.textDecorationLine.length&&(d.ctx.fillStyle=Ks(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+u),g.bounds.width,1);break;case 2:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:d.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+A),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(d.ctx.strokeStyle=Ks(n.webkitTextStrokeColor),d.ctx.lineWidth=n.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+u)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=j2(r),a=F2(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Ki(this,void 0,void 0,function(){var n,s,i,a,o,c,v,v,u,A,f,d,w,h,g,S,p,m,x,v,y,w,S;return ji(this,function(T){switch(T.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,o=n.textNodes,T.label=1;case 1:return a<o.length?(c=o[a],[4,this.renderTextNode(c,i)]):[3,4];case 2:T.sent(),T.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof zV))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=T.sent(),this.renderReplacedElement(n,s,v),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof GV&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof VV))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=T.sent(),this.renderReplacedElement(n,s,v),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof JV&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=T.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),T.label=14;case 14:if(n instanceof K6&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===N2?n.checked&&(this.ctx.save(),this.path([new Ot(n.bounds.left+f*.39363,n.bounds.top+f*.79),new Ot(n.bounds.left+f*.16,n.bounds.top+f*.5549),new Ot(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new Ot(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new Ot(n.bounds.left+f*.72983,n.bounds.top+f*.23),new Ot(n.bounds.left+f*.84,n.bounds.top+f*.34085),new Ot(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=Ks(hM),this.ctx.fill(),this.ctx.restore()):n.type===_2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ks(hM),this.ctx.fill(),this.ctx.restore())),Yje(n)&&n.value.length){switch(d=this.createFontStyle(i),w=d[0],h=d[1],g=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=Ks(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Jje(n.styles.textAlign),S=j2(n),p=0,n.styles.textAlign){case 1:p+=S.width/2;break;case 2:p+=S.width;break}m=S.add(p,0,0,-S.height/2+1),this.ctx.save(),this.path([new Ot(S.left,S.top),new Ot(S.left+S.width,S.top),new Ot(S.left+S.width,S.top+S.height),new Ot(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new pm(n.value,m),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Os(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];v=void 0,y=x.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=T.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(i)[0],this.ctx.font=w,this.ctx.fillStyle=Ks(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new Bc(n.bounds.left,n.bounds.top+Fn(n.styles.paddingTop,n.bounds.width),n.bounds.width,XP(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new pm(r.listValue,S),i.letterSpacing,XP(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Ki(this,void 0,void 0,function(){var n,s,x,i,a,x,o,c,x,u,A,x,f,d,x,h,g,x,p,m,x;return ji(this,function(v){switch(v.label){case 0:if(Os(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),n=0,s=r.negativeZIndex,v.label=2;case 2:return n<s.length?(x=s[n],[4,this.renderStack(x)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),i=0,a=r.nonInlineLevel,v.label=7;case 7:return i<a.length?(x=a[i],[4,this.renderNode(x)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:o=0,c=r.nonPositionedFloats,v.label=11;case 11:return o<c.length?(x=c[o],[4,this.renderStack(x)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:u=0,A=r.nonPositionedInlineLevel,v.label=15;case 15:return u<A.length?(x=A[u],[4,this.renderStack(x)]):[3,18];case 16:v.sent(),v.label=17;case 17:return u++,[3,15];case 18:f=0,d=r.inlineLevel,v.label=19;case 19:return f<d.length?(x=d[f],[4,this.renderNode(x)]):[3,22];case 20:v.sent(),v.label=21;case 21:return f++,[3,19];case 22:h=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return h<g.length?(x=g[h],[4,this.renderStack(x)]):[3,26];case 24:v.sent(),v.label=25;case 25:return h++,[3,23];case 26:p=0,m=r.positiveZIndex,v.label=27;case 27:return p<m.length?(x=m[p],[4,this.renderStack(x)]):[3,30];case 28:v.sent(),v.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=no(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),no(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},t.prototype.renderBackgroundImage=function(r){return Ki(this,void 0,void 0,function(){var n,s,i,a,o,c;return ji(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(A){var f,d,h,C,M,Q,E,U,I,g,C,M,Q,E,U,p,m,x,v,y,w,S,T,j,I,B,C,N,k,E,U,D,M,Q,K,O,z,G,F,P,L,q;return ji(this,function(X){switch(X.label){case 0:if(A.type!==0)return[3,5];f=void 0,d=A.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,i.context.cache.match(d)];case 2:return f=X.sent(),[3,4];case 3:return X.sent(),i.context.logger.error("Error loading background-image "+d),[3,4];case 4:return f&&(h=xN(r,n,[f.width,f.height,f.width/f.height]),C=h[0],M=h[1],Q=h[2],E=h[3],U=h[4],I=i.ctx.createPattern(i.resizeImage(f,E,U),"repeat"),i.renderRepeat(C,I,M,Q)),[3,6];case 5:U6e(A)?(g=xN(r,n,[null,null,null]),C=g[0],M=g[1],Q=g[2],E=g[3],U=g[4],p=j6e(A.angle,E,U),m=p[0],x=p[1],v=p[2],y=p[3],w=p[4],S=document.createElement("canvas"),S.width=E,S.height=U,T=S.getContext("2d"),j=T.createLinearGradient(x,y,v,w),WP(A.stops,m).forEach(function(se){return j.addColorStop(se.stop,Ks(se.color))}),T.fillStyle=j,T.fillRect(0,0,E,U),E>0&&U>0&&(I=i.ctx.createPattern(S,"repeat"),i.renderRepeat(C,I,M,Q))):P6e(A)&&(B=xN(r,n,[null,null,null]),C=B[0],N=B[1],k=B[2],E=B[3],U=B[4],D=A.position.length===0?[D6]:A.position,M=Fn(D[0],E),Q=Fn(D[D.length-1],U),K=T6e(A,M,Q,E,U),O=K[0],z=K[1],O>0&&z>0&&(G=i.ctx.createRadialGradient(N+M,k+Q,0,N+M,k+Q,O),WP(A.stops,O*2).forEach(function(se){return G.addColorStop(se.stop,Ks(se.color))}),i.path(C),i.ctx.fillStyle=G,O!==z?(F=r.bounds.left+.5*r.bounds.width,P=r.bounds.top+.5*r.bounds.height,L=z/O,q=1/L,i.ctx.save(),i.ctx.translate(F,P),i.ctx.transform(1,0,0,L,0,0),i.ctx.translate(-F,-P),i.ctx.fillRect(N,q*(k-P)+P,E,U*q),i.ctx.restore()):i.ctx.fill())),X.label=6;case 6:return n--,[2]}})},i=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(c=o[a],[5,s(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return Ki(this,void 0,void 0,function(){return ji(this,function(i){return this.path(CM(s,n)),this.ctx.fillStyle=Ks(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,i){return Ki(this,void 0,void 0,function(){var a,o;return ji(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return c.sent(),[2];case 2:return a=Oje(i,s),this.path(a),this.ctx.fillStyle=Ks(r),this.ctx.fill(),o=Qje(i,s),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Ki(this,void 0,void 0,function(){var n,s,i,a,o,c,u,A,f=this;return ji(this,function(d){switch(d.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!vA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Xje(Zf(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),vA(n.backgroundColor)||(this.ctx.fillStyle=Ks(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){f.ctx.save();var g=S2(r.curves),p=h.inset?0:Vje,m=Mje(g,-p+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(f.path(g),f.ctx.clip(),f.mask(m)):(f.mask(g),f.ctx.clip(),f.path(m)),f.ctx.shadowOffsetX=h.offsetX.number+p,f.ctx.shadowOffsetY=h.offsetY.number,f.ctx.shadowColor=Ks(h.color),f.ctx.shadowBlur=h.blur.number,f.ctx.fillStyle=h.inset?Ks(h.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),d.label=2;case 2:o=0,c=0,u=i,d.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!vA(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,r.curves,3)];case 6:return d.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,r.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,r.curves)];case 10:d.sent(),d.label=11;case 11:o++,d.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return Ki(this,void 0,void 0,function(){var o,c,u,A,f,d,h,g,p,m,x,v,y,w,S,T,S,T;return ji(this,function(j){return this.ctx.save(),o=Dje(i,s),c=CM(i,s),a===2&&(this.path(c),this.ctx.clip()),no(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),no(c[1])?(f=c[1].end.x,d=c[1].end.y):(f=c[1].x,d=c[1].y),s===0||s===2?h=Math.abs(u-f):h=Math.abs(A-d),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(g=n,p=n),m=!0,h<=g*2?m=!1:h<=g*2+p?(x=h/(2*g+p),g*=x,p*=x):(v=Math.floor((h+p)/(g+p)),y=(h-v*g)/(v-1),w=(h-(v+1)*g)/v,p=w<=0||Math.abs(p-y)<Math.abs(p-w)?y:w),m&&(a===3?this.ctx.setLineDash([0,g+p]):this.ctx.setLineDash([g,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ks(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(no(c[0])&&(S=c[3],T=c[0],this.ctx.beginPath(),this.formatPath([new Ot(S.end.x,S.end.y),new Ot(T.start.x,T.start.y)]),this.ctx.stroke()),no(c[1])&&(S=c[1],T=c[2],this.ctx.beginPath(),this.formatPath([new Ot(S.end.x,S.end.y),new Ot(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Ki(this,void 0,void 0,function(){var n;return ji(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ks(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Rje(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(hW),Yje=function(e){return e instanceof XV||e instanceof YV?!0:e instanceof K6&&e.type!==_2&&e.type!==N2},Xje=function(e,t){switch(e){case 0:return S2(t);case 2:return Ije(t);case 1:default:return F2(t)}},Jje=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zje=["-apple-system","system-ui"],eTe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Zje.indexOf(t)===-1}):e},tTe=function(e){zo(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return Ki(this,void 0,void 0,function(){var n,s;return ji(this,function(i){switch(i.label){case 0:return n=IC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,rTe(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ks(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(hW),rTe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},nTe=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Jg([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Jg([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Jg([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Jg([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),sTe=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new nTe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new Nje(this,t)}return e.instanceCount=1,e}(),OC=function(e,t){return t===void 0&&(t={}),iTe(e,t)};typeof window<"u"&&lW.setContext(window);var iTe=function(e,t){return Ki(void 0,void 0,void 0,function(){var r,n,s,i,a,o,c,u,A,f,d,h,g,p,m,x,v,y,w,S,j,T,j,I,B,C,N,k,E,U,D,M,Q,K,O,z,G,F,P,L;return ji(this,function(q){switch(q.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(I=t.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(B=t.imageTimeout)!==null&&B!==void 0?B:15e3,proxy:t.proxy,useCORS:(C=t.useCORS)!==null&&C!==void 0?C:!1},i=gC({logging:(N=t.logging)!==null&&N!==void 0?N:!0,cache:t.cache},s),a={windowWidth:(k=t.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(E=t.windowHeight)!==null&&E!==void 0?E:n.innerHeight,scrollX:(U=t.scrollX)!==null&&U!==void 0?U:n.pageXOffset,scrollY:(D=t.scrollY)!==null&&D!==void 0?D:n.pageYOffset},o=new Bc(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),c=new sTe(i,o),u=(M=t.foreignObjectRendering)!==null&&M!==void 0?M:!1,A={allowTaint:(Q=t.allowTaint)!==null&&Q!==void 0?Q:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new BM(c,e,A),d=f.clonedReferenceElement,d?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=q.sent(),g=z6(d)||oje(d)?MEe(d.ownerDocument):dy(c,d),p=g.width,m=g.height,x=g.left,v=g.top,y=aTe(c,d,t.backgroundColor),w={canvas:t.canvas,backgroundColor:y,scale:(O=(K=t.scale)!==null&&K!==void 0?K:n.devicePixelRatio)!==null&&O!==void 0?O:1,x:((z=t.x)!==null&&z!==void 0?z:0)+x,y:((G=t.y)!==null&&G!==void 0?G:0)+v,width:(F=t.width)!==null&&F!==void 0?F:Math.ceil(p),height:(P=t.height)!==null&&P!==void 0?P:Math.ceil(m)},u?(c.logger.debug("Document cloned, using foreign object rendering"),j=new tTe(c,w),[4,j.render(d)]):[3,3];case 2:return S=q.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+v+" with size "+p+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),T=eW(c,d),y===T.styles.backgroundColor&&(T.styles.backgroundColor=fc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),j=new Wje(c,w),[4,j.render(T)];case 4:S=q.sent(),q.label=5;case 5:return(!((L=t.removeContainer)!==null&&L!==void 0)||L)&&(BM.destroy(h)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,S]}})})},aTe=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?hm(e,getComputedStyle(n.documentElement).backgroundColor):fc.TRANSPARENT,i=n.body?hm(e,getComputedStyle(n.body).backgroundColor):fc.TRANSPARENT,a=typeof r=="string"?hm(e,r):r===null?fc.TRANSPARENT:4294967295;return t===n.documentElement?vA(s)?vA(i)?a:i:s:a};const oTe=Object.freeze(Object.defineProperty({__proto__:null,default:OC},Symbol.toStringTag,{value:"Module"}));var mW={exports:{}};/*! dom-to-image-more 20-08-2025 */(function(e,t){(r=>{let n=(()=>{let j=0;return{escape:function(E){return E.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")},isDataUrl:function(E){return E.search(/^(data:)/)!==-1},canvasToBlob:function(E){return E.toBlob?new Promise(function(U){E.toBlob(U)}):(U=>new Promise(function(D){var M=h(U.toDataURL().split(",")[1]),Q=M.length,K=new Uint8Array(Q);for(let O=0;O<Q;O++)K[O]=M.charCodeAt(O);D(new Blob([K],{type:"image/png"}))}))(E)},resolveUrl:function(E,U){var D=document.implementation.createHTMLDocument(),M=D.createElement("base"),Q=(D.head.appendChild(M),D.createElement("a"));return D.body.appendChild(Q),M.href=U,Q.href=E,Q.href},getAndEncode:function(E){let U=A.impl.urlCache.find(function(D){return D.url===E});return U||(U={url:E,promise:null},A.impl.urlCache.push(U)),U.promise===null&&(A.impl.options.cacheBust&&(E+=(/\?/.test(E)?"&":"?")+new Date().getTime()),U.promise=new Promise(function(D){let M=new XMLHttpRequest;function Q(z){console.error(z),D("")}function K(){var z=A.impl.options.imagePlaceholder;z?D(z):Q("Status:"+M.status+" while fetching resource: "+E)}if(M.timeout=A.impl.options.httpTimeout,M.onerror=K,M.ontimeout=K,M.onloadend=function(){if(M.readyState===XMLHttpRequest.DONE){var z=M.status;if(z===0&&E.toLowerCase().startsWith("file://")||200<=z&&z<=300&&M.response!==null){z=M.response,z instanceof Blob||Q("Expected response to be a Blob, but got: "+typeof z);let G=new FileReader;G.onloadend=function(){var F=G.result;D(F)};try{G.readAsDataURL(z)}catch(F){Q("Failed to read the response as Data URL: "+F.toString())}}else K()}},0<A.impl.options.useCredentialsFilters.length&&(A.impl.options.useCredentials=0<A.impl.options.useCredentialsFilters.filter(z=>0<=E.search(z)).length),A.impl.options.useCredentials&&(M.withCredentials=!0),A.impl.options.corsImg&&E.indexOf("http")===0&&E.indexOf(window.location.origin)===-1){var O=(A.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";M.open(O,(A.impl.options.corsImg.url||"").replace("#{cors}",E),!0);let z=!1,G=A.impl.options.corsImg.headers||{},F=(Object.keys(G).forEach(function(P){G[P].indexOf("application/json")!==-1&&(z=!0),M.setRequestHeader(P,G[P])}),(P=>{try{return JSON.parse(JSON.stringify(P))}catch(L){Q("corsImg.data is missing or invalid:"+L.toString())}})(A.impl.options.corsImg.data||""));Object.keys(F).forEach(function(P){typeof F[P]=="string"&&(F[P]=F[P].replace("#{cors}",E))}),M.responseType="blob",M.send(z?JSON.stringify(F):F)}else M.open("GET",E,!0),M.responseType="blob",M.send()})),U.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+j++},asArray:function(E){var U=[],D=E.length;for(let M=0;M<D;M++)U.push(E[M]);return U},escapeXhtml:function(E){return E.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(E){return E!=="data:,"?new Promise(function(U,D){let M=document.createElementNS("http://www.w3.org/2000/svg","svg"),Q=new Image;A.impl.options.useCredentials&&(Q.crossOrigin="use-credentials"),Q.onload=function(){document.body.removeChild(M),window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){U(Q)}):U(Q)},Q.onerror=K=>{document.body.removeChild(M),D(K)},M.appendChild(Q),Q.src=E,document.body.appendChild(M)}):Promise.resolve()},width:function(E){var U=k(E,"width");if(!isNaN(U))return U;var U=k(E,"border-left-width"),D=k(E,"border-right-width");return E.scrollWidth+U+D},height:function(E){var U=k(E,"height");if(!isNaN(U))return U;var U=k(E,"border-top-width"),D=k(E,"border-bottom-width");return E.scrollHeight+U+D},getWindow:I,isElement:N,isElementHostForOpenShadowRoot:function(E){return N(E)&&E.shadowRoot!==null},isShadowRoot:B,isInShadowRoot:C,isHTMLElement:function(E){return E instanceof I(E).HTMLElement},isHTMLCanvasElement:function(E){return E instanceof I(E).HTMLCanvasElement},isHTMLInputElement:function(E){return E instanceof I(E).HTMLInputElement},isHTMLImageElement:function(E){return E instanceof I(E).HTMLImageElement},isHTMLLinkElement:function(E){return E instanceof I(E).HTMLLinkElement},isHTMLScriptElement:function(E){return E instanceof I(E).HTMLScriptElement},isHTMLStyleElement:function(E){return E instanceof I(E).HTMLStyleElement},isHTMLTextAreaElement:function(E){return E instanceof I(E).HTMLTextAreaElement},isShadowSlotElement:function(E){return C(E)&&E instanceof I(E).HTMLSlotElement},isSVGElement:function(E){return E instanceof I(E).SVGElement},isSVGRectElement:function(E){return E instanceof I(E).SVGRectElement},isDimensionMissing:function(E){return isNaN(E)||E<=0}};function I(E){return E=E?E.ownerDocument:void 0,(E?E.defaultView:void 0)||window||r}function B(E){return E instanceof I(E).ShadowRoot}function C(E){return E!=null&&E.getRootNode!==void 0&&B(E.getRootNode())}function N(E){return E instanceof I(E).Element}function k(E,U){if(E.nodeType===f){let D=d(E).getPropertyValue(U);if(D.slice(-2)==="px")return D=D.slice(0,-2),parseFloat(D)}return NaN}})(),s=(()=>{let j=/url\(\s*(["']?)((?:\\.|[^\\)])+)\1\s*\)/gm;return{inlineAll:function(k,E,U){return I(k)?Promise.resolve(k).then(B).then(function(D){let M=Promise.resolve(k);return D.forEach(function(Q){M=M.then(function(K){return N(K,Q,E,U)})}),M}):Promise.resolve(k)},shouldProcess:I,impl:{readUrls:B,inline:N,urlAsRegex:C}};function I(k){return k.search(j)!==-1}function B(k){for(var E,U=[];(E=j.exec(k))!==null;)U.push(E[2]);return U.filter(function(D){return!n.isDataUrl(D)})}function C(k){return new RegExp(`url\\((["']?)(${n.escape(k)})\\1\\)`,"gm")}function N(k,E,U,D){return Promise.resolve(E).then(function(M){return U?n.resolveUrl(M,U):M}).then(D||n.getAndEncode).then(function(M){var Q=C(E);return k.replace(Q,`url($1${M}$1)`)})}})(),i={resolveAll:function(){return a().then(function(j){return Promise.all(j.map(function(I){return I.resolve()}))}).then(function(j){return j.join(`
`)})},impl:{readAll:a}};function a(){return Promise.resolve(n.asArray(document.styleSheets)).then(function(I){let B=[];return I.forEach(function(C){var N=Object.getPrototypeOf(C);if(Object.prototype.hasOwnProperty.call(N,"cssRules"))try{n.asArray(C.cssRules||[]).forEach(B.push.bind(B))}catch(k){console.error("domtoimage: Error while reading CSS rules from: "+C.href,k.toString())}}),B}).then(function(I){return I.filter(function(B){return B.type===CSSRule.FONT_FACE_RULE}).filter(function(B){return s.shouldProcess(B.style.getPropertyValue("src"))})}).then(function(I){return I.map(j)});function j(I){return{resolve:function(){var B=(I.parentStyleSheet||{}).href;return s.inlineAll(I.cssText,B)},src:function(){return I.style.getPropertyValue("src")}}}}let o={inlineAll:function j(I){if(!n.isElement(I))return Promise.resolve(I);return B(I).then(function(){return n.isHTMLImageElement(I)?c(I).inline():Promise.all(n.asArray(I.childNodes).map(function(C){return j(C)}))});function B(C){let N=["background","background-image"],k=N.map(function(E){let U=C.style.getPropertyValue(E),D=C.style.getPropertyPriority(E);return U?s.inlineAll(U).then(function(M){C.style.setProperty(E,M,D)}):Promise.resolve()});return Promise.all(k).then(function(){return C})}},impl:{newImage:c}};function c(j){return{inline:function(I){return n.isDataUrl(j.src)?Promise.resolve():Promise.resolve(j.src).then(I||n.getAndEncode).then(function(B){return new Promise(function(C){j.onload=C,j.onerror=C,j.src=B})})}}}let u={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},A={toSvg:g,toPng:function(j,I){return p(j,I).then(function(B){return B.toDataURL()})},toJpeg:function(j,I){return p(j,I).then(function(B){return B.toDataURL("image/jpeg",(I?I.quality:void 0)||1)})},toBlob:function(j,I){return p(j,I).then(n.canvasToBlob)},toPixelData:function(j,I){return p(j,I).then(function(B){return B.getContext("2d").getImageData(0,0,n.width(j),n.height(j)).data})},toCanvas:p,impl:{fontFaces:i,images:o,util:n,inliner:s,urlCache:[],options:{},copyOptions:function(j){j.copyDefaultStyles===void 0?A.impl.options.copyDefaultStyles=u.copyDefaultStyles:A.impl.options.copyDefaultStyles=j.copyDefaultStyles,A.impl.options.imagePlaceholder=(j.imagePlaceholder===void 0?u:j).imagePlaceholder,A.impl.options.cacheBust=(j.cacheBust===void 0?u:j).cacheBust,A.impl.options.corsImg=(j.corsImg===void 0?u:j).corsImg,A.impl.options.useCredentials=(j.useCredentials===void 0?u:j).useCredentials,A.impl.options.useCredentialsFilters=(j.useCredentialsFilters===void 0?u:j).useCredentialsFilters,A.impl.options.httpTimeout=(j.httpTimeout===void 0?u:j).httpTimeout,A.impl.options.styleCaching=(j.styleCaching===void 0?u:j).styleCaching}}},f=(e.exports=A,(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1),d=(r!==void 0?r.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,h=(r!==void 0?r.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function g(j,I){A.impl.util.getWindow(j);let B=(I=I||{},A.impl.copyOptions(I),[]);return Promise.resolve(j).then(function(C){if(C.nodeType===f)return C;var N=C,k=C.parentNode,E=document.createElement("span");return k.replaceChild(E,N),E.append(C),B.push({parent:k,child:N,wrapper:E}),E}).then(function(C){return function N(k,E,U,D){let M=E.filter;if(k===m||n.isHTMLScriptElement(k)||n.isHTMLStyleElement(k)||n.isHTMLLinkElement(k)||U!==null&&M&&!M(k))return Promise.resolve();return Promise.resolve(k).then(Q).then(K).then(function(P){return G(P,z(k))}).then(O).then(function(P){return F(P,k)});function Q(P){return n.isHTMLCanvasElement(P)?n.makeImage(P.toDataURL()):P.cloneNode(!1)}function K(P){return E.adjustClonedNode&&E.adjustClonedNode(k,P,!1),Promise.resolve(P)}function O(P){return E.adjustClonedNode&&E.adjustClonedNode(k,P,!0),Promise.resolve(P)}function z(P){return n.isElementHostForOpenShadowRoot(P)?P.shadowRoot:P}function G(P,L){let q=ae(L),X=Promise.resolve();if(q.length!==0){let W=d(se(L));n.asArray(q).forEach(function(ee){X=X.then(function(){return N(ee,E,W).then(function(Ce){Ce&&P.appendChild(Ce)})})})}return X.then(function(){return P});function se(W){return n.isShadowRoot(W)?W.host:W}function ae(W){if(n.isShadowSlotElement(W)){let ee=W.assignedNodes();if(ee&&0<ee.length)return ee}return W.childNodes}}function F(P,L){return!n.isElement(P)||n.isShadowSlotElement(L)?Promise.resolve(P):Promise.resolve().then(X).then(se).then(ae).then(W).then(q).then(function(){return P});function q(){n.isHTMLImageElement(P)&&(P.removeAttribute("loading"),L.srcset||L.sizes)&&(P.removeAttribute("srcset"),P.removeAttribute("sizes"),P.src=L.currentSrc||L.src)}function X(){function ee(ye,Me){Me.font=ye.font,Me.fontFamily=ye.fontFamily,Me.fontFeatureSettings=ye.fontFeatureSettings,Me.fontKerning=ye.fontKerning,Me.fontSize=ye.fontSize,Me.fontStretch=ye.fontStretch,Me.fontStyle=ye.fontStyle,Me.fontVariant=ye.fontVariant,Me.fontVariantCaps=ye.fontVariantCaps,Me.fontVariantEastAsian=ye.fontVariantEastAsian,Me.fontVariantLigatures=ye.fontVariantLigatures,Me.fontVariantNumeric=ye.fontVariantNumeric,Me.fontVariationSettings=ye.fontVariationSettings,Me.fontWeight=ye.fontWeight}function Ce(ye,Me){let we=d(ye);we.cssText?(Me.style.cssText=we.cssText,ee(we,Me.style)):(y(E,ye,we,U,Me),U===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(oe=>Me.style.removeProperty(oe)),["left","right","top","bottom"].forEach(oe=>{Me.style.getPropertyValue(oe)&&Me.style.setProperty(oe,"0px")})))}Ce(L,P)}function se(){let ee=n.uid();function Ce(ye){let Me=d(L,ye),we=Me.getPropertyValue("content");if(we!==""&&we!=="none"){let de=function(){let be=`.${ee}:`+ye,Be=(Me.cssText?et:rt)();return document.createTextNode(be+`{${Be}}`);function et(){return`${Me.cssText} content: ${we};`}function rt(){return n.asArray(Me).map(me).join("; ")+";";function me($e){let Re=Me.getPropertyValue($e),Te=Me.getPropertyPriority($e)?" !important":"";return $e+": "+Re+Te}}},oe=P.getAttribute("class")||"",ze=(P.setAttribute("class",oe+" "+ee),document.createElement("style"));ze.appendChild(de()),P.appendChild(ze)}}[":before",":after"].forEach(function(ye){Ce(ye)})}function ae(){n.isHTMLTextAreaElement(L)&&(P.innerHTML=L.value),n.isHTMLInputElement(L)&&P.setAttribute("value",L.value)}function W(){n.isSVGElement(P)&&(P.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.isSVGRectElement(P))&&["width","height"].forEach(function(ee){let Ce=P.getAttribute(ee);Ce&&P.style.setProperty(ee,Ce)})}}}(C,I,null)}).then(I.disableEmbedFonts?Promise.resolve(j):x).then(I.disableInlineImages?Promise.resolve(j):v).then(function(C){I.bgcolor&&(C.style.backgroundColor=I.bgcolor),I.width&&(C.style.width=I.width+"px"),I.height&&(C.style.height=I.height+"px"),I.style&&Object.keys(I.style).forEach(function(k){C.style[k]=I.style[k]});let N=null;return typeof I.onclone=="function"&&(N=I.onclone(C)),Promise.resolve(N).then(function(){return C})}).then(function(C){let N=I.width||n.width(j),k=I.height||n.height(j);return Promise.resolve(C).then(function(E){return E.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(E)}).then(n.escapeXhtml).then(function(E){var U=(n.isDimensionMissing(N)?' width="100%"':` width="${N}"`)+(n.isDimensionMissing(k)?' height="100%"':` height="${k}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(n.isDimensionMissing(N)?"":` width="${N}"`)+(n.isDimensionMissing(k)?"":` height="${k}"`)}><foreignObject${U}>${E}</foreignObject></svg>`}).then(function(E){return"data:image/svg+xml;charset=utf-8,"+E})}).then(function(C){for(;0<B.length;){var N=B.pop();N.parent.replaceChild(N.child,N.wrapper)}return C}).then(function(C){return A.impl.urlCache=[],m&&(document.body.removeChild(m),m=null),w&&clearTimeout(w),w=setTimeout(()=>{w=null,S={}},2e4),C})}function p(j,I){return g(j,I=I||{}).then(n.makeImage).then(function(B){var C=typeof I.scale!="number"?1:I.scale,N=((E,U)=>{let D=I.width||n.width(E),M=I.height||n.height(E);return n.isDimensionMissing(D)&&(D=n.isDimensionMissing(M)?300:2*M),n.isDimensionMissing(M)&&(M=D/2),(E=document.createElement("canvas")).width=D*U,E.height=M*U,I.bgcolor&&((U=E.getContext("2d")).fillStyle=I.bgcolor,U.fillRect(0,0,E.width,E.height)),E})(j,C),k=N.getContext("2d");return k.msImageSmoothingEnabled=!1,k.imageSmoothingEnabled=!1,B&&(k.scale(C,C),k.drawImage(B,0,0)),N})}let m=null;function x(j){return i.resolveAll().then(function(I){var B;return I!==""&&(B=document.createElement("style"),j.appendChild(B),B.appendChild(document.createTextNode(I))),j})}function v(j){return o.inlineAll(j).then(function(){return j})}function y(j,I,B,C,N){let k=A.impl.options.copyDefaultStyles?((U,D)=>{var M,Q=(z=>(U.styleCaching!=="relaxed"?z:z.filter((G,F,P)=>F===0||F===P.length-1)).join(">"))(D=(z=>{var G=[];do if(z.nodeType===f){var F=z.tagName;if(G.push(F),T.includes(F))break}while(z=z.parentNode);return G})(D));{if(S[Q])return S[Q];D=((z,G)=>{let F=z.body;do{var P=G.pop(),P=z.createElement(P);F.appendChild(P),F=P}while(0<G.length);return F.textContent="",F})((M=(()=>{if(m)return m.contentWindow;G=document.characterSet||"UTF-8",z=(z=document.doctype)?(`<!DOCTYPE ${se(z.name)} ${se(z.publicId)} `+se(z.systemId)).trim()+">":"",(m=document.createElement("iframe")).id="domtoimage-sandbox-"+n.uid(),m.style.visibility="hidden",m.style.position="fixed",document.body.appendChild(m);var z,G,F=m,P="domtoimage-sandbox";try{return F.contentWindow.document.write(z+`<html><head><meta charset='${G}'><title>${P}</title></head><body></body></html>`),F.contentWindow}catch{}var L=document.createElement("meta");L.setAttribute("charset",G);try{var q=document.implementation.createHTMLDocument(P),X=(q.head.appendChild(L),z+q.documentElement.outerHTML);return F.setAttribute("srcdoc",X),F.contentWindow}catch{}return F.contentDocument.head.appendChild(L),F.contentDocument.title=P,F.contentWindow;function se(ae){var W;return ae?((W=document.createElement("div")).innerText=ae,W.innerHTML):""}})()).document,D),M=((z,G)=>{let F={},P=z.getComputedStyle(G);return n.asArray(P).forEach(function(L){F[L]=L==="width"||L==="height"?"auto":P.getPropertyValue(L)}),F})(M,D);var K=D;do{var O=K.parentElement;O!==null&&O.removeChild(K),K=O}while(K&&K.tagName!=="BODY");return S[Q]=M}})(j,I):{},E=N.style;n.asArray(B).forEach(function(U){var D,M,Q,K;j.filterStyles&&!j.filterStyles(I,U)||(M=B.getPropertyValue(U),Q=k[U],D=C?C.getPropertyValue(U):void 0,E.getPropertyValue(U))||(M!==Q||C&&M!==D)&&(Q=B.getPropertyPriority(U),D=E,M=M,Q=Q,K=0<=["background-clip"].indexOf(U=U),Q?(D.setProperty(U,M,Q),K&&D.setProperty("-webkit-"+U,M,Q)):(D.setProperty(U,M),K&&D.setProperty("-webkit-"+U,M)))})}let w=null,S={},T=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(N0)})(mW);var lTe=mW.exports;const SM=U2(lTe);function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var Do=Uint8Array,$a=Uint16Array,G6=Int32Array,V6=new Do([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W6=new Do([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),FM=new Do([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pW=function(e,t){for(var r=new $a(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new G6(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},gW=pW(V6,2),cTe=gW.b,QC=gW.r;cTe[28]=258,QC[258]=28;var ATe=pW(W6,0),jM=ATe.r,DC=new $a(32768);for(var Un=0;Un<32768;++Un){var Xc=(Un&43690)>>1|(Un&21845)<<1;Xc=(Xc&52428)>>2|(Xc&13107)<<2,Xc=(Xc&61680)>>4|(Xc&3855)<<4,DC[Un]=((Xc&65280)>>8|(Xc&255)<<8)>>1}var xm=function(e,t,r){for(var n=e.length,s=0,i=new $a(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new $a(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(r){o=new $a(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],A=t-e[s],f=a[e[s]-1]++<<A,d=f|(1<<A)-1;f<=d;++f)o[DC[f]>>c]=u}else for(o=new $a(n),s=0;s<n;++s)e[s]&&(o[s]=DC[a[e[s]-1]++]>>15-e[s]);return o},qu=new Do(288);for(var Un=0;Un<144;++Un)qu[Un]=8;for(var Un=144;Un<256;++Un)qu[Un]=9;for(var Un=256;Un<280;++Un)qu[Un]=7;for(var Un=280;Un<288;++Un)qu[Un]=8;var T2=new Do(32);for(var Un=0;Un<32;++Un)T2[Un]=5;var uTe=xm(qu,9,0),fTe=xm(T2,5,0),xW=function(e){return(e+7)/8|0},dTe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Do(e.subarray(t,r))},Yl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},x0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},vN=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:yW,l:0};if(s==1){var a=new Do(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(S,T){return S.f-T.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,A=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};A!=s-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=A&&r[u].f<r[f].f?u++:f++],r[A++]={s:-1,f:o.f+c.f,l:o,r:c};for(var d=i[0].s,n=1;n<s;++n)i[n].s>d&&(d=i[n].s);var h=new $a(d+1),g=HC(r[A-1],h,0);if(g>t){var n=0,p=0,m=g-t,x=1<<m;for(i.sort(function(T,j){return h[j.s]-h[T.s]||T.f-j.f});n<s;++n){var v=i[n].s;if(h[v]>t)p+=x-(1<<g-h[v]),h[v]=t;else break}for(p>>=m;p>0;){var y=i[n].s;h[y]<t?p-=1<<t-h[y]++-1:++n}for(;n>=0&&p;--n){var w=i[n].s;h[w]==t&&(--h[w],++p)}g=t}return{t:new Do(h),l:g}},HC=function(e,t,r){return e.s==-1?Math.max(HC(e.l,t,r+1),HC(e.r,t,r+1)):t[e.s]=r},TM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new $a(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==s&&o!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[o]}return{c:r.subarray(0,n),n:t}},v0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},vW=function(e,t,r){var n=r.length,s=xW(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},IM=function(e,t,r,n,s,i,a,o,c,u,A){Yl(t,A++,r),++s[256];for(var f=vN(s,15),d=f.t,h=f.l,g=vN(i,15),p=g.t,m=g.l,x=TM(d),v=x.c,y=x.n,w=TM(p),S=w.c,T=w.n,j=new $a(19),I=0;I<v.length;++I)++j[v[I]&31];for(var I=0;I<S.length;++I)++j[S[I]&31];for(var B=vN(j,7),C=B.t,N=B.l,k=19;k>4&&!C[FM[k-1]];--k);var E=u+5<<3,U=v0(s,qu)+v0(i,T2)+a,D=v0(s,d)+v0(i,p)+a+14+3*k+v0(j,C)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&E<=U&&E<=D)return vW(t,A,e.subarray(c,c+u));var M,Q,K,O;if(Yl(t,A,1+(D<U)),A+=2,D<U){M=xm(d,h,0),Q=d,K=xm(p,m,0),O=p;var z=xm(C,N,0);Yl(t,A,y-257),Yl(t,A+5,T-1),Yl(t,A+10,k-4),A+=14;for(var I=0;I<k;++I)Yl(t,A+3*I,C[FM[I]]);A+=3*k;for(var G=[v,S],F=0;F<2;++F)for(var P=G[F],I=0;I<P.length;++I){var L=P[I]&31;Yl(t,A,z[L]),A+=C[L],L>15&&(Yl(t,A,P[I]>>5&127),A+=P[I]>>12)}}else M=uTe,Q=qu,K=fTe,O=T2;for(var I=0;I<o;++I){var q=n[I];if(q>255){var L=q>>18&31;x0(t,A,M[L+257]),A+=Q[L+257],L>7&&(Yl(t,A,q>>23&31),A+=V6[L]);var X=q&31;x0(t,A,K[X]),A+=O[X],X>3&&(x0(t,A,q>>5&8191),A+=W6[X])}else x0(t,A,M[q]),A+=Q[q]}return x0(t,A,M[256]),A+Q[256]},hTe=new G6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yW=new Do(0),mTe=function(e,t,r,n,s,i){var a=i.z||e.length,o=new Do(n+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(n,o.length-s),u=i.l,A=(i.r||0)&7;if(t){A&&(c[0]=i.r>>3);for(var f=hTe[t-1],d=f>>13,h=f&8191,g=(1<<r)-1,p=i.p||new $a(32768),m=i.h||new $a(g+1),x=Math.ceil(r/3),v=2*x,y=function(we){return(e[we]^e[we+1]<<x^e[we+2]<<v)&g},w=new G6(25e3),S=new $a(288),T=new $a(32),j=0,I=0,B=i.i||0,C=0,N=i.w||0,k=0;B+2<a;++B){var E=y(B),U=B&32767,D=m[E];if(p[U]=D,m[E]=U,N<=B){var M=a-B;if((j>7e3||C>24576)&&(M>423||!u)){A=IM(e,c,0,w,S,T,I,C,k,B-k,A),C=j=I=0,k=B;for(var Q=0;Q<286;++Q)S[Q]=0;for(var Q=0;Q<30;++Q)T[Q]=0}var K=2,O=0,z=h,G=U-D&32767;if(M>2&&E==y(B-G))for(var F=Math.min(d,M)-1,P=Math.min(32767,B),L=Math.min(258,M);G<=P&&--z&&U!=D;){if(e[B+K]==e[B+K-G]){for(var q=0;q<L&&e[B+q]==e[B+q-G];++q);if(q>K){if(K=q,O=G,q>F)break;for(var X=Math.min(G,q-2),se=0,Q=0;Q<X;++Q){var ae=B-G+Q&32767,W=p[ae],ee=ae-W&32767;ee>se&&(se=ee,D=ae)}}}U=D,D=p[U],G+=U-D&32767}if(O){w[C++]=268435456|QC[K]<<18|jM[O];var Ce=QC[K]&31,ye=jM[O]&31;I+=V6[Ce]+W6[ye],++S[257+Ce],++T[ye],N=B+K,++j}else w[C++]=e[B],++S[e[B]]}}for(B=Math.max(B,N);B<a;++B)w[C++]=e[B],++S[e[B]];A=IM(e,c,u,w,S,T,I,C,k,B-k,A),u||(i.r=A&7|c[A/8|0]<<3,A-=7,i.h=m,i.p=p,i.i=B,i.w=N)}else{for(var B=i.w||0;B<a+u;B+=65535){var Me=B+65535;Me>=a&&(c[A/8|0]=u,Me=a),A=vW(c,A+1,e.subarray(B,Me))}i.i=a}return dTe(o,0,n+xW(A)+s)},wW=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pTe=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Do(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return mTe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},bW=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},gTe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=wW();s.p(t.dictionary),bW(e,2,s.d())}};function $C(e,t){t||(t={});var r=wW();r.p(e);var n=pTe(e,t,t.dictionary?6:2,4);return gTe(n,t),bW(n,n.length-4,r.d()),n}var xTe=typeof TextDecoder<"u"&&new TextDecoder,vTe=0;try{xTe.decode(yW,{stream:!0}),vTe=1}catch{}function yTe(e){if(Array.isArray(e))return e}function wTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,a,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function bTe(e,t){if(e){if(typeof e=="string")return kM(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kM(e,t):void 0}}function BTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LM(e,t){return yTe(e)||wTe(e,t)||bTe(e,t)||BTe()}function UM(e,t="utf8"){return new TextDecoder(t).decode(e)}const NTe=new TextEncoder;function _Te(e){return NTe.encode(e)}const CTe=1024*8,ETe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),yN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Y6{constructor(t=CTe,r={}){fn(this,"buffer");fn(this,"byteLength");fn(this,"byteOffset");fn(this,"length");fn(this,"offset");fn(this,"lastWrittenByte");fn(this,"littleEndian");fn(this,"_data");fn(this,"_mark");fn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let a=s;(ArrayBuffer.isView(t)||t instanceof Y6)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=yN[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===ETe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+n));o.reverse();const c=new yN[r](o.buffer);return this.offset+=n,c.reverse(),c}const a=new yN[r](i);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return UM(this.readBytes(t))}decodeText(t=1,r="utf8"){return UM(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(_Te(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function wh(e){let t=e.length;for(;--t>=0;)e[t]=0}const STe=3,FTe=258,BW=29,jTe=256,TTe=jTe+1+BW,NW=30,ITe=512,kTe=new Array((TTe+2)*2);wh(kTe);const LTe=new Array(NW*2);wh(LTe);const UTe=new Array(ITe);wh(UTe);const PTe=new Array(FTe-STe+1);wh(PTe);const MTe=new Array(BW);wh(MTe);const RTe=new Array(NW);wh(RTe);const OTe=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var qC=OTe;const QTe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},DTe=new Uint32Array(QTe()),HTe=(e,t,r,n)=>{const s=DTe,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var al=HTe,KC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_W={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $Te=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var qTe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)$Te(r,n)&&(e[n]=r[n])}}return e},KTe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},CW={assign:qTe,flattenChunks:KTe};let EW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EW=!1}const ip=new Uint8Array(256);for(let e=0;e<256;e++)ip[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ip[254]=ip[254]=1;var zTe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,o=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,s=0;i<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const GTe=(e,t)=>{if(t<65534&&e.subarray&&EW)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var VTe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let o=ip[a];if(o>4){i[s++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return GTe(i,s)},WTe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ip[e[r]]>t?r:t},zC={string2buf:zTe,buf2string:VTe,utf8border:WTe};function YTe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XTe=YTe;const w1=16209,JTe=16191;var ZTe=function(t,r){let n,s,i,a,o,c,u,A,f,d,h,g,p,m,x,v,y,w,S,T,j,I,B,C;const N=t.state;n=t.next_in,B=t.input,s=n+(t.avail_in-5),i=t.next_out,C=t.output,a=i-(r-t.avail_out),o=i+(t.avail_out-257),c=N.dmax,u=N.wsize,A=N.whave,f=N.wnext,d=N.window,h=N.hold,g=N.bits,p=N.lencode,m=N.distcode,x=(1<<N.lenbits)-1,v=(1<<N.distbits)-1;e:do{g<15&&(h+=B[n++]<<g,g+=8,h+=B[n++]<<g,g+=8),y=p[h&x];t:for(;;){if(w=y>>>24,h>>>=w,g-=w,w=y>>>16&255,w===0)C[i++]=y&65535;else if(w&16){S=y&65535,w&=15,w&&(g<w&&(h+=B[n++]<<g,g+=8),S+=h&(1<<w)-1,h>>>=w,g-=w),g<15&&(h+=B[n++]<<g,g+=8,h+=B[n++]<<g,g+=8),y=m[h&v];r:for(;;){if(w=y>>>24,h>>>=w,g-=w,w=y>>>16&255,w&16){if(T=y&65535,w&=15,g<w&&(h+=B[n++]<<g,g+=8,g<w&&(h+=B[n++]<<g,g+=8)),T+=h&(1<<w)-1,T>c){t.msg="invalid distance too far back",N.mode=w1;break e}if(h>>>=w,g-=w,w=i-a,T>w){if(w=T-w,w>A&&N.sane){t.msg="invalid distance too far back",N.mode=w1;break e}if(j=0,I=d,f===0){if(j+=u-w,w<S){S-=w;do C[i++]=d[j++];while(--w);j=i-T,I=C}}else if(f<w){if(j+=u+f-w,w-=f,w<S){S-=w;do C[i++]=d[j++];while(--w);if(j=0,f<S){w=f,S-=w;do C[i++]=d[j++];while(--w);j=i-T,I=C}}}else if(j+=f-w,w<S){S-=w;do C[i++]=d[j++];while(--w);j=i-T,I=C}for(;S>2;)C[i++]=I[j++],C[i++]=I[j++],C[i++]=I[j++],S-=3;S&&(C[i++]=I[j++],S>1&&(C[i++]=I[j++]))}else{j=i-T;do C[i++]=C[j++],C[i++]=C[j++],C[i++]=C[j++],S-=3;while(S>2);S&&(C[i++]=C[j++],S>1&&(C[i++]=C[j++]))}}else if(w&64){t.msg="invalid distance code",N.mode=w1;break e}else{y=m[(y&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){N.mode=JTe;break e}else{t.msg="invalid literal/length code",N.mode=w1;break e}else{y=p[(y&65535)+(h&(1<<w)-1)];continue t}break}}while(n<s&&i<o);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<o?257+(o-i):257-(i-o),N.hold=h,N.bits=g};const Gf=15,PM=852,MM=592,RM=0,wN=1,OM=2,eIe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tIe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rIe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nIe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sIe=(e,t,r,n,s,i,a,o)=>{const c=o.bits;let u=0,A=0,f=0,d=0,h=0,g=0,p=0,m=0,x=0,v=0,y,w,S,T,j,I=null,B;const C=new Uint16Array(Gf+1),N=new Uint16Array(Gf+1);let k=null,E,U,D;for(u=0;u<=Gf;u++)C[u]=0;for(A=0;A<n;A++)C[t[r+A]]++;for(h=c,d=Gf;d>=1&&C[d]===0;d--);if(h>d&&(h=d),d===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<d&&C[f]===0;f++);for(h<f&&(h=f),m=1,u=1;u<=Gf;u++)if(m<<=1,m-=C[u],m<0)return-1;if(m>0&&(e===RM||d!==1))return-1;for(N[1]=0,u=1;u<Gf;u++)N[u+1]=N[u]+C[u];for(A=0;A<n;A++)t[r+A]!==0&&(a[N[t[r+A]]++]=A);if(e===RM?(I=k=a,B=20):e===wN?(I=eIe,k=tIe,B=257):(I=rIe,k=nIe,B=0),v=0,A=0,u=f,j=i,g=h,p=0,S=-1,x=1<<h,T=x-1,e===wN&&x>PM||e===OM&&x>MM)return 1;for(;;){E=u-p,a[A]+1<B?(U=0,D=a[A]):a[A]>=B?(U=k[a[A]-B],D=I[a[A]-B]):(U=96,D=0),y=1<<u-p,w=1<<g,f=w;do w-=y,s[j+(v>>p)+w]=E<<24|U<<16|D|0;while(w!==0);for(y=1<<u-1;v&y;)y>>=1;if(y!==0?(v&=y-1,v+=y):v=0,A++,--C[u]===0){if(u===d)break;u=t[r+a[A]]}if(u>h&&(v&T)!==S){for(p===0&&(p=h),j+=f,g=u-p,m=1<<g;g+p<d&&(m-=C[g+p],!(m<=0));)g++,m<<=1;if(x+=1<<g,e===wN&&x>PM||e===OM&&x>MM)return 1;S=v&T,s[S]=h<<24|g<<16|j-i|0}}return v!==0&&(s[j+v]=u-p<<24|64<<16|0),o.bits=h,0};var vm=sIe;const iIe=0,SW=1,FW=2,{Z_FINISH:QM,Z_BLOCK:aIe,Z_TREES:b1,Z_OK:Ku,Z_STREAM_END:oIe,Z_NEED_DICT:lIe,Z_STREAM_ERROR:ho,Z_DATA_ERROR:jW,Z_MEM_ERROR:TW,Z_BUF_ERROR:cIe,Z_DEFLATED:DM}=_W,By=16180,HM=16181,$M=16182,qM=16183,KM=16184,zM=16185,GM=16186,VM=16187,WM=16188,YM=16189,I2=16190,Xl=16191,bN=16192,XM=16193,BN=16194,JM=16195,ZM=16196,eR=16197,tR=16198,B1=16199,N1=16200,rR=16201,nR=16202,sR=16203,iR=16204,aR=16205,NN=16206,oR=16207,lR=16208,Qn=16209,IW=16210,kW=16211,AIe=852,uIe=592,fIe=15,dIe=fIe,cR=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function hIe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ff=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<By||t.mode>kW?1:0},LW=e=>{if(ff(e))return ho;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=By,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(AIe),t.distcode=t.distdyn=new Int32Array(uIe),t.sane=1,t.back=-1,Ku},UW=e=>{if(ff(e))return ho;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,LW(e)},PW=(e,t)=>{let r;if(ff(e))return ho;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ho:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,UW(e))},MW=(e,t)=>{if(!e)return ho;const r=new hIe;e.state=r,r.strm=e,r.window=null,r.mode=By;const n=PW(e,t);return n!==Ku&&(e.state=null),n},mIe=e=>MW(e,dIe);let AR=!0,_N,CN;const pIe=e=>{if(AR){_N=new Int32Array(512),CN=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(vm(SW,e.lens,0,288,_N,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;vm(FW,e.lens,0,32,CN,0,e.work,{bits:5}),AR=!1}e.lencode=_N,e.lenbits=9,e.distcode=CN,e.distbits=5},RW=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},gIe=(e,t)=>{let r,n,s,i,a,o,c,u,A,f,d,h,g,p,m=0,x,v,y,w,S,T,j,I;const B=new Uint8Array(4);let C,N;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ff(e)||!e.output||!e.input&&e.avail_in!==0)return ho;r=e.state,r.mode===Xl&&(r.mode=bN),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,A=r.bits,f=o,d=c,I=Ku;e:for(;;)switch(r.mode){case By:if(r.wrap===0){r.mode=bN;break}for(;A<16;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=u&255,B[1]=u>>>8&255,r.check=al(r.check,B,2,0),u=0,A=0,r.mode=HM;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Qn;break}if((u&15)!==DM){e.msg="unknown compression method",r.mode=Qn;break}if(u>>>=4,A-=4,j=(u&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){e.msg="invalid window size",r.mode=Qn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?YM:Xl,u=0,A=0;break;case HM:for(;A<16;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(r.flags=u,(r.flags&255)!==DM){e.msg="unknown compression method",r.mode=Qn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Qn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=al(r.check,B,2,0)),u=0,A=0,r.mode=$M;case $M:for(;A<32;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,r.check=al(r.check,B,4,0)),u=0,A=0,r.mode=qM;case qM:for(;A<16;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=al(r.check,B,2,0)),u=0,A=0,r.mode=KM;case KM:if(r.flags&1024){for(;A<16;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=al(r.check,B,2,0)),u=0,A=0}else r.head&&(r.head.extra=null);r.mode=zM;case zM:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),j)),r.flags&512&&r.wrap&4&&(r.check=al(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=GM;case GM:if(r.flags&2048){if(o===0)break e;h=0;do j=n[i+h++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=al(r.check,n,h,i)),o-=h,i+=h,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=VM;case VM:if(r.flags&4096){if(o===0)break e;h=0;do j=n[i+h++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=al(r.check,n,h,i)),o-=h,i+=h,j)break e}else r.head&&(r.head.comment=null);r.mode=WM;case WM:if(r.flags&512){for(;A<16;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Qn;break}u=0,A=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Xl;break;case YM:for(;A<32;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}e.adler=r.check=cR(u),u=0,A=0,r.mode=I2;case I2:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=A,lIe;e.adler=r.check=1,r.mode=Xl;case Xl:if(t===aIe||t===b1)break e;case bN:if(r.last){u>>>=A&7,A-=A&7,r.mode=NN;break}for(;A<3;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}switch(r.last=u&1,u>>>=1,A-=1,u&3){case 0:r.mode=XM;break;case 1:if(pIe(r),r.mode=B1,t===b1){u>>>=2,A-=2;break e}break;case 2:r.mode=ZM;break;case 3:e.msg="invalid block type",r.mode=Qn}u>>>=2,A-=2;break;case XM:for(u>>>=A&7,A-=A&7;A<32;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Qn;break}if(r.length=u&65535,u=0,A=0,r.mode=BN,t===b1)break e;case BN:r.mode=JM;case JM:if(h=r.length,h){if(h>o&&(h=o),h>c&&(h=c),h===0)break e;s.set(n.subarray(i,i+h),a),o-=h,i+=h,c-=h,a+=h,r.length-=h;break}r.mode=Xl;break;case ZM:for(;A<14;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(r.nlen=(u&31)+257,u>>>=5,A-=5,r.ndist=(u&31)+1,u>>>=5,A-=5,r.ncode=(u&15)+4,u>>>=4,A-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Qn;break}r.have=0,r.mode=eR;case eR:for(;r.have<r.ncode;){for(;A<3;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}r.lens[k[r.have++]]=u&7,u>>>=3,A-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},I=vm(iIe,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,I){e.msg="invalid code lengths set",r.mode=Qn;break}r.have=0,r.mode=tR;case tR:for(;r.have<r.nlen+r.ndist;){for(;m=r.lencode[u&(1<<r.lenbits)-1],x=m>>>24,v=m>>>16&255,y=m&65535,!(x<=A);){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(y<16)u>>>=x,A-=x,r.lens[r.have++]=y;else{if(y===16){for(N=x+2;A<N;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(u>>>=x,A-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=Qn;break}j=r.lens[r.have-1],h=3+(u&3),u>>>=2,A-=2}else if(y===17){for(N=x+3;A<N;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}u>>>=x,A-=x,j=0,h=3+(u&7),u>>>=3,A-=3}else{for(N=x+7;A<N;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}u>>>=x,A-=x,j=0,h=11+(u&127),u>>>=7,A-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Qn;break}for(;h--;)r.lens[r.have++]=j}}if(r.mode===Qn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Qn;break}if(r.lenbits=9,C={bits:r.lenbits},I=vm(SW,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,I){e.msg="invalid literal/lengths set",r.mode=Qn;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},I=vm(FW,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,I){e.msg="invalid distances set",r.mode=Qn;break}if(r.mode=B1,t===b1)break e;case B1:r.mode=N1;case N1:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=A,ZTe(e,d),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,A=r.bits,r.mode===Xl&&(r.back=-1);break}for(r.back=0;m=r.lencode[u&(1<<r.lenbits)-1],x=m>>>24,v=m>>>16&255,y=m&65535,!(x<=A);){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(v&&!(v&240)){for(w=x,S=v,T=y;m=r.lencode[T+((u&(1<<w+S)-1)>>w)],x=m>>>24,v=m>>>16&255,y=m&65535,!(w+x<=A);){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}u>>>=w,A-=w,r.back+=w}if(u>>>=x,A-=x,r.back+=x,r.length=y,v===0){r.mode=aR;break}if(v&32){r.back=-1,r.mode=Xl;break}if(v&64){e.msg="invalid literal/length code",r.mode=Qn;break}r.extra=v&15,r.mode=rR;case rR:if(r.extra){for(N=r.extra;A<N;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,A-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=nR;case nR:for(;m=r.distcode[u&(1<<r.distbits)-1],x=m>>>24,v=m>>>16&255,y=m&65535,!(x<=A);){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(!(v&240)){for(w=x,S=v,T=y;m=r.distcode[T+((u&(1<<w+S)-1)>>w)],x=m>>>24,v=m>>>16&255,y=m&65535,!(w+x<=A);){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}u>>>=w,A-=w,r.back+=w}if(u>>>=x,A-=x,r.back+=x,v&64){e.msg="invalid distance code",r.mode=Qn;break}r.offset=y,r.extra=v&15,r.mode=sR;case sR:if(r.extra){for(N=r.extra;A<N;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,A-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Qn;break}r.mode=iR;case iR:if(c===0)break e;if(h=d-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Qn;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),p=r.window}else p=s,g=a-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do s[a++]=p[g++];while(--h);r.length===0&&(r.mode=N1);break;case aR:if(c===0)break e;s[a++]=r.length,c--,r.mode=N1;break;case NN:if(r.wrap){for(;A<32;){if(o===0)break e;o--,u|=n[i++]<<A,A+=8}if(d-=c,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?al(r.check,s,d,a-d):qC(r.check,s,d,a-d)),d=c,r.wrap&4&&(r.flags?u:cR(u))!==r.check){e.msg="incorrect data check",r.mode=Qn;break}u=0,A=0}r.mode=oR;case oR:if(r.wrap&&r.flags){for(;A<32;){if(o===0)break e;o--,u+=n[i++]<<A,A+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Qn;break}u=0,A=0}r.mode=lR;case lR:I=oIe;break e;case Qn:I=jW;break e;case IW:return TW;case kW:default:return ho}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=A,(r.wsize||d!==e.avail_out&&r.mode<Qn&&(r.mode<NN||t!==QM))&&RW(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?al(r.check,s,d,e.next_out-d):qC(r.check,s,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Xl?128:0)+(r.mode===B1||r.mode===BN?256:0),(f===0&&d===0||t===QM)&&I===Ku&&(I=cIe),I},xIe=e=>{if(ff(e))return ho;let t=e.state;return t.window&&(t.window=null),e.state=null,Ku},vIe=(e,t)=>{if(ff(e))return ho;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Ku):ho},yIe=(e,t)=>{const r=t.length;let n,s,i;return ff(e)||(n=e.state,n.wrap!==0&&n.mode!==I2)?ho:n.mode===I2&&(s=1,s=qC(s,t,r,0),s!==n.check)?jW:(i=RW(e,t,r,r),i?(n.mode=IW,TW):(n.havedict=1,Ku))};var wIe=UW,bIe=PW,BIe=LW,NIe=mIe,_Ie=MW,CIe=gIe,EIe=xIe,SIe=vIe,FIe=yIe,jIe="pako inflate (from Nodeca project)",ec={inflateReset:wIe,inflateReset2:bIe,inflateResetKeep:BIe,inflateInit:NIe,inflateInit2:_Ie,inflate:CIe,inflateEnd:EIe,inflateGetHeader:SIe,inflateSetDictionary:FIe,inflateInfo:jIe};function TIe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var IIe=TIe;const OW=Object.prototype.toString,{Z_NO_FLUSH:kIe,Z_FINISH:LIe,Z_OK:ap,Z_STREAM_END:EN,Z_NEED_DICT:SN,Z_STREAM_ERROR:UIe,Z_DATA_ERROR:uR,Z_MEM_ERROR:PIe}=_W;function Dp(e){this.options=CW.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XTe,this.strm.avail_out=0;let r=ec.inflateInit2(this.strm,t.windowBits);if(r!==ap)throw new Error(KC[r]);if(this.header=new IIe,ec.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=zC.string2buf(t.dictionary):OW.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ec.inflateSetDictionary(this.strm,t.dictionary),r!==ap)))throw new Error(KC[r])}Dp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?LIe:kIe,OW.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=ec.inflate(r,a),i===SN&&s&&(i=ec.inflateSetDictionary(r,s),i===ap?i=ec.inflate(r,a):i===uR&&(i=SN));r.avail_in>0&&i===EN&&r.state.wrap>0&&e[r.next_in]!==0;)ec.inflateReset(r),i=ec.inflate(r,a);switch(i){case UIe:case uR:case SN:case PIe:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===EN))if(this.options.to==="string"){let c=zC.utf8border(r.output,r.next_out),u=r.next_out-c,A=zC.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(A)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===ap&&o===0)){if(i===EN)return i=ec.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Dp.prototype.onData=function(e){this.chunks.push(e)};Dp.prototype.onEnd=function(e){e===ap&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=CW.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function MIe(e,t){const r=new Dp(t);if(r.push(e),r.err)throw r.msg||KC[r.err];return r.result}var RIe=Dp,OIe=MIe,QIe={Inflate:RIe,inflate:OIe};const{Inflate:DIe,inflate:HIe}=QIe;var fR=DIe,$Ie=HIe;const QW=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;QW[e]=t}const dR=4294967295;function qIe(e,t,r){let n=e;for(let s=0;s<r;s++)n=QW[(n^t[s])&255]^n>>>8;return n}function KIe(e,t){return(qIe(dR,e,t)^dR)>>>0}function hR(e,t,r){const n=e.readUint32(),s=KIe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function DW(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function HW(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function $W(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function qW(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function KW(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+zIe(t[i-s],r[i],r[i-s])&255}}function zIe(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-r);return s<=i&&s<=a?e:i<=a?t:r}function GIe(e,t,r,n,s,i){switch(e){case 0:DW(t,r,s);break;case 1:HW(t,r,s,i);break;case 2:$W(t,r,n,s);break;case 3:qW(t,r,n,s,i);break;case 4:KW(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const VIe=new Uint16Array([255]),WIe=new Uint8Array(VIe.buffer),YIe=WIe[0]===255;function XIe(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,c=new Uint8Array(n*r*o);let u=0;for(let A=0;A<7;A++){const f=a[A],d=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(d<=0||h<=0)continue;const g=d*o,p=new Uint8Array(g);for(let m=0;m<h;m++){const x=t[u++],v=t.subarray(u,u+g);u+=g;const y=new Uint8Array(g);GIe(x,v,y,p,g,o),p.set(y);for(let w=0;w<d;w++){const S=f.x+w*f.xStep,T=f.y+m*f.yStep;if(!(S>=r||T>=n))for(let j=0;j<o;j++)c[(T*r+S)*o+j]=y[w*o+j]}}}if(i===16){const A=new Uint16Array(c.buffer);if(YIe)for(let f=0;f<A.length;f++)A[f]=JIe(A[f]);return A}else return c}function JIe(e){return(e&255)<<8|e>>8&255}const ZIe=new Uint16Array([255]),eke=new Uint8Array(ZIe.buffer),tke=eke[0]===255,rke=new Uint8Array(0);function mR(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*r),c=new Uint8Array(n*o);let u=rke,A=0,f,d;for(let h=0;h<n;h++){switch(f=t.subarray(A+1,A+1+o),d=c.subarray(h*o,(h+1)*o),t[A]){case 0:DW(f,d,o);break;case 1:HW(f,d,o,a);break;case 2:$W(f,d,u,o);break;case 3:qW(f,d,u,o,a);break;case 4:KW(f,d,u,o,a);break;default:throw new Error(`Unsupported filter: ${t[A]}`)}u=d,A+=o+1}if(i===16){const h=new Uint16Array(c.buffer);if(tke)for(let g=0;g<h.length;g++)h[g]=nke(h[g]);return h}else return c}function nke(e){return(e&255)<<8|e>>8&255}const tx=Uint8Array.of(137,80,78,71,13,10,26,10);function pR(e){if(!ske(e.readBytes(tx.length)))throw new Error("wrong PNG signature")}function ske(e){if(e.length<tx.length)return!1;for(let t=0;t<tx.length;t++)if(e[t]!==tx[t])return!1;return!0}const ike="tEXt",ake=0,zW=new TextDecoder("latin1");function oke(e){if(cke(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const lke=/^[\u0000-\u00FF]*$/;function cke(e){if(!lke.test(e))throw new Error("invalid latin1 text")}function Ake(e,t,r){const n=GW(t);e[n]=uke(t,r-n.length-1)}function GW(e){for(e.mark();e.readByte()!==ake;);const t=e.offset;e.reset();const r=zW.decode(e.readBytes(t-e.offset-1));return e.skip(1),oke(r),r}function uke(e,t){return zW.decode(e.readBytes(t))}const ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},FN={UNKNOWN:-1,DEFLATE:0},gR={UNKNOWN:-1,ADAPTIVE:0},jN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_1={NONE:0,BACKGROUND:1,PREVIOUS:2},TN={SOURCE:0,OVER:1};class fke extends Y6{constructor(r,n={}){super(r);fn(this,"_checkCrc");fn(this,"_inflator");fn(this,"_png");fn(this,"_apng");fn(this,"_end");fn(this,"_hasPalette");fn(this,"_palette");fn(this,"_hasTransparency");fn(this,"_transparency");fn(this,"_compressionMethod");fn(this,"_filterMethod");fn(this,"_interlaceMethod");fn(this,"_colorType");fn(this,"_isAnimated");fn(this,"_numberOfFrames");fn(this,"_numberOfPlays");fn(this,"_frames");fn(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new fR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=FN.UNKNOWN,this._filterMethod=gR.UNKNOWN,this._interlaceMethod=jN.UNKNOWN,this._colorType=ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(pR(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(pR(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case ike:Ake(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?hR(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?hR(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=dke(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case ja.GREYSCALE:s=1;break;case ja.TRUECOLOUR:s=3;break;case ja.INDEXED_COLOUR:s=1;break;case ja.GREYSCALE_ALPHA:s=2;break;case ja.TRUECOLOUR_ALPHA:s=4;break;case ja.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==FN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ja.GREYSCALE:case ja.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ja.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ja.UNKNOWN:case ja.GREYSCALE_ALPHA:case ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=GW(this),s=this.readUint8();if(s!==FN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:$Ie(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=mR({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case _1.NONE:break;case _1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*r.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[o+c]=0}break;case _1.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,o)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case TN.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:u}=i(a,o);for(let A=0;A<this._png.channels;A++)r.data[c+A]=n.data[u+A]}break;case TN.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:u}=i(a,o);for(let A=0;A<this._png.channels;A++){const f=n.data[u+this._png.channels-1]/s,d=A%(this._png.channels-1)===0?1:n.data[u+A],h=Math.floor(f*d+(1-f)*r.data[c+A]);r.data[c+A]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==gR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===jN.NO_INTERLACE)this._png.data=mR({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===jN.ADAM7)this._png.data=XIe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_1.NONE,blendOp:TN.SOURCE,data:r}),this._inflator=new fR,this._writingDataChunks=!1}}function dke(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var xR;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(xR||(xR={}));function hke(e,t){return new fke(e,t).decode()}var mr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function IN(){mr.console&&typeof mr.console.log=="function"&&mr.console.log.apply(mr.console,arguments)}var Nn={log:IN,warn:function(e){mr.console&&(typeof mr.console.warn=="function"?mr.console.warn.apply(mr.console,arguments):IN.call(null,arguments))},error:function(e){mr.console&&(typeof mr.console.error=="function"?mr.console.error.apply(mr.console,arguments):IN(e))}};function kN(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Au(n.response,t,r)},n.onerror=function(){Nn.error("could not download file")},n.send()}function vR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function C1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Au=mr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=mr.URL||mr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?vR(s.href)?kN(e,t,r):C1(s,s.target="_blank"):C1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){C1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(vR(e))kN(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){C1(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:pn(i)!=="object"&&(Nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return kN(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(mr.HTMLElement)||mr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var A=o.result;A=a?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=A:location=A,n=null},o.readAsDataURL(e)}else{var c=mr.URL||mr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function VW(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var rx=mr.atob.bind(mr),yR=mr.btoa.bind(mr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function LN(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=_i(r,n,s,i,t[0],7,-680876936),i=_i(i,r,n,s,t[1],12,-389564586),s=_i(s,i,r,n,t[2],17,606105819),n=_i(n,s,i,r,t[3],22,-1044525330),r=_i(r,n,s,i,t[4],7,-176418897),i=_i(i,r,n,s,t[5],12,1200080426),s=_i(s,i,r,n,t[6],17,-1473231341),n=_i(n,s,i,r,t[7],22,-45705983),r=_i(r,n,s,i,t[8],7,1770035416),i=_i(i,r,n,s,t[9],12,-1958414417),s=_i(s,i,r,n,t[10],17,-42063),n=_i(n,s,i,r,t[11],22,-1990404162),r=_i(r,n,s,i,t[12],7,1804603682),i=_i(i,r,n,s,t[13],12,-40341101),s=_i(s,i,r,n,t[14],17,-1502002290),r=Ci(r,n=_i(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ci(i,r,n,s,t[6],9,-1069501632),s=Ci(s,i,r,n,t[11],14,643717713),n=Ci(n,s,i,r,t[0],20,-373897302),r=Ci(r,n,s,i,t[5],5,-701558691),i=Ci(i,r,n,s,t[10],9,38016083),s=Ci(s,i,r,n,t[15],14,-660478335),n=Ci(n,s,i,r,t[4],20,-405537848),r=Ci(r,n,s,i,t[9],5,568446438),i=Ci(i,r,n,s,t[14],9,-1019803690),s=Ci(s,i,r,n,t[3],14,-187363961),n=Ci(n,s,i,r,t[8],20,1163531501),r=Ci(r,n,s,i,t[13],5,-1444681467),i=Ci(i,r,n,s,t[2],9,-51403784),s=Ci(s,i,r,n,t[7],14,1735328473),r=Ei(r,n=Ci(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Ei(i,r,n,s,t[8],11,-2022574463),s=Ei(s,i,r,n,t[11],16,1839030562),n=Ei(n,s,i,r,t[14],23,-35309556),r=Ei(r,n,s,i,t[1],4,-1530992060),i=Ei(i,r,n,s,t[4],11,1272893353),s=Ei(s,i,r,n,t[7],16,-155497632),n=Ei(n,s,i,r,t[10],23,-1094730640),r=Ei(r,n,s,i,t[13],4,681279174),i=Ei(i,r,n,s,t[0],11,-358537222),s=Ei(s,i,r,n,t[3],16,-722521979),n=Ei(n,s,i,r,t[6],23,76029189),r=Ei(r,n,s,i,t[9],4,-640364487),i=Ei(i,r,n,s,t[12],11,-421815835),s=Ei(s,i,r,n,t[15],16,530742520),r=Si(r,n=Ei(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Si(i,r,n,s,t[7],10,1126891415),s=Si(s,i,r,n,t[14],15,-1416354905),n=Si(n,s,i,r,t[5],21,-57434055),r=Si(r,n,s,i,t[12],6,1700485571),i=Si(i,r,n,s,t[3],10,-1894986606),s=Si(s,i,r,n,t[10],15,-1051523),n=Si(n,s,i,r,t[1],21,-2054922799),r=Si(r,n,s,i,t[8],6,1873313359),i=Si(i,r,n,s,t[15],10,-30611744),s=Si(s,i,r,n,t[6],15,-1560198380),n=Si(n,s,i,r,t[13],21,1309151649),r=Si(r,n,s,i,t[4],6,-145523070),i=Si(i,r,n,s,t[11],10,-1120210379),s=Si(s,i,r,n,t[2],15,718787259),n=Si(n,s,i,r,t[9],21,-343485551),e[0]=hA(r,e[0]),e[1]=hA(n,e[1]),e[2]=hA(s,e[2]),e[3]=hA(i,e[3])}function Ny(e,t,r,n,s,i){return t=hA(hA(t,e),hA(n,i)),hA(t<<s|t>>>32-s,r)}function _i(e,t,r,n,s,i,a){return Ny(t&r|~t&n,e,t,s,i,a)}function Ci(e,t,r,n,s,i,a){return Ny(t&n|r&~n,e,t,s,i,a)}function Ei(e,t,r,n,s,i,a){return Ny(t^r^n,e,t,s,i,a)}function Si(e,t,r,n,s,i,a){return Ny(r^(t|~n),e,t,s,i,a)}function WW(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)LN(n,mke(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(LN(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,LN(n,s),n}function mke(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var wR="0123456789abcdef".split("");function pke(e){for(var t="",r=0;r<4;r++)t+=wR[e>>8*r+4&15]+wR[e>>8*r&15];return t}function gke(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function GC(e){return WW(e).map(gke).join("")}var xke=function(e){for(var t=0;t<e.length;t++)e[t]=pke(e[t]);return e.join("")}(WW("hello"))!="5d41402abc4b2a76b9719d911017c592";function hA(e,t){if(xke){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VC(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var A=o[c];u=(u+A+a.charCodeAt(c))%256,o[c]=o[u],o[u]=A}r=e,n=o}else o=n;var f=t.length,d=0,h=0,g="";for(c=0;c<f;c++)h=(h+(A=o[d=(d+1)%256]))%256,o[d]=o[h],o[h]=A,a=o[(o[d]+o[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bR={print:4,modify:8,copy:16,"annot-forms":32};function ed(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(bR.perm!==void 0)throw new Error("Invalid permission: "+o);s+=bR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=GC(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=VC(this.encryptionKey,this.padding)}function td(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function BR(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(o){mr.console&&Nn.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function k2(e){if(!(this instanceof k2))return new k2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function YW(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hu(e,t,r,n,s){if(!(this instanceof hu))return new hu(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,YW.call(this,n,s)}function cd(e,t,r,n,s){if(!(this instanceof cd))return new cd(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,YW.call(this,n,s)}function sr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,u="S",A=null;pn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(A=e.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=BR;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(R){g=R};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return m};var x=h.__private__.getPageFormat=function(R){return m[R]};s=s||"a4";var v="compat",y="advanced",w=v;function S(){this.saveGraphicsState(),oe(new qt(Se,0,0,-Se,0,qA()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),u="n",w=y}function T(){this.restoreGraphicsState(),u="S",w=v}var j=h.__private__.combineFontStyleAndFontWeight=function(R,Z){if(R=="bold"&&Z=="normal"||R=="bold"&&Z==400||R=="normal"&&Z=="italic"||R=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(R=Z==400||Z==="normal"?R==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||R!=="normal"?(Z==700?"bold":Z)+""+R:"bold"),R};h.advancedAPI=function(R){var Z=w===v;return Z&&S.call(this),typeof R!="function"||(R(this),Z&&T.call(this)),this},h.compatAPI=function(R){var Z=w===y;return Z&&T.call(this),typeof R!="function"||(R(this),Z&&S.call(this)),this},h.isAdvancedAPI=function(){return w===y};var I,B=function(R){if(w!==y)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(R,Z){var xe=t||Z;if(isNaN(R)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(xe).replace(/0+$/,"")};I=h.hpf=h.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return C(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return C(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return C(R,16)};var N=h.f2=h.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return C(R,2)},k=h.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return C(R,3)},E=h.scale=h.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?R*Se:w===y?R:void 0},U=function(R){return E(function(Z){return w===v?qA()-Z:w===y?Z:void 0}(R))};h.__private__.setPrecision=h.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var D,M="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return M},K=h.__private__.setFileId=function(R){return M=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(Rr=new ed(A.userPermissions,A.userPassword,A.ownerPassword,M)),M};h.setFileId=function(R){return K(R),this},h.getFileId=function(){return Q()};var O=h.__private__.convertDateToPDFDate=function(R){var Z=R.getTimezoneOffset(),xe=Z<0?"+":"-",Ie=Math.floor(Math.abs(Z/60)),qe=Math.abs(Z%60),ft=[xe,L(Ie),"'",L(qe),"'"].join("");return["D:",R.getFullYear(),L(R.getMonth()+1),L(R.getDate()),L(R.getHours()),L(R.getMinutes()),L(R.getSeconds()),ft].join("")},z=h.__private__.convertPDFDateToDate=function(R){var Z=parseInt(R.substr(2,4),10),xe=parseInt(R.substr(6,2),10)-1,Ie=parseInt(R.substr(8,2),10),qe=parseInt(R.substr(10,2),10),ft=parseInt(R.substr(12,2),10),Bt=parseInt(R.substr(14,2),10);return new Date(Z,xe,Ie,qe,ft,Bt,0)},G=h.__private__.setCreationDate=function(R){var Z;if(R===void 0&&(R=new Date),R instanceof Date)Z=O(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=R}return D=Z},F=h.__private__.getCreationDate=function(R){var Z=D;return R==="jsDate"&&(Z=z(D)),Z};h.setCreationDate=function(R){return G(R),this},h.getCreationDate=function(R){return F(R)};var P,L=h.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},q=h.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},X=0,se=[],ae=[],W=0,ee=[],Ce=[],ye=!1,Me=ae;h.__private__.setCustomOutputDestination=function(R){ye=!0,Me=R};var we=function(R){ye||(Me=R)};h.__private__.resetCustomOutputDestination=function(){ye=!1,Me=ae};var oe=h.__private__.out=function(R){return R=R.toString(),W+=R.length+1,Me.push(R),Me},ze=h.__private__.write=function(R){return oe(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},de=h.__private__.getArrayBuffer=function(R){for(var Z=R.length,xe=new ArrayBuffer(Z),Ie=new Uint8Array(xe);Z--;)Ie[Z]=R.charCodeAt(Z);return xe},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return be};var Be=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(R){return Be=w===y?R/Se:R,this};var et,rt=h.__private__.getFontSize=h.getFontSize=function(){return w===v?Be:Be*Se},Nt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(R){return Nt=R,this},h.__private__.getR2L=h.getR2L=function(){return Nt};var me,$e=h.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))et=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');et=R}else et=parseInt(R,10)};h.__private__.getZoomMode=function(){return et};var Re,Te=h.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');me=R};h.__private__.getPageMode=function(){return me};var ve=h.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Re=R};h.__private__.getLayoutMode=function(){return Re},h.__private__.setDisplayMode=h.setDisplayMode=function(R,Z,xe){return $e(R),ve(Z),Te(xe),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(R){if(Object.keys(it).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[R]},h.__private__.getDocumentProperties=function(){return it},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(R){for(var Z in it)it.hasOwnProperty(Z)&&R[Z]&&(it[Z]=R[Z]);return this},h.__private__.setDocumentProperty=function(R,Z){if(Object.keys(it).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[R]=Z};var Oe,Se,Fe,lt,We,He={},tt={},xt=[],nt={},Ye={},Ke={},Lt={},Et=null,Ut=0,Ct=[],Vt=new BR(h),$n=e.hotfixes||[],Vr={},Mn={},Rn=[],qt=function R(Z,xe,Ie,qe,ft,Bt){if(!(this instanceof R))return new R(Z,xe,Ie,qe,ft,Bt);isNaN(Z)&&(Z=1),isNaN(xe)&&(xe=0),isNaN(Ie)&&(Ie=0),isNaN(qe)&&(qe=1),isNaN(ft)&&(ft=0),isNaN(Bt)&&(Bt=0),this._matrix=[Z,xe,Ie,qe,ft,Bt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(R)},qt.prototype.multiply=function(R){var Z=R.sx*this.sx+R.shy*this.shx,xe=R.sx*this.shy+R.shy*this.sy,Ie=R.shx*this.sx+R.sy*this.shx,qe=R.shx*this.shy+R.sy*this.sy,ft=R.tx*this.sx+R.ty*this.shx+this.tx,Bt=R.tx*this.shy+R.ty*this.sy+this.ty;return new qt(Z,xe,Ie,qe,ft,Bt)},qt.prototype.decompose=function(){var R=this.sx,Z=this.shy,xe=this.shx,Ie=this.sy,qe=this.tx,ft=this.ty,Bt=Math.sqrt(R*R+Z*Z),Yt=(R/=Bt)*xe+(Z/=Bt)*Ie;xe-=R*Yt,Ie-=Z*Yt;var nr=Math.sqrt(xe*xe+Ie*Ie);return Yt/=nr,R*(Ie/=nr)<Z*(xe/=nr)&&(R=-R,Z=-Z,Yt=-Yt,Bt=-Bt),{scale:new qt(Bt,0,0,nr,0,0),translate:new qt(1,0,0,1,qe,ft),rotate:new qt(R,Z,-Z,R,0,0),skew:new qt(1,0,Yt,1,0,0)}},qt.prototype.toString=function(R){return this.join(" ")},qt.prototype.inversed=function(){var R=this.sx,Z=this.shy,xe=this.shx,Ie=this.sy,qe=this.tx,ft=this.ty,Bt=1/(R*Ie-Z*xe),Yt=Ie*Bt,nr=-Z*Bt,pr=-xe*Bt,gr=R*Bt;return new qt(Yt,nr,pr,gr,-Yt*qe-pr*ft,-nr*qe-gr*ft)},qt.prototype.applyToPoint=function(R){var Z=R.x*this.sx+R.y*this.shx+this.tx,xe=R.x*this.shy+R.y*this.sy+this.ty;return new HA(Z,xe)},qt.prototype.applyToRectangle=function(R){var Z=this.applyToPoint(R),xe=this.applyToPoint(new HA(R.x+R.w,R.y+R.h));return new Ch(Z.x,Z.y,xe.x-Z.x,xe.y-Z.y)},qt.prototype.clone=function(){var R=this.sx,Z=this.shy,xe=this.shx,Ie=this.sy,qe=this.tx,ft=this.ty;return new qt(R,Z,xe,Ie,qe,ft)},h.Matrix=qt;var As=h.matrixMult=function(R,Z){return Z.multiply(R)},Kr=new qt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Kr;var Lr=function(R,Z){if(!Ye[R]){var xe=(Z instanceof hu?"Sh":"P")+(Object.keys(nt).length+1).toString(10);Z.id=xe,Ye[R]=xe,nt[xe]=Z,Vt.publish("addPattern",Z)}};h.ShadingPattern=hu,h.TilingPattern=cd,h.addShadingPattern=function(R,Z){return B("addShadingPattern()"),Lr(R,Z),this},h.beginTilingPattern=function(R){B("beginTilingPattern()"),Eh(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},h.endTilingPattern=function(R,Z){B("endTilingPattern()"),Z.stream=Ce[P].join(`
`),Lr(R,Z),Vt.publish("endTilingPattern",Z),Rn.pop().restore()};var zt,jr=h.__private__.newObject=function(){var R=Sr();return ne(R,!0),R},Sr=h.__private__.newObjectDeferred=function(){return X++,se[X]=function(){return W},X},ne=function(R,Z){return Z=typeof Z=="boolean"&&Z,se[R]=W,Z&&oe(R+" 0 obj"),R},he=h.__private__.newAdditionalObject=function(){var R={objId:Sr(),content:""};return ee.push(R),R},Y=Sr(),J=Sr(),ce=h.__private__.decodeColorString=function(R){var Z=R.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var xe=parseFloat(Z[0]);Z=[xe,xe,xe,"r"]}for(var Ie="#",qe=0;qe<3;qe++)Ie+=("0"+Math.floor(255*parseFloat(Z[qe])).toString(16)).slice(-2);return Ie},Ae=h.__private__.encodeColorString=function(R){var Z;typeof R=="string"&&(R={ch1:R});var xe=R.ch1,Ie=R.ch2,qe=R.ch3,ft=R.ch4,Bt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var Yt=new VW(xe);if(Yt.ok)xe=Yt.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var nr=parseInt(xe.substr(1),16);xe=nr>>16&255,Ie=nr>>8&255,qe=255&nr}if(Ie===void 0||ft===void 0&&xe===Ie&&Ie===qe)Z=typeof xe=="string"?xe+" "+Bt[0]:R.precision===2?N(xe/255)+" "+Bt[0]:k(xe/255)+" "+Bt[0];else if(ft===void 0||pn(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",Bt[1]].join(" ");Z=typeof xe=="string"?[xe,Ie,qe,Bt[1]].join(" "):R.precision===2?[N(xe/255),N(Ie/255),N(qe/255),Bt[1]].join(" "):[k(xe/255),k(Ie/255),k(qe/255),Bt[1]].join(" ")}else Z=typeof xe=="string"?[xe,Ie,qe,ft,Bt[2]].join(" "):R.precision===2?[N(xe),N(Ie),N(qe),N(ft),Bt[2]].join(" "):[k(xe),k(Ie),k(qe),k(ft),Bt[2]].join(" ");return Z},_e=h.__private__.getFilters=function(){return a},Pe=h.__private__.putStream=function(R){var Z=(R=R||{}).data||"",xe=R.filters||_e(),Ie=R.alreadyAppliedFilters||[],qe=R.addLength1||!1,ft=Z.length,Bt=R.objectId,Yt=function(ks){return ks};if(A!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Yt=Rr.encryptor(Bt,0));var nr={};xe===!0&&(xe=["FlateEncode"]);var pr=R.additionalKeyValues||[],gr=(nr=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(Z,xe):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(nr.data.length!==0&&(pr.push({key:"Length",value:nr.data.length}),qe===!0&&pr.push({key:"Length1",value:ft})),gr.length!=0)if(gr.split("/").length-1==1)pr.push({key:"Filter",value:gr});else{pr.push({key:"Filter",value:"["+gr+"]"});for(var tn=0;tn<pr.length;tn+=1)if(pr[tn].key==="DecodeParms"){for(var qn=[],bs=0;bs<nr.reverseChain.split("/").length-1;bs+=1)qn.push("null");qn.push(pr[tn].value),pr[tn].value="["+qn.join(" ")+"]"}}oe("<<");for(var En=0;En<pr.length;En++)oe("/"+pr[En].key+" "+pr[En].value);oe(">>"),nr.data.length!==0&&(oe("stream"),oe(Yt(nr.data)),oe("endstream"))},Ne=h.__private__.putPage=function(R){var Z=R.number,xe=R.data,Ie=R.objId,qe=R.contentsObjId;ne(Ie,!0),oe("<</Type /Page"),oe("/Parent "+R.rootDictionaryObjId+" 0 R"),oe("/Resources "+R.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(I(R.mediaBox.bottomLeftX))+" "+parseFloat(I(R.mediaBox.bottomLeftY))+" "+I(R.mediaBox.topRightX)+" "+I(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&oe("/CropBox ["+I(R.cropBox.bottomLeftX)+" "+I(R.cropBox.bottomLeftY)+" "+I(R.cropBox.topRightX)+" "+I(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&oe("/BleedBox ["+I(R.bleedBox.bottomLeftX)+" "+I(R.bleedBox.bottomLeftY)+" "+I(R.bleedBox.topRightX)+" "+I(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&oe("/TrimBox ["+I(R.trimBox.bottomLeftX)+" "+I(R.trimBox.bottomLeftY)+" "+I(R.trimBox.topRightX)+" "+I(R.trimBox.topRightY)+"]"),R.artBox!==null&&oe("/ArtBox ["+I(R.artBox.bottomLeftX)+" "+I(R.artBox.bottomLeftY)+" "+I(R.artBox.topRightX)+" "+I(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&oe("/UserUnit "+R.userUnit),Vt.publish("putPage",{objId:Ie,pageContext:Ct[Z],pageNumber:Z,page:xe}),oe("/Contents "+qe+" 0 R"),oe(">>"),oe("endobj");var ft=xe.join(`
`);return w===y&&(ft+=`
Q`),ne(qe,!0),Pe({data:ft,filters:_e(),objectId:qe}),oe("endobj"),Ie},Ee=h.__private__.putPages=function(){var R,Z,xe=[];for(R=1;R<=Ut;R++)Ct[R].objId=Sr(),Ct[R].contentsObjId=Sr();for(R=1;R<=Ut;R++)xe.push(Ne({number:R,data:Ce[R],objId:Ct[R].objId,contentsObjId:Ct[R].contentsObjId,mediaBox:Ct[R].mediaBox,cropBox:Ct[R].cropBox,bleedBox:Ct[R].bleedBox,trimBox:Ct[R].trimBox,artBox:Ct[R].artBox,userUnit:Ct[R].userUnit,rootDictionaryObjId:Y,resourceDictionaryObjId:J}));ne(Y,!0),oe("<</Type /Pages");var Ie="/Kids [";for(Z=0;Z<Ut;Z++)Ie+=xe[Z]+" 0 R ";oe(Ie+"]"),oe("/Count "+Ut),oe(">>"),oe("endobj"),Vt.publish("postPutPages")},Qe=function(R){Vt.publish("putFont",{font:R,out:oe,newObject:jr,putStream:Pe}),R.isAlreadyPutted!==!0&&(R.objectNumber=jr(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+td(R.postScriptName)),oe("/Subtype /Type1"),typeof R.encoding=="string"&&oe("/Encoding /"+R.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},at=function(R){R.objectNumber=jr();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[I(R.x),I(R.y),I(R.x+R.width),I(R.y+R.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var xe=R.pages[1].join(`
`);Pe({data:xe,additionalKeyValues:Z,objectId:R.objectNumber}),oe("endobj")},Le=function(R,Z){Z||(Z=21);var xe=jr(),Ie=function(Bt,Yt){var nr,pr=[],gr=1/(Yt-1);for(nr=0;nr<1;nr+=gr)pr.push(nr);if(pr.push(1),Bt[0].offset!=0){var tn={offset:0,color:Bt[0].color};Bt.unshift(tn)}if(Bt[Bt.length-1].offset!=1){var qn={offset:1,color:Bt[Bt.length-1].color};Bt.push(qn)}for(var bs="",En=0,ks=0;ks<pr.length;ks++){for(nr=pr[ks];nr>Bt[En+1].offset;)En++;var Bs=Bt[En].offset,ni=(nr-Bs)/(Bt[En+1].offset-Bs),za=Bt[En].color,aa=Bt[En+1].color;bs+=q(Math.round((1-ni)*za[0]+ni*aa[0]).toString(16))+q(Math.round((1-ni)*za[1]+ni*aa[1]).toString(16))+q(Math.round((1-ni)*za[2]+ni*aa[2]).toString(16))}return bs.trim()}(R.colors,Z),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+Z+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe({data:Ie,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),oe("endobj"),R.objectNumber=jr(),oe("<< /ShadingType "+R.type),oe("/ColorSpace /DeviceRGB");var ft="/Coords ["+I(parseFloat(R.coords[0]))+" "+I(parseFloat(R.coords[1]))+" ";R.type===2?ft+=I(parseFloat(R.coords[2]))+" "+I(parseFloat(R.coords[3])):ft+=I(parseFloat(R.coords[2]))+" "+I(parseFloat(R.coords[3]))+" "+I(parseFloat(R.coords[4]))+" "+I(parseFloat(R.coords[5])),oe(ft+="]"),R.matrix&&oe("/Matrix ["+R.matrix.toString()+"]"),oe("/Function "+xe+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},ht=function(R,Z){var xe=Sr(),Ie=jr();Z.push({resourcesOid:xe,objectOid:Ie}),R.objectNumber=Ie;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+R.boundingBox.map(I).join(" ")+"]"}),qe.push({key:"XStep",value:I(R.xStep)}),qe.push({key:"YStep",value:I(R.yStep)}),qe.push({key:"Resources",value:xe+" 0 R"}),R.matrix&&qe.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Pe({data:R.stream,additionalKeyValues:qe,objectId:R.objectNumber}),oe("endobj")},Ve=function(R){for(var Z in R.objectNumber=jr(),oe("<<"),R)switch(Z){case"opacity":oe("/ca "+N(R[Z]));break;case"stroke-opacity":oe("/CA "+N(R[Z]))}oe(">>"),oe("endobj")},yt=function(R){ne(R.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Z in oe("/Font <<"),He)He.hasOwnProperty(Z)&&(f===!1||f===!0&&d.hasOwnProperty(Z))&&oe("/"+Z+" "+He[Z].objectNumber+" 0 R");oe(">>")}(),function(){if(Object.keys(nt).length>0){for(var Z in oe("/Shading <<"),nt)nt.hasOwnProperty(Z)&&nt[Z]instanceof hu&&nt[Z].objectNumber>=0&&oe("/"+Z+" "+nt[Z].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),oe(">>")}}(),function(Z){if(Object.keys(nt).length>0){for(var xe in oe("/Pattern <<"),nt)nt.hasOwnProperty(xe)&&nt[xe]instanceof h.TilingPattern&&nt[xe].objectNumber>=0&&nt[xe].objectNumber<Z&&oe("/"+xe+" "+nt[xe].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),oe(">>")}}(R.objectOid),function(){if(Object.keys(Ke).length>0){var Z;for(Z in oe("/ExtGState <<"),Ke)Ke.hasOwnProperty(Z)&&Ke[Z].objectNumber>=0&&oe("/"+Z+" "+Ke[Z].objectNumber+" 0 R");Vt.publish("putGStateDict"),oe(">>")}}(),function(){for(var Z in oe("/XObject <<"),Vr)Vr.hasOwnProperty(Z)&&Vr[Z].objectNumber>=0&&oe("/"+Z+" "+Vr[Z].objectNumber+" 0 R");Vt.publish("putXobjectDict"),oe(">>")}(),oe(">>"),oe("endobj")},It=function(R){tt[R.fontName]=tt[R.fontName]||{},tt[R.fontName][R.fontStyle]=R.id},Mt=function(R,Z,xe,Ie,qe){var ft={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:R,fontName:Z,fontStyle:xe,encoding:Ie,isStandardFont:qe||!1,metadata:{}};return Vt.publish("addFont",{font:ft,instance:this}),He[ft.id]=ft,It(ft),ft.id},At=h.__private__.pdfEscape=h.pdfEscape=function(R,Z){return function(xe,Ie){var qe,ft,Bt,Yt,nr,pr,gr,tn,qn;if(Bt=(Ie=Ie||{}).sourceEncoding||"Unicode",nr=Ie.outputEncoding,(Ie.autoencode||nr)&&He[Oe].metadata&&He[Oe].metadata[Bt]&&He[Oe].metadata[Bt].encoding&&(Yt=He[Oe].metadata[Bt].encoding,!nr&&He[Oe].encoding&&(nr=He[Oe].encoding),!nr&&Yt.codePages&&(nr=Yt.codePages[0]),typeof nr=="string"&&(nr=Yt[nr]),nr)){for(gr=!1,pr=[],qe=0,ft=xe.length;qe<ft;qe++)(tn=nr[xe.charCodeAt(qe)])?pr.push(String.fromCharCode(tn)):pr.push(xe[qe]),pr[qe].charCodeAt(0)>>8&&(gr=!0);xe=pr.join("")}for(qe=xe.length;gr===void 0&&qe!==0;)xe.charCodeAt(qe-1)>>8&&(gr=!0),qe--;if(!gr)return xe;for(pr=Ie.noBOM?[]:[254,255],qe=0,ft=xe.length;qe<ft;qe++){if((qn=(tn=xe.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pr.push(qn),pr.push(tn-(qn<<8))}return String.fromCharCode.apply(void 0,pr)}(R,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rt=h.__private__.beginPage=function(R){Ce[++Ut]=[],Ct[Ut]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Mr(Ut),we(Ce[P])},lr=function(R,Z){var xe,Ie,qe;switch(r=Z||r,typeof R=="string"&&(xe=x(R.toLowerCase()),Array.isArray(xe)&&(Ie=xe[0],qe=xe[1])),Array.isArray(R)&&(Ie=R[0]*Se,qe=R[1]*Se),isNaN(Ie)&&(Ie=s[0],qe=s[1]),(Ie>14400||qe>14400)&&(Nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),qe=Math.min(14400,qe)),s=[Ie,qe],r.substr(0,1)){case"l":qe>Ie&&(s=[qe,Ie]);break;case"p":Ie>qe&&(s=[qe,Ie])}Rt(s),ia(mt),oe(gf),Nh!==0&&oe(Nh+" J"),_h!==0&&oe(_h+" j"),Vt.publish("addPage",{pageNumber:Ut})},Xt=function(R){R>0&&R<=Ut&&(Ce.splice(R,1),Ct.splice(R,1),Ut--,P>Ut&&(P=Ut),this.setPage(P))},Mr=function(R){R>0&&R<=Ut&&(P=R)},hr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ce.length-1},br=function(R,Z,xe){var Ie,qe=void 0;return xe=xe||{},R=R!==void 0?R:He[Oe].fontName,Z=Z!==void 0?Z:He[Oe].fontStyle,Ie=R.toLowerCase(),tt[Ie]!==void 0&&tt[Ie][Z]!==void 0?qe=tt[Ie][Z]:tt[R]!==void 0&&tt[R][Z]!==void 0?qe=tt[R][Z]:xe.disableWarning===!1&&Nn.warn("Unable to look up font label for font '"+R+"', '"+Z+"'. Refer to getFontList() for available fonts."),qe||xe.noFallback||(qe=tt.times[Z])==null&&(qe=tt.times.normal),qe},rr=h.__private__.putInfo=function(){var R=jr(),Z=function(Ie){return Ie};for(var xe in A!==null&&(Z=Rr.encryptor(R,0)),oe("<<"),oe("/Producer ("+At(Z("jsPDF "+sr.version))+")"),it)it.hasOwnProperty(xe)&&it[xe]&&oe("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+At(Z(it[xe]))+")");oe("/CreationDate ("+At(Z(D))+")"),oe(">>"),oe("endobj")},en=h.__private__.putCatalog=function(R){var Z=(R=R||{}).rootDictionaryObjId||Y;switch(jr(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+Z+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+et;xe.substr(xe.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+N(et)+"]")}switch(Re||(Re="continuous"),Re){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}me&&oe("/PageMode /"+me),Vt.publish("putCatalog"),oe(">>"),oe("endobj")},zr=h.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(X+1)),oe("/Root "+X+" 0 R"),oe("/Info "+(X-1)+" 0 R"),A!==null&&oe("/Encrypt "+Rr.oid+" 0 R"),oe("/ID [ <"+M+"> <"+M+"> ]"),oe(">>")},Oi=h.__private__.putHeader=function(){oe("%PDF-"+g),oe("%")},Wn=h.__private__.putXRef=function(){var R="0000000000";oe("xref"),oe("0 "+(X+1)),oe("0000000000 65535 f ");for(var Z=1;Z<=X;Z++)typeof se[Z]=="function"?oe((R+se[Z]()).slice(-10)+" 00000 n "):se[Z]!==void 0?oe((R+se[Z]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Tr=h.__private__.buildDocument=function(){var R;X=0,W=0,ae=[],se=[],ee=[],Y=Sr(),J=Sr(),we(ae),Vt.publish("buildDocument"),Oi(),Ee(),function(){Vt.publish("putAdditionalObjects");for(var xe=0;xe<ee.length;xe++){var Ie=ee[xe];ne(Ie.objId,!0),oe(Ie.content),oe("endobj")}Vt.publish("postPutAdditionalObjects")}(),R=[],function(){for(var xe in He)He.hasOwnProperty(xe)&&(f===!1||f===!0&&d.hasOwnProperty(xe))&&Qe(He[xe])}(),function(){var xe;for(xe in Ke)Ke.hasOwnProperty(xe)&&Ve(Ke[xe])}(),function(){for(var xe in Vr)Vr.hasOwnProperty(xe)&&at(Vr[xe])}(),function(xe){var Ie;for(Ie in nt)nt.hasOwnProperty(Ie)&&(nt[Ie]instanceof hu?Le(nt[Ie]):nt[Ie]instanceof cd&&ht(nt[Ie],xe))}(R),Vt.publish("putResources"),R.forEach(yt),yt({resourcesOid:J,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources"),A!==null&&(Rr.oid=jr(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Rr.v),oe("/R "+Rr.r),oe("/U <"+Rr.toHexString(Rr.U)+">"),oe("/O <"+Rr.toHexString(Rr.O)+">"),oe("/P "+Rr.P),oe(">>"),oe("endobj")),rr(),en();var Z=W;return Wn(),zr(),oe("startxref"),oe(""+Z),oe("%%EOF"),we(Ce[P]),ae.join(`
`)},Wr=h.__private__.getBlob=function(R){return new Blob([de(R)],{type:"application/pdf"})},Hr=h.output=h.__private__.output=(zt=function(R,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",R){case void 0:return Tr();case"save":h.save(Z.filename);break;case"arraybuffer":return de(Tr());case"blob":return Wr(Tr());case"bloburi":case"bloburl":if(mr.URL!==void 0&&typeof mr.URL.createObjectURL=="function")return mr.URL&&mr.URL.createObjectURL(Wr(Tr()))||void 0;Nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",Ie=Tr();try{xe=yR(Ie)}catch{xe=yR(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+Z.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(qe=Z.pdfObjectUrl,ft="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Yt=mr.open();return Yt!==null&&Yt.document.write(Bt),Yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',pr=mr.open();if(pr!==null){pr.document.write(nr);var gr=this;pr.document.documentElement.querySelector("#pdfViewer").onload=function(){pr.document.title=Z.filename,pr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gr.output("bloburl"))}}return pr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',qn=mr.open();if(qn!==null&&(qn.document.write(tn),qn.document.title=Z.filename),qn||typeof safari>"u")return qn;break;case"datauri":case"dataurl":return mr.document.location.href=this.output("datauristring",Z);default:return null}},zt.foo=function(){try{return zt.apply(this,arguments)}catch(xe){var R=xe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Z="Error in function "+R.split(`
`)[0].split("<")[0]+": "+xe.message;if(!mr.console)throw new Error(Z);mr.console.error(Z,xe),mr.alert&&alert(Z)}},zt.foo.bar=zt,zt.foo),ws=function(R){return Array.isArray($n)===!0&&$n.indexOf(R)>-1};switch(n){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=ws("px_scaling")==1?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Se=n}var Rr=null;G(),K();var Yn=h.__private__.getPageInfo=h.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[R].objId,pageNumber:R,pageContext:Ct[R]}},sa=h.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Ct)if(Ct[Z].objId===R)break;return Yn(Z)},Wo=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ct[P].objId,pageNumber:P,pageContext:Ct[P]}};h.addPage=function(){return lr.apply(this,arguments),this},h.setPage=function(){return Mr.apply(this,arguments),we.call(this,Ce[P]),this},h.insertPage=function(R){return this.addPage(),this.movePage(P,R),this},h.movePage=function(R,Z){var xe,Ie;if(R>Z){xe=Ce[R],Ie=Ct[R];for(var qe=R;qe>Z;qe--)Ce[qe]=Ce[qe-1],Ct[qe]=Ct[qe-1];Ce[Z]=xe,Ct[Z]=Ie,this.setPage(Z)}else if(R<Z){xe=Ce[R],Ie=Ct[R];for(var ft=R;ft<Z;ft++)Ce[ft]=Ce[ft+1],Ct[ft]=Ct[ft+1];Ce[Z]=xe,Ct[Z]=Ie,this.setPage(Z)}return this},h.deletePage=function(){return Xt.apply(this,arguments),this},h.__private__.text=h.text=function(R,Z,xe,Ie,qe){var ft,Bt,Yt,nr,pr,gr,tn,qn,bs,En=(Ie=Ie||{}).scope||this;if(typeof R=="number"&&typeof Z=="number"&&(typeof xe=="string"||Array.isArray(xe))){var ks=xe;xe=Z,Z=R,R=ks}if(arguments[3]instanceof qt==0?(Yt=arguments[4],nr=arguments[5],pn(tn=arguments[3])==="object"&&tn!==null||(typeof Yt=="string"&&(nr=Yt,Yt=null),typeof tn=="string"&&(nr=tn,tn=null),typeof tn=="number"&&(Yt=tn,tn=null),Ie={flags:tn,angle:Yt,align:nr})):(B("The transform parameter of text() with a Matrix value"),bs=qe),isNaN(Z)||isNaN(xe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return En;var Bs,ni="",za=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:Jo,aa=En.internal.scaleFactor;function Gp(on){return on=on.split("	").join(Array(Ie.TabLen||9).join(" ")),At(on,tn)}function wf(on){for(var bn,fs=on.concat(),Ls=[],Ol=fs.length;Ol--;)typeof(bn=fs.shift())=="string"?Ls.push(bn):Array.isArray(on)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?Ls.push(bn[0]):Ls.push([bn[0],bn[1],bn[2]]);return Ls}function KA(on,bn){var fs;if(typeof on=="string")fs=bn(on)[0];else if(Array.isArray(on)){for(var Ls,Ol,Mh=on.concat(),Nf=[],Yp=Mh.length;Yp--;)typeof(Ls=Mh.shift())=="string"?Nf.push(bn(Ls)[0]):Array.isArray(Ls)&&typeof Ls[0]=="string"&&(Ol=bn(Ls[0],Ls[1],Ls[2]),Nf.push([Ol[0],Ol[1],Ol[2]]));fs=Nf}return fs}var Tc=!1,zA=!0;if(typeof R=="string")Tc=!0;else if(Array.isArray(R)){var GA=R.concat();Bt=[];for(var VA,yi=GA.length;yi--;)(typeof(VA=GA.shift())!="string"||Array.isArray(VA)&&typeof VA[0]!="string")&&(zA=!1);Tc=zA}if(Tc===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var WA=Be/En.internal.scaleFactor,YA=WA*(za-1);switch(Ie.baseline){case"bottom":xe-=YA;break;case"top":xe+=WA-YA;break;case"hanging":xe+=WA-2*YA;break;case"middle":xe+=WA/2-YA}if((gr=Ie.maxWidth||0)>0&&(typeof R=="string"?R=En.splitTextToSize(R,gr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(on,bn){return on.concat(En.splitTextToSize(bn,gr))},[]))),ft={text:R,x:Z,y:xe,options:Ie,mutex:{pdfEscape:At,activeFontKey:Oe,fonts:He,activeFontSize:Be}},Vt.publish("preProcessText",ft),R=ft.text,Yt=(Ie=ft.options).angle,bs instanceof qt==0&&Yt&&typeof Yt=="number"){Yt*=Math.PI/180,Ie.rotationDirection===0&&(Yt=-Yt),w===y&&(Yt=-Yt);var Sh=Math.cos(Yt),Fh=Math.sin(Yt);bs=new qt(Sh,Fh,-Fh,Sh,0,0)}else Yt&&Yt instanceof qt&&(bs=Yt);w!==y||bs||(bs=Kr),(pr=Ie.charSpace||vf)!==void 0&&(ni+=I(E(pr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qn=Ie.horizontalScale)!==void 0&&(ni+=I(100*qn)+` Tz
`),Ie.lang;var Xn=-1,Ml=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,bf=En.internal.getCurrentPageInfo().pageContext;switch(Ml){case 0:case!1:case"fill":Xn=0;break;case 1:case!0:case"stroke":Xn=1;break;case 2:case"fillThenStroke":Xn=2;break;case 3:case"invisible":Xn=3;break;case 4:case"fillAndAddForClipping":Xn=4;break;case 5:case"strokeAndAddPathForClipping":Xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xn=6;break;case 7:case"addToPathForClipping":Xn=7}var Vp=bf.usedRenderingMode!==void 0?bf.usedRenderingMode:-1;Xn!==-1?ni+=Xn+` Tr
`:Vp!==-1&&(ni+=`0 Tr
`),Xn!==-1&&(bf.usedRenderingMode=Xn),nr=Ie.align||"left";var Ga,XA=Be*za,jh=En.internal.pageSize.getWidth(),Th=He[Oe];pr=Ie.charSpace||vf,gr=Ie.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var Ic=[],JA=function(on){return En.getStringUnitWidth(on,{font:Th,charSpace:pr,fontSize:Be,doKerning:!1})*Be/aa};if(Object.prototype.toString.call(R)==="[object Array]"){var ba;Bt=wf(R),nr!=="left"&&(Ga=Bt.map(JA));var Ba,kc=0;if(nr==="right"){Z-=Ga[0],R=[],yi=Bt.length;for(var Rl=0;Rl<yi;Rl++)Rl===0?(Ba=kl(Z),ba=Ll(xe)):(Ba=E(kc-Ga[Rl]),ba=-XA),R.push([Bt[Rl],Ba,ba]),kc=Ga[Rl]}else if(nr==="center"){Z-=Ga[0]/2,R=[],yi=Bt.length;for(var Lc=0;Lc<yi;Lc++)Lc===0?(Ba=kl(Z),ba=Ll(xe)):(Ba=E((kc-Ga[Lc])/2),ba=-XA),R.push([Bt[Lc],Ba,ba]),kc=Ga[Lc]}else if(nr==="left"){R=[],yi=Bt.length;for(var Ih=0;Ih<yi;Ih++)R.push(Bt[Ih])}else if(nr==="justify"&&Th.encoding==="Identity-H"){R=[],yi=Bt.length,gr=gr!==0?gr:jh;for(var Bf=0,us=0;us<yi;us++)if(ba=us===0?Ll(xe):-XA,Ba=us===0?kl(Z):Bf,us<yi-1){var Wp=E((gr-Ga[us])/(Bt[us].split(" ").length-1)),Zo=Bt[us].split(" ");R.push([Zo[0]+" ",Ba,ba]),Bf=0;for(var el=1;el<Zo.length;el++){var kh=(JA(Zo[el-1]+" "+Zo[el])-JA(Zo[el]))*aa+Wp;el==Zo.length-1?R.push([Zo[el],kh,0]):R.push([Zo[el]+" ",kh,0]),Bf-=kh}}else R.push([Bt[us],Ba,ba]);R.push(["",Bf,0])}else{if(nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],yi=Bt.length,gr=gr!==0?gr:jh,us=0;us<yi;us++){ba=us===0?Ll(xe):-XA,Ba=us===0?kl(Z):0;var Lh=Bt[us].split(" ").length-1,Uh=Lh>0?(gr-Ga[us])/Lh:0;us<yi-1?Ic.push(I(E(Uh))):Ic.push(0),R.push([Bt[us],Ba,ba])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:Nt)===!0&&(R=KA(R,function(on,bn,fs){return[on.split("").reverse().join(""),bn,fs]})),ft={text:R,x:Z,y:xe,options:Ie,mutex:{pdfEscape:At,activeFontKey:Oe,fonts:He,activeFontSize:Be}},Vt.publish("postProcessText",ft),R=ft.text,Bs=ft.mutex.isHex||!1;var Ph=He[Oe].encoding;Ph!=="WinAnsiEncoding"&&Ph!=="StandardEncoding"||(R=KA(R,function(on,bn,fs){return[Gp(on),bn,fs]})),Bt=wf(R),R=[];for(var Uc,Pc,Mc,ZA=Array.isArray(Bt[0])?1:0,Rc="",eu=function(on,bn,fs){var Ls="";return fs instanceof qt?(fs=typeof Ie.angle=="number"?As(fs,new qt(1,0,0,1,on,bn)):As(new qt(1,0,0,1,on,bn),fs),w===y&&(fs=As(new qt(1,0,0,-1,0,0),fs)),Ls=fs.join(" ")+` Tm
`):Ls=I(on)+" "+I(bn)+` Td
`,Ls},Va=0;Va<Bt.length;Va++){switch(Rc="",ZA){case 1:Mc=(Bs?"<":"(")+Bt[Va][0]+(Bs?">":")"),Uc=parseFloat(Bt[Va][1]),Pc=parseFloat(Bt[Va][2]);break;case 0:Mc=(Bs?"<":"(")+Bt[Va]+(Bs?">":")"),Uc=kl(Z),Pc=Ll(xe)}Ic!==void 0&&Ic[Va]!==void 0&&(Rc=Ic[Va]+` Tw
`),Va===0?R.push(Rc+eu(Uc,Pc,bs)+Mc):ZA===0?R.push(Rc+Mc):ZA===1&&R.push(Rc+eu(Uc,Pc,bs)+Mc)}R=ZA===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var tl=`BT
/`;return tl+=Oe+" "+Be+` Tf
`,tl+=I(Be*za)+` TL
`,tl+=QA+`
`,tl+=ni,tl+=R,oe(tl+="ET"),d[Oe]=!0,En};var Fc=h.__private__.clip=h.clip=function(R){return oe(R==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Fc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return oe("n"),this};var ri=h.__private__.isValidStyle=function(R){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(Z=!0),Z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(R){return ri(R)&&(u=R),this};var Ur=h.__private__.getStyle=h.getStyle=function(R){var Z=u;switch(R){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=R}return Z},an=h.close=function(){return oe("h"),this};h.stroke=function(){return oe("S"),this},h.fill=function(R){return Tn("f",R),this},h.fillEvenOdd=function(R){return Tn("f*",R),this},h.fillStroke=function(R){return Tn("B",R),this},h.fillStrokeEvenOdd=function(R){return Tn("B*",R),this};var Tn=function(R,Z){pn(Z)==="object"?Yo(Z,R):oe(R)},In=function(R){R===null||w===y&&R===void 0||(R=Ur(R),oe(R))};function vi(R,Z,xe,Ie,qe){var ft=new cd(Z||this.boundingBox,xe||this.xStep,Ie||this.yStep,this.gState,qe||this.matrix);ft.stream=this.stream;var Bt=R+"$$"+this.cloneIndex+++"$$";return Lr(Bt,ft),ft}var Yo=function(R,Z){var xe=Ye[R.key],Ie=nt[xe];if(Ie instanceof hu)oe("q"),oe(Qi(Z)),Ie.gState&&h.setGState(Ie.gState),oe(R.matrix.toString()+" cm"),oe("/"+xe+" sh"),oe("Q");else if(Ie instanceof cd){var qe=new qt(1,0,0,-1,0,qA());R.matrix&&(qe=qe.multiply(R.matrix||Kr),xe=vi.call(Ie,R.key,R.boundingBox,R.xStep,R.yStep,qe).id),oe("q"),oe("/Pattern cs"),oe("/"+xe+" scn"),Ie.gState&&h.setGState(Ie.gState),oe(Z),oe("Q")}},Qi=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jc=h.moveTo=function(R,Z){return oe(I(E(R))+" "+I(U(Z))+" m"),this},Xo=h.lineTo=function(R,Z){return oe(I(E(R))+" "+I(U(Z))+" l"),this},vo=h.curveTo=function(R,Z,xe,Ie,qe,ft){return oe([I(E(R)),I(U(Z)),I(E(xe)),I(U(Ie)),I(E(qe)),I(U(ft)),"c"].join(" ")),this};h.__private__.line=h.line=function(R,Z,xe,Ie,qe){if(isNaN(R)||isNaN(Z)||isNaN(xe)||isNaN(Ie)||!ri(qe))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[xe-R,Ie-Z]],R,Z,[1,1],qe||"S"):this.lines([[xe-R,Ie-Z]],R,Z,[1,1]).stroke()},h.__private__.lines=h.lines=function(R,Z,xe,Ie,qe,ft){var Bt,Yt,nr,pr,gr,tn,qn,bs,En,ks,Bs,ni;if(typeof R=="number"&&(ni=xe,xe=Z,Z=R,R=ni),Ie=Ie||[1,1],ft=ft||!1,isNaN(Z)||isNaN(xe)||!Array.isArray(R)||!Array.isArray(Ie)||!ri(qe)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jc(Z,xe),Bt=Ie[0],Yt=Ie[1],pr=R.length,ks=Z,Bs=xe,nr=0;nr<pr;nr++)(gr=R[nr]).length===2?(ks=gr[0]*Bt+ks,Bs=gr[1]*Yt+Bs,Xo(ks,Bs)):(tn=gr[0]*Bt+ks,qn=gr[1]*Yt+Bs,bs=gr[2]*Bt+ks,En=gr[3]*Yt+Bs,ks=gr[4]*Bt+ks,Bs=gr[5]*Yt+Bs,vo(tn,qn,bs,En,ks,Bs));return ft&&an(),In(qe),this},h.path=function(R){for(var Z=0;Z<R.length;Z++){var xe=R[Z],Ie=xe.c;switch(xe.op){case"m":jc(Ie[0],Ie[1]);break;case"l":Xo(Ie[0],Ie[1]);break;case"c":vo.apply(this,Ie);break;case"h":an()}}return this},h.__private__.rect=h.rect=function(R,Z,xe,Ie,qe){if(isNaN(R)||isNaN(Z)||isNaN(xe)||isNaN(Ie)||!ri(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(Ie=-Ie),oe([I(E(R)),I(U(Z)),I(E(xe)),I(E(Ie)),"re"].join(" ")),In(qe),this},h.__private__.triangle=h.triangle=function(R,Z,xe,Ie,qe,ft,Bt){if(isNaN(R)||isNaN(Z)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||isNaN(ft)||!ri(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-R,Ie-Z],[qe-xe,ft-Ie],[R-qe,Z-ft]],R,Z,[1,1],Bt,!0),this},h.__private__.roundedRect=h.roundedRect=function(R,Z,xe,Ie,qe,ft,Bt){if(isNaN(R)||isNaN(Z)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||isNaN(ft)||!ri(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Yt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*xe),ft=Math.min(ft,.5*Ie),this.lines([[xe-2*qe,0],[qe*Yt,0,qe,ft-ft*Yt,qe,ft],[0,Ie-2*ft],[0,ft*Yt,-qe*Yt,ft,-qe,ft],[2*qe-xe,0],[-qe*Yt,0,-qe,-ft*Yt,-qe,-ft],[0,2*ft-Ie],[0,-ft*Yt,qe*Yt,-ft,qe,-ft]],R+qe,Z,[1,1],Bt,!0),this},h.__private__.ellipse=h.ellipse=function(R,Z,xe,Ie,qe){if(isNaN(R)||isNaN(Z)||isNaN(xe)||isNaN(Ie)||!ri(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*xe,Bt=4/3*(Math.SQRT2-1)*Ie;return jc(R+xe,Z),vo(R+xe,Z-Bt,R+ft,Z-Ie,R,Z-Ie),vo(R-ft,Z-Ie,R-xe,Z-Bt,R-xe,Z),vo(R-xe,Z+Bt,R-ft,Z+Ie,R,Z+Ie),vo(R+ft,Z+Ie,R+xe,Z+Bt,R+xe,Z),In(qe),this},h.__private__.circle=h.circle=function(R,Z,xe,Ie){if(isNaN(R)||isNaN(Z)||isNaN(xe)||!ri(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,Z,xe,xe,Ie)},h.setFont=function(R,Z,xe){return xe&&(Z=j(Z,xe)),Oe=br(R,Z,{disableWarning:!1}),this};var hf=h.__private__.getFont=h.getFont=function(){return He[br.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var R,Z,xe={};for(R in tt)if(tt.hasOwnProperty(R))for(Z in xe[R]=[],tt[R])tt[R].hasOwnProperty(Z)&&xe[R].push(Z);return xe},h.addFont=function(R,Z,xe,Ie,qe){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(xe=j(xe,Ie)),Mt.call(this,R,Z,xe,qe=qe||"Identity-H")};var Jo,mt=e.lineWidth||.200025,Je=h.__private__.getLineWidth=h.getLineWidth=function(){return mt},ia=h.__private__.setLineWidth=h.setLineWidth=function(R){return mt=R,oe(I(E(R))+" w"),this};h.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(R,Z){if(R=R||[],Z=Z||0,isNaN(Z)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(xe){return I(E(xe))}).join(" "),Z=I(E(Z)),oe("["+R+"] "+Z+" d"),this};var mf=h.__private__.getLineHeight=h.getLineHeight=function(){return Be*Jo};h.__private__.getLineHeight=h.getLineHeight=function(){return Be*Jo};var bh=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Jo=R),this},pf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Jo};bh(e.lineHeight);var kl=h.__private__.getHorizontalCoordinate=function(R){return E(R)},Ll=h.__private__.getVerticalCoordinate=function(R){return w===y?R:Ct[P].mediaBox.topRightY-Ct[P].mediaBox.bottomLeftY-E(R)},Cy=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(R){return I(kl(R))},Ey=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(R){return I(Ll(R))},gf=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ce(gf)},h.__private__.setStrokeColor=h.setDrawColor=function(R,Z,xe,Ie){return gf=Ae({ch1:R,ch2:Z,ch3:xe,ch4:Ie,pdfColorType:"draw",precision:2}),oe(gf),this};var Bh=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ce(Bh)},h.__private__.setFillColor=h.setFillColor=function(R,Z,xe,Ie){return Bh=Ae({ch1:R,ch2:Z,ch3:xe,ch4:Ie,pdfColorType:"fill",precision:2}),oe(Bh),this};var QA=e.textColor||"0 g",xf=h.__private__.getTextColor=h.getTextColor=function(){return ce(QA)};h.__private__.setTextColor=h.setTextColor=function(R,Z,xe,Ie){return QA=Ae({ch1:R,ch2:Z,ch3:xe,ch4:Ie,pdfColorType:"text",precision:3}),this};var vf=e.charSpace,Sy=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vf||0)};h.__private__.setCharSpace=h.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vf=R,this};var Nh=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(R){var Z=h.CapJoinStyles[R];if(Z===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nh=Z,oe(Z+" J"),this};var _h=0;h.__private__.setLineJoin=h.setLineJoin=function(R){var Z=h.CapJoinStyles[R];if(Z===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _h=Z,oe(Z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(I(E(R))+" M"),this},h.GState=k2,h.setGState=function(R){(R=typeof R=="string"?Ke[Lt[R]]:DA(null,R)).equals(Et)||(oe("/"+R.id+" gs"),Et=R)};var DA=function(R,Z){if(!R||!Lt[R]){var xe=!1;for(var Ie in Ke)if(Ke.hasOwnProperty(Ie)&&Ke[Ie].equals(Z)){xe=!0;break}if(xe)Z=Ke[Ie];else{var qe="GS"+(Object.keys(Ke).length+1).toString(10);Ke[qe]=Z,Z.id=qe}return R&&(Lt[R]=Z.id),Vt.publish("addGState",Z),Z}};h.addGState=function(R,Z){return DA(R,Z),this},h.saveGraphicsState=function(){return oe("q"),xt.push({key:Oe,size:Be,color:QA}),this},h.restoreGraphicsState=function(){oe("Q");var R=xt.pop();return Oe=R.key,Be=R.size,QA=R.color,Et=null,this},h.setCurrentTransformationMatrix=function(R){return oe(R.toString()+" cm"),this},h.comment=function(R){return oe("#"+R),this};var HA=function(R,Z){var xe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(ft){isNaN(ft)||(xe=parseFloat(ft))}});var Ie=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ft){isNaN(ft)||(Ie=parseFloat(ft))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(ft){qe=ft.toString()}}),this},Ch=function(R,Z,xe,Ie){HA.call(this,R,Z),this.type="rect";var qe=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(Bt){isNaN(Bt)||(qe=parseFloat(Bt))}});var ft=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(Bt){isNaN(Bt)||(ft=parseFloat(Bt))}}),this},yf=function(){this.page=Ut,this.currentPage=P,this.pages=Ce.slice(0),this.pagesContext=Ct.slice(0),this.x=Fe,this.y=lt,this.matrix=We,this.width=Hp(P),this.height=Ul(P),this.outputDestination=Me,this.id="",this.objectNumber=-1};yf.prototype.restore=function(){Ut=this.page,P=this.currentPage,Ct=this.pagesContext,Ce=this.pages,Fe=this.x,lt=this.y,We=this.matrix,$p(P,this.width),Pl(P,this.height),Me=this.outputDestination};var Eh=function(R,Z,xe,Ie,qe){Rn.push(new yf),Ut=P=0,Ce=[],Fe=R,lt=Z,We=qe,Rt([xe,Ie])};for(var $A in h.beginFormObject=function(R,Z,xe,Ie,qe){return Eh(R,Z,xe,Ie,qe),this},h.endFormObject=function(R){return function(Z){if(Mn[Z])Rn.pop().restore();else{var xe=new yf,Ie="Xo"+(Object.keys(Vr).length+1).toString(10);xe.id=Ie,Mn[Z]=Ie,Vr[Ie]=xe,Vt.publish("addFormObject",xe),Rn.pop().restore()}}(R),this},h.doFormObject=function(R,Z){var xe=Vr[Mn[R]];return oe("q"),oe(Z.toString()+" cm"),oe("/"+xe.id+" Do"),oe("Q"),this},h.getFormObject=function(R){var Z=Vr[Mn[R]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},h.save=function(R,Z){return R=R||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Au(Wr(Tr()),R),typeof Au.unload=="function"&&mr.setTimeout&&setTimeout(Au.unload,911),this):new Promise(function(xe,Ie){try{var qe=Au(Wr(Tr()),R);typeof Au.unload=="function"&&mr.setTimeout&&setTimeout(Au.unload,911),xe(qe)}catch(ft){Ie(ft.message)}})},sr.API)sr.API.hasOwnProperty($A)&&($A==="events"&&sr.API.events.length?function(R,Z){var xe,Ie,qe;for(qe=Z.length-1;qe!==-1;qe--)xe=Z[qe][0],Ie=Z[qe][1],R.subscribe.apply(R,[xe].concat(typeof Ie=="function"?[Ie]:Ie))}(Vt,sr.API.events):h[$A]=sr.API[$A]);function Hp(R){return Ct[R].mediaBox.topRightX-Ct[R].mediaBox.bottomLeftX}function $p(R,Z){Ct[R].mediaBox.topRightX=Z+Ct[R].mediaBox.bottomLeftX}function Ul(R){return Ct[R].mediaBox.topRightY-Ct[R].mediaBox.bottomLeftY}function Pl(R,Z){Ct[R].mediaBox.topRightY=Z+Ct[R].mediaBox.bottomLeftY}var qp=h.getPageWidth=function(R){return Hp(R=R||P)/Se},Kp=h.setPageWidth=function(R,Z){$p(R,Z*Se)},qA=h.getPageHeight=function(R){return Ul(R=R||P)/Se},zp=h.setPageHeight=function(R,Z){Pl(R,Z*Se)};return h.internal={pdfEscape:At,getStyle:Ur,getFont:hf,getFontSize:rt,getCharSpace:Sy,getTextColor:xf,getLineHeight:mf,getLineHeightFactor:pf,getLineWidth:Je,write:ze,getHorizontalCoordinate:kl,getVerticalCoordinate:Ll,getCoordinateString:Cy,getVerticalCoordinateString:Ey,collections:{},newObject:jr,newAdditionalObject:he,newObjectDeferred:Sr,newObjectDeferredBegin:ne,getFilters:_e,putStream:Pe,events:Vt,scaleFactor:Se,pageSize:{getWidth:function(){return qp(P)},setWidth:function(R){Kp(P,R)},getHeight:function(){return qA(P)},setHeight:function(R){zp(P,R)}},encryptionOptions:A,encryption:Rr,getEncryptor:function(R){return A!==null?Rr.encryptor(R,0):function(Z){return Z}},output:Hr,getNumberOfPages:hr,pages:Ce,out:oe,f2:N,f3:k,getPageInfo:Yn,getPageInfoByObjId:sa,getCurrentPageInfo:Wo,getPDFVersion:p,Point:HA,Rectangle:Ch,Matrix:qt,hasHotfix:ws},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return qp(P)},set:function(R){Kp(P,R)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return qA(P)},set:function(R){zp(P,R)},enumerable:!0,configurable:!0}),(function(R){for(var Z=0,xe=be.length;Z<xe;Z++){var Ie=Mt.call(this,R[Z][0],R[Z][1],R[Z][2],be[Z][3],!0);f===!1&&(d[Ie]=!0);var qe=R[Z][0].split("-");It({id:Ie,fontName:qe[0],fontStyle:qe[1]||""})}Vt.publish("addFonts",{fonts:He,dictionary:tt})}).call(h,be),Oe="F1",lr(s,r),Vt.publish("initialized"),h}ed.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ed.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ed.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ed.prototype.processOwnerPassword=function(e,t){return VC(GC(t).substr(0,5),e)},ed.prototype.encryptor=function(e,t){var r=GC(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return VC(r,n)}},k2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},sr.API={events:[]},sr.version="3.0.3";var ts=sr.API,X6=1,df=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(e){return e.toFixed(2)},Jc=function(e){return e.toFixed(5)};ts.__acroform__={};var wa=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},NR=function(e){return e*X6},cl=function(e){var t=new JW,r=Wt.internal.getHeight(e)||0,n=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xr(n)),Number(xr(r))],t},vke=ts.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},yke=ts.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},wke=ts.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},gs=ts.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wke(e,t-1)},xs=ts.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vke(e,t-1)},vs=ts.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return yke(e,t-1)},bke=ts.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],o=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(xr(c.lowerLeft_X)),Number(xr(c.lowerLeft_Y)),Number(xr(c.upperRight_X)),Number(xr(c.upperRight_Y))]},Bke=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=WC(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+xr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=cl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},WC=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var i=r,a=Wt.internal.getHeight(e)||0;a=a<0?-a:a;var o=Wt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(N,k,E){if(N+1<s.length){var U=k+" "+s[N+1][0];return E1(U,e,E).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,A,f=E1("3",e,i).height,d=e.multiline?a-i:(a-f)/2,h=d+=2,g=0,p=0,m=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+E1(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",v=0,y=0;y<s.length;y++)if(s.hasOwnProperty(y)){var w=!1;if(s[y].length!==1&&m!==s[y].length-1){if((f+2)*(v+2)+2>a)continue e;x+=s[y][m],w=!0,p=y,y--}else{x=(x+=s[y][m]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(y),T=c(S,x,i),j=y>=s.length-1;if(T&&!j){x+=" ",m=0;continue}if(T||j){if(j)p=S;else if(e.multiline&&(f+2)*(v+2)+2>a)continue e}else{if(!e.multiline||(f+2)*(v+2)+2>a)continue e;p=S}}for(var I="",B=g;B<=p;B++){var C=s[B];if(e.multiline){if(B===p){I+=C[m]+" ",m=(m+1)%C.length;continue}if(B===g){I+=C[C.length-1]+" ";continue}}I+=C[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,A=E1(I,e,i).width,e.textAlign){case"right":u=o-A-2;break;case"center":u=(o-A)/2;break;default:u=2}t+=xr(u)+" "+xr(h)+` Td
`,t+="("+df(I)+`) Tj
`,t+=-xr(u)+` 0 Td
`,h=-(i+2),A=0,g=w?p:p+1,v++,x=""}break}return n.text=t,n.fontSize=i,n},E1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Nke={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_ke=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Cke=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Go.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Nke)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X6=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ZW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&_ke(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=bke(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Wt.createDefaultAppearanceStream(o),pn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=Bke(o);c.push({key:"AP",value:"<</N "+A+">>"}),s.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var h=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var g=h[a];typeof g=="function"&&(g=g.call(s,o)),f+="/"+a+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(s,o)),f+="/"+a+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&function(p,m){for(var x in p)if(p.hasOwnProperty(x)){var v=x,y=p[x];m.internal.newObjectDeferredBegin(y.objId,!0),pn(y)==="object"&&typeof y.putStream=="function"&&y.putStream(),delete p[v]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},XW=ts.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),pn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+df(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},UN=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+df(n(e))+")"},xl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xl.prototype.toString=function(){return this.objId+" 0 R"},xl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},xl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:XW(s,this.objId,this.scope)}):s instanceof xl?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var JW=function(){xl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};wa(JW,xl);var ZW=function(){xl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+df(r(e))+")"}},set:function(r){e=r}})};wa(ZW,xl);var Go=function e(){xl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gs(t,3)},set:function(x){x?this.F=xs(t,3):this.F=vs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof L2)return;i="FieldObject"+e.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+df(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/X6:u},set:function(x){u=x}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof L2||this instanceof ju))return UN(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof zs==0?UN(d,this.objId,this.scope):d},set:function(x){x=x.toString(),d=this instanceof zs==0?x.substr(0,1)==="("?Vf(x.substr(1,x.length-2)):Vf(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?Vf(d.substr(1,d.length-1)):d},set:function(x){x=x.toString(),d=this instanceof zs==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof zs==0?UN(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof zs==0?x.substr(0,1)==="("?Vf(x.substr(1,x.length-2)):Vf(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?Vf(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof zs==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){x=!!x,p=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,1)},set:function(x){x?this.Ff=xs(this.Ff,1):this.Ff=vs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,2)},set:function(x){x?this.Ff=xs(this.Ff,2):this.Ff=vs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,3)},set:function(x){x?this.Ff=xs(this.Ff,3):this.Ff=vs(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');m=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(m){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};wa(Go,xl);var bd=function(){Go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XW(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,o){o||(o=1);for(var c,u=[];c=a.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,18)},set:function(r){r?this.Ff=xs(this.Ff,18):this.Ff=vs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=xs(this.Ff,19):this.Ff=vs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,20)},set:function(r){r?(this.Ff=xs(this.Ff,20),t.sort()):this.Ff=vs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,22)},set:function(r){r?this.Ff=xs(this.Ff,22):this.Ff=vs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,23)},set:function(r){r?this.Ff=xs(this.Ff,23):this.Ff=vs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,27)},set:function(r){r?this.Ff=xs(this.Ff,27):this.Ff=vs(this.Ff,27)}}),this.hasAppearanceStream=!1};wa(bd,Go);var Bd=function(){bd.call(this),this.fontName="helvetica",this.combo=!1};wa(Bd,bd);var Nd=function(){Bd.call(this),this.combo=!0};wa(Nd,Bd);var nx=function(){Nd.call(this),this.edit=!0};wa(nx,Nd);var zs=function(){Go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,15)},set:function(r){r?this.Ff=xs(this.Ff,15):this.Ff=vs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,16)},set:function(r){r?this.Ff=xs(this.Ff,16):this.Ff=vs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,17)},set:function(r){r?this.Ff=xs(this.Ff,17):this.Ff=vs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,26)},set:function(r){r?this.Ff=xs(this.Ff,26):this.Ff=vs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+df(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){pn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};wa(zs,Go);var sx=function(){zs.call(this),this.pushButton=!0};wa(sx,zs);var _d=function(){zs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};wa(_d,zs);var L2=function(){var e,t;Go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+df(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){pn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wa(L2,Go),_d.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},_d.prototype.createOption=function(e){var t=new L2;return t.Parent=this,t.optionName=e,this.Kids.push(t),Eke.call(this.scope,t),t};var ix=function(){zs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};wa(ix,zs);var ju=function(){Go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,13)},set:function(t){t?this.Ff=xs(this.Ff,13):this.Ff=vs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,21)},set:function(t){t?this.Ff=xs(this.Ff,21):this.Ff=vs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,23)},set:function(t){t?this.Ff=xs(this.Ff,23):this.Ff=vs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,24)},set:function(t){t?this.Ff=xs(this.Ff,24):this.Ff=vs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,25)},set:function(t){t?this.Ff=xs(this.Ff,25):this.Ff=vs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,26)},set:function(t){t?this.Ff=xs(this.Ff,26):this.Ff=vs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wa(ju,Go);var ax=function(){ju.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,14)},set:function(e){e?this.Ff=xs(this.Ff,14):this.Ff=vs(this.Ff,14)}}),this.password=!0};wa(ax,ju);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=WC(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xr(Wt.internal.getWidth(e))+" "+xr(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Wt.internal.getHeight(e),a=Wt.internal.getWidth(e),o=WC(e,e.caption);return s.push("1 g"),s.push("0 0 "+xr(a)+" "+xr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+xr(a-1)+" "+xr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+xr(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Wt.internal.getWidth(e))+" "+xr(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Wt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jc(Wt.internal.getWidth(e)/2)+" "+Jc(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Wt.internal.Bezier_C).toFixed(5)),a=Number((n*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jc(Wt.internal.getWidth(e)/2)+" "+Jc(Wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jc(Wt.internal.getWidth(e)/2)+" "+Jc(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jc(Wt.internal.getWidth(e)/2)+" "+Jc(Wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xr(Wt.internal.getWidth(e)-2)+" "+xr(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(n.x1.x)+" "+xr(n.x1.y)+" m"),r.push(xr(n.x2.x)+" "+xr(n.x2.y)+" l"),r.push(xr(n.x4.x)+" "+xr(n.x4.y)+" m"),r.push(xr(n.x3.x)+" "+xr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=Wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+xr(Wt.internal.getWidth(e))+" "+xr(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xr(Wt.internal.getWidth(e)-2)+" "+xr(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),n.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),n.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),n.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Wt.internal.getWidth(e))+" "+xr(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),r=Wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Wt.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=NR(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=NR(e.Rect[3])),t};var Eke=ts.addField=function(e){if(Cke(this,e),!(e instanceof Go))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ts.AcroFormChoiceField=bd,ts.AcroFormListBox=Bd,ts.AcroFormComboBox=Nd,ts.AcroFormEditBox=nx,ts.AcroFormButton=zs,ts.AcroFormPushButton=sx,ts.AcroFormRadioButton=_d,ts.AcroFormCheckBox=ix,ts.AcroFormTextField=ju,ts.AcroFormPasswordField=ax,ts.AcroFormAppearance=Wt,ts.AcroForm={ChoiceField:bd,ListBox:Bd,ComboBox:Nd,EditBox:nx,Button:zs,PushButton:sx,RadioButton:_d,CheckBox:ix,TextField:ju,PasswordField:ax,Appearance:Wt},sr.AcroForm={ChoiceField:bd,ListBox:Bd,ComboBox:Nd,EditBox:nx,Button:zs,PushButton:sx,RadioButton:_d,CheckBox:ix,TextField:ju,PasswordField:ax,Appearance:Wt};sr.AcroForm;function eY(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(N,k){var E,U,D,M,Q,K=r;if((k=k||r)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(T(N))for(Q in n)for(D=n[Q],E=0;E<D.length;E+=1){for(M=!0,U=0;U<D[E].length;U+=1)if(D[E][U]!==void 0&&D[E][U]!==N[U]){M=!1;break}if(M===!0){K=Q;break}}else for(Q in n)for(D=n[Q],E=0;E<D.length;E+=1){for(M=!0,U=0;U<D[E].length;U+=1)if(D[E][U]!==void 0&&D[E][U]!==N.charCodeAt(U)){M=!1;break}if(M===!0){K=Q;break}}return K===r&&k!==r&&(K=k),K},i=function N(k){for(var E=this.internal.write,U=this.internal.putStream,D=(0,this.internal.getFilters)();D.indexOf("FlateEncode")!==-1;)D.splice(D.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var M=[];if(M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Image"}),M.push({key:"Width",value:k.width}),M.push({key:"Height",value:k.height}),k.colorSpace===x.INDEXED?M.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(M.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===x.DEVICE_CMYK&&M.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),M.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&M.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var Q="",K=0,O=k.transparency.length;K<O;K++)Q+=k.transparency[K]+" "+k.transparency[K]+" ";M.push({key:"Mask",value:"["+Q+"]"})}k.sMask!==void 0&&M.push({key:"SMask",value:k.objectId+1+" 0 R"});var z=k.filter!==void 0?["/"+k.filter]:void 0;if(U({data:k.data,additionalKeyValues:M,alreadyAppliedFilters:z,objectId:k.objectId}),E("endobj"),"sMask"in k&&k.sMask!==void 0){var G,F=(G=k.sMaskBitsPerComponent)!==null&&G!==void 0?G:k.bitsPerComponent,P={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:k.sMask};"filter"in k&&(P.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(k.width),P.filter=k.filter),N.call(this,P)}if(k.colorSpace===x.INDEXED){var L=this.internal.newObject();U({data:I(new Uint8Array(k.palette)),objectId:L}),E("endobj")}},a=function(){var N=this.internal.collections[t+"images"];for(var k in N)i.call(this,N[k])},o=function(){var N,k=this.internal.collections[t+"images"],E=this.internal.write;for(var U in k)E("/I"+(N=k[U]).index,N.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var N=this.internal.collections[t+"images"];return c.call(this),N},A=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(N){return typeof e["process"+N.toUpperCase()]=="function"},d=function(N){return pn(N)==="object"&&N.nodeType===1},h=function(N,k){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var E=""+N.getAttribute("src");if(E.indexOf("data:image/")===0)return rx(unescape(E).split("base64,").pop());var U=e.loadFile(E,!0);if(U!==void 0)return U}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var D;switch(k){case"PNG":D="image/png";break;case"WEBP":D="image/webp";break;default:D="image/jpeg"}return rx(N.toDataURL(D,1).split("base64,").pop())}},g=function(N){var k=this.internal.collections[t+"images"];if(k){for(var E in k)if(N===k[E].alias)return k[E]}},p=function(N,k,E){return N||k||(N=-96,k=-96),N<0&&(N=-1*E.width*72/N/this.internal.scaleFactor),k<0&&(k=-1*E.height*72/k/this.internal.scaleFactor),N===0&&(N=k*E.width/E.height),k===0&&(k=N*E.height/E.width),[N,k]},m=function(N,k,E,U,D,M){var Q=p.call(this,E,U,D),K=this.internal.getCoordinateString,O=this.internal.getVerticalCoordinateString,z=u.call(this);if(E=Q[0],U=Q[1],z[D.index]=D,M){M*=Math.PI/180;var G=Math.cos(M),F=Math.sin(M),P=function(q){return q.toFixed(4)},L=[P(G),P(F),P(-1*F),P(G),0,0,"cm"]}this.internal.write("q"),M?(this.internal.write([1,"0","0",1,K(N),O(k+U),"cm"].join(" ")),this.internal.write(L.join(" ")),this.internal.write([K(E),"0","0",K(U),"0","0","cm"].join(" "))):this.internal.write([K(E),"0","0",K(U),K(N),O(k+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+D.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(N){var k,E,U=0;if(typeof N=="string")for(E=N.length,k=0;k<E;k++)U=(U<<5)-U+N.charCodeAt(k),U|=0;else if(T(N))for(E=N.byteLength/2,k=0;k<E;k++)U=(U<<5)-U+N[k],U|=0;return U},w=e.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var k=!0;return N.length===0&&(k=!1),N.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(k=!1),k},S=e.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var k=N.indexOf(",");return k<0?null:N.substring(0,k).trim().endsWith("base64")?N.substring(k+1):null};e.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(N){for(var k=N.length,E=new Uint8Array(k),U=0;U<k;U++)E[U]=N.charCodeAt(U);return E},I=e.__addimage__.arrayBufferToBinaryString=function(N){for(var k="",E=T(N)?N:new Uint8Array(N),U=0;U<E.length;U+=8192)k+=String.fromCharCode.apply(null,E.subarray(U,U+8192));return k};e.addImage=function(){var N,k,E,U,D,M,Q,K,O;if(typeof arguments[1]=="number"?(k=r,E=arguments[1],U=arguments[2],D=arguments[3],M=arguments[4],Q=arguments[5],K=arguments[6],O=arguments[7]):(k=arguments[1],E=arguments[2],U=arguments[3],D=arguments[4],M=arguments[5],Q=arguments[6],K=arguments[7],O=arguments[8]),pn(N=arguments[0])==="object"&&!d(N)&&"imageData"in N){var z=N;N=z.imageData,k=z.format||k||r,E=z.x||E||0,U=z.y||U||0,D=z.w||z.width||D,M=z.h||z.height||M,Q=z.alias||Q,K=z.compression||K,O=z.rotation||z.angle||O}var G=this.internal.getFilters();if(K===void 0&&G.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(E)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=B.call(this,N,k,Q,K);return m.call(this,E,U,D,M,F,O),this};var B=function(N,k,E,U){var D,M,Q;if(typeof N=="string"&&s(N)===r){N=unescape(N);var K=C(N,!1);(K!==""||(K=e.loadFile(N,!0))!==void 0)&&(N=K)}if(d(N)&&(N=h(N,k)),k=s(N,k),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((Q=E)==null||Q.length===0)&&(E=function(O){return typeof O=="string"||T(O)?y(O):T(O.data)?y(O.data):null}(N)),(D=g.call(this,E))||(N instanceof Uint8Array||k==="RGBA"||(M=N,N=j(N)),D=this["process"+k.toUpperCase()](N,A.call(this),E,function(O){return O&&typeof O=="string"&&(O=O.toUpperCase()),O in e.image_compression?O:v.NONE}(U),M)),!D)throw new Error("An unknown error occurred whilst processing the image.");return D},C=e.__addimage__.convertBase64ToBinaryString=function(N,k){k=typeof k!="boolean"||k;var E,U="";if(typeof N=="string"){var D;E=(D=S(N))!==null&&D!==void 0?D:N;try{U=rx(E)}catch(M){if(k)throw w(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+M.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(N){var k,E,U="";if(d(N)&&(N=h(N)),typeof N=="string"&&s(N)===r&&((U=C(N,!1))===""&&(U=e.loadFile(N)||""),N=U),E=s(N),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(N instanceof Uint8Array||(N=j(N)),!(k=this["process"+E.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=E,k}})(sr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,A=!1,f=0;f<u.length&&!A;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(p.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(v))+") >>",p.content=i;var y=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var T=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var A=this.splitTextToSize(r,o).length;a=Math.ceil(u*A)}else o=c,a=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,o,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(sr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return a(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return a(p)&&s.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return a(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return a(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return a(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var A=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return a(p)&&i(p)&&t[p.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(p){var m=0,x=r,v="",y=0;for(m=0;m<p.length;m+=1)x[p.charCodeAt(m)]!==void 0?(y++,typeof(x=x[p.charCodeAt(m)])=="number"&&(v+=String.fromCharCode(x),x=r,y=0),m===p.length-1&&(x=r,v+=p.charAt(m-(y-1)),m-=y-1,y=0)):(x=r,v+=p.charAt(m-y),m-=y,y=0);return v};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var d=e.__arabicParser__.getCorrectForm=function(p,m,x){return a(p)?i(p)===!1?-1:!u(p)||!a(m)&&!a(x)||!a(x)&&o(m)||o(p)&&!a(m)||o(p)&&c(m)||o(p)&&o(m)?0:A(p)&&a(m)&&!o(m)&&a(x)&&u(x)?3:o(p)||!a(x)?1:2:-1},h=function(p){var m=0,x=0,v=0,y="",w="",S="",T=(p=p||"").split("\\s+"),j=[];for(m=0;m<T.length;m+=1){for(j.push(""),x=0;x<T[m].length;x+=1)y=T[m][x],w=T[m][x-1],S=T[m][x+1],a(y)?(v=d(y,w,S),j[m]+=v!==-1?String.fromCharCode(t[y.charCodeAt(0)][v]):y):j[m]+=y;j[m]=f(j[m])}return j.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(m)){var v=0;for(x=[],v=0;v<m.length;v+=1)Array.isArray(m[v])?x.push([h(m[v][0]),m[v][1],m[v][2]]):x.push([h(m[v])]);p=x}else p=h(m);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(sr.API),sr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(sr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,m=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,w){return y.concat(m.splitTextToSize(w,x))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)h<(p=this.getStringUnitWidth(c[v],{font:f})*A)&&(h=p);return h!==0&&(g=c.length),{w:h/=d,h:Math.max((g*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/d,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&d&&(this.printHeaderRow(c.lineNumber,!0),c.y+=d[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-A,c.y+A,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+A,{align:"center",baseline:"top",maxWidth:c.width-A-A}):this.text(c.text,c.x+A,c.y+A,{align:"left",baseline:"top",maxWidth:c.width-A-A})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,A,f,d){if(n.call(this),!A)throw new Error("No data for PDF table.");var h,g,p,m,x=[],v=[],y=[],w={},S={},T=[],j=[],I=(d=d||{}).autoSize||!1,B=d.printHeaders!==!1,C=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,N=d.margins||Object.assign({width:this.getPageWidth()},t),k=typeof d.padding=="number"?d.padding:3,E=d.headerBackgroundColor||"#c8c8c8",U=d.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=U,this.setFontSize(C),f==null)v=x=Object.keys(A[0]),y=x.map(function(){return"left"});else if(Array.isArray(f)&&pn(f[0])==="object")for(x=f.map(function(z){return z.name}),v=f.map(function(z){return z.prompt||z.name||""}),y=f.map(function(z){return z.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(v=x=f,y=x.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(w[m=x[h]]=A.map(function(z){return z[m]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[m],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)T.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[m]=Math.max.apply(null,T)+k+k,T=[]}if(B){var D={};for(h=0;h<x.length;h+=1)D[x[h]]={},D[x[h]].text=v[h],D[x[h]].align=y[h];var M=o.call(this,D,S);j=x.map(function(z){return new i(c,u,S[z],M,D[z].text,void 0,D[z].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var Q=f.reduce(function(z,G){return z[G.name]=G.align,z},{});for(h=0;h<A.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:A[h]},this);var K=o.call(this,A[h],S);for(p=0;p<x.length;p+=1){var O=A[h][x[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:p,data:O},this),a.call(this,new i(c,u,S[x[p]],K,O,h+2,Q[x[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var A=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-A-A)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+A+A},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){A=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,d.push(A)),A.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,A),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(sr.API);var tY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YC=eY(rY),nY=[100,200,300,400,500,600,700,800,900],Ske=eY(nY);function PN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return tY[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof YC[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function _R(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Fke={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},CR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ER(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function SR(e){return e.trimLeft()}function jke(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Tke(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var S1,FR,jR,Wf,F1,TR,IR,kR,MN=["times"];function LR(e,t,r,n,s){var i=4,a=PR;switch(s){case sr.API.image_compression.FAST:i=1,a=UR;break;case sr.API.image_compression.MEDIUM:i=6,a=MR;break;case sr.API.image_compression.SLOW:i=9,a=RR}e=function(c,u,A,f){for(var d,h=c.length/u,g=new Uint8Array(c.length+h),p=[Ike,UR,PR,MR,RR],m=0;m<h;m+=1){var x=m*u,v=c.subarray(x,x+u);if(f)g.set(f(v,A,d),x+m);else{for(var y=p.length,w=[],S=0;S<y;S+=1)w[S]=p[S](v,A,d);var T=Lke(w.concat());g.set(w[T],x+m)}d=v}return g}(e,t,Math.ceil(r*n/8),a);var o=$C(e,{level:i});return sr.API.__addimage__.arrayBufferToBinaryString(o)}function Ike(e){var t=Array.apply([],e);return t.unshift(0),t}function UR(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function PR(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=e[i]-a+256&255}return s}function MR(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=e[i-t]||0,o=r&&r[i]||0;s[i+1]=e[i]+256-(a+o>>>1)&255}return s}function RR(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=kke(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-a+256&255}return s}function kke(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function Lke(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function RN(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return sY(e,s)>>i&a}function OR(e,t,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),o=(1<<n)-1,c=(t&o)<<a;(function(u,A,f){if(A+1<u.byteLength)u.setUint16(A,f,!1);else{var d=f>>8&255;u.setUint8(A,d)}})(e,i,sY(e,i)&~(o<<a)&65535|c)}function sY(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Uke(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<1+(7&s);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=a,t+=3*a);var u=!0,A=[],f=0,d=null,h=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];f=e[t++]|e[t++]<<8,d=e[t++],1&p||(d=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++],S=w>>6&1,T=1<<1+(7&w),j=o,I=c,B=!1;w>>7&&(B=!0,j=t,I=T,t+=3*T);var C=t;for(t++;;){var N;if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}A.push({x:m,y:x,width:v,height:y,has_local_palette:B,palette_offset:j,palette_size:I,data_offset:C,data_length:t-C,transparent_index:d,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return g},this.frameInfo=function(k){if(k<0||k>=A.length)throw new Error("Frame index out of range.");return A[k]},this.decodeAndBlitFrameBGRA=function(k,E){var U=this.frameInfo(k),D=U.width*U.height,M=new Uint8Array(D);QR(e,U.data_offset,M,D);var Q=U.palette_offset,K=U.transparent_index;K===null&&(K=256);var O=U.width,z=r-O,G=O,F=4*(U.y*r+U.x),P=4*((U.y+U.height)*r+U.x),L=F,q=4*z;U.interlaced===!0&&(q+=4*r*7);for(var X=8,se=0,ae=M.length;se<ae;++se){var W=M[se];if(G===0&&(G=O,(L+=q)>=P&&(q=4*z+4*r*(X-1),L=F+(O+z)*(X<<1),X>>=1)),W===K)L+=4;else{var ee=e[Q+3*W],Ce=e[Q+3*W+1],ye=e[Q+3*W+2];E[L++]=ye,E[L++]=Ce,E[L++]=ee,E[L++]=255}--G}},this.decodeAndBlitFrameRGBA=function(k,E){var U=this.frameInfo(k),D=U.width*U.height,M=new Uint8Array(D);QR(e,U.data_offset,M,D);var Q=U.palette_offset,K=U.transparent_index;K===null&&(K=256);var O=U.width,z=r-O,G=O,F=4*(U.y*r+U.x),P=4*((U.y+U.height)*r+U.x),L=F,q=4*z;U.interlaced===!0&&(q+=4*r*7);for(var X=8,se=0,ae=M.length;se<ae;++se){var W=M[se];if(G===0&&(G=O,(L+=q)>=P&&(q=4*z+4*r*(X-1),L=F+(O+z)*(X<<1),X>>=1)),W===K)L+=4;else{var ee=e[Q+3*W],Ce=e[Q+3*W+1],ye=e[Q+3*W+2];E[L++]=ee,E[L++]=Ce,E[L++]=ye,E[L++]=255}--G}}}function QR(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,o=a+1,c=s+1,u=(1<<c)-1,A=0,f=0,d=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;A<16&&h!==0;)f|=e[t++]<<A,A+=8,h===1?h=e[t++]:--h;if(A<c)break;var m=f&u;if(f>>=c,A-=c,m!==i){if(m===a)break;for(var x=m<o?m:p,v=0,y=x;y>i;)y=g[y]>>8,++v;var w=y;if(d+v+(x!==m?1:0)>n)return void Nn.log("Warning, gif stream longer than expected.");r[d++]=w;var S=d+=v;for(x!==m&&(r[d++]=w),y=x;v--;)y=g[y],r[--S]=255&y,y>>=8;p!==null&&o<4096&&(g[o++]=p<<8|w,o>=u+1&&c<12&&(++c,u=u<<1|1)),p=m}else o=a+1,u=(1<<(c=s+1))-1,p=null}return d!==n&&Nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ON(e){var t,r,n,s,i,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),A=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),g=new Array(64),p=[],m=0,x=7,v=new Array(64),y=new Array(64),w=new Array(64),S=new Array(256),T=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(F,P){for(var L=0,q=0,X=new Array,se=1;se<=16;se++){for(var ae=1;ae<=F[se];ae++)X[P[q]]=[],X[P[q]][0]=L,X[P[q]][1]=se,q++,L++;L*=2}return X}function Q(F){for(var P=F[0],L=F[1]-1;L>=0;)P&1<<L&&(m|=1<<x),L--,--x<0&&(m==255?(K(255),K(0)):K(m),x=7,m=0)}function K(F){p.push(F)}function O(F){K(F>>8&255),K(255&F)}function z(F,P,L,q,X){for(var se,ae=X[0],W=X[240],ee=function(Be,et){var rt,Nt,me,$e,Re,Te,ve,it,Oe,Se,Fe=0;for(Oe=0;Oe<8;++Oe){rt=Be[Fe],Nt=Be[Fe+1],me=Be[Fe+2],$e=Be[Fe+3],Re=Be[Fe+4],Te=Be[Fe+5],ve=Be[Fe+6];var lt=rt+(it=Be[Fe+7]),We=rt-it,He=Nt+ve,tt=Nt-ve,xt=me+Te,nt=me-Te,Ye=$e+Re,Ke=$e-Re,Lt=lt+Ye,Et=lt-Ye,Ut=He+xt,Ct=He-xt;Be[Fe]=Lt+Ut,Be[Fe+4]=Lt-Ut;var Vt=.707106781*(Ct+Et);Be[Fe+2]=Et+Vt,Be[Fe+6]=Et-Vt;var $n=.382683433*((Lt=Ke+nt)-(Ct=tt+We)),Vr=.5411961*Lt+$n,Mn=1.306562965*Ct+$n,Rn=.707106781*(Ut=nt+tt),qt=We+Rn,As=We-Rn;Be[Fe+5]=As+Vr,Be[Fe+3]=As-Vr,Be[Fe+1]=qt+Mn,Be[Fe+7]=qt-Mn,Fe+=8}for(Fe=0,Oe=0;Oe<8;++Oe){rt=Be[Fe],Nt=Be[Fe+8],me=Be[Fe+16],$e=Be[Fe+24],Re=Be[Fe+32],Te=Be[Fe+40],ve=Be[Fe+48];var Kr=rt+(it=Be[Fe+56]),Lr=rt-it,zt=Nt+ve,jr=Nt-ve,Sr=me+Te,ne=me-Te,he=$e+Re,Y=$e-Re,J=Kr+he,ce=Kr-he,Ae=zt+Sr,_e=zt-Sr;Be[Fe]=J+Ae,Be[Fe+32]=J-Ae;var Pe=.707106781*(_e+ce);Be[Fe+16]=ce+Pe,Be[Fe+48]=ce-Pe;var Ne=.382683433*((J=Y+ne)-(_e=jr+Lr)),Ee=.5411961*J+Ne,Qe=1.306562965*_e+Ne,at=.707106781*(Ae=ne+jr),Le=Lr+at,ht=Lr-at;Be[Fe+40]=ht+Ee,Be[Fe+24]=ht-Ee,Be[Fe+8]=Le+Qe,Be[Fe+56]=Le-Qe,Fe++}for(Oe=0;Oe<64;++Oe)Se=Be[Oe]*et[Oe],h[Oe]=Se>0?Se+.5|0:Se-.5|0;return h}(F,P),Ce=0;Ce<64;++Ce)g[j[Ce]]=ee[Ce];var ye=g[0]-L;L=g[0],ye==0?Q(q[0]):(Q(q[d[se=32767+ye]]),Q(f[se]));for(var Me=63;Me>0&&g[Me]==0;)Me--;if(Me==0)return Q(ae),L;for(var we,oe=1;oe<=Me;){for(var ze=oe;g[oe]==0&&oe<=Me;)++oe;var de=oe-ze;if(de>=16){we=de>>4;for(var be=1;be<=we;++be)Q(W);de&=15}se=32767+g[oe],Q(X[(de<<4)+d[se]]),Q(f[se]),oe++}return Me!=63&&Q(ae),L}function G(F){F=Math.min(Math.max(F,1),100),i!=F&&(function(P){for(var L=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var X=a((L[q]*P+50)/100);X=Math.min(Math.max(X,1),255),o[j[q]]=X}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var W=a((se[ae]*P+50)/100);W=Math.min(Math.max(W,1),255),c[j[ae]]=W}for(var ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,ye=0;ye<8;ye++)for(var Me=0;Me<8;Me++)u[Ce]=1/(o[j[Ce]]*ee[ye]*ee[Me]*8),A[Ce]=1/(c[j[Ce]]*ee[ye]*ee[Me]*8),Ce++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),i=F)}this.encode=function(F,P){P&&G(P),p=new Array,m=0,x=7,O(65496),O(65504),O(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),O(1),O(1),K(0),K(0),function(){O(65499),O(132),K(0);for(var Nt=0;Nt<64;Nt++)K(o[Nt]);K(1);for(var me=0;me<64;me++)K(c[me])}(),function(Nt,me){O(65472),O(17),K(8),O(me),O(Nt),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(F.width,F.height),function(){O(65476),O(418),K(0);for(var Nt=0;Nt<16;Nt++)K(I[Nt+1]);for(var me=0;me<=11;me++)K(B[me]);K(16);for(var $e=0;$e<16;$e++)K(C[$e+1]);for(var Re=0;Re<=161;Re++)K(N[Re]);K(1);for(var Te=0;Te<16;Te++)K(k[Te+1]);for(var ve=0;ve<=11;ve++)K(E[ve]);K(17);for(var it=0;it<16;it++)K(U[it+1]);for(var Oe=0;Oe<=161;Oe++)K(D[Oe])}(),O(65498),O(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var L=0,q=0,X=0;m=0,x=7,this.encode.displayName="_encode_";for(var se,ae,W,ee,Ce,ye,Me,we,oe,ze=F.data,de=F.width,be=F.height,Be=4*de,et=0;et<be;){for(se=0;se<Be;){for(Ce=Be*et+se,Me=-1,we=0,oe=0;oe<64;oe++)ye=Ce+(we=oe>>3)*Be+(Me=4*(7&oe)),et+we>=be&&(ye-=Be*(et+1+we-be)),se+Me>=Be&&(ye-=se+Me-Be+4),ae=ze[ye++],W=ze[ye++],ee=ze[ye++],v[oe]=(T[ae]+T[W+256|0]+T[ee+512|0]>>16)-128,y[oe]=(T[ae+768|0]+T[W+1024|0]+T[ee+1280|0]>>16)-128,w[oe]=(T[ae+1280|0]+T[W+1536|0]+T[ee+1792|0]>>16)-128;L=z(v,u,L,t,n),q=z(y,A,q,r,s),X=z(w,A,X,r,s),se+=32}et+=8}if(x>=0){var rt=[];rt[1]=x+1,rt[0]=(1<<x+1)-1,Q(rt)}return O(65497),new Uint8Array(p)},e=e||50,function(){for(var F=String.fromCharCode,P=0;P<256;P++)S[P]=F(P)}(),t=M(I,B),r=M(k,E),n=M(C,N),s=M(U,D),function(){for(var F=1,P=2,L=1;L<=15;L++){for(var q=F;q<P;q++)d[32767+q]=L,f[32767+q]=[],f[32767+q][1]=L,f[32767+q][0]=q;for(var X=-(P-1);X<=-F;X++)d[32767+X]=L,f[32767+X]=[],f[32767+X][1]=L,f[32767+X][0]=P-1+X;F<<=1,P<<=1}}(),function(){for(var F=0;F<256;F++)T[F]=19595*F,T[F+256|0]=38470*F,T[F+512|0]=7471*F+32768,T[F+768|0]=-11059*F,T[F+1024|0]=-21709*F,T[F+1280|0]=32768*F+8421375,T[F+1536|0]=-27439*F,T[F+1792|0]=-5329*F}(),G(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _o(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DR(e){function t(B){if(!B)throw Error("assert :P")}function r(B,C,N){for(var k=0;4>k;k++)if(B[C+k]!=N.charCodeAt(k))return!0;return!1}function n(B,C,N,k,E){for(var U=0;U<E;U++)B[C+U]=N[k+U]}function s(B,C,N,k){for(var E=0;E<k;E++)B[C+E]=N}function i(B){return new Int32Array(B)}function a(B,C){for(var N=[],k=0;k<B;k++)N.push(new C);return N}function o(B,C){var N=[];return function k(E,U,D){for(var M=D[U],Q=0;Q<M&&(E.push(D.length>U+1?[]:new C),!(D.length<U+1));Q++)k(E[Q],U+1,D)}(N,0,B),N}var c=function(){var B=this;function C(b,_){for(var H=1<<_-1>>>0;b&H;)H>>>=1;return H?(b&H-1)+H:b}function N(b,_,H,V,te){t(!(V%H));do b[_+(V-=H)]=te;while(0<V)}function k(b,_,H,V,te){if(t(2328>=te),512>=te)var ie=i(512);else if((ie=i(te))==null)return 0;return function(le,ue,fe,pe,Ue,Ze){var ge,De,Ge=ue,ct=1<<fe,Xe=i(16),ut=i(16);for(t(Ue!=0),t(pe!=null),t(le!=null),t(0<fe),De=0;De<Ue;++De){if(15<pe[De])return 0;++Xe[pe[De]]}if(Xe[0]==Ue)return 0;for(ut[1]=0,ge=1;15>ge;++ge){if(Xe[ge]>1<<ge)return 0;ut[ge+1]=ut[ge]+Xe[ge]}for(De=0;De<Ue;++De)ge=pe[De],0<pe[De]&&(Ze[ut[ge]++]=De);if(ut[15]==1)return(pe=new E).g=0,pe.value=Ze[0],N(le,Ge,1,ct,pe),ct;var pt,_t=-1,bt=ct-1,ar=0,Gt=1,Nr=1,Zt=1<<fe;for(De=0,ge=1,Ue=2;ge<=fe;++ge,Ue<<=1){if(Gt+=Nr<<=1,0>(Nr-=Xe[ge]))return 0;for(;0<Xe[ge];--Xe[ge])(pe=new E).g=ge,pe.value=Ze[De++],N(le,Ge+ar,Ue,Zt,pe),ar=C(ar,ge)}for(ge=fe+1,Ue=2;15>=ge;++ge,Ue<<=1){if(Gt+=Nr<<=1,0>(Nr-=Xe[ge]))return 0;for(;0<Xe[ge];--Xe[ge]){if(pe=new E,(ar&bt)!=_t){for(Ge+=Zt,pt=1<<(_t=ge)-fe;15>_t&&!(0>=(pt-=Xe[_t]));)++_t,pt<<=1;ct+=Zt=1<<(pt=_t-fe),le[ue+(_t=ar&bt)].g=pt+fe,le[ue+_t].value=Ge-ue-_t}pe.g=ge-fe,pe.value=Ze[De++],N(le,Ge+(ar>>fe),Ue,Zt,pe),ar=C(ar,ge)}}return Gt!=2*ut[15]-1?0:ct}(b,_,H,V,te,ie)}function E(){this.value=this.g=0}function U(){this.value=this.g=0}function D(){this.G=a(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(JA,U)}function M(b,_,H,V){t(b!=null),t(_!=null),t(2147483648>V),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=H,b.Jd=_,b.Yc=H+V,b.Zc=4<=V?H+V-4+1:H,ae(b)}function Q(b,_){for(var H=0;0<_--;)H|=ee(b,128)<<_;return H}function K(b,_){var H=Q(b,_);return W(b)?-H:H}function O(b,_,H,V){var te,ie=0;for(t(b!=null),t(_!=null),t(4294967288>V),b.Sb=V,b.Ra=0,b.u=0,b.h=0,4<V&&(V=4),te=0;te<V;++te)ie+=_[H+te]<<8*te;b.Ra=ie,b.bb=V,b.oa=_,b.pa=H}function z(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<kc-8>>>0,++b.bb,b.u-=8;q(b)&&(b.h=1,b.u=0)}function G(b,_){if(t(0<=_),!b.h&&_<=Ba){var H=L(b)&ba[_];return b.u+=_,z(b),H}return b.h=1,b.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(b){return b.Ra>>>(b.u&kc-1)>>>0}function q(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>kc}function X(b,_){b.u=_,b.h=q(b)}function se(b){b.u>=Rl&&(t(b.u>=Rl),z(b))}function ae(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function W(b){return Q(b,1)}function ee(b,_){var H=b.Ca;0>b.b&&ae(b);var V=b.b,te=H*_>>>8,ie=(b.I>>>V>te)+0;for(ie?(H-=te,b.I-=te+1<<V>>>0):H=te+1,V=H,te=0;256<=V;)te+=8,V>>=8;return V=7^te+Lc[V],b.b-=V,b.Ca=(H<<V)-1,ie}function Ce(b,_,H){b[_+0]=H>>24&255,b[_+1]=H>>16&255,b[_+2]=H>>8&255,b[_+3]=255&H}function ye(b,_){return b[_+0]|b[_+1]<<8}function Me(b,_){return ye(b,_)|b[_+2]<<16}function we(b,_){return ye(b,_)|ye(b,_+2)<<16}function oe(b,_){var H=1<<_;return t(b!=null),t(0<_),b.X=i(H),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function ze(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),n(_.X,0,b.X,0,1<<_.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function be(b,_,H,V){t(H!=null),t(V!=null);var te=H[0],ie=V[0];return te==0&&(te=(b*ie+_/2)/_),ie==0&&(ie=(_*te+b/2)/b),0>=te||0>=ie?0:(H[0]=te,V[0]=ie,1)}function Be(b,_){return b+(1<<_)-1>>>_}function et(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function rt(b,_){B[_]=function(H,V,te,ie,le,ue,fe){var pe;for(pe=0;pe<le;++pe){var Ue=B[b](ue[fe+pe-1],te,ie+pe);ue[fe+pe]=et(H[V+pe],Ue)}}}function Nt(){this.ud=this.hd=this.jd=0}function me(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function $e(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Re(b,_){return $e(b+(b-_+.5>>1))}function Te(b,_,H){return Math.abs(_-H)-Math.abs(b-H)}function ve(b,_,H,V,te,ie,le){for(V=ie[le-1],H=0;H<te;++H)ie[le+H]=V=et(b[_+H],V)}function it(b,_,H,V,te){var ie;for(ie=0;ie<H;++ie){var le=b[_+ie],ue=le>>8&255,fe=16711935&(fe=(fe=16711935&le)+((ue<<16)+ue));V[te+ie]=(4278255360&le)+fe>>>0}}function Oe(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function Se(b,_,H,V,te,ie){var le;for(le=0;le<V;++le){var ue=_[H+le],fe=ue>>>8,pe=ue,Ue=255&(Ue=(Ue=ue>>>16)+((b.jd<<24>>24)*(fe<<24>>24)>>>5));pe=255&(pe=(pe+=(b.hd<<24>>24)*(fe<<24>>24)>>>5)+((b.ud<<24>>24)*(Ue<<24>>24)>>>5)),te[ie+le]=(4278255360&ue)+(Ue<<16)+pe}}function Fe(b,_,H,V,te){B[_]=function(ie,le,ue,fe,pe,Ue,Ze,ge,De){for(fe=Ze;fe<ge;++fe)for(Ze=0;Ze<De;++Ze)pe[Ue++]=te(ue[V(ie[le++])])},B[b]=function(ie,le,ue,fe,pe,Ue,Ze){var ge=8>>ie.b,De=ie.Ea,Ge=ie.K[0],ct=ie.w;if(8>ge)for(ie=(1<<ie.b)-1,ct=(1<<ge)-1;le<ue;++le){var Xe,ut=0;for(Xe=0;Xe<De;++Xe)Xe&ie||(ut=V(fe[pe++])),Ue[Ze++]=te(Ge[ut&ct]),ut>>=ge}else B["VP8LMapColor"+H](fe,pe,Ge,ct,Ue,Ze,le,ue,De)}}function lt(b,_,H,V,te){for(H=_+H;_<H;){var ie=b[_++];V[te++]=ie>>16&255,V[te++]=ie>>8&255,V[te++]=255&ie}}function We(b,_,H,V,te){for(H=_+H;_<H;){var ie=b[_++];V[te++]=ie>>16&255,V[te++]=ie>>8&255,V[te++]=255&ie,V[te++]=ie>>24&255}}function He(b,_,H,V,te){for(H=_+H;_<H;){var ie=(le=b[_++])>>16&240|le>>12&15,le=240&le|le>>28&15;V[te++]=ie,V[te++]=le}}function tt(b,_,H,V,te){for(H=_+H;_<H;){var ie=(le=b[_++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;V[te++]=ie,V[te++]=le}}function xt(b,_,H,V,te){for(H=_+H;_<H;){var ie=b[_++];V[te++]=255&ie,V[te++]=ie>>8&255,V[te++]=ie>>16&255}}function nt(b,_,H,V,te,ie){if(ie==0)for(H=_+H;_<H;)Ce(V,((ie=b[_++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),te+=32;else n(V,te,b,_,H)}function Ye(b,_){B[_][0]=B[b+"0"],B[_][1]=B[b+"1"],B[_][2]=B[b+"2"],B[_][3]=B[b+"3"],B[_][4]=B[b+"4"],B[_][5]=B[b+"5"],B[_][6]=B[b+"6"],B[_][7]=B[b+"7"],B[_][8]=B[b+"8"],B[_][9]=B[b+"9"],B[_][10]=B[b+"10"],B[_][11]=B[b+"11"],B[_][12]=B[b+"12"],B[_][13]=B[b+"13"],B[_][14]=B[b+"0"],B[_][15]=B[b+"0"]}function Ke(b){return b==Ty||b==Iy||b==rg||b==ky}function Lt(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lt,this.f.kb=new Et,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $n(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Vr(b,_){var H=b.T,V=_.ba.f.RGBA,te=V.eb,ie=V.fb+b.ka*V.A,le=Ya[_.ba.S],ue=b.y,fe=b.O,pe=b.f,Ue=b.N,Ze=b.ea,ge=b.W,De=_.cc,Ge=_.dc,ct=_.Mc,Xe=_.Nc,ut=b.ka,pt=b.ka+b.T,_t=b.U,bt=_t+1>>1;for(ut==0?le(ue,fe,null,null,pe,Ue,Ze,ge,pe,Ue,Ze,ge,te,ie,null,null,_t):(le(_.ec,_.fc,ue,fe,De,Ge,ct,Xe,pe,Ue,Ze,ge,te,ie-V.A,te,ie,_t),++H);ut+2<pt;ut+=2)De=pe,Ge=Ue,ct=Ze,Xe=ge,Ue+=b.Rc,ge+=b.Rc,ie+=2*V.A,le(ue,(fe+=2*b.fa)-b.fa,ue,fe,De,Ge,ct,Xe,pe,Ue,Ze,ge,te,ie-V.A,te,ie,_t);return fe+=b.fa,b.j+pt<b.o?(n(_.ec,_.fc,ue,fe,_t),n(_.cc,_.dc,pe,Ue,bt),n(_.Mc,_.Nc,Ze,ge,bt),H--):1&pt||le(ue,fe,null,null,pe,Ue,Ze,ge,pe,Ue,Ze,ge,te,ie+V.A,null,null,_t),H}function Mn(b,_,H){var V=b.F,te=[b.J];if(V!=null){var ie=b.U,le=_.ba.S,ue=le==tg||le==rg;_=_.ba.f.RGBA;var fe=[0],pe=b.ka;fe[0]=b.T,b.Kb&&(pe==0?--fe[0]:(--pe,te[0]-=b.width),b.j+b.ka+b.T==b.o&&(fe[0]=b.o-b.j-pe));var Ue=_.eb;pe=_.fb+pe*_.A,b=oF(V,te[0],b.width,ie,fe,Ue,pe+(ue?0:3),_.A),t(H==fe),b&&Ke(le)&&Rh(Ue,pe,ue,ie,fe,_.A)}return 0}function Rn(b){var _=b.ma,H=_.ba.S,V=11>H,te=H==Zp||H==eg||H==tg||H==jy||H==12||Ke(H);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!jh(_.Oa,b,te?11:12))return 0;if(te&&Ke(H)&&Gp(),b.da)alert("todo:use_scaling");else{if(V){if(_.Ib=$n,b.Kb){if(H=b.U+1>>1,_.memory=i(b.U+2*H),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+H,_.Ib=Vr,Gp()}}else alert("todo:EmitYUV");te&&(_.Jb=Mn,V&&za())}if(V&&!BF){for(b=0;256>b;++b)DY[b]=89858*(b-128)+sg>>ng,qY[b]=-22014*(b-128)+sg,$Y[b]=-45773*(b-128),HY[b]=113618*(b-128)+sg>>ng;for(b=Qh;b<Py;++b)_=76283*(b-16)+sg>>ng,KY[b-Qh]=Xn(_,255),zY[b-Qh]=Xn(_+8>>4,15);BF=1}return 1}function qt(b){var _=b.ma,H=b.U,V=b.T;return t(!(1&b.ka)),0>=H||0>=V?0:(H=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,H),_.Dc+=H,1)}function As(b){b.ma.memory=null}function Kr(b,_,H,V){return G(b,8)!=47?0:(_[0]=G(b,14)+1,H[0]=G(b,14)+1,V[0]=G(b,1),G(b,3)!=0?0:!b.h)}function Lr(b,_){if(4>b)return b+1;var H=b-2>>1;return(2+(1&b)<<H)+G(_,H)+1}function zt(b,_){return 120<_?_-120:1<=(H=((H=EY[_-1])>>4)*b+(8-(15&H)))?H:1;var H}function jr(b,_,H){var V=L(H),te=b[_+=255&V].g-8;return 0<te&&(X(H,H.u+8),V=L(H),_+=b[_].value,_+=V&(1<<te)-1),X(H,H.u+b[_].g),b[_].value}function Sr(b,_,H){return H.g+=b.g,H.value+=b.value<<_>>>0,t(8>=H.g),b.g}function ne(b,_,H){var V=b.xc;return t((_=V==0?0:b.vc[b.md*(H>>V)+(_>>V)])<b.Wb),b.Ya[_]}function he(b,_,H,V){var te=b.ab,ie=b.c*_,le=b.C;_=le+_;var ue=H,fe=V;for(V=b.Ta,H=b.Ua;0<te--;){var pe=b.gc[te],Ue=le,Ze=_,ge=ue,De=fe,Ge=(fe=V,ue=H,pe.Ea);switch(t(Ue<Ze),t(Ze<=pe.nc),pe.hc){case 2:us(ge,De,(Ze-Ue)*Ge,fe,ue);break;case 0:var ct=Ue,Xe=Ze,ut=fe,pt=ue,_t=(Zt=pe).Ea;ct==0&&(Ih(ge,De,null,null,1,ut,pt),ve(ge,De+1,0,0,_t-1,ut,pt+1),De+=_t,pt+=_t,++ct);for(var bt=1<<Zt.b,ar=bt-1,Gt=Be(_t,Zt.b),Nr=Zt.K,Zt=Zt.w+(ct>>Zt.b)*Gt;ct<Xe;){var Qr=Nr,Us=Zt,_r=1;for(Bf(ge,De,ut,pt-_t,1,ut,pt);_r<_t;){var er=(_r&~ar)+bt;er>_t&&(er=_t),(0,Lh[Qr[Us++]>>8&15])(ge,De+ +_r,ut,pt+_r-_t,er-_r,ut,pt+_r),_r=er}De+=_t,pt+=_t,++ct&ar||(Zt+=Gt)}Ze!=pe.nc&&n(fe,ue-Ge,fe,ue+(Ze-Ue-1)*Ge,Ge);break;case 1:for(Ge=ge,Xe=De,_t=(ge=pe.Ea)-(pt=ge&~(ut=(De=1<<pe.b)-1)),ct=Be(ge,pe.b),bt=pe.K,pe=pe.w+(Ue>>pe.b)*ct;Ue<Ze;){for(ar=bt,Gt=pe,Nr=new Nt,Zt=Xe+pt,Qr=Xe+ge;Xe<Zt;)Oe(ar[Gt++],Nr),Uh(Nr,Ge,Xe,De,fe,ue),Xe+=De,ue+=De;Xe<Qr&&(Oe(ar[Gt++],Nr),Uh(Nr,Ge,Xe,_t,fe,ue),Xe+=_t,ue+=_t),++Ue&ut||(pe+=ct)}break;case 3:if(ge==fe&&De==ue&&0<pe.b){for(Xe=fe,ge=Ge=ue+(Ze-Ue)*Ge-(pt=(Ze-Ue)*Be(pe.Ea,pe.b)),De=fe,ut=ue,ct=[],pt=(_t=pt)-1;0<=pt;--pt)ct[pt]=De[ut+pt];for(pt=_t-1;0<=pt;--pt)Xe[ge+pt]=ct[pt];Wp(pe,Ue,Ze,fe,Ge,fe,ue)}else Wp(pe,Ue,Ze,ge,De,fe,ue)}ue=V,fe=H}fe!=H&&n(V,H,ue,fe,ie)}function Y(b,_){var H=b.V,V=b.Ba+b.c*b.C,te=_-b.C;if(t(_<=b.l.o),t(16>=te),0<te){var ie=b.l,le=b.Ta,ue=b.Ua,fe=ie.width;if(he(b,te,H,V),te=ue=[ue],t((H=b.C)<(V=_)),t(ie.v<ie.va),V>ie.o&&(V=ie.o),H<ie.j){var pe=ie.j-H;H=ie.j,te[0]+=pe*fe}if(H>=V?H=0:(te[0]+=4*ie.v,ie.ka=H-ie.j,ie.U=ie.va-ie.v,ie.T=V-H,H=1),H){if(ue=ue[0],11>(H=b.ca).S){var Ue=H.f.RGBA,Ze=(V=H.S,te=ie.U,ie=ie.T,pe=Ue.eb,Ue.A),ge=ie;for(Ue=Ue.fb+b.Ma*Ue.A;0<ge--;){var De=le,Ge=ue,ct=te,Xe=pe,ut=Ue;switch(V){case Jp:Ph(De,Ge,ct,Xe,ut);break;case Zp:Uc(De,Ge,ct,Xe,ut);break;case Ty:Uc(De,Ge,ct,Xe,ut),Rh(Xe,ut,0,ct,1,0);break;case hF:ZA(De,Ge,ct,Xe,ut);break;case eg:nt(De,Ge,ct,Xe,ut,1);break;case Iy:nt(De,Ge,ct,Xe,ut,1),Rh(Xe,ut,0,ct,1,0);break;case tg:nt(De,Ge,ct,Xe,ut,0);break;case rg:nt(De,Ge,ct,Xe,ut,0),Rh(Xe,ut,1,ct,1,0);break;case jy:Pc(De,Ge,ct,Xe,ut);break;case ky:Pc(De,Ge,ct,Xe,ut),aF(Xe,ut,ct,1,0);break;case mF:Mc(De,Ge,ct,Xe,ut);break;default:t(0)}ue+=fe,Ue+=Ze}b.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=H.height)}}b.C=_,t(b.C<=b.i)}function J(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var H=b.Ya[_].G,V=b.Ya[_].H;if(0<H[1][V[1]+0].g||0<H[2][V[2]+0].g||0<H[3][V[3]+0].g)return 0}return 1}function ce(b,_,H,V,te,ie){if(b.Z!=0){var le=b.qd,ue=b.rd;for(t(Qc[b.Z]!=null);_<H;++_)Qc[b.Z](le,ue,V,te,V,te,ie),le=V,ue=te,te+=ie;b.qd=le,b.rd=ue}}function Ae(b,_){var H=b.l.ma,V=H.Z==0||H.Z==1?b.l.j:b.C;if(V=b.C<V?V:b.C,t(_<=b.l.o),_>V){var te=b.l.width,ie=H.ca,le=H.tb+te*V,ue=b.V,fe=b.Ba+b.c*V,pe=b.gc;t(b.ab==1),t(pe[0].hc==3),el(pe[0],V,_,ue,fe,ie,le),ce(H,V,_,ie,le,te)}b.C=b.Ma=_}function _e(b,_,H,V,te,ie,le){var ue=b.$/V,fe=b.$%V,pe=b.m,Ue=b.s,Ze=H+b.$,ge=Ze;te=H+V*te;var De=H+V*ie,Ge=280+Ue.ua,ct=b.Pb?ue:16777216,Xe=0<Ue.ua?Ue.Wa:null,ut=Ue.wc,pt=Ze<De?ne(Ue,fe,ue):null;t(b.C<ie),t(De<=te);var _t=!1;e:for(;;){for(;_t||Ze<De;){var bt=0;if(ue>=ct){var ar=Ze-H;t((ct=b).Pb),ct.wd=ct.m,ct.xd=ar,0<ct.s.ua&&ze(ct.s.Wa,ct.s.vb),ct=ue+FY}if(fe&ut||(pt=ne(Ue,fe,ue)),t(pt!=null),pt.Qb&&(_[Ze]=pt.qb,_t=!0),!_t)if(se(pe),pt.jc){bt=pe,ar=_;var Gt=Ze,Nr=pt.pd[L(bt)&JA-1];t(pt.jc),256>Nr.g?(X(bt,bt.u+Nr.g),ar[Gt]=Nr.value,bt=0):(X(bt,bt.u+Nr.g-256),t(256<=Nr.value),bt=Nr.value),bt==0&&(_t=!0)}else bt=jr(pt.G[0],pt.H[0],pe);if(pe.h)break;if(_t||256>bt){if(!_t)if(pt.nd)_[Ze]=(pt.qb|bt<<8)>>>0;else{if(se(pe),_t=jr(pt.G[1],pt.H[1],pe),se(pe),ar=jr(pt.G[2],pt.H[2],pe),Gt=jr(pt.G[3],pt.H[3],pe),pe.h)break;_[Ze]=(Gt<<24|_t<<16|bt<<8|ar)>>>0}if(_t=!1,++Ze,++fe>=V&&(fe=0,++ue,le!=null&&ue<=ie&&!(ue%16)&&le(b,ue),Xe!=null))for(;ge<Ze;)bt=_[ge++],Xe.X[(506832829*bt&4294967295)>>>Xe.Mb]=bt}else if(280>bt){if(bt=Lr(bt-256,pe),ar=jr(pt.G[4],pt.H[4],pe),se(pe),ar=zt(V,ar=Lr(ar,pe)),pe.h)break;if(Ze-H<ar||te-Ze<bt)break e;for(Gt=0;Gt<bt;++Gt)_[Ze+Gt]=_[Ze+Gt-ar];for(Ze+=bt,fe+=bt;fe>=V;)fe-=V,++ue,le!=null&&ue<=ie&&!(ue%16)&&le(b,ue);if(t(Ze<=te),fe&ut&&(pt=ne(Ue,fe,ue)),Xe!=null)for(;ge<Ze;)bt=_[ge++],Xe.X[(506832829*bt&4294967295)>>>Xe.Mb]=bt}else{if(!(bt<Ge))break e;for(_t=bt-280,t(Xe!=null);ge<Ze;)bt=_[ge++],Xe.X[(506832829*bt&4294967295)>>>Xe.Mb]=bt;bt=Ze,t(!(_t>>>(ar=Xe).Xa)),_[bt]=ar.X[_t],_t=!0}_t||t(pe.h==q(pe))}if(b.Pb&&pe.h&&Ze<te)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ze(b.s.vb,b.s.Wa);else{if(pe.h)break e;le!=null&&le(b,ue>ie?ie:ue),b.a=0,b.$=Ze-H}return 1}return b.a=3,0}function Pe(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function Ne(){var b=new nr;return b==null?null:(b.a=0,b.xb=xF,Ye("Predictor","VP8LPredictors"),Ye("Predictor","VP8LPredictors_C"),Ye("PredictorAdd","VP8LPredictorsAdd"),Ye("PredictorAdd","VP8LPredictorsAdd_C"),us=it,Uh=Se,Ph=lt,Uc=We,Pc=He,Mc=tt,ZA=xt,B.VP8LMapColor32b=Zo,B.VP8LMapColor8b=kh,b)}function Ee(b,_,H,V,te){var ie=1,le=[b],ue=[_],fe=V.m,pe=V.s,Ue=null,Ze=0;e:for(;;){if(H)for(;ie&&G(fe,1);){var ge=le,De=ue,Ge=V,ct=1,Xe=Ge.m,ut=Ge.gc[Ge.ab],pt=G(Xe,2);if(Ge.Oc&1<<pt)ie=0;else{switch(Ge.Oc|=1<<pt,ut.hc=pt,ut.Ea=ge[0],ut.nc=De[0],ut.K=[null],++Ge.ab,t(4>=Ge.ab),pt){case 0:case 1:ut.b=G(Xe,3)+2,ct=Ee(Be(ut.Ea,ut.b),Be(ut.nc,ut.b),0,Ge,ut.K),ut.K=ut.K[0];break;case 3:var _t,bt=G(Xe,8)+1,ar=16<bt?0:4<bt?1:2<bt?2:3;if(ge[0]=Be(ut.Ea,ar),ut.b=ar,_t=ct=Ee(bt,1,0,Ge,ut.K)){var Gt,Nr=bt,Zt=ut,Qr=1<<(8>>Zt.b),Us=i(Qr);if(Us==null)_t=0;else{var _r=Zt.K[0],er=Zt.w;for(Us[0]=Zt.K[0][0],Gt=1;Gt<1*Nr;++Gt)Us[Gt]=et(_r[er+Gt],Us[Gt-1]);for(;Gt<4*Qr;++Gt)Us[Gt]=0;Zt.K[0]=null,Zt.K[0]=Us,_t=1}}ct=_t;break;case 2:break;default:t(0)}ie=ct}}if(le=le[0],ue=ue[0],ie&&G(fe,1)&&!(ie=1<=(Ze=G(fe,4))&&11>=Ze)){V.a=3;break e}var Pt;if(Pt=ie)t:{var ds,yr,$r,kn=V,si=le,Di=ue,Jn=Ze,wi=H,Hi=kn.m,Ps=kn.s,Gr=[null],An=1,Zn=0,un=SY[Jn];r:for(;;){if(wi&&G(Hi,1)){var ii=G(Hi,3)+2,wo=Be(si,ii),hs=Be(Di,ii),oa=wo*hs;if(!Ee(wo,hs,0,kn,Gr))break r;for(Gr=Gr[0],Ps.xc=ii,ds=0;ds<oa;++ds){var Bn=Gr[ds]>>8&65535;Gr[ds]=Bn,Bn>=An&&(An=Bn+1)}}if(Hi.h)break r;for(yr=0;5>yr;++yr){var Ms=pF[yr];!yr&&0<Jn&&(Ms+=1<<Jn),Zn<Ms&&(Zn=Ms)}var _a=a(An*un,E),$i=An,Ca=a($i,D);if(Ca==null)var Ea=null;else t(65536>=$i),Ea=Ca;var la=i(Zn);if(Ea==null||la==null||_a==null){kn.a=1;break r}var Sa=_a;for(ds=$r=0;ds<An;++ds){var Sn=Ea[ds],Fa=Sn.G,bo=Sn.H,tu=0,Dl=1,ai=0;for(yr=0;5>yr;++yr){Ms=pF[yr],Fa[yr]=Sa,bo[yr]=$r,!yr&&0<Jn&&(Ms+=1<<Jn);s:{var ag,My=Ms,og=kn,Dh=la,WY=Sa,YY=$r,Ry=0,Dc=og.m,XY=G(Dc,1);if(s(Dh,0,0,My),XY){var JY=G(Dc,1)+1,ZY=G(Dc,1),CF=G(Dc,ZY==0?1:8);Dh[CF]=1,JY==2&&(Dh[CF=G(Dc,8)]=1);var lg=1}else{var EF=i(19),SF=G(Dc,4)+4;if(19<SF){og.a=3;var cg=0;break s}for(ag=0;ag<SF;++ag)EF[CY[ag]]=G(Dc,3);var Oy=void 0,Hh=void 0,FF=og,eX=EF,Ag=My,jF=Dh,Qy=0,Hc=FF.m,TF=8,IF=a(128,E);n:for(;k(IF,0,7,eX,19);){if(G(Hc,1)){var tX=2+2*G(Hc,3);if((Oy=2+G(Hc,tX))>Ag)break n}else Oy=Ag;for(Hh=0;Hh<Ag&&Oy--;){se(Hc);var kF=IF[0+(127&L(Hc))];X(Hc,Hc.u+kF.g);var _f=kF.value;if(16>_f)jF[Hh++]=_f,_f!=0&&(TF=_f);else{var rX=_f==16,LF=_f-16,nX=NY[LF],UF=G(Hc,BY[LF])+nX;if(Hh+UF>Ag)break n;for(var sX=rX?TF:0;0<UF--;)jF[Hh++]=sX}}Qy=1;break n}Qy||(FF.a=3),lg=Qy}(lg=lg&&!Dc.h)&&(Ry=k(WY,YY,8,Dh,My)),lg&&Ry!=0?cg=Ry:(og.a=3,cg=0)}if(cg==0)break r;if(Dl&&_Y[yr]==1&&(Dl=Sa[$r].g==0),tu+=Sa[$r].g,$r+=cg,3>=yr){var $h,Dy=la[0];for($h=1;$h<Ms;++$h)la[$h]>Dy&&(Dy=la[$h]);ai+=Dy}}if(Sn.nd=Dl,Sn.Qb=0,Dl&&(Sn.qb=(Fa[3][bo[3]+0].value<<24|Fa[1][bo[1]+0].value<<16|Fa[2][bo[2]+0].value)>>>0,tu==0&&256>Fa[0][bo[0]+0].value&&(Sn.Qb=1,Sn.qb+=Fa[0][bo[0]+0].value<<8)),Sn.jc=!Sn.Qb&&6>ai,Sn.jc){var ug,Hl=Sn;for(ug=0;ug<JA;++ug){var $c=ug,qc=Hl.pd[$c],fg=Hl.G[0][Hl.H[0]+$c];256<=fg.value?(qc.g=fg.g+256,qc.value=fg.value):(qc.g=0,qc.value=0,$c>>=Sr(fg,8,qc),$c>>=Sr(Hl.G[1][Hl.H[1]+$c],16,qc),$c>>=Sr(Hl.G[2][Hl.H[2]+$c],0,qc),Sr(Hl.G[3][Hl.H[3]+$c],24,qc))}}}Ps.vc=Gr,Ps.Wb=An,Ps.Ya=Ea,Ps.yc=_a,Pt=1;break t}Pt=0}if(!(ie=Pt)){V.a=3;break e}if(0<Ze){if(pe.ua=1<<Ze,!oe(pe.Wa,Ze)){V.a=1,ie=0;break e}}else pe.ua=0;var Hy=V,PF=le,iX=ue,$y=Hy.s,qy=$y.xc;if(Hy.c=PF,Hy.i=iX,$y.md=Be(PF,qy),$y.wc=qy==0?-1:(1<<qy)-1,H){V.xb=PY;break e}if((Ue=i(le*ue))==null){V.a=1,ie=0;break e}ie=(ie=_e(V,Ue,0,le,ue,ue,null))&&!fe.h;break e}return ie?(te!=null?te[0]=Ue:(t(Ue==null),t(H)),V.$=0,H||Pe(pe)):Pe(pe),ie}function Qe(b,_){var H=b.c*b.i,V=H+_+16*_;return t(b.c<=_),b.V=i(V),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+H+_,1)}function at(b,_){var H=b.C,V=_-H,te=b.V,ie=b.Ba+b.c*H;for(t(_<=b.l.o);0<V;){var le=16<V?16:V,ue=b.l.ma,fe=b.l.width,pe=fe*le,Ue=ue.ca,Ze=ue.tb+fe*H,ge=b.Ta,De=b.Ua;he(b,le,te,ie),lF(ge,De,Ue,Ze,pe),ce(ue,H,H+le,Ue,Ze,fe),V-=le,te+=le*b.c,H+=le}t(H==_),b.C=b.Ma=_}function Le(){this.ub=this.yd=this.td=this.Rb=0}function ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ve(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function yt(){this.Yb=function(){var b=[];return function _(H,V,te){for(var ie=te[V],le=0;le<ie&&(H.push(te.length>V+1?[]:0),!(te.length<V+1));le++)_(H[le],V+1,te)}(b,0,[3,11]),b}()}function It(){this.jb=i(3),this.Wc=o([4,8],yt),this.Xc=o([4,17],yt)}function Mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function At(){this.ld=this.La=this.dd=this.tc=0}function Rt(){this.Na=this.la=0}function lr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mr(){this.uc=this.M=this.Nb=0,this.wa=Array(new At),this.Y=0,this.ya=Array(new Xt),this.aa=0,this.l=new rr}function hr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function br(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Le,this.Kc=new ht,this.ed=new Mt,this.Qa=new Ve,this.Ic=this.$c=this.Aa=0,this.D=new Mr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,lr),this.Pa=new It,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hr),this.Hd=0,this.rb=Array(new Rt),this.sb=0,this.wa=Array(new At),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xt),this.L=this.aa=0,this.gd=o([4,2],At),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function en(){var b=new br;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Oh||(Oh=Tr)),b}function zr(b,_,H){return b.a==0&&(b.a=_,b.sc=H,b.cb=0),0}function Oi(b,_,H){return 3<=H&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function Wn(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return zr(b,2,"null VP8Io passed to VP8GetHeaders()");var H=_.data,V=_.w,te=_.ha;if(4>te)return zr(b,7,"Truncated header.");var ie=H[V+0]|H[V+1]<<8|H[V+2]<<16,le=b.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return zr(b,3,"Incorrect keyframe parameters.");if(!le.yd)return zr(b,4,"Frame not displayable.");V+=3,te-=3;var ue=b.Kc;if(le.Rb){if(7>te)return zr(b,7,"cannot parse picture header");if(!Oi(H,V,te))return zr(b,3,"Bad code word");ue.c=16383&(H[V+4]<<8|H[V+3]),ue.Td=H[V+4]>>6,ue.i=16383&(H[V+6]<<8|H[V+5]),ue.Ud=H[V+6]>>6,V+=7,te-=7,b.za=ue.c+15>>4,b.Ub=ue.i+15>>4,_.width=ue.c,_.height=ue.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((ie=b.Pa).jb,0,255,ie.jb.length),t((ie=b.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,s(ie.Zb,0,0,ie.Zb.length),s(ie.Lb,0,0,ie.Lb)}if(le.ub>te)return zr(b,7,"bad partition length");M(ie=b.m,H,V,le.ub),V+=le.ub,te-=le.ub,le.Rb&&(ue.Ld=W(ie),ue.Kd=W(ie)),ue=b.Qa;var fe,pe=b.Pa;if(t(ie!=null),t(ue!=null),ue.Cb=W(ie),ue.Cb){if(ue.Bb=W(ie),W(ie)){for(ue.Fb=W(ie),fe=0;4>fe;++fe)ue.Zb[fe]=W(ie)?K(ie,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=W(ie)?K(ie,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)pe.jb[fe]=W(ie)?Q(ie,8):255}else ue.Bb=0;if(ie.Ka)return zr(b,3,"cannot parse segment header");if((ue=b.ed).zd=W(ie),ue.Tb=Q(ie,6),ue.wb=Q(ie,3),ue.Pc=W(ie),ue.Pc&&W(ie)){for(pe=0;4>pe;++pe)W(ie)&&(ue.vd[pe]=K(ie,6));for(pe=0;4>pe;++pe)W(ie)&&(ue.od[pe]=K(ie,6))}if(b.L=ue.Tb==0?0:ue.zd?1:2,ie.Ka)return zr(b,3,"cannot parse filter header");var Ue=te;if(te=fe=V,V=fe+Ue,ue=Ue,b.Xb=(1<<Q(b.m,2))-1,Ue<3*(pe=b.Xb))H=7;else{for(fe+=3*pe,ue-=3*pe,Ue=0;Ue<pe;++Ue){var Ze=H[te+0]|H[te+1]<<8|H[te+2]<<16;Ze>ue&&(Ze=ue),M(b.Jc[+Ue],H,fe,Ze),fe+=Ze,ue-=Ze,te+=3}M(b.Jc[+pe],H,fe,ue),H=fe<V?0:5}if(H!=0)return zr(b,H,"cannot parse partitions");for(H=Q(fe=b.m,7),te=W(fe)?K(fe,4):0,V=W(fe)?K(fe,4):0,ue=W(fe)?K(fe,4):0,pe=W(fe)?K(fe,4):0,fe=W(fe)?K(fe,4):0,Ue=b.Qa,Ze=0;4>Ze;++Ze){if(Ue.Cb){var ge=Ue.Zb[Ze];Ue.Fb||(ge+=H)}else{if(0<Ze){b.pb[Ze]=b.pb[0];continue}ge=H}var De=b.pb[Ze];De.Sc[0]=Ly[Xn(ge+te,127)],De.Sc[1]=Uy[Xn(ge+0,127)],De.Eb[0]=2*Ly[Xn(ge+V,127)],De.Eb[1]=101581*Uy[Xn(ge+ue,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=Ly[Xn(ge+pe,117)],De.Qc[1]=Uy[Xn(ge+fe,127)],De.lc=ge+fe}if(!le.Rb)return zr(b,4,"Not a key frame.");for(W(ie),le=b.Pa,H=0;4>H;++H){for(te=0;8>te;++te)for(V=0;3>V;++V)for(ue=0;11>ue;++ue)pe=ee(ie,LY[H][te][V][ue])?Q(ie,8):IY[H][te][V][ue],le.Wc[H][te].Yb[V][ue]=pe;for(te=0;17>te;++te)le.Xc[H][te]=le.Wc[H][UY[te]]}return b.kc=W(ie),b.kc&&(b.Bd=Q(ie,8)),b.cb=1}function Tr(b,_,H,V,te,ie,le){var ue=_[te].Yb[H];for(H=0;16>te;++te){if(!ee(b,ue[H+0]))return te;for(;!ee(b,ue[H+1]);)if(ue=_[++te].Yb[0],H=0,te==16)return 16;var fe=_[te+1].Yb;if(ee(b,ue[H+2])){var pe=b,Ue=0;if(ee(pe,(ge=ue)[(Ze=H)+3]))if(ee(pe,ge[Ze+6])){for(ue=0,Ze=2*(Ue=ee(pe,ge[Ze+8]))+(ge=ee(pe,ge[Ze+9+Ue])),Ue=0,ge=jY[Ze];ge[ue];++ue)Ue+=Ue+ee(pe,ge[ue]);Ue+=3+(8<<Ze)}else ee(pe,ge[Ze+7])?(Ue=7+2*ee(pe,165),Ue+=ee(pe,145)):Ue=5+ee(pe,159);else Ue=ee(pe,ge[Ze+4])?3+ee(pe,ge[Ze+5]):2;ue=fe[2]}else Ue=1,ue=fe[1];fe=le+TY[te],0>(pe=b).b&&ae(pe);var Ze,ge=pe.b,De=(Ze=pe.Ca>>1)-(pe.I>>ge)>>31;--pe.b,pe.Ca+=De,pe.Ca|=1,pe.I-=(Ze+1&De)<<ge,ie[fe]=((Ue^De)-De)*V[(0<te)+0]}return 16}function Wr(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function Hr(b,_,H,V,te){te=b[_+H+32*V]+(te>>3),b[_+H+32*V]=-256&te?0>te?0:255:te}function ws(b,_,H,V,te,ie){Hr(b,_,0,H,V+te),Hr(b,_,1,H,V+ie),Hr(b,_,2,H,V-ie),Hr(b,_,3,H,V-te)}function Rr(b){return(20091*b>>16)+b}function Yn(b,_,H,V){var te,ie=0,le=i(16);for(te=0;4>te;++te){var ue=b[_+0]+b[_+8],fe=b[_+0]-b[_+8],pe=(35468*b[_+4]>>16)-Rr(b[_+12]),Ue=Rr(b[_+4])+(35468*b[_+12]>>16);le[ie+0]=ue+Ue,le[ie+1]=fe+pe,le[ie+2]=fe-pe,le[ie+3]=ue-Ue,ie+=4,_++}for(te=ie=0;4>te;++te)ue=(b=le[ie+0]+4)+le[ie+8],fe=b-le[ie+8],pe=(35468*le[ie+4]>>16)-Rr(le[ie+12]),Hr(H,V,0,0,ue+(Ue=Rr(le[ie+4])+(35468*le[ie+12]>>16))),Hr(H,V,1,0,fe+pe),Hr(H,V,2,0,fe-pe),Hr(H,V,3,0,ue-Ue),ie++,V+=32}function sa(b,_,H,V){var te=b[_+0]+4,ie=35468*b[_+4]>>16,le=Rr(b[_+4]),ue=35468*b[_+1]>>16;ws(H,V,0,te+le,b=Rr(b[_+1]),ue),ws(H,V,1,te+ie,b,ue),ws(H,V,2,te-ie,b,ue),ws(H,V,3,te-le,b,ue)}function Wo(b,_,H,V,te){Yn(b,_,H,V),te&&Yn(b,_+16,H,V+4)}function Fc(b,_,H,V){eu(b,_+0,H,V,1),eu(b,_+32,H,V+128,1)}function ri(b,_,H,V){var te;for(b=b[_+0]+4,te=0;4>te;++te)for(_=0;4>_;++_)Hr(H,V,_,te,b)}function Ur(b,_,H,V){b[_+0]&&on(b,_+0,H,V),b[_+16]&&on(b,_+16,H,V+4),b[_+32]&&on(b,_+32,H,V+128),b[_+48]&&on(b,_+48,H,V+128+4)}function an(b,_,H,V){var te,ie=i(16);for(te=0;4>te;++te){var le=b[_+0+te]+b[_+12+te],ue=b[_+4+te]+b[_+8+te],fe=b[_+4+te]-b[_+8+te],pe=b[_+0+te]-b[_+12+te];ie[0+te]=le+ue,ie[8+te]=le-ue,ie[4+te]=pe+fe,ie[12+te]=pe-fe}for(te=0;4>te;++te)le=(b=ie[0+4*te]+3)+ie[3+4*te],ue=ie[1+4*te]+ie[2+4*te],fe=ie[1+4*te]-ie[2+4*te],pe=b-ie[3+4*te],H[V+0]=le+ue>>3,H[V+16]=pe+fe>>3,H[V+32]=le-ue>>3,H[V+48]=pe-fe>>3,V+=64}function Tn(b,_,H){var V,te=_-32,ie=Na,le=255-b[te-1];for(V=0;V<H;++V){var ue,fe=ie,pe=le+b[_-1];for(ue=0;ue<H;++ue)b[_+ue]=fe[pe+b[te+ue]];_+=32}}function In(b,_){Tn(b,_,4)}function vi(b,_){Tn(b,_,8)}function Yo(b,_){Tn(b,_,16)}function Qi(b,_){var H;for(H=0;16>H;++H)n(b,_+32*H,b,_-32,16)}function jc(b,_){var H;for(H=16;0<H;--H)s(b,_,b[_-1],16),_+=32}function Xo(b,_,H){var V;for(V=0;16>V;++V)s(_,H+32*V,b,16)}function vo(b,_){var H,V=16;for(H=0;16>H;++H)V+=b[_-1+32*H]+b[_+H-32];Xo(V>>5,b,_)}function hf(b,_){var H,V=8;for(H=0;16>H;++H)V+=b[_-1+32*H];Xo(V>>4,b,_)}function Jo(b,_){var H,V=8;for(H=0;16>H;++H)V+=b[_+H-32];Xo(V>>4,b,_)}function mt(b,_){Xo(128,b,_)}function Je(b,_,H){return b+2*_+H+2>>2}function ia(b,_){var H,V=_-32;for(V=new Uint8Array([Je(b[V-1],b[V+0],b[V+1]),Je(b[V+0],b[V+1],b[V+2]),Je(b[V+1],b[V+2],b[V+3]),Je(b[V+2],b[V+3],b[V+4])]),H=0;4>H;++H)n(b,_+32*H,V,0,V.length)}function mf(b,_){var H=b[_-1],V=b[_-1+32],te=b[_-1+64],ie=b[_-1+96];Ce(b,_+0,16843009*Je(b[_-1-32],H,V)),Ce(b,_+32,16843009*Je(H,V,te)),Ce(b,_+64,16843009*Je(V,te,ie)),Ce(b,_+96,16843009*Je(te,ie,ie))}function bh(b,_){var H,V=4;for(H=0;4>H;++H)V+=b[_+H-32]+b[_-1+32*H];for(V>>=3,H=0;4>H;++H)s(b,_+32*H,V,4)}function pf(b,_){var H=b[_-1+0],V=b[_-1+32],te=b[_-1+64],ie=b[_-1-32],le=b[_+0-32],ue=b[_+1-32],fe=b[_+2-32],pe=b[_+3-32];b[_+0+96]=Je(V,te,b[_-1+96]),b[_+1+96]=b[_+0+64]=Je(H,V,te),b[_+2+96]=b[_+1+64]=b[_+0+32]=Je(ie,H,V),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=Je(le,ie,H),b[_+3+64]=b[_+2+32]=b[_+1+0]=Je(ue,le,ie),b[_+3+32]=b[_+2+0]=Je(fe,ue,le),b[_+3+0]=Je(pe,fe,ue)}function kl(b,_){var H=b[_+1-32],V=b[_+2-32],te=b[_+3-32],ie=b[_+4-32],le=b[_+5-32],ue=b[_+6-32],fe=b[_+7-32];b[_+0+0]=Je(b[_+0-32],H,V),b[_+1+0]=b[_+0+32]=Je(H,V,te),b[_+2+0]=b[_+1+32]=b[_+0+64]=Je(V,te,ie),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=Je(te,ie,le),b[_+3+32]=b[_+2+64]=b[_+1+96]=Je(ie,le,ue),b[_+3+64]=b[_+2+96]=Je(le,ue,fe),b[_+3+96]=Je(ue,fe,fe)}function Ll(b,_){var H=b[_-1+0],V=b[_-1+32],te=b[_-1+64],ie=b[_-1-32],le=b[_+0-32],ue=b[_+1-32],fe=b[_+2-32],pe=b[_+3-32];b[_+0+0]=b[_+1+64]=ie+le+1>>1,b[_+1+0]=b[_+2+64]=le+ue+1>>1,b[_+2+0]=b[_+3+64]=ue+fe+1>>1,b[_+3+0]=fe+pe+1>>1,b[_+0+96]=Je(te,V,H),b[_+0+64]=Je(V,H,ie),b[_+0+32]=b[_+1+96]=Je(H,ie,le),b[_+1+32]=b[_+2+96]=Je(ie,le,ue),b[_+2+32]=b[_+3+96]=Je(le,ue,fe),b[_+3+32]=Je(ue,fe,pe)}function Cy(b,_){var H=b[_+0-32],V=b[_+1-32],te=b[_+2-32],ie=b[_+3-32],le=b[_+4-32],ue=b[_+5-32],fe=b[_+6-32],pe=b[_+7-32];b[_+0+0]=H+V+1>>1,b[_+1+0]=b[_+0+64]=V+te+1>>1,b[_+2+0]=b[_+1+64]=te+ie+1>>1,b[_+3+0]=b[_+2+64]=ie+le+1>>1,b[_+0+32]=Je(H,V,te),b[_+1+32]=b[_+0+96]=Je(V,te,ie),b[_+2+32]=b[_+1+96]=Je(te,ie,le),b[_+3+32]=b[_+2+96]=Je(ie,le,ue),b[_+3+64]=Je(le,ue,fe),b[_+3+96]=Je(ue,fe,pe)}function Ey(b,_){var H=b[_-1+0],V=b[_-1+32],te=b[_-1+64],ie=b[_-1+96];b[_+0+0]=H+V+1>>1,b[_+2+0]=b[_+0+32]=V+te+1>>1,b[_+2+32]=b[_+0+64]=te+ie+1>>1,b[_+1+0]=Je(H,V,te),b[_+3+0]=b[_+1+32]=Je(V,te,ie),b[_+3+32]=b[_+1+64]=Je(te,ie,ie),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=ie}function gf(b,_){var H=b[_-1+0],V=b[_-1+32],te=b[_-1+64],ie=b[_-1+96],le=b[_-1-32],ue=b[_+0-32],fe=b[_+1-32],pe=b[_+2-32];b[_+0+0]=b[_+2+32]=H+le+1>>1,b[_+0+32]=b[_+2+64]=V+H+1>>1,b[_+0+64]=b[_+2+96]=te+V+1>>1,b[_+0+96]=ie+te+1>>1,b[_+3+0]=Je(ue,fe,pe),b[_+2+0]=Je(le,ue,fe),b[_+1+0]=b[_+3+32]=Je(H,le,ue),b[_+1+32]=b[_+3+64]=Je(V,H,le),b[_+1+64]=b[_+3+96]=Je(te,V,H),b[_+1+96]=Je(ie,te,V)}function Bh(b,_){var H;for(H=0;8>H;++H)n(b,_+32*H,b,_-32,8)}function QA(b,_){var H;for(H=0;8>H;++H)s(b,_,b[_-1],8),_+=32}function xf(b,_,H){var V;for(V=0;8>V;++V)s(_,H+32*V,b,8)}function vf(b,_){var H,V=8;for(H=0;8>H;++H)V+=b[_+H-32]+b[_-1+32*H];xf(V>>4,b,_)}function Sy(b,_){var H,V=4;for(H=0;8>H;++H)V+=b[_+H-32];xf(V>>3,b,_)}function Nh(b,_){var H,V=4;for(H=0;8>H;++H)V+=b[_-1+32*H];xf(V>>3,b,_)}function _h(b,_){xf(128,b,_)}function DA(b,_,H){var V=b[_-H],te=b[_+0],ie=3*(te-V)+Fy[1020+b[_-2*H]-b[_+H]],le=Xp[112+(ie+4>>3)];b[_-H]=Na[255+V+Xp[112+(ie+3>>3)]],b[_+0]=Na[255+te-le]}function HA(b,_,H,V){var te=b[_+0],ie=b[_+H];return Wa[255+b[_-2*H]-b[_-H]]>V||Wa[255+ie-te]>V}function Ch(b,_,H,V){return 4*Wa[255+b[_-H]-b[_+0]]+Wa[255+b[_-2*H]-b[_+H]]<=V}function yf(b,_,H,V,te){var ie=b[_-3*H],le=b[_-2*H],ue=b[_-H],fe=b[_+0],pe=b[_+H],Ue=b[_+2*H],Ze=b[_+3*H];return 4*Wa[255+ue-fe]+Wa[255+le-pe]>V?0:Wa[255+b[_-4*H]-ie]<=te&&Wa[255+ie-le]<=te&&Wa[255+le-ue]<=te&&Wa[255+Ze-Ue]<=te&&Wa[255+Ue-pe]<=te&&Wa[255+pe-fe]<=te}function Eh(b,_,H,V){var te=2*V+1;for(V=0;16>V;++V)Ch(b,_+V,H,te)&&DA(b,_+V,H)}function $A(b,_,H,V){var te=2*V+1;for(V=0;16>V;++V)Ch(b,_+V*H,1,te)&&DA(b,_+V*H,1)}function Hp(b,_,H,V){var te;for(te=3;0<te;--te)Eh(b,_+=4*H,H,V)}function $p(b,_,H,V){var te;for(te=3;0<te;--te)$A(b,_+=4,H,V)}function Ul(b,_,H,V,te,ie,le,ue){for(ie=2*ie+1;0<te--;){if(yf(b,_,H,ie,le))if(HA(b,_,H,ue))DA(b,_,H);else{var fe=b,pe=_,Ue=H,Ze=fe[pe-2*Ue],ge=fe[pe-Ue],De=fe[pe+0],Ge=fe[pe+Ue],ct=fe[pe+2*Ue],Xe=27*(pt=Fy[1020+3*(De-ge)+Fy[1020+Ze-Ge]])+63>>7,ut=18*pt+63>>7,pt=9*pt+63>>7;fe[pe-3*Ue]=Na[255+fe[pe-3*Ue]+pt],fe[pe-2*Ue]=Na[255+Ze+ut],fe[pe-Ue]=Na[255+ge+Xe],fe[pe+0]=Na[255+De-Xe],fe[pe+Ue]=Na[255+Ge-ut],fe[pe+2*Ue]=Na[255+ct-pt]}_+=V}}function Pl(b,_,H,V,te,ie,le,ue){for(ie=2*ie+1;0<te--;){if(yf(b,_,H,ie,le))if(HA(b,_,H,ue))DA(b,_,H);else{var fe=b,pe=_,Ue=H,Ze=fe[pe-Ue],ge=fe[pe+0],De=fe[pe+Ue],Ge=Xp[112+(4+(ct=3*(ge-Ze))>>3)],ct=Xp[112+(ct+3>>3)],Xe=Ge+1>>1;fe[pe-2*Ue]=Na[255+fe[pe-2*Ue]+Xe],fe[pe-Ue]=Na[255+Ze+ct],fe[pe+0]=Na[255+ge-Ge],fe[pe+Ue]=Na[255+De-Xe]}_+=V}}function qp(b,_,H,V,te,ie){Ul(b,_,H,1,16,V,te,ie)}function Kp(b,_,H,V,te,ie){Ul(b,_,1,H,16,V,te,ie)}function qA(b,_,H,V,te,ie){var le;for(le=3;0<le;--le)Pl(b,_+=4*H,H,1,16,V,te,ie)}function zp(b,_,H,V,te,ie){var le;for(le=3;0<le;--le)Pl(b,_+=4,1,H,16,V,te,ie)}function R(b,_,H,V,te,ie,le,ue){Ul(b,_,te,1,8,ie,le,ue),Ul(H,V,te,1,8,ie,le,ue)}function Z(b,_,H,V,te,ie,le,ue){Ul(b,_,1,te,8,ie,le,ue),Ul(H,V,1,te,8,ie,le,ue)}function xe(b,_,H,V,te,ie,le,ue){Pl(b,_+4*te,te,1,8,ie,le,ue),Pl(H,V+4*te,te,1,8,ie,le,ue)}function Ie(b,_,H,V,te,ie,le,ue){Pl(b,_+4,1,te,8,ie,le,ue),Pl(H,V+4,1,te,8,ie,le,ue)}function qe(){this.ba=new Ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ft(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yt(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new E}function nr(){this.xb=this.a=0,this.l=new rr,this.ca=new Ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yt,this.ab=0,this.gc=a(4,Bt),this.Oc=0}function pr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gr(b,_,H,V,te,ie,le){for(b=b==null?0:b[_+0],_=0;_<le;++_)te[ie+_]=b+H[V+_]&255,b=te[ie+_]}function tn(b,_,H,V,te,ie,le){var ue;if(b==null)gr(null,null,H,V,te,ie,le);else for(ue=0;ue<le;++ue)te[ie+ue]=b[_+ue]+H[V+ue]&255}function qn(b,_,H,V,te,ie,le){if(b==null)gr(null,null,H,V,te,ie,le);else{var ue,fe=b[_+0],pe=fe,Ue=fe;for(ue=0;ue<le;++ue)pe=Ue+(fe=b[_+ue])-pe,Ue=H[V+ue]+(-256&pe?0>pe?0:255:pe)&255,pe=fe,te[ie+ue]=Ue}}function bs(b,_,H,V){var te=_.width,ie=_.o;if(t(b!=null&&_!=null),0>H||0>=V||H+V>ie)return null;if(!b.Cc){if(b.ga==null){var le;if(b.ga=new pr,(le=b.ga==null)||(le=_.width*_.o,t(b.Gb.length==0),b.Gb=i(le),b.Uc=0,b.Gb==null?le=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,le=1),le=!le),!le){le=b.ga;var ue=b.Fa,fe=b.P,pe=b.qc,Ue=b.mb,Ze=b.nb,ge=fe+1,De=pe-1,Ge=le.l;if(t(ue!=null&&Ue!=null&&_!=null),Qc[0]=null,Qc[1]=gr,Qc[2]=tn,Qc[3]=qn,le.ca=Ue,le.tb=Ze,le.c=_.width,le.i=_.height,t(0<le.c&&0<le.i),1>=pe)_=0;else if(le.$a=3&ue[fe+0],le.Z=ue[fe+0]>>2&3,le.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||fe)_=0;else if(Ge.put=qt,Ge.ac=Rn,Ge.bc=As,Ge.ma=le,Ge.width=_.width,Ge.height=_.height,Ge.Da=_.Da,Ge.v=_.v,Ge.va=_.va,Ge.j=_.j,Ge.o=_.o,le.$a)e:{t(le.$a==1),_=Ne();t:for(;;){if(_==null){_=0;break e}if(t(le!=null),le.mc=_,_.c=le.c,_.i=le.i,_.l=le.l,_.l.ma=le,_.l.width=le.c,_.l.height=le.i,_.a=0,O(_.m,ue,ge,De),!Ee(le.c,le.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&J(_.s)?(le.ic=1,ue=_.c*_.i,_.Ta=null,_.Ua=0,_.V=i(ue),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(le.ic=0,_=Qe(_,le.c)),!_))break t;_=1;break e}le.mc=null,_=0}else _=De>=le.c*le.i;le=!_}if(le)return null;b.ga.Lc!=1?b.Ga=0:V=ie-H}t(b.ga!=null),t(H+V<=ie);e:{if(_=(ue=b.ga).c,ie=ue.l.o,ue.$a==0){if(ge=b.rc,De=b.Vc,Ge=b.Fa,fe=b.P+1+H*_,pe=b.mb,Ue=b.nb+H*_,t(fe<=b.P+b.qc),ue.Z!=0)for(t(Qc[ue.Z]!=null),le=0;le<V;++le)Qc[ue.Z](ge,De,Ge,fe,pe,Ue,_),ge=pe,De=Ue,Ue+=_,fe+=_;else for(le=0;le<V;++le)n(pe,Ue,Ge,fe,_),ge=pe,De=Ue,Ue+=_,fe+=_;b.rc=ge,b.Vc=De}else{if(t(ue.mc!=null),_=H+V,t((le=ue.mc)!=null),t(_<=le.i),le.C>=_)_=1;else if(ue.ic||za(),ue.ic){ue=le.V,ge=le.Ba,De=le.c;var ct=le.i,Xe=(Ge=1,fe=le.$/De,pe=le.$%De,Ue=le.m,Ze=le.s,le.$),ut=De*ct,pt=De*_,_t=Ze.wc,bt=Xe<pt?ne(Ze,pe,fe):null;t(Xe<=ut),t(_<=ct),t(J(Ze));t:for(;;){for(;!Ue.h&&Xe<pt;){if(pe&_t||(bt=ne(Ze,pe,fe)),t(bt!=null),se(Ue),256>(ct=jr(bt.G[0],bt.H[0],Ue)))ue[ge+Xe]=ct,++Xe,++pe>=De&&(pe=0,++fe<=_&&!(fe%16)&&Ae(le,fe));else{if(!(280>ct)){Ge=0;break t}ct=Lr(ct-256,Ue);var ar,Gt=jr(bt.G[4],bt.H[4],Ue);if(se(Ue),!(Xe>=(Gt=zt(De,Gt=Lr(Gt,Ue)))&&ut-Xe>=ct)){Ge=0;break t}for(ar=0;ar<ct;++ar)ue[ge+Xe+ar]=ue[ge+Xe+ar-Gt];for(Xe+=ct,pe+=ct;pe>=De;)pe-=De,++fe<=_&&!(fe%16)&&Ae(le,fe);Xe<pt&&pe&_t&&(bt=ne(Ze,pe,fe))}t(Ue.h==q(Ue))}Ae(le,fe>_?_:fe);break t}!Ge||Ue.h&&Xe<ut?(Ge=0,le.a=Ue.h?5:3):le.$=Xe,_=Ge}else _=_e(le,le.V,le.Ba,le.c,le.i,_,at);if(!_){V=0;break e}}H+V>=ie&&(b.Cc=1),V=1}if(!V)return null;if(b.Cc&&((V=b.ga)!=null&&(V.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+H*te}function En(b,_,H,V,te,ie){for(;0<te--;){var le,ue=b,fe=_+(H?1:0),pe=b,Ue=_+(H?0:3);for(le=0;le<V;++le){var Ze=pe[Ue+4*le];Ze!=255&&(Ze*=32897,ue[fe+4*le+0]=ue[fe+4*le+0]*Ze>>23,ue[fe+4*le+1]=ue[fe+4*le+1]*Ze>>23,ue[fe+4*le+2]=ue[fe+4*le+2]*Ze>>23)}_+=ie}}function ks(b,_,H,V,te){for(;0<V--;){var ie;for(ie=0;ie<H;++ie){var le=b[_+2*ie+0],ue=15&(pe=b[_+2*ie+1]),fe=4369*ue,pe=(240&pe|pe>>4)*fe>>16;b[_+2*ie+0]=(240&le|le>>4)*fe>>16&240|(15&le|le<<4)*fe>>16>>4&15,b[_+2*ie+1]=240&pe|ue}_+=te}}function Bs(b,_,H,V,te,ie,le,ue){var fe,pe,Ue=255;for(pe=0;pe<te;++pe){for(fe=0;fe<V;++fe){var Ze=b[_+fe];ie[le+4*fe]=Ze,Ue&=Ze}_+=H,le+=ue}return Ue!=255}function ni(b,_,H,V,te){var ie;for(ie=0;ie<te;++ie)H[V+ie]=b[_+ie]>>8}function za(){Rh=En,aF=ks,oF=Bs,lF=ni}function aa(b,_,H){B[b]=function(V,te,ie,le,ue,fe,pe,Ue,Ze,ge,De,Ge,ct,Xe,ut,pt,_t){var bt,ar=_t-1>>1,Gt=ue[fe+0]|pe[Ue+0]<<16,Nr=Ze[ge+0]|De[Ge+0]<<16;t(V!=null);var Zt=3*Gt+Nr+131074>>2;for(_(V[te+0],255&Zt,Zt>>16,ct,Xe),ie!=null&&(Zt=3*Nr+Gt+131074>>2,_(ie[le+0],255&Zt,Zt>>16,ut,pt)),bt=1;bt<=ar;++bt){var Qr=ue[fe+bt]|pe[Ue+bt]<<16,Us=Ze[ge+bt]|De[Ge+bt]<<16,_r=Gt+Qr+Nr+Us+524296,er=_r+2*(Qr+Nr)>>3;Zt=er+Gt>>1,Gt=(_r=_r+2*(Gt+Us)>>3)+Qr>>1,_(V[te+2*bt-1],255&Zt,Zt>>16,ct,Xe+(2*bt-1)*H),_(V[te+2*bt-0],255&Gt,Gt>>16,ct,Xe+(2*bt-0)*H),ie!=null&&(Zt=_r+Nr>>1,Gt=er+Us>>1,_(ie[le+2*bt-1],255&Zt,Zt>>16,ut,pt+(2*bt-1)*H),_(ie[le+2*bt+0],255&Gt,Gt>>16,ut,pt+(2*bt+0)*H)),Gt=Qr,Nr=Us}1&_t||(Zt=3*Gt+Nr+131074>>2,_(V[te+_t-1],255&Zt,Zt>>16,ct,Xe+(_t-1)*H),ie!=null&&(Zt=3*Nr+Gt+131074>>2,_(ie[le+_t-1],255&Zt,Zt>>16,ut,pt+(_t-1)*H)))}}function Gp(){Ya[Jp]=MY,Ya[Zp]=vF,Ya[hF]=RY,Ya[eg]=yF,Ya[tg]=wF,Ya[jy]=bF,Ya[mF]=OY,Ya[Ty]=vF,Ya[Iy]=yF,Ya[rg]=wF,Ya[ky]=bF}function wf(b){return b&-16384?0>b?0:255:b>>QY}function KA(b,_){return wf((19077*b>>8)+(26149*_>>8)-14234)}function Tc(b,_,H){return wf((19077*b>>8)-(6419*_>>8)-(13320*H>>8)+8708)}function zA(b,_){return wf((19077*b>>8)+(33050*_>>8)-17685)}function GA(b,_,H,V,te){V[te+0]=KA(b,H),V[te+1]=Tc(b,_,H),V[te+2]=zA(b,_)}function VA(b,_,H,V,te){V[te+0]=zA(b,_),V[te+1]=Tc(b,_,H),V[te+2]=KA(b,H)}function yi(b,_,H,V,te){var ie=Tc(b,_,H);_=ie<<3&224|zA(b,_)>>3,V[te+0]=248&KA(b,H)|ie>>5,V[te+1]=_}function WA(b,_,H,V,te){var ie=240&zA(b,_)|15;V[te+0]=240&KA(b,H)|Tc(b,_,H)>>4,V[te+1]=ie}function YA(b,_,H,V,te){V[te+0]=255,GA(b,_,H,V,te+1)}function Sh(b,_,H,V,te){VA(b,_,H,V,te),V[te+3]=255}function Fh(b,_,H,V,te){GA(b,_,H,V,te),V[te+3]=255}function Xn(b,_){return 0>b?0:b>_?_:b}function Ml(b,_,H){B[b]=function(V,te,ie,le,ue,fe,pe,Ue,Ze){for(var ge=Ue+(-2&Ze)*H;Ue!=ge;)_(V[te+0],ie[le+0],ue[fe+0],pe,Ue),_(V[te+1],ie[le+0],ue[fe+0],pe,Ue+H),te+=2,++le,++fe,Ue+=2*H;1&Ze&&_(V[te+0],ie[le+0],ue[fe+0],pe,Ue)}}function bf(b,_,H){return H==0?b==0?_==0?6:5:_==0?4:0:H}function Vp(b,_,H,V,te){switch(b>>>30){case 3:eu(_,H,V,te,0);break;case 2:Va(_,H,V,te);break;case 1:on(_,H,V,te)}}function Ga(b,_){var H,V,te=_.M,ie=_.Nb,le=b.oc,ue=b.pc+40,fe=b.oc,pe=b.pc+584,Ue=b.oc,Ze=b.pc+600;for(H=0;16>H;++H)le[ue+32*H-1]=129;for(H=0;8>H;++H)fe[pe+32*H-1]=129,Ue[Ze+32*H-1]=129;for(0<te?le[ue-1-32]=fe[pe-1-32]=Ue[Ze-1-32]=129:(s(le,ue-32-1,127,21),s(fe,pe-32-1,127,9),s(Ue,Ze-32-1,127,9)),V=0;V<b.za;++V){var ge=_.ya[_.aa+V];if(0<V){for(H=-1;16>H;++H)n(le,ue+32*H-4,le,ue+32*H+12,4);for(H=-1;8>H;++H)n(fe,pe+32*H-4,fe,pe+32*H+4,4),n(Ue,Ze+32*H-4,Ue,Ze+32*H+4,4)}var De=b.Gd,Ge=b.Hd+V,ct=ge.ad,Xe=ge.Hc;if(0<te&&(n(le,ue-32,De[Ge].y,0,16),n(fe,pe-32,De[Ge].f,0,8),n(Ue,Ze-32,De[Ge].ea,0,8)),ge.Za){var ut=le,pt=ue-32+16;for(0<te&&(V>=b.za-1?s(ut,pt,De[Ge].y[15],4):n(ut,pt,De[Ge+1].y,0,4)),H=0;4>H;H++)ut[pt+128+H]=ut[pt+256+H]=ut[pt+384+H]=ut[pt+0+H];for(H=0;16>H;++H,Xe<<=2)ut=le,pt=ue+NF[H],yo[ge.Ob[H]](ut,pt),Vp(Xe,ct,16*+H,ut,pt)}else if(ut=bf(V,te,ge.Ob[0]),Oc[ut](le,ue),Xe!=0)for(H=0;16>H;++H,Xe<<=2)Vp(Xe,ct,16*+H,le,ue+NF[H]);for(H=ge.Gc,ut=bf(V,te,ge.Dd),Ql[ut](fe,pe),Ql[ut](Ue,Ze),Xe=ct,ut=fe,pt=pe,255&(ge=0|H)&&(170&ge?tl(Xe,256,ut,pt):bn(Xe,256,ut,pt)),ge=Ue,Xe=Ze,255&(H>>=8)&&(170&H?tl(ct,320,ge,Xe):bn(ct,320,ge,Xe)),te<b.Ub-1&&(n(De[Ge].y,0,le,ue+480,16),n(De[Ge].f,0,fe,pe+224,8),n(De[Ge].ea,0,Ue,Ze+224,8)),H=8*ie*b.B,De=b.sa,Ge=b.ta+16*V+16*ie*b.R,ct=b.qa,ge=b.ra+8*V+H,Xe=b.Ha,ut=b.Ia+8*V+H,H=0;16>H;++H)n(De,Ge+H*b.R,le,ue+32*H,16);for(H=0;8>H;++H)n(ct,ge+H*b.B,fe,pe+32*H,8),n(Xe,ut+H*b.B,Ue,Ze+32*H,8)}}function XA(b,_,H,V,te,ie,le,ue,fe){var pe=[0],Ue=[0],Ze=0,ge=fe!=null?fe.kd:0,De=fe??new ft;if(b==null||12>H)return 7;De.data=b,De.w=_,De.ha=H,_=[_],H=[H],De.gb=[De.gb];e:{var Ge=_,ct=H,Xe=De.gb;if(t(b!=null),t(ct!=null),t(Xe!=null),Xe[0]=0,12<=ct[0]&&!r(b,Ge[0],"RIFF")){if(r(b,Ge[0]+8,"WEBP")){Xe=3;break e}var ut=we(b,Ge[0]+4);if(12>ut||4294967286<ut){Xe=3;break e}if(ge&&ut>ct[0]-8){Xe=7;break e}Xe[0]=ut,Ge[0]+=12,ct[0]-=12}Xe=0}if(Xe!=0)return Xe;for(ut=0<De.gb[0],H=H[0];;){e:{var pt=b;ct=_,Xe=H;var _t=pe,bt=Ue,ar=Ge=[0];if((Zt=Ze=[Ze])[0]=0,8>Xe[0])Xe=7;else{if(!r(pt,ct[0],"VP8X")){if(we(pt,ct[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Gt=we(pt,ct[0]+8),Nr=1+Me(pt,ct[0]+12);if(2147483648<=Nr*(pt=1+Me(pt,ct[0]+15))){Xe=3;break e}ar!=null&&(ar[0]=Gt),_t!=null&&(_t[0]=Nr),bt!=null&&(bt[0]=pt),ct[0]+=18,Xe[0]-=18,Zt[0]=1}Xe=0}}if(Ze=Ze[0],Ge=Ge[0],Xe!=0)return Xe;if(ct=!!(2&Ge),!ut&&Ze)return 3;if(ie!=null&&(ie[0]=!!(16&Ge)),le!=null&&(le[0]=ct),ue!=null&&(ue[0]=0),le=pe[0],Ge=Ue[0],Ze&&ct&&fe==null){Xe=0;break}if(4>H){Xe=7;break}if(ut&&Ze||!ut&&!Ze&&!r(b,_[0],"ALPH")){H=[H],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Gt=b,Xe=_,ut=H;var Zt=De.gb;_t=De.na,bt=De.P,ar=De.Sa,Nr=22,t(Gt!=null),t(ut!=null),pt=Xe[0];var Qr=ut[0];for(t(_t!=null),t(ar!=null),_t[0]=null,bt[0]=null,ar[0]=0;;){if(Xe[0]=pt,ut[0]=Qr,8>Qr){Xe=7;break e}var Us=we(Gt,pt+4);if(4294967286<Us){Xe=3;break e}var _r=8+Us+1&-2;if(Nr+=_r,0<Zt&&Nr>Zt){Xe=3;break e}if(!r(Gt,pt,"VP8 ")||!r(Gt,pt,"VP8L")){Xe=0;break e}if(Qr[0]<_r){Xe=7;break e}r(Gt,pt,"ALPH")||(_t[0]=Gt,bt[0]=pt+8,ar[0]=Us),pt+=_r,Qr-=_r}}if(H=H[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Xe!=0)break}H=[H],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Zt=b,Xe=_,ut=H,_t=De.gb[0],bt=De.Ja,ar=De.xa,Gt=Xe[0],pt=!r(Zt,Gt,"VP8 "),Nr=!r(Zt,Gt,"VP8L"),t(Zt!=null),t(ut!=null),t(bt!=null),t(ar!=null),8>ut[0])Xe=7;else{if(pt||Nr){if(Zt=we(Zt,Gt+4),12<=_t&&Zt>_t-12){Xe=3;break e}if(ge&&Zt>ut[0]-8){Xe=7;break e}bt[0]=Zt,Xe[0]+=8,ut[0]-=8,ar[0]=Nr}else ar[0]=5<=ut[0]&&Zt[Gt+0]==47&&!(Zt[Gt+4]>>5),bt[0]=ut[0];Xe=0}if(H=H[0],De.Ja=De.Ja[0],De.xa=De.xa[0],_=_[0],Xe!=0)break;if(4294967286<De.Ja)return 3;if(ue==null||ct||(ue[0]=De.xa?2:1),le=[le],Ge=[Ge],De.xa){if(5>H){Xe=7;break}ue=le,ge=Ge,ct=ie,b==null||5>H?b=0:5<=H&&b[_+0]==47&&!(b[_+4]>>5)?(ut=[0],Zt=[0],_t=[0],O(bt=new P,b,_,H),Kr(bt,ut,Zt,_t)?(ue!=null&&(ue[0]=ut[0]),ge!=null&&(ge[0]=Zt[0]),ct!=null&&(ct[0]=_t[0]),b=1):b=0):b=0}else{if(10>H){Xe=7;break}ue=Ge,b==null||10>H||!Oi(b,_+3,H-3)?b=0:(ge=b[_+0]|b[_+1]<<8|b[_+2]<<16,ct=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=De.Ja||!ct||!b?b=0:(le&&(le[0]=ct),ue&&(ue[0]=b),b=1))}if(!b||(le=le[0],Ge=Ge[0],Ze&&(pe[0]!=le||Ue[0]!=Ge)))return 3;fe!=null&&(fe[0]=De,fe.offset=_-fe.w,t(4294967286>_-fe.w),t(fe.offset==fe.ha-H));break}return Xe==0||Xe==7&&Ze&&fe==null?(ie!=null&&(ie[0]|=De.na!=null&&0<De.na.length),V!=null&&(V[0]=le),te!=null&&(te[0]=Ge),0):Xe}function jh(b,_,H){var V=_.width,te=_.height,ie=0,le=0,ue=V,fe=te;if(_.Da=b!=null&&0<b.Da,_.Da&&(ue=b.cd,fe=b.bd,ie=b.v,le=b.j,11>H||(ie&=-2,le&=-2),0>ie||0>le||0>=ue||0>=fe||ie+ue>V||le+fe>te))return 0;if(_.v=ie,_.j=le,_.va=ie+ue,_.o=le+fe,_.U=ue,_.T=fe,_.da=b!=null&&0<b.da,_.da){if(!be(ue,fe,H=[b.ib],ie=[b.hb]))return 0;_.ib=H[0],_.hb=ie[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*V/4&&_.hb<3*te/4,_.Kb=0),1}function Th(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function Ic(b,_,H,V){if(V==null||0>=b||0>=_)return 2;if(H!=null){if(H.Da){var te=H.cd,ie=H.bd,le=-2&H.v,ue=-2&H.j;if(0>le||0>ue||0>=te||0>=ie||le+te>b||ue+ie>_)return 2;b=te,_=ie}if(H.da){if(!be(b,_,te=[H.ib],ie=[H.hb]))return 2;b=te[0],_=ie[0]}}V.width=b,V.height=_;e:{var fe=V.width,pe=V.height;if(b=V.S,0>=fe||0>=pe||!(b>=Jp&&13>b))b=2;else{if(0>=V.Rd&&V.sd==null){le=ie=te=_=0;var Ue=(ue=fe*_F[b])*pe;if(11>b||(ie=(pe+1)/2*(_=(fe+1)/2),b==12&&(le=(te=fe)*pe)),(pe=i(Ue+2*ie+le))==null){b=1;break e}V.sd=pe,11>b?((fe=V.f.RGBA).eb=pe,fe.fb=0,fe.A=ue,fe.size=Ue):((fe=V.f.kb).y=pe,fe.O=0,fe.fa=ue,fe.Fd=Ue,fe.f=pe,fe.N=0+Ue,fe.Ab=_,fe.Cd=ie,fe.ea=pe,fe.W=0+Ue+ie,fe.Db=_,fe.Ed=ie,b==12&&(fe.F=pe,fe.J=0+Ue+2*ie),fe.Tc=le,fe.lb=te)}if(_=1,te=V.S,ie=V.width,le=V.height,te>=Jp&&13>te)if(11>te)b=V.f.RGBA,_&=(ue=Math.abs(b.A))*(le-1)+ie<=b.size,_&=ue>=ie*_F[te],_&=b.eb!=null;else{b=V.f.kb,ue=(ie+1)/2,Ue=(le+1)/2,fe=Math.abs(b.fa),pe=Math.abs(b.Ab);var Ze=Math.abs(b.Db),ge=Math.abs(b.lb),De=ge*(le-1)+ie;_&=fe*(le-1)+ie<=b.Fd,_&=pe*(Ue-1)+ue<=b.Cd,_=(_&=Ze*(Ue-1)+ue<=b.Ed)&fe>=ie&pe>=ue&Ze>=ue,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,te==12&&(_&=ge>=ie,_&=De<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||H!=null&&H.fd&&(b=Th(V)),b}var JA=64,ba=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ba=24,kc=32,Rl=8,Lc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(b){return b},B.Predictor2=function(b,_,H){return _[H+0]},B.Predictor3=function(b,_,H){return _[H+1]},B.Predictor4=function(b,_,H){return _[H-1]},B.Predictor5=function(b,_,H){return me(me(b,_[H+1]),_[H+0])},B.Predictor6=function(b,_,H){return me(b,_[H-1])},B.Predictor7=function(b,_,H){return me(b,_[H+0])},B.Predictor8=function(b,_,H){return me(_[H-1],_[H+0])},B.Predictor9=function(b,_,H){return me(_[H+0],_[H+1])},B.Predictor10=function(b,_,H){return me(me(b,_[H-1]),me(_[H+0],_[H+1]))},B.Predictor11=function(b,_,H){var V=_[H+0];return 0>=Te(V>>24&255,b>>24&255,(_=_[H-1])>>24&255)+Te(V>>16&255,b>>16&255,_>>16&255)+Te(V>>8&255,b>>8&255,_>>8&255)+Te(255&V,255&b,255&_)?V:b},B.Predictor12=function(b,_,H){var V=_[H+0];return($e((b>>24&255)+(V>>24&255)-((_=_[H-1])>>24&255))<<24|$e((b>>16&255)+(V>>16&255)-(_>>16&255))<<16|$e((b>>8&255)+(V>>8&255)-(_>>8&255))<<8|$e((255&b)+(255&V)-(255&_)))>>>0},B.Predictor13=function(b,_,H){var V=_[H-1];return(Re((b=me(b,_[H+0]))>>24&255,V>>24&255)<<24|Re(b>>16&255,V>>16&255)<<16|Re(b>>8&255,V>>8&255)<<8|Re(255&b,255&V))>>>0};var Ih=B.PredictorAdd0;B.PredictorAdd1=ve,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var Bf=B.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var us,Wp=B.ColorIndexInverseTransform,Zo=B.MapARGB,el=B.VP8LColorIndexInverseTransformAlpha,kh=B.MapAlpha,Lh=B.VP8LPredictorsAdd=[];Lh.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Uh,Ph,Uc,Pc,Mc,ZA,Rc,eu,Va,tl,on,bn,fs,Ls,Ol,Mh,Nf,Yp,eF,tF,rF,nF,sF,iF,Rh,aF,oF,lF,cF=i(511),AF=i(2041),uF=i(225),fF=i(767),dF=0,Fy=AF,Xp=uF,Na=fF,Wa=cF,Jp=0,Zp=1,hF=2,eg=3,tg=4,jy=5,mF=6,Ty=7,Iy=8,rg=9,ky=10,BY=[2,3,7],NY=[3,3,11],pF=[280,256,256,256,40],_Y=[0,1,1,1,0],CY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],EY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],SY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],FY=8,Ly=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Uy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Oh=null,jY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],TY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gF=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],IY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],UY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oc=[],yo=[],Ql=[],PY=1,xF=2,Qc=[],Ya=[];aa("UpsampleRgbLinePair",GA,3),aa("UpsampleBgrLinePair",VA,3),aa("UpsampleRgbaLinePair",Fh,4),aa("UpsampleBgraLinePair",Sh,4),aa("UpsampleArgbLinePair",YA,4),aa("UpsampleRgba4444LinePair",WA,2),aa("UpsampleRgb565LinePair",yi,2);var MY=B.UpsampleRgbLinePair,RY=B.UpsampleBgrLinePair,vF=B.UpsampleRgbaLinePair,yF=B.UpsampleBgraLinePair,wF=B.UpsampleArgbLinePair,bF=B.UpsampleRgba4444LinePair,OY=B.UpsampleRgb565LinePair,ng=16,sg=1<<ng-1,Qh=-227,Py=482,QY=6,BF=0,DY=i(256),HY=i(256),$Y=i(256),qY=i(256),KY=i(Py-Qh),zY=i(Py-Qh);Ml("YuvToRgbRow",GA,3),Ml("YuvToBgrRow",VA,3),Ml("YuvToRgbaRow",Fh,4),Ml("YuvToBgraRow",Sh,4),Ml("YuvToArgbRow",YA,4),Ml("YuvToRgba4444Row",WA,2),Ml("YuvToRgb565Row",yi,2);var NF=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ig=[0,2,8],GY=[8,7,6,4,4,2,2,2,1,1,1,1],VY=1;this.WebPDecodeRGBA=function(b,_,H,V,te){var ie=Zp,le=new qe,ue=new Ut;le.ba=ue,ue.S=ie,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,pe=ue.height,Ue=new Ct;if(Ue==null||b==null)var Ze=2;else t(Ue!=null),Ze=XA(b,_,H,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(Ze!=0?fe=0:(fe!=null&&(fe[0]=Ue.width[0]),pe!=null&&(pe[0]=Ue.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],V!=null&&(V[0]=ue.width),te!=null&&(te[0]=ue.height);e:{if(V=new rr,(te=new ft).data=b,te.w=_,te.ha=H,te.kd=1,_=[0],t(te!=null),((b=XA(te.data,te.w,te.ha,null,null,null,_,null,te))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(le!=null),V.data=te.data,V.w=te.w+te.offset,V.ha=te.ha-te.offset,V.put=qt,V.ac=Rn,V.bc=As,V.ma=le,te.xa){if((b=Ne())==null){le=1;break e}if(function(ge,De){var Ge=[0],ct=[0],Xe=[0];t:for(;;){if(ge==null)return 0;if(De==null)return ge.a=2,0;if(ge.l=De,ge.a=0,O(ge.m,De.data,De.w,De.ha),!Kr(ge.m,Ge,ct,Xe)){ge.a=3;break t}if(ge.xb=xF,De.width=Ge[0],De.height=ct[0],!Ee(Ge[0],ct[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(b,V)){if(V=(_=Ic(V.width,V.height,le.Oa,le.ba))==0){t:{V=b;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((H=V.l)!=null),t((te=H.ma)!=null),V.xb!=0){if(V.ca=te.ba,V.tb=te.tb,t(V.ca!=null),!jh(te.Oa,H,eg)){V.a=2;break r}if(!Qe(V,H.width)||H.da)break r;if((H.da||Ke(V.ca.S))&&za(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&za()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!oe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!_e(V,V.V,V.Ba,V.c,V.i,H.o,Y))break r;te.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(_=b.a)}else _=b.a}else{if((b=new en)==null){le=1;break e}if(b.Fa=te.na,b.P=te.P,b.qc=te.Sa,Wn(b,V)){if((_=Ic(V.width,V.height,le.Oa,le.ba))==0){if(b.Aa=0,H=le.Oa,t((te=b)!=null),H!=null){if(0<(fe=0>(fe=H.Md)?0:100<fe?255:255*fe/100)){for(pe=Ue=0;4>pe;++pe)12>(Ze=te.pb[pe]).lc&&(Ze.ia=fe*GY[0>Ze.lc?0:Ze.lc]>>3),Ue|=Ze.ia;Ue&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=H.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(ge,De){if(ge==null)return 0;if(De==null)return zr(ge,2,"NULL VP8Io parameter in VP8Decode().");if(!ge.cb&&!Wn(ge,De))return 0;if(t(ge.cb),De.ac==null||De.ac(De)){De.ob&&(ge.L=0);var Ge=ig[ge.L];if(ge.L==2?(ge.yb=0,ge.zb=0):(ge.yb=De.v-Ge>>4,ge.zb=De.j-Ge>>4,0>ge.yb&&(ge.yb=0),0>ge.zb&&(ge.zb=0)),ge.Va=De.o+15+Ge>>4,ge.Hb=De.va+15+Ge>>4,ge.Hb>ge.za&&(ge.Hb=ge.za),ge.Va>ge.Ub&&(ge.Va=ge.Ub),0<ge.L){var ct=ge.ed;for(Ge=0;4>Ge;++Ge){var Xe;if(ge.Qa.Cb){var ut=ge.Qa.Lb[Ge];ge.Qa.Fb||(ut+=ct.Tb)}else ut=ct.Tb;for(Xe=0;1>=Xe;++Xe){var pt=ge.gd[Ge][Xe],_t=ut;if(ct.Pc&&(_t+=ct.vd[0],Xe&&(_t+=ct.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var bt=_t;0<ct.wb&&(bt=4<ct.wb?bt>>2:bt>>1)>9-ct.wb&&(bt=9-ct.wb),1>bt&&(bt=1),pt.dd=bt,pt.tc=2*_t+bt,pt.ld=40<=_t?2:15<=_t?1:0}else pt.tc=0;pt.La=Xe}}}Ge=0}else zr(ge,6,"Frame setup failed"),Ge=ge.a;if(Ge=Ge==0){if(Ge){ge.$c=0,0<ge.Aa||(ge.Ic=VY);t:{Ge=ge.Ic,ct=4*(bt=ge.za);var ar=32*bt,Gt=bt+1,Nr=0<ge.L?bt*(0<ge.Aa?2:1):0,Zt=(ge.Aa==2?2:1)*bt;if((pt=ct+832+(Xe=3*(16*Ge+ig[ge.L])/2*ar)+(ut=ge.Fa!=null&&0<ge.Fa.length?ge.Kc.c*ge.Kc.i:0))!=pt)Ge=0;else{if(pt>ge.Vb){if(ge.Vb=0,ge.Ec=i(pt),ge.Fc=0,ge.Ec==null){Ge=zr(ge,1,"no memory during frame initialization.");break t}ge.Vb=pt}pt=ge.Ec,_t=ge.Fc,ge.Ac=pt,ge.Bc=_t,_t+=ct,ge.Gd=a(ar,hr),ge.Hd=0,ge.rb=a(Gt+1,Rt),ge.sb=1,ge.wa=Nr?a(Nr,At):null,ge.Y=0,ge.D.Nb=0,ge.D.wa=ge.wa,ge.D.Y=ge.Y,0<ge.Aa&&(ge.D.Y+=bt),t(!0),ge.oc=pt,ge.pc=_t,_t+=832,ge.ya=a(Zt,Xt),ge.aa=0,ge.D.ya=ge.ya,ge.D.aa=ge.aa,ge.Aa==2&&(ge.D.aa+=bt),ge.R=16*bt,ge.B=8*bt,bt=(ar=ig[ge.L])*ge.R,ar=ar/2*ge.B,ge.sa=pt,ge.ta=_t+bt,ge.qa=ge.sa,ge.ra=ge.ta+16*Ge*ge.R+ar,ge.Ha=ge.qa,ge.Ia=ge.ra+8*Ge*ge.B+ar,ge.$c=0,_t+=Xe,ge.mb=ut?pt:null,ge.nb=ut?_t:null,t(_t+ut<=ge.Fc+ge.Vb),Wr(ge),s(ge.Ac,ge.Bc,0,ct),Ge=1}}if(Ge){if(De.ka=0,De.y=ge.sa,De.O=ge.ta,De.f=ge.qa,De.N=ge.ra,De.ea=ge.Ha,De.Vd=ge.Ia,De.fa=ge.R,De.Rc=ge.B,De.F=null,De.J=0,!dF){for(Ge=-255;255>=Ge;++Ge)cF[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)AF[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)uF[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)fF[255+Ge]=0>Ge?0:255<Ge?255:Ge;dF=1}Rc=an,eu=Wo,tl=Fc,on=ri,bn=Ur,Va=sa,fs=qp,Ls=Kp,Ol=R,Mh=Z,Nf=qA,Yp=zp,eF=xe,tF=Ie,rF=Eh,nF=$A,sF=Hp,iF=$p,yo[0]=bh,yo[1]=In,yo[2]=ia,yo[3]=mf,yo[4]=pf,yo[5]=Ll,yo[6]=kl,yo[7]=Cy,yo[8]=gf,yo[9]=Ey,Oc[0]=vo,Oc[1]=Yo,Oc[2]=Qi,Oc[3]=jc,Oc[4]=hf,Oc[5]=Jo,Oc[6]=mt,Ql[0]=vf,Ql[1]=vi,Ql[2]=Bh,Ql[3]=QA,Ql[4]=Nh,Ql[5]=Sy,Ql[6]=_h,Ge=1}else Ge=0}Ge&&(Ge=function(Qr,Us){for(Qr.M=0;Qr.M<Qr.Va;++Qr.M){var _r,er=Qr.Jc[Qr.M&Qr.Xb],Pt=Qr.m,ds=Qr;for(_r=0;_r<ds.za;++_r){var yr=Pt,$r=ds,kn=$r.Ac,si=$r.Bc+4*_r,Di=$r.zc,Jn=$r.ya[$r.aa+_r];if($r.Qa.Bb?Jn.$b=ee(yr,$r.Pa.jb[0])?2+ee(yr,$r.Pa.jb[2]):ee(yr,$r.Pa.jb[1]):Jn.$b=0,$r.kc&&(Jn.Ad=ee(yr,$r.Bd)),Jn.Za=!ee(yr,145)+0,Jn.Za){var wi=Jn.Ob,Hi=0;for($r=0;4>$r;++$r){var Ps,Gr=Di[0+$r];for(Ps=0;4>Ps;++Ps){Gr=kY[kn[si+Ps]][Gr];for(var An=gF[ee(yr,Gr[0])];0<An;)An=gF[2*An+ee(yr,Gr[An])];Gr=-An,kn[si+Ps]=Gr}n(wi,Hi,kn,si,4),Hi+=4,Di[0+$r]=Gr}}else Gr=ee(yr,156)?ee(yr,128)?1:3:ee(yr,163)?2:0,Jn.Ob[0]=Gr,s(kn,si,Gr,4),s(Di,0,Gr,4);Jn.Dd=ee(yr,142)?ee(yr,114)?ee(yr,183)?1:3:2:0}if(ds.m.Ka)return zr(Qr,7,"Premature end-of-partition0 encountered.");for(;Qr.ja<Qr.za;++Qr.ja){if(ds=er,yr=(Pt=Qr).rb[Pt.sb-1],kn=Pt.rb[Pt.sb+Pt.ja],_r=Pt.ya[Pt.aa+Pt.ja],si=Pt.kc?_r.Ad:0)yr.la=kn.la=0,_r.Za||(yr.Na=kn.Na=0),_r.Hc=0,_r.Gc=0,_r.ia=0;else{var Zn,un;if(yr=kn,kn=ds,si=Pt.Pa.Xc,Di=Pt.ya[Pt.aa+Pt.ja],Jn=Pt.pb[Di.$b],$r=Di.ad,wi=0,Hi=Pt.rb[Pt.sb-1],Gr=Ps=0,s($r,wi,0,384),Di.Za)var ii=0,wo=si[3];else{An=i(16);var hs=yr.Na+Hi.Na;if(hs=Oh(kn,si[1],hs,Jn.Eb,0,An,0),yr.Na=Hi.Na=(0<hs)+0,1<hs)Rc(An,0,$r,wi);else{var oa=An[0]+3>>3;for(An=0;256>An;An+=16)$r[wi+An]=oa}ii=1,wo=si[0]}var Bn=15&yr.la,Ms=15&Hi.la;for(An=0;4>An;++An){var _a=1&Ms;for(oa=un=0;4>oa;++oa)Bn=Bn>>1|(_a=(hs=Oh(kn,wo,hs=_a+(1&Bn),Jn.Sc,ii,$r,wi))>ii)<<7,un=un<<2|(3<hs?3:1<hs?2:$r[wi+0]!=0),wi+=16;Bn>>=4,Ms=Ms>>1|_a<<7,Ps=(Ps<<8|un)>>>0}for(wo=Bn,ii=Ms>>4,Zn=0;4>Zn;Zn+=2){for(un=0,Bn=yr.la>>4+Zn,Ms=Hi.la>>4+Zn,An=0;2>An;++An){for(_a=1&Ms,oa=0;2>oa;++oa)hs=_a+(1&Bn),Bn=Bn>>1|(_a=0<(hs=Oh(kn,si[2],hs,Jn.Qc,0,$r,wi)))<<3,un=un<<2|(3<hs?3:1<hs?2:$r[wi+0]!=0),wi+=16;Bn>>=2,Ms=Ms>>1|_a<<5}Gr|=un<<4*Zn,wo|=Bn<<4<<Zn,ii|=(240&Ms)<<Zn}yr.la=wo,Hi.la=ii,Di.Hc=Ps,Di.Gc=Gr,Di.ia=43690&Gr?0:Jn.ia,si=!(Ps|Gr)}if(0<Pt.L&&(Pt.wa[Pt.Y+Pt.ja]=Pt.gd[_r.$b][_r.Za],Pt.wa[Pt.Y+Pt.ja].La|=!si),ds.Ka)return zr(Qr,7,"Premature end-of-file encountered.")}if(Wr(Qr),Pt=Us,ds=1,_r=(er=Qr).D,yr=0<er.L&&er.M>=er.zb&&er.M<=er.Va,er.Aa==0)t:{if(_r.M=er.M,_r.uc=yr,Ga(er,_r),ds=1,_r=(un=er.D).Nb,yr=(Gr=ig[er.L])*er.R,kn=Gr/2*er.B,An=16*_r*er.R,oa=8*_r*er.B,si=er.sa,Di=er.ta-yr+An,Jn=er.qa,$r=er.ra-kn+oa,wi=er.Ha,Hi=er.Ia-kn+oa,Ms=(Bn=un.M)==0,Ps=Bn>=er.Va-1,er.Aa==2&&Ga(er,un),un.uc)for(_a=(hs=er).D.M,t(hs.D.uc),un=hs.yb;un<hs.Hb;++un){ii=un,wo=_a;var $i=(Ca=(ai=hs).D).Nb;Zn=ai.R;var Ca=Ca.wa[Ca.Y+ii],Ea=ai.sa,la=ai.ta+16*$i*Zn+16*ii,Sa=Ca.dd,Sn=Ca.tc;if(Sn!=0)if(t(3<=Sn),ai.L==1)0<ii&&nF(Ea,la,Zn,Sn+4),Ca.La&&iF(Ea,la,Zn,Sn),0<wo&&rF(Ea,la,Zn,Sn+4),Ca.La&&sF(Ea,la,Zn,Sn);else{var Fa=ai.B,bo=ai.qa,tu=ai.ra+8*$i*Fa+8*ii,Dl=ai.Ha,ai=ai.Ia+8*$i*Fa+8*ii;$i=Ca.ld,0<ii&&(Ls(Ea,la,Zn,Sn+4,Sa,$i),Mh(bo,tu,Dl,ai,Fa,Sn+4,Sa,$i)),Ca.La&&(Yp(Ea,la,Zn,Sn,Sa,$i),tF(bo,tu,Dl,ai,Fa,Sn,Sa,$i)),0<wo&&(fs(Ea,la,Zn,Sn+4,Sa,$i),Ol(bo,tu,Dl,ai,Fa,Sn+4,Sa,$i)),Ca.La&&(Nf(Ea,la,Zn,Sn,Sa,$i),eF(bo,tu,Dl,ai,Fa,Sn,Sa,$i))}}if(er.ia&&alert("todo:DitherRow"),Pt.put!=null){if(un=16*Bn,Bn=16*(Bn+1),Ms?(Pt.y=er.sa,Pt.O=er.ta+An,Pt.f=er.qa,Pt.N=er.ra+oa,Pt.ea=er.Ha,Pt.W=er.Ia+oa):(un-=Gr,Pt.y=si,Pt.O=Di,Pt.f=Jn,Pt.N=$r,Pt.ea=wi,Pt.W=Hi),Ps||(Bn-=Gr),Bn>Pt.o&&(Bn=Pt.o),Pt.F=null,Pt.J=null,er.Fa!=null&&0<er.Fa.length&&un<Bn&&(Pt.J=bs(er,Pt,un,Bn-un),Pt.F=er.mb,Pt.F==null&&Pt.F.length==0)){ds=zr(er,3,"Could not decode alpha data.");break t}un<Pt.j&&(Gr=Pt.j-un,un=Pt.j,t(!(1&Gr)),Pt.O+=er.R*Gr,Pt.N+=er.B*(Gr>>1),Pt.W+=er.B*(Gr>>1),Pt.F!=null&&(Pt.J+=Pt.width*Gr)),un<Bn&&(Pt.O+=Pt.v,Pt.N+=Pt.v>>1,Pt.W+=Pt.v>>1,Pt.F!=null&&(Pt.J+=Pt.v),Pt.ka=un-Pt.j,Pt.U=Pt.va-Pt.v,Pt.T=Bn-un,ds=Pt.put(Pt))}_r+1!=er.Ic||Ps||(n(er.sa,er.ta-yr,si,Di+16*er.R,yr),n(er.qa,er.ra-kn,Jn,$r+8*er.B,kn),n(er.Ha,er.Ia-kn,wi,Hi+8*er.B,kn))}if(!ds)return zr(Qr,6,"Output aborted.")}return 1}(ge,De)),De.bc!=null&&De.bc(De),Ge&=1}return Ge?(ge.cb=0,Ge):0})(b,V)||(_=b.a)}}else _=b.a}_==0&&le.Oa!=null&&le.Oa.fd&&(_=Th(le.ba))}le=_}ie=le!=0?null:11>ie?ue.f.RGBA.eb:ue.f.kb.y}else ie=null;return ie};var _F=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,C){for(var N="",k=0;k<4;k++)N+=String.fromCharCode(B[C++]);return N}function A(B,C){return B[C+0]|B[C+1]<<8}function f(B,C){return(B[C+0]|B[C+1]<<8|B[C+2]<<16)>>>0}function d(B,C){return(B[C+0]|B[C+1]<<8|B[C+2]<<16|B[C+3]<<24)>>>0}new c;var h=[0],g=[0],p=[],m=new c,x=e,v=function(B,C){var N={},k=0,E=!1,U=0,D=0;if(N.frames=[],!function(F,P){for(var L=0;L<4;L++)if(F[P+L]!="RIFF".charCodeAt(L))return!0;return!1}(B,C)){for(d(B,C+=4),C+=8;C<B.length;){var M=u(B,C),Q=d(B,C+=4);C+=4;var K=Q+(1&Q);switch(M){case"VP8 ":case"VP8L":N.frames[k]===void 0&&(N.frames[k]={}),(G=N.frames[k]).src_off=E?D:C-8,G.src_size=U+Q+8,k++,E&&(E=!1,U=0,D=0);break;case"VP8X":(G=N.header={}).feature_flags=B[C];var O=C+4;G.canvas_width=1+f(B,O),O+=3,G.canvas_height=1+f(B,O),O+=3;break;case"ALPH":E=!0,U=K+8,D=C-8;break;case"ANIM":(G=N.header).bgcolor=d(B,C),O=C+4,G.loop_count=A(B,O),O+=2;break;case"ANMF":var z,G;(G=N.frames[k]={}).offset_x=2*f(B,C),C+=3,G.offset_y=2*f(B,C),C+=3,G.width=1+f(B,C),C+=3,G.height=1+f(B,C),C+=3,G.duration=f(B,C),C+=3,z=B[C++],G.dispose=1&z,G.blend=z>>1&1}M!="ANMF"&&(C+=K)}return N}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,w=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],g=[y.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var T=w[0],j=m.WebPDecodeRGBA(x,T.src_off,T.src_size,g,h);T.rgba=j,T.imgwidth=g[0],T.imgheight=h[0];for(var I=0;I<g[0]*h[0]*4;I++)p[I]=j[I];return this.width=g,this.height=h,this.data=p,this}(function(e){var t,r,n,s,i,a,o,c,u,A=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new A}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=F;Object.defineProperty(this,"pdf",{get:function(){return P}});var L=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return L},set:function(we){L=!!we}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(we){q=!!we}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(we){isNaN(we)||(X=we)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(we){isNaN(we)||(se=we)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(we){var oe;typeof we=="number"?oe=[we,we,we,we]:((oe=new Array(4))[0]=we[0],oe[1]=we.length>=2?we[1]:oe[0],oe[2]=we.length>=3?we[2]:oe[0],oe[3]=we.length>=4?we[3]:oe[1]),u.margin=oe}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(we){ae=we}});var W=0;Object.defineProperty(this,"lastBreak",{get:function(){return W},set:function(we){W=we}});var ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ee},set:function(we){ee=we}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(we){we instanceof A&&(u=we)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(we){u.path=we}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(we){Ce=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var oe;oe=d(we),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var oe=d(we);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var ye=null,Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(we){ye=null,Me=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var oe;if(this.ctx.font=we,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var ze=oe[1];oe[2];var de=oe[3],be=oe[4];oe[5];var Be=oe[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(et==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var rt=function(Se){var Fe,lt,We=[],He=Se.trim();if(He==="")return MN;if(He in CR)return[CR[He]];for(;He!=="";){switch(lt=null,Fe=(He=SR(He)).charAt(0)){case'"':case"'":lt=jke(He.substring(1),Fe);break;default:lt=Tke(He)}if(lt===null||(We.push(lt[0]),(He=SR(lt[1]))!==""&&He.charAt(0)!==","))return MN;He=He.replace(/^,/,"")}return We}(Be);if(this.fontFaces){var Nt=function(Se,Fe){if(ye===null){var lt=function(We){var He=[];return Object.keys(We).forEach(function(tt){We[tt].forEach(function(xt){var nt=null;switch(xt){case"bold":nt={family:tt,weight:"bold"};break;case"italic":nt={family:tt,style:"italic"};break;case"bolditalic":nt={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:tt}}nt!==null&&(nt.ref={name:tt,style:xt},He.push(nt))})}),He}(Se.getFontList());ye=function(We){for(var He={},tt=0;tt<We.length;++tt){var xt=PN(We[tt]),nt=xt.family,Ye=xt.stretch,Ke=xt.style,Lt=xt.weight;He[nt]=He[nt]||{},He[nt][Ye]=He[nt][Ye]||{},He[nt][Ye][Ke]=He[nt][Ye][Ke]||{},He[nt][Ye][Ke][Lt]=xt}return He}(lt.concat(Fe))}return ye}(this.pdf,this.fontFaces),me=rt.map(function(Se){return{family:Se,stretch:"normal",weight:de,style:ze}}),$e=function(Se,Fe,lt){for(var We=(lt=lt||{}).defaultFontFamily||"times",He=Object.assign({},Fke,lt.genericFontFamilies||{}),tt=null,xt=null,nt=0;nt<Fe.length;++nt)if(He[(tt=PN(Fe[nt])).family]&&(tt.family=He[tt.family]),Se.hasOwnProperty(tt.family)){xt=Se[tt.family];break}if(!(xt=xt||Se[We]))throw new Error("Could not find a font-family for the rule '"+ER(tt)+"' and default family '"+We+"'.");if(xt=function(Ye,Ke){if(Ke[Ye])return Ke[Ye];var Lt=YC[Ye],Et=Lt<=YC.normal?-1:1,Ut=_R(Ke,rY,Lt,Et);if(!Ut)throw new Error("Could not find a matching font-stretch value for "+Ye);return Ut}(tt.stretch,xt),xt=function(Ye,Ke){if(Ke[Ye])return Ke[Ye];for(var Lt=tY[Ye],Et=0;Et<Lt.length;++Et)if(Ke[Lt[Et]])return Ke[Lt[Et]];throw new Error("Could not find a matching font-style for "+Ye)}(tt.style,xt),!(xt=function(Ye,Ke){if(Ke[Ye])return Ke[Ye];if(Ye===400&&Ke[500])return Ke[500];if(Ye===500&&Ke[400])return Ke[400];var Lt=Ske[Ye],Et=_R(Ke,nY,Lt,Ye<400?-1:1);if(!Et)throw new Error("Could not find a matching font-weight for value "+Ye);return Et}(tt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+ER(tt)+"'.");return xt}(Nt,me);this.pdf.setFont($e.ref.name,$e.ref.style)}else{var Re="";(de==="bold"||parseInt(de,10)>=700||ze==="bold")&&(Re="bold"),ze==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Te="",ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<rt.length;it++){if(this.pdf.internal.getFont(rt[it],Re,{noFallback:!0,disableWarning:!0})!==void 0){Te=rt[it];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(rt[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Te=rt[it],Re="bold";else if(this.pdf.internal.getFont(rt[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Te=rt[it],Re="normal";break}}if(Te===""){for(var Oe=0;Oe<rt.length;Oe++)if(ve[rt[Oe]]){Te=ve[rt[Oe]];break}}Te=Te===""?"Times":Te,this.pdf.setFont(Te,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,P){if(isNaN(F)||isNaN(P))throw Nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var L=this.ctx.transform.applyToPoint(new a(F,P));this.path.push({type:"mt",x:L.x,y:L.y}),this.ctx.lastPoint=new a(F,P)},f.prototype.closePath=function(){var F=new a(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&pn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){F=new a(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},f.prototype.lineTo=function(F,P){if(isNaN(F)||isNaN(P))throw Nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var L=this.ctx.transform.applyToPoint(new a(F,P));this.path.push({type:"lt",x:L.x,y:L.y}),this.ctx.lastPoint=new a(L.x,L.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,P,L,q){if(isNaN(L)||isNaN(q)||isNaN(F)||isNaN(P))throw Nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new a(L,q)),se=this.ctx.transform.applyToPoint(new a(F,P));this.path.push({type:"qct",x1:se.x,y1:se.y,x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},f.prototype.bezierCurveTo=function(F,P,L,q,X,se){if(isNaN(X)||isNaN(se)||isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q))throw Nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new a(X,se)),W=this.ctx.transform.applyToPoint(new a(F,P)),ee=this.ctx.transform.applyToPoint(new a(L,q));this.path.push({type:"bct",x1:W.x,y1:W.y,x2:ee.x,y2:ee.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},f.prototype.arc=function(F,P,L,q,X,se){if(isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q)||isNaN(X))throw Nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new a(F,P));F=ae.x,P=ae.y;var W=this.ctx.transform.applyToPoint(new a(0,L)),ee=this.ctx.transform.applyToPoint(new a(0,0));L=Math.sqrt(Math.pow(W.x-ee.x,2)+Math.pow(W.y-ee.y,2))}Math.abs(X-q)>=2*Math.PI&&(q=0,X=2*Math.PI),this.path.push({type:"arc",x:F,y:P,radius:L,startAngle:q,endAngle:X,counterclockwise:se})},f.prototype.arcTo=function(F,P,L,q,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,P,L,q){if(isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q))throw Nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,P),this.lineTo(F+L,P),this.lineTo(F+L,P+q),this.lineTo(F,P+q),this.lineTo(F,P),this.lineTo(F+L,P),this.lineTo(F,P)},f.prototype.fillRect=function(F,P,L,q){if(isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q))throw Nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,P,L,q),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(F,P,L,q){if(isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q))throw Nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(F,P,L,q),this.stroke())},f.prototype.clearRect=function(F,P,L,q){if(isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q))throw Nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,P,L,q))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("Q");this.pdf.setPage(P),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(F){var P,L,q,X;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))P=0,L=0,q=0,X=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(se!==null)P=parseInt(se[1]),L=parseInt(se[2]),q=parseInt(se[3]),X=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)P=parseInt(se[1]),L=parseInt(se[2]),q=parseInt(se[3]),X=parseFloat(se[4]);else{if(X=1,typeof F=="string"&&F.charAt(0)!=="#"){var ae=new VW(F);F=ae.ok?ae.toHex():"#000000"}F.length===4?(P=F.substring(1,2),P+=P,L=F.substring(2,3),L+=L,q=F.substring(3,4),q+=q):(P=F.substring(1,3),L=F.substring(3,5),q=F.substring(5,7)),P=parseInt(P,16),L=parseInt(L,16),q=parseInt(q,16)}}return{r:P,g:L,b:q,a:X,style:F}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,P,L,q){if(isNaN(P)||isNaN(L)||typeof F!="string")throw Nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!h.call(this)){var X=K(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:F,x:P,y:L,scale:se,angle:X,align:this.textAlign,maxWidth:q})}},f.prototype.strokeText=function(F,P,L,q){if(isNaN(P)||isNaN(L)||typeof F!="string")throw Nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){q=isNaN(q)?void 0:q;var X=K(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:F,x:P,y:L,scale:se,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:q})}},f.prototype.measureText=function(F){if(typeof F!="string")throw Nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,L=this.pdf.internal.scaleFactor,q=P.internal.getFontSize(),X=P.getStringUnitWidth(F)*q/P.internal.scaleFactor;return new function(se){var ae=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this}({width:X*=Math.round(96*L/72*1e4)/1e4})},f.prototype.scale=function(F,P){if(isNaN(F)||isNaN(P))throw Nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var L=new c(F,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(L)},f.prototype.rotate=function(F){if(isNaN(F))throw Nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},f.prototype.translate=function(F,P){if(isNaN(F)||isNaN(P))throw Nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var L=new c(1,0,0,1,F,P);this.ctx.transform=this.ctx.transform.multiply(L)},f.prototype.transform=function(F,P,L,q,X,se){if(isNaN(F)||isNaN(P)||isNaN(L)||isNaN(q)||isNaN(X)||isNaN(se))throw Nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new c(F,P,L,q,X,se);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.setTransform=function(F,P,L,q,X,se){F=isNaN(F)?1:F,P=isNaN(P)?0:P,L=isNaN(L)?0:L,q=isNaN(q)?1:q,X=isNaN(X)?0:X,se=isNaN(se)?0:se,this.ctx.transform=new c(F,P,L,q,X,se)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,P,L,q,X,se,ae,W,ee){var Ce=this.pdf.getImageProperties(F),ye=1,Me=1,we=1,oe=1;q!==void 0&&W!==void 0&&(we=W/q,oe=ee/X,ye=Ce.width/q*W/q,Me=Ce.height/X*ee/X),se===void 0&&(se=P,ae=L,P=0,L=0),q!==void 0&&W===void 0&&(W=q,ee=X),q===void 0&&W===void 0&&(W=Ce.width,ee=Ce.height);for(var ze,de=this.ctx.transform.decompose(),be=K(de.rotate.shx),Be=new c,et=(Be=(Be=(Be=Be.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new o(se-P*we,ae-L*oe,q*ye,X*Me)),rt=m.call(this,et),Nt=[],me=0;me<rt.length;me+=1)Nt.indexOf(rt[me])===-1&&Nt.push(rt[me]);if(y(Nt),this.autoPaging)for(var $e=Nt[0],Re=Nt[Nt.length-1],Te=$e;Te<Re+1;Te++){this.pdf.setPage(Te);var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Te===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Te===1?0:Oe+(Te-2)*Se;if(this.ctx.clip_path.length!==0){var lt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ze,this.posX+this.margin[3],-Fe+it+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=lt}var We=JSON.parse(JSON.stringify(et));We=v([We],this.posX+this.margin[3],-Fe+it+this.ctx.prevPageLastElemOffset)[0];var He=(Te>$e||Te<Re)&&p.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,Se,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",We.x,We.y,We.w,We.h,null,null,be),He&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",et.x,et.y,et.w,et.h,null,null,be)};var m=function(F,P,L){var q=[];P=P||this.pdf.internal.pageSize.width,L=L||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":q.push(Math.floor((F.y+X)/L)+1);break;case"arc":q.push(Math.floor((F.y+X-F.radius)/L)+1),q.push(Math.floor((F.y+X+F.radius)/L)+1);break;case"qct":var se=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);q.push(Math.floor((se.y+X)/L)+1),q.push(Math.floor((se.y+se.h+X)/L)+1);break;case"bct":var ae=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);q.push(Math.floor((ae.y+X)/L)+1),q.push(Math.floor((ae.y+ae.h+X)/L)+1);break;case"rect":q.push(Math.floor((F.y+X)/L)+1),q.push(Math.floor((F.y+F.h+X)/L)+1)}for(var W=0;W<q.length;W+=1)for(;this.pdf.internal.getNumberOfPages()<q[W];)x.call(this);return q},x=function(){var F=this.fillStyle,P=this.strokeStyle,L=this.font,q=this.lineCap,X=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=P,this.font=L,this.lineCap=q,this.lineWidth=X,this.lineJoin=se},v=function(F,P,L){for(var q=0;q<F.length;q++)switch(F[q].type){case"bct":F[q].x2+=P,F[q].y2+=L;case"qct":F[q].x1+=P,F[q].y1+=L;default:F[q].x+=P,F[q].y+=L}return F},y=function(F){return F.sort(function(P,L){return P-L})},w=function(F,P){for(var L,q,X=this.fillStyle,se=this.strokeStyle,ae=this.lineCap,W=this.lineWidth,ee=Math.abs(W*this.ctx.transform.scaleX),Ce=this.lineJoin,ye=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),we=[],oe=0;oe<Me.length;oe++)if(Me[oe].x!==void 0)for(var ze=m.call(this,Me[oe]),de=0;de<ze.length;de+=1)we.indexOf(ze[de])===-1&&we.push(ze[de]);for(var be=0;be<we.length;be++)for(;this.pdf.internal.getNumberOfPages()<we[be];)x.call(this);if(y(we),this.autoPaging)for(var Be=we[0],et=we[we.length-1],rt=Be;rt<et+1;rt++){this.pdf.setPage(rt),this.fillStyle=X,this.strokeStyle=se,this.lineCap=ae,this.lineWidth=ee,this.lineJoin=Ce;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=rt===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=rt===1?0:$e+(rt-2)*Re;if(this.ctx.clip_path.length!==0){var ve=this.path;L=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(L,this.posX+this.margin[3],-Te+me+this.ctx.prevPageLastElemOffset),S.call(this,F,!0),this.path=ve}if(q=JSON.parse(JSON.stringify(ye)),this.path=v(q,this.posX+this.margin[3],-Te+me+this.ctx.prevPageLastElemOffset),P===!1||rt===0){var it=(rt>Be||rt<et)&&p.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Re,null).clip().discardPath()),S.call(this,F,P),it&&this.pdf.restoreGraphicsState()}this.lineWidth=W}else this.lineWidth=ee,S.call(this,F,P),this.lineWidth=W;this.path=ye},S=function(F,P){if((F!=="stroke"||P||!g.call(this))&&(F==="stroke"||P||!h.call(this))){for(var L,q,X=[],se=this.path,ae=0;ae<se.length;ae++){var W=se[ae];switch(W.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:W,deltas:[],abs:[]});break;case"lt":var ee=X.length;if(se[ae-1]&&!isNaN(se[ae-1].x)&&(L=[W.x-se[ae-1].x,W.y-se[ae-1].y],ee>0)){for(;ee>=0;ee--)if(X[ee-1].close!==!0&&X[ee-1].begin!==!0){X[ee-1].deltas.push(L),X[ee-1].abs.push(W);break}}break;case"bct":L=[W.x1-se[ae-1].x,W.y1-se[ae-1].y,W.x2-se[ae-1].x,W.y2-se[ae-1].y,W.x-se[ae-1].x,W.y-se[ae-1].y],X[X.length-1].deltas.push(L);break;case"qct":var Ce=se[ae-1].x+2/3*(W.x1-se[ae-1].x),ye=se[ae-1].y+2/3*(W.y1-se[ae-1].y),Me=W.x+2/3*(W.x1-W.x),we=W.y+2/3*(W.y1-W.y),oe=W.x,ze=W.y;L=[Ce-se[ae-1].x,ye-se[ae-1].y,Me-se[ae-1].x,we-se[ae-1].y,oe-se[ae-1].x,ze-se[ae-1].y],X[X.length-1].deltas.push(L);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(W)}}q=P?null:F==="stroke"?"stroke":"fill";for(var de=!1,be=0;be<X.length;be++)if(X[be].arc)for(var Be=X[be].abs,et=0;et<Be.length;et++){var rt=Be[et];rt.type==="arc"?I.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,P,!de):E.call(this,rt.x,rt.y),de=!0}else if(X[be].close===!0)this.pdf.internal.out("h"),de=!1;else if(X[be].begin!==!0){var Nt=X[be].start.x,me=X[be].start.y;U.call(this,X[be].deltas,Nt,me),de=!0}q&&B.call(this,q),P&&C.call(this)}},T=function(F){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,L=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-L;case"top":return F+P-L;case"hanging":return F+P-2*L;case"middle":return F+P/2-L;default:return F}},j=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(P,L){this.colorStops.push([P,L])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(F,P,L,q,X,se,ae,W,ee){for(var Ce=M.call(this,L,q,X,se),ye=0;ye<Ce.length;ye++){var Me=Ce[ye];ye===0&&(ee?N.call(this,Me.x1+F,Me.y1+P):E.call(this,Me.x1+F,Me.y1+P)),D.call(this,F,P,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}W?C.call(this):B.call(this,ae)},B=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(F,P){this.pdf.internal.out(r(F)+" "+n(P)+" m")},k=function(F){var P;switch(F.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var L=this.pdf.getTextDimensions(F.text),q=T.call(this,F.y),X=j.call(this,q)-L.h,se=this.ctx.transform.applyToPoint(new a(F.x,q)),ae=this.ctx.transform.decompose(),W=new c;W=(W=(W=W.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var ee,Ce,ye,Me=this.ctx.transform.applyToRectangle(new o(F.x,q,L.w,L.h)),we=W.applyToRectangle(new o(F.x,X,L.w,L.h)),oe=m.call(this,we),ze=[],de=0;de<oe.length;de+=1)ze.indexOf(oe[de])===-1&&ze.push(oe[de]);if(y(ze),this.autoPaging)for(var be=ze[0],Be=ze[ze.length-1],et=be;et<Be+1;et++){this.pdf.setPage(et);var rt=et===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],$e=me-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],Te=Re-this.margin[3],ve=et===1?0:Nt+(et-2)*$e;if(this.ctx.clip_path.length!==0){var it=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ee,this.posX+this.margin[3],-1*ve+rt),S.call(this,"fill",!0),this.path=it}var Oe=v([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-ve+rt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*F.scale),ye=this.lineWidth,this.lineWidth=ye*F.scale);var Se=this.autoPaging!=="text";if(Se||Oe.y+Oe.h<=me){if(Se||Oe.y>=rt&&Oe.x<=Re){var Fe=Se?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Re-Oe.x)[0],lt=v([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-ve+rt+this.ctx.prevPageLastElemOffset)[0],We=Se&&(et>be||et<Be)&&p.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,$e,null).clip().discardPath()),this.pdf.text(Fe,lt.x,lt.y,{angle:F.angle,align:P,renderingMode:F.renderingMode}),We&&this.pdf.restoreGraphicsState()}}else Oe.y<me&&(this.ctx.prevPageLastElemOffset+=me-Oe.y);F.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ye)}else F.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*F.scale),ye=this.lineWidth,this.lineWidth=ye*F.scale),this.pdf.text(F.text,se.x+this.posX,se.y+this.posY,{angle:F.angle,align:P,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ye)},E=function(F,P,L,q){L=L||0,q=q||0,this.pdf.internal.out(r(F+L)+" "+n(P+q)+" l")},U=function(F,P,L){return this.pdf.lines(F,P,L,null,null)},D=function(F,P,L,q,X,se,ae,W){this.pdf.internal.out([t(s(L+F)),t(i(q+P)),t(s(X+F)),t(i(se+P)),t(s(ae+F)),t(i(W+P)),"c"].join(" "))},M=function(F,P,L,q){for(var X=2*Math.PI,se=Math.PI/2;P>L;)P-=X;var ae=Math.abs(L-P);ae<X&&q&&(ae=X-ae);for(var W=[],ee=q?-1:1,Ce=P;ae>1e-5;){var ye=Ce+ee*Math.min(ae,se);W.push(Q.call(this,F,Ce,ye)),ae-=Math.abs(ye-Ce),Ce=ye}return W},Q=function(F,P,L){var q=(L-P)/2,X=F*Math.cos(q),se=F*Math.sin(q),ae=X,W=-se,ee=ae*ae+W*W,Ce=ee+ae*X+W*se,ye=4/3*(Math.sqrt(2*ee*Ce)-Ce)/(ae*se-W*X),Me=ae-ye*W,we=W+ye*ae,oe=Me,ze=-we,de=q+P,be=Math.cos(de),Be=Math.sin(de);return{x1:F*Math.cos(P),y1:F*Math.sin(P),x2:Me*be-we*Be,y2:Me*Be+we*be,x3:oe*be-ze*Be,y3:oe*Be+ze*be,x4:F*Math.cos(L),y4:F*Math.sin(L)}},K=function(F){return 180*F/Math.PI},O=function(F,P,L,q,X,se){var ae=F+.5*(L-F),W=P+.5*(q-P),ee=X+.5*(L-X),Ce=se+.5*(q-se),ye=Math.min(F,X,ae,ee),Me=Math.max(F,X,ae,ee),we=Math.min(P,se,W,Ce),oe=Math.max(P,se,W,Ce);return new o(ye,we,Me-ye,oe-we)},z=function(F,P,L,q,X,se,ae,W){var ee,Ce,ye,Me,we,oe,ze,de,be,Be,et,rt,Nt,me,$e=L-F,Re=q-P,Te=X-L,ve=se-q,it=ae-X,Oe=W-se;for(Ce=0;Ce<41;Ce++)be=(ze=(ye=F+(ee=Ce/40)*$e)+ee*((we=L+ee*Te)-ye))+ee*(we+ee*(X+ee*it-we)-ze),Be=(de=(Me=P+ee*Re)+ee*((oe=q+ee*ve)-Me))+ee*(oe+ee*(se+ee*Oe-oe)-de),Ce==0?(et=be,rt=Be,Nt=be,me=Be):(et=Math.min(et,be),rt=Math.min(rt,Be),Nt=Math.max(Nt,be),me=Math.max(me,Be));return new o(Math.round(et),Math.round(rt),Math.round(Nt-et),Math.round(me-rt))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,P,L=(F=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:P}));this.prevLineDash!==L&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=L)}}})(sr.API),function(e){var t=function(a){var o,c,u,A,f,d,h,g,p,m;for(c=[],u=0,A=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;A>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(d=(f=((f=((f=((f=(f-(m=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(d+33,h+33,g+33,p+33,m+33)):c.push(122);return function(x,v){for(var y=v;y>0;y--)x.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var o,c,u,A,f,d=String,h="length",g=255,p="charCodeAt",m="slice",x="replace";for(a[m](-2),a=a[m](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],A=0,f=(a+=o="uuuuu"[m](a[h]%5||5))[h];f>A;A+=5)c=52200625*(a[p](A)-33)+614125*(a[p](A+1)-33)+7225*(a[p](A+2)-33)+85*(a[p](A+3)-33)+(a[p](A+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(v,y){for(var w=y;w>0;w--)v.pop()}(u,o[h]),d.fromCharCode.apply(d,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=$C(o)).reduce(function(u,A){return u+String.fromCharCode(A)},"")};e.processDataByFilters=function(a,o){var c=0,u=a||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:A.reverse().join(" ")}}}(sr.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,u,A){var f=new XMLHttpRequest,d=0,h=function(g){var p=g.length,m=[],x=String.fromCharCode;for(d=0;d<p;d+=1)m.push(x(255&g.charCodeAt(d)));return m.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?A(h(this.responseText)):A(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(s,i,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(sr.API),function(e){function t(){return(mr.html2canvas?Promise.resolve(mr.html2canvas):Y1(()=>Promise.resolve().then(()=>oTe),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(mr.DOMPurify?Promise.resolve(mr.DOMPurify):Y1(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=pn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var u=document.createElement(o);for(var A in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[A]=c.style[A];return u},i=function o(c,u){for(var A=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||A.appendChild(o(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),u);return(A=A.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,A=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=A,A)for(var h=0;h<A.length;++h){var g=A[h],p=g.src.find(function(m){return m.format==="truetype"});p&&u.addFont(p.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),c(this.prop.container,d)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,A){return Math.floor(u*A/72*96)}return this.then(function(){(o=o||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,A){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,A){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(A,f){return u.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,A),d}).then(A,f).then(function(d){return u.updateProgress(1),d})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var A=this;o&&(o=o.bind(A)),c&&(c=c.bind(A));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:a.convert(Object.assign({},A),Promise.prototype),d=u.call(f,o,c);return a.convert(d,A.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,sr.getPageSize=function(o,c,u){if(pn(o)==="object"){var A=o;o=A.orientation,c=A.unit||c,u=A.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,d=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,p=0,m=0;if(h.hasOwnProperty(d))p=h[d][1]/f,m=h[d][0]/f;else try{p=u[1],m=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",m>p&&(g=m,m=p,p=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>m&&(g=m,m=p,p=g)}return{width:m,height:p,unit:c,k:f,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(PN):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}}(sr.API),sr.API.addJS=function(e){return jR=e,this.internal.events.subscribe("postPutResources",function(){S1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(S1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){S1!==void 0&&FR!==void 0&&this.internal.out("/Names <</JavaScript "+S1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(i=0;i<u;i++){var f=r.internal.newObject();A.push(f);var d=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<A.length;i++)r.internal.write("(page_"+(i+1)+")"+A[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(sr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,o){var c,u=this.decode.DCT_DECODE,A=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,p={width:0,height:0,numcomponents:1},m=4;m<g;m+=2){if(m+=h,t.indexOf(f.charCodeAt(m+1))!==-1){d=256*f.charCodeAt(m+5)+f.charCodeAt(m+6),p={width:256*f.charCodeAt(m+7)+f.charCodeAt(m+8),height:d,numcomponents:f.charCodeAt(m+9)};break}h=256*f.charCodeAt(m+2)+f.charCodeAt(m+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:s}}return A}}(sr.API),sr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=hke(e,{checkCrc:!0}),a=i.width,o=i.height,c=i.channels,u=i.palette,A=i.depth;s=u&&c===1?function(I){for(var B=I.width,C=I.height,N=I.data,k=I.palette,E=I.depth,U=!1,D=[],M=[],Q=void 0,K=!1,O=0,z=0;z<k.length;z++){var G=LM(k[z],4),F=G[0],P=G[1],L=G[2],q=G[3];D.push(F,P,L),q!=null&&(q===0?(O++,M.length<1&&M.push(z)):q<255&&(K=!0))}if(K||O>1){U=!0,M=void 0;var X=B*C;Q=new Uint8Array(X);for(var se=new DataView(N.buffer),ae=0;ae<X;ae++){var W=RN(se,ae,E),ee=LM(k[W],4)[3];Q[ae]=ee}}else O===0&&(M=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:N,alphaBytes:Q,needSMask:U,palette:D,mask:M}}(i):c===2||c===4?function(I){for(var B=I.data,C=I.width,N=I.height,k=I.channels,E=I.depth,U=k===2?"DeviceGray":"DeviceRGB",D=k-1,M=C*N,Q=D,K=M*Q,O=1*M,z=Math.ceil(K*E/8),G=Math.ceil(O*E/8),F=new Uint8Array(z),P=new Uint8Array(G),L=new DataView(B.buffer),q=new DataView(F.buffer),X=new DataView(P.buffer),se=!1,ae=0;ae<M;ae++){for(var W=ae*k,ee=0;ee<Q;ee++)OR(q,RN(L,W+ee,E),ae*Q+ee,E);var Ce=RN(L,W+Q,E);Ce<(1<<E)-1&&(se=!0),OR(X,Ce,1*ae,E)}return{colorSpace:U,colorsPerPixel:D,sMaskBitsPerComponent:se?E:void 0,colorBytes:F,alphaBytes:P,needSMask:se}}(i):function(I){var B=I.data,C=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:C,colorsPerPixel:C==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(N){for(var k=N.length,E=new Uint8Array(2*k),U=new DataView(E.buffer,E.byteOffset,E.byteLength),D=0;D<k;D++)U.setUint16(2*D,N[D],!1);return E}(B):B,needSMask:!1}}(i);var f,d,h,g=s,p=g.colorSpace,m=g.colorsPerPixel,x=g.sMaskBitsPerComponent,v=g.colorBytes,y=g.alphaBytes,w=g.needSMask,S=g.palette,T=g.mask,j=null;return n!==sr.API.image_compression.NONE&&typeof $C=="function"?(j=function(I){var B;switch(I){case sr.API.image_compression.FAST:B=11;break;case sr.API.image_compression.MEDIUM:B=13;break;case sr.API.image_compression.SLOW:B=14;break;default:B=12}return B}(n),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(j," /Colors ").concat(m," /BitsPerComponent ").concat(A," /Columns ").concat(a),e=LR(v,Math.ceil(a*m*A/8),m,A,n),w&&(h=LR(y,Math.ceil(a*x/8),1,x,n))):(f=void 0,d=void 0,e=v,w&&(h=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:d,transparency:T,palette:S,sMask:h,predictor:j,width:a,height:o,bitsPerComponent:A,sMaskBitsPerComponent:x,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new Uke(t),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},A=new ON(100).encode(u,100);return e.processJPEG.call(this,A,r,n,s)},e.processGIF87A=e.processGIF89A}(sr.API),_o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_o.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Nn.log("bit decode error:"+r)}},_o.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},_o.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},_o.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},_o.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,A=n*this.width*4+4*s;this.data[A]=c,this.data[A+1]=o,this.data[A+2]=a,this.data[A+3]=u}this.pos+=e}},_o.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,A=s*this.width*4+4*i;this.data[A]=u,this.data[A+1]=c,this.data[A+2]=o,this.data[A+3]=255}this.pos+=e}},_o.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},_o.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},_o.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new _o(t,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new ON(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(sr.API),DR.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new DR(t),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new ON(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(sr.API),sr.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var A=n[u],f=n[u+1],d=n[u+2],h=n[u+3];i[o++]=A,i[o++]=f,i[o++]=d,a[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},sr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wf=sr.API,F1=Wf.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,A=u.fof?u.fof:1,f=t.doKerning!==!1,d=0,h=e.length,g=0,p=o[0]||c,m=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?m.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(d=f&&pn(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/A:0,m.push((o[n]||p)/c+d)),g=n;return m},TR=Wf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Wf.processArabic&&(e=Wf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:F1.apply(this,arguments).reduce(function(i,a){return i+a},0)},IR=function(e,t,r,n){for(var s=[],i=0,a=e.length,o=0;i!==a&&o+t[i]<r;)o+=t[i],i++;s.push(e.slice(0,i));var c=i;for(o=0;i!==a;)o+t[i]>n&&(s.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},kR=function(e,t,r){r||(r={});var n,s,i,a,o,c,u,A=[],f=[A],d=r.textIndent||0,h=0,g=0,p=e.split(" "),m=F1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),v=[];p.map(function(w){(w=w.split(/\s*\n/)).length>1?v=v.concat(w.map(function(S,T){return(T&&S.length?`
`:"")+S})):v.push(w[0])}),p=v,c=TR.apply(this,[x,r])}for(i=0,a=p.length;i<a;i++){var y=0;if(n=p[i],c&&n[0]==`
`&&(n=n.substr(1),y=1),d+h+(g=(s=F1.apply(this,[n,r])).reduce(function(w,S){return w+S},0))>t||y){if(g>t){for(o=IR.apply(this,[n,s,t-(d+h),t]),A.push(o.shift()),A=[o.pop()];o.length;)f.push([o.shift()]);g=s.slice(n.length-(A[0]?A[0].length:0)).reduce(function(w,S){return w+S},0)}else A=[n];f.push(A),d=g+c,h=m}else A.push(n),d+=h+g,h=m}return u=c?function(w,S){return(S?x:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},Wf.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var f=this.internal.getFont(A.fontName,A.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(kR.apply(this,[n[o],a,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var h,g,p,m,x=["{"];for(var v in d){if(h=d[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=a(v).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof h=="number")h<0?(p=a(h).slice(3),m="-"):(p=a(h).slice(2),m=""),p=m+p.slice(0,-1)+s[p.slice(-1)];else{if(pn(h)!=="object")throw new Error("Don't know what to do with value type "+pn(h)+".");p=o(h)}x.push(g+p)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,p,m,x={},v=1,y=x,w=[],S="",T="",j=d.length-1,I=1;I<j;I+=1)(m=d[I])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([y,p]),y={},p=void 0):m=="}"?((g=w.pop())[0][g[1]]=y,p=void 0,y=g[0]):m=="-"?v=-1:p===void 0?n.hasOwnProperty(m)?(S+=n[m],p=parseInt(S,16)*v,v=1,S=""):S+=m:n.hasOwnProperty(m)?(T+=n[m],y[p]=parseInt(T,16)*v,v=1,p=void 0,T=""):T+=m;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var p=A.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(sr.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(rx(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(sr),sr.API.addSvgAsImage=function(e,t,r,n,s,i,a,o){if(isNaN(t)||isNaN(r))throw Nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(mr.canvg?Promise.resolve(mr.canvg):Y1(()=>import("./index.es-BKd3qMTo.js"),__vite__mapDeps([0,1,2,3,4,5]))).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,e,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(A)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,a,o)})},sr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},sr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,A=0,f=0;function d(g,p){var m,x=!1;for(m=0;m<g.length;m+=1)g[m]===p&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(pn(e)==="object"){for(s in e)if(i=e[s],d(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&d(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(A=0;A<i[u].length;A+=1)typeof i[u][A]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(sr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],f=0,d=i.length;f<d;++f){if(o=a.metadata.characterToGlyph(i.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return A.join("");o=o.toString(16),A.push(u[4-o.length],o)}return A.join("")},n=function(i){var a,o,c,u,A,f,d;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,d=(o=Object.keys(i).sort(function(h,g){return h-g})).length;f<d;f++)a=o[f],c.length>=100&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,A=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<d.length;g++)h+=String.fromCharCode(d[g]);var p=u();A({data:h,addLength1:!0,objectId:p}),c("endobj");var m=u();A({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+td(o.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var v=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+td(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+m+" 0 R"),c("/BaseFont /"+td(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,A=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var g=u();A({data:d,addLength1:!0,objectId:g}),c("endobj");var p=u();A({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var m=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+td(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+td(o.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,u=i.y,A=i.options||{},f=i.mutex||{},d=f.pdfEscape,h=f.activeFontKey,g=f.fonts,p=h,m="",x=0,v="",y=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:o,x:c,y:u,options:A,mutex:f};for(v=o,p=h,Array.isArray(o)&&(v=o[0]),x=0;x<v.length;x+=1)g[p].metadata.hasOwnProperty("cmap")&&(a=g[p].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),a||v[x].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?m+=v[x]:m+="";var w="";return parseInt(p.slice(1))<14||y==="WinAnsiEncoding"?w=d(m,p).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(w=r(m,g[p])),f.isHex=!0,{text:w,x:c,y:u,options:A,mutex:f}};t.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(s(Object.assign({},c,{text:a[u]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])}(sr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(sr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,o,c,u,A,f=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var w=function(N){var k=N.charCodeAt(),E=k>>8,U=p[E];return U!==void 0?f[256*U+(255&k)]:E===252||E===253?"AL":x.test(E)?"L":E===8?"R":"N"},S=function(N){for(var k,E=0;E<N.length;E++){if((k=w(N.charAt(E)))==="L")return!1;if(k==="R")return!0}return!1},T=function(N,k,E,U){var D,M,Q,K,O=k[U];switch(O){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(O="AN");break;case"AL":v=!0,O="R";break;case"WS":case"BN":O="N";break;case"CS":U<1||U+1>=k.length||(D=E[U-1])!=="EN"&&D!=="AN"||(M=k[U+1])!=="EN"&&M!=="AN"?O="N":v&&(M="AN"),O=M===D?M:"N";break;case"ES":O=(D=U>0?E[U-1]:"B")==="EN"&&U+1<k.length&&k[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&E[U-1]==="EN"){O="EN";break}if(v){O="N";break}for(Q=U+1,K=k.length;Q<K&&k[Q]==="ET";)Q++;O=Q<K&&k[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(K=k.length,Q=U+1;Q<K&&k[Q]==="NSM";)Q++;if(Q<K){var z=N[U],G=z>=1425&&z<=2303||z===64286;if(D=k[Q],G&&(D==="R"||D==="AL")){O="R";break}}}O=U<1||(D=k[U-1])==="B"?"N":E[U-1];break;case"B":v=!1,s=!0,O=y;break;case"S":i=!0,O="N"}return O},j=function(N,k,E){var U=N.split("");return E&&I(U,E,{hiLevel:y}),U.reverse(),k&&k.reverse(),U.join("")},I=function(N,k,E){var U,D,M,Q,K,O=-1,z=N.length,G=0,F=[],P=y?h:d,L=[];for(v=!1,s=!1,i=!1,D=0;D<z;D++)L[D]=w(N[D]);for(M=0;M<z;M++){if(K=G,F[M]=T(N,L,F,M),U=240&(G=P[K][g[F[M]]]),G&=15,k[M]=Q=P[G][5],U>0)if(U===16){for(D=O;D<M;D++)k[D]=1;O=-1}else O=-1;if(P[G][6])O===-1&&(O=M);else if(O>-1){for(D=O;D<M;D++)k[D]=Q;O=-1}L[M]==="B"&&(k[M]=0),E.hiLevel|=Q}i&&function(q,X,se){for(var ae=0;ae<se;ae++)if(q[ae]==="S"){X[ae]=y;for(var W=ae-1;W>=0&&q[W]==="WS";W--)X[W]=y}}(L,k,z)},B=function(N,k,E,U,D){if(!(D.hiLevel<N)){if(N===1&&y===1&&!s)return k.reverse(),void(E&&E.reverse());for(var M,Q,K,O,z=k.length,G=0;G<z;){if(U[G]>=N){for(K=G+1;K<z&&U[K]>=N;)K++;for(O=G,Q=K-1;O<Q;O++,Q--)M=k[O],k[O]=k[Q],k[Q]=M,E&&(M=E[O],E[O]=E[Q],E[Q]=M);G=K}G++}}},C=function(N,k,E){var U=N.split(""),D={hiLevel:y};return E||(E=[]),I(U,E,D),function(M,Q,K){if(K.hiLevel!==0&&A)for(var O,z=0;z<M.length;z++)Q[z]===1&&(O=m.indexOf(M[z]))>=0&&(M[z]=m[O+1])}(U,E,D),B(2,U,k,E,D),B(1,U,k,E,D),U.join("")};return this.__bidiEngine__.doBidiReorder=function(N,k,E){if(function(D,M){if(M)for(var Q=0;Q<D.length;Q++)M[Q]=Q;o===void 0&&(o=S(D)),u===void 0&&(u=S(D))}(N,k),a||!c||u)if(a&&c&&o^u)y=o?1:0,N=j(N,k,E);else if(!a&&c&&u)y=o?1:0,N=C(N,k,E),N=j(N,k);else if(!a||o||c||u){if(a&&!c&&o^u)N=j(N,k),o?(y=0,N=C(N,k,E)):(y=1,N=C(N,k,E),N=j(N,k));else if(a&&o&&!c&&u)y=1,N=C(N,k,E),N=j(N,k);else if(!a&&!c&&o^u){var U=A;o?(y=1,N=C(N,k,E),y=0,A=!1,N=C(N,k,E),A=U):(y=0,N=C(N,k,E),N=j(N,k),y=1,A=!1,N=C(N,k,E),A=U,N=j(N,k))}}else y=0,N=C(N,k,E);else y=o?1:0,N=C(N,k,E);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,c=N.isOutputVisual,o=N.isInputRtl,u=N.isOutputRtl,A=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([r.doBidiReorder(s[o])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(sr),sr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new TA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Yke(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Pke(this.contents),this.head=new Rke(this),this.name=new $ke(this),this.cmap=new iY(this),this.toUnicode={},this.hhea=new Oke(this),this.maxp=new qke(this),this.hmtx=new Kke(this),this.post=new Dke(this),this.os2=new Qke(this),this.loca=new Wke(this),this.glyf=new zke(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,o;for(a=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Vo,TA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Pke=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,o,c,u,A,f,d,h,g,p;for(p in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),a=Math.floor(f/c),A=16*h-f,(s=new TA).writeInt(this.scalarType),s.writeShort(h),s.writeShort(f),s.writeShort(a),s.writeShort(A),i=16*h,u=s.pos+i,o=null,g=[],r)for(d=r[p],s.writeString(p),s.writeInt(e(d)),s.writeInt(u),s.writeInt(d.length),g=g.concat(d),p==="head"&&(o=u),u+=d.length;u%4;)g.push(0),u++;return s.write(g),n=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=aY.call(r);r.length%4;)r.push(0);for(i=new TA(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),Mke={}.hasOwnProperty,Il=function(e,t){for(var r in t)Mke.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Vo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Rke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new TA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),HR=function(){function e(t,r){var n,s,i,a,o,c,u,A,f,d,h,g,p,m,x,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),d=h/2,t.pos+=6,i=function(){var w,S;for(S=[],c=w=0;0<=d?w<d:w>d;c=0<=d?++w:--w)S.push(t.readUInt16());return S}(),t.pos+=2,p=function(){var w,S;for(S=[],c=w=0;0<=d?w<d:w>d;c=0<=d?++w:--w)S.push(t.readUInt16());return S}(),u=function(){var w,S;for(S=[],c=w=0;0<=d?w<d:w>d;c=0<=d?++w:--w)S.push(t.readUInt16());return S}(),A=function(){var w,S;for(S=[],c=w=0;0<=d?w<d:w>d;c=0<=d?++w:--w)S.push(t.readUInt16());return S}(),s=(this.length-t.pos+this.offset)/2,o=function(){var w,S;for(S=[],c=w=0;0<=s?w<s:w>s;c=0<=s?++w:--w)S.push(t.readUInt16());return S}(),c=x=0,y=i.length;x<y;c=++x)for(m=i[c],n=v=g=p[c];g<=m?v<=m:v>=m;n=g<=m?++v:--v)A[c]===0?a=n+u[c]:(a=o[A[c]/2+(n-g)-(d-c)]||0)!==0&&(a+=u[c]),this.codeMap[n]=65535&a}t.pos=f}return e.encode=function(t,r){var n,s,i,a,o,c,u,A,f,d,h,g,p,m,x,v,y,w,S,T,j,I,B,C,N,k,E,U,D,M,Q,K,O,z,G,F,P,L,q,X,se,ae,W,ee,Ce,ye;switch(U=new TA,a=Object.keys(t).sort(function(Me,we){return Me-we}),r){case"macroman":for(p=0,m=function(){var Me=[];for(g=0;g<256;++g)Me.push(0);return Me}(),v={0:0},i={},D=0,O=a.length;D<O;D++)v[W=t[s=a[D]]]==null&&(v[W]=++p),i[s]={old:t[s],new:v[t[s]]},m[s]=v[t[s]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(m),{charMap:i,subtable:U.data,maxGlyphID:p+1};case"unicode":for(k=[],f=[],y=0,v={},n={},x=u=null,M=0,z=a.length;M<z;M++)v[S=t[s=a[M]]]==null&&(v[S]=++y),n[s]={old:S,new:v[S]},o=v[S]-s,x!=null&&o===u||(x&&f.push(x),k.push(s),u=o),x=s;for(x&&f.push(x),f.push(65535),k.push(65535),C=2*(B=k.length),I=2*Math.pow(Math.log(B)/Math.LN2,2),d=Math.log(I/2)/Math.LN2,j=2*B-I,c=[],T=[],h=[],g=Q=0,G=k.length;Q<G;g=++Q){if(N=k[g],A=f[g],N===65535){c.push(0),T.push(0);break}if(N-(E=n[N].new)>=32768)for(c.push(0),T.push(2*(h.length+B-g)),s=K=N;N<=A?K<=A:K>=A;s=N<=A?++K:--K)h.push(n[s].new);else c.push(E-N),T.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*B+2*h.length),U.writeUInt16(0),U.writeUInt16(C),U.writeUInt16(I),U.writeUInt16(d),U.writeUInt16(j),se=0,F=f.length;se<F;se++)s=f[se],U.writeUInt16(s);for(U.writeUInt16(0),ae=0,P=k.length;ae<P;ae++)s=k[ae],U.writeUInt16(s);for(ee=0,L=c.length;ee<L;ee++)o=c[ee],U.writeUInt16(o);for(Ce=0,q=T.length;Ce<q;Ce++)w=T[Ce],U.writeUInt16(w);for(ye=0,X=h.length;ye<X;ye++)p=h[ye],U.writeUInt16(p);return{charMap:n,subtable:U.data,maxGlyphID:y+1}}},e}(),iY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new HR(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=HR.encode(t,r),(s=new TA).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Oke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Qke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Dke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,o,c;for(c=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),Hke=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$ke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,a,o,c,u,A,f,d;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=A=0,f=n.length;A<f;i=++A)s=n[i],t.pos=s.offset,u=t.readString(s.length),a=new Hke(u,s),c[d=s.nameID]==null&&(c[d]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),qke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Kke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,a,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)A.push(t.readInt16());return A}(),this.widths=(function(){var u,A,f,d;for(d=[],u=0,A=(f=this.metrics).length;u<A;u++)i=f[u],d.push(i.advance);return d}).call(this),n=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),aY=[].slice,zke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,a,o,c,u,A,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(o=new TA(r.read(s))).readShort(),u=o.readShort(),f=o.readShort(),c=o.readShort(),A=o.readShort(),this.cache[t]=a===-1?new Vke(o,u,f,c,A):new Gke(o,a,u,f,c,A),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,a,o,c;for(a=[],i=[],o=0,c=r.length;o<c;o++)s=t[r[o]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),Gke=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Vke=function(){function e(t,r,n,s,i){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new TA(aY.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Wke=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,Vo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(s+=c)}for(var u=new Array(4*n.length),A=0;A<n.length;++A)u[4*A+3]=255&n[A],u[4*A+2]=(65280&n[A])>>8,u[4*A+1]=(16711680&n[A])>>16,u[4*A]=(4278190080&n[A])>>24;return u},e}(),Yke=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,o,c;for(s={},a=0,o=t.length;a<o;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,o,c,u,A,f,d,h,g,p,m,x;for(s in n=iY.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[s]).old]=c.new;for(g in d=n.maxGlyphID,a)g in h||(h[g]=d++);return A=function(v){var y,w;for(y in w={},v)w[v[y]]=y;return w}(h),f=Object.keys(A).sort(function(v,y){return v-y}),p=function(){var v,y,w;for(w=[],v=0,y=f.length;v<y;v++)o=f[v],w.push(A[o]);return w}(),i=this.font.glyf.encode(a,p,h),u=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();sr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();const Xke=()=>{const{id:e}=Jd(),t=ls(),{language:r}=ir(),{currentTree:n,fetchPersonsInTree:s,isLoading:i,error:a,trees:o,publicTrees:c}=Ti(),{user:u}=os(),[A,f]=re.useState(null),[d,h]=re.useState(null),[g,p]=re.useState("tree"),[m,x]=re.useState(""),[v,y]=re.useState(!1),[w,S]=re.useState(!1),[T,j]=re.useState(!1),[I,B]=re.useState(null),[C,N]=re.useState(null),[k,E]=re.useState(null),[U,D]=re.useState(null),[M,Q]=re.useState(null),K=re.useRef(null),[O,z]=re.useState(!1),[G,F]=re.useState("tree"),[P,L]=re.useState([]),[q,X]=re.useState([]),[se,ae]=re.useState(!1),W=r==="ar",{isMobile:ee}=cs(),{limits:Ce,isLimitReached:ye}=ef(),[Me,we]=re.useState(0),[oe,ze]=re.useState(!1),[de,be]=re.useState(null),[Be,et]=re.useState(!1),[rt,Nt]=re.useState(null),[me,$e]=re.useState(!1);re.useEffect(()=>{},[]),re.useEffect(()=>{const Y=localStorage.getItem("user");if(localStorage.getItem("authToken"),Y)try{const J=JSON.parse(Y)}catch{}},[u]);const Re=()=>{if(u&&typeof u=="object"&&u.id!==void 0){if(typeof u.id=="string"&&u.id.length>0)return u.id;if(typeof u.id=="number"){const Y=u.id.toString();if(Y.length>0)return Y}}try{const Y=localStorage.getItem("user");if(Y){const J=JSON.parse(Y);if(J&&J.id!==void 0){if(typeof J.id=="string"&&J.id.length>0)return J.id;if(typeof J.id=="number"){const ce=J.id.toString();if(ce.length>0)return ce}}}}catch{}try{const Y=localStorage.getItem("authToken");if(Y){const ce=Y.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Ae=decodeURIComponent(atob(ce).split("").map(function(Ne){return"%"+("00"+Ne.charCodeAt(0).toString(16)).slice(-2)}).join("")),_e=JSON.parse(Ae),Pe=["sub","nameid","userId","id","jti"];for(const Ne of Pe)if(_e[Ne]!==void 0){if(typeof _e[Ne]=="string"&&_e[Ne].length>0)return _e[Ne];if(typeof _e[Ne]=="number"){const Ee=_e[Ne].toString();if(Ee.length>0)return Ee}}}}catch{}return null},Te=async()=>{if(!(!e||!zt))try{ae(!0);const Y=await Ht.getIncomingJoinRequests(parseInt(e));L(Y)}catch{Kt.error({en:"Failed to load incoming requests",ar:"     "})}finally{ae(!1)}},ve=async()=>{const Y=Re();if(Y)try{ae(!0);const J=await Ht.getOutgoingJoinRequests(Y);X(J)}catch{Kt.error({en:"Failed to load outgoing requests",ar:"     "})}finally{ae(!1)}};re.useEffect(()=>{if(O&&(!u||!u.id))try{const Y=localStorage.getItem("user");if(Y){const J=JSON.parse(Y);J&&J.id}}catch{}},[O,u]),re.useEffect(()=>{(async()=>{var J;if(e)try{const ce=await s(e);let Ae=[];try{Ae=await Ht.getRelationships()}catch{}let Pe=o.find(Le=>Le.id===e)||c.find(Le=>Le.id===e)||n;if(!Pe)try{const Le=await Ht.getTreeById(parseInt(e));Le&&Le.data&&(Pe={id:Le.data.id.toString(),name:Le.data.name,description:Le.data.description||"",category:Le.data.category||"family",tags:Le.data.tags||[],settings:Le.data.settings||{isPublic:!Le.data.isPrivate,theme:"default",layout:"vertical",showPhotos:!0,showDates:!0,showPlaces:!0,allowComments:!0,allowSuggestions:!0},sharing:Le.data.sharing||{isShared:Le.data.members&&Le.data.members.length>0||!1,allowedUsers:[],shareToken:void 0,publicUrl:void 0},stats:Le.data.stats||{totalPeople:((J=Le.data.members)==null?void 0:J.length)||0,totalGenerations:0,totalPhotos:0,completionPercentage:Le.data.members&&Le.data.members.length>0?50:0},createdAt:Le.data.createdAt||new Date().toISOString(),updatedAt:Le.data.updatedAt||new Date().toISOString(),ownerId:Le.data.ownerId||(Le.data.owner?Le.data.owner.id:void 0),userRole:Le.data.userRole||"viewer"})}catch{}const Ne=new Map,Ee=new Map;Ae&&Array.isArray(Ae)&&Ae.forEach(Le=>{var ht,Ve,yt,It;if(Le.relationshipType==="Child"||Le.relationshipType==="child"||Le.relationshipType==="Son"||Le.relationshipType==="son"||Le.relationshipType==="Daughter"||Le.relationshipType==="daughter"){const Mt=Le.personId.toString(),At=Le.relatedPersonId.toString(),Rt=ce.some(Xt=>Xt.id.toString()===Mt),lr=ce.some(Xt=>Xt.id.toString()===At);Rt&&lr&&(Ne.has(At)||Ne.set(At,[]),(ht=Ne.get(At))==null||ht.push(Mt),Ee.has(Mt)||Ee.set(Mt,[]),(Ve=Ee.get(Mt))==null||Ve.push(At))}else if(Le.relationshipType==="Father"||Le.relationshipType==="father"||Le.relationshipType==="Mother"||Le.relationshipType==="mother"||Le.relationshipType==="Parent"||Le.relationshipType==="parent"){const Mt=Le.personId.toString(),At=Le.relatedPersonId.toString(),Rt=ce.some(Xt=>Xt.id.toString()===At),lr=ce.some(Xt=>Xt.id.toString()===Mt);Rt&&lr&&(Ne.has(Mt)||Ne.set(Mt,[]),(yt=Ne.get(Mt))==null||yt.push(At),Ee.has(At)||Ee.set(At,[]),(It=Ee.get(At))==null||It.push(Mt))}}),ce.forEach(Le=>{var Ve,yt,It,Mt;if(["parentId","parent_id","fatherId","father_id","motherId","mother_id"].forEach(At=>{var Rt,lr;if(Le[At]&&Le[At]!=="0"&&Le[At]!==0){const Xt=Le[At].toString(),Mr=Le.id.toString();ce.some(br=>br.id.toString()===Xt)&&(Ne.has(Mr)||Ne.set(Mr,[]),(Rt=Ne.get(Mr))==null||Rt.push(Xt),Ee.has(Xt)||Ee.set(Xt,[]),(lr=Ee.get(Xt))==null||lr.push(Mr))}}),Le.parentIds&&Array.isArray(Le.parentIds)&&Le.parentIds.forEach(At=>{var Rt,lr;if(At&&At!=="0"&&At!==0){const Xt=Le.id.toString();ce.some(hr=>hr.id.toString()===At.toString())&&(Ne.has(Xt)||Ne.set(Xt,[]),(Rt=Ne.get(Xt))==null||Rt.push(At.toString()),Ee.has(At.toString())||Ee.set(At.toString(),[]),(lr=Ee.get(At.toString()))==null||lr.push(Xt))}}),Le.relationships){if(Le.relationships.father){let At=null;if(typeof Le.relationships.father=="string"?At=Le.relationships.father:typeof Le.relationships.father=="object"&&Le.relationships.father.id&&(At=Le.relationships.father.id.toString()),At){const Rt=Le.id.toString();ce.some(Xt=>Xt.id.toString()===At)&&(Ne.has(Rt)||Ne.set(Rt,[]),(Ve=Ne.get(Rt))==null||Ve.push(At),Ee.has(At)||Ee.set(At,[]),(yt=Ee.get(At))==null||yt.push(Rt))}}if(Le.relationships.mother){let At=null;if(typeof Le.relationships.mother=="string"?At=Le.relationships.mother:typeof Le.relationships.mother=="object"&&Le.relationships.mother.id&&(At=Le.relationships.mother.id.toString()),At){const Rt=Le.id.toString();ce.some(Xt=>Xt.id.toString()===At)&&(Ne.has(Rt)||Ne.set(Rt,[]),(It=Ne.get(Rt))==null||It.push(At),Ee.has(At)||Ee.set(At,[]),(Mt=Ee.get(At))==null||Mt.push(Rt))}}}}),Ae&&Array.isArray(Ae)&&Ae.forEach(Le=>{var Mt,At,Rt,lr,Xt,Mr,hr,br;const ht=(Mt=Le.personId)==null?void 0:Mt.toString(),Ve=(At=Le.relatedPersonId)==null?void 0:At.toString(),yt=ce.some(rr=>rr.id.toString()===ht),It=ce.some(rr=>rr.id.toString()===Ve);if(!(!yt||!It))if(["Father","father","Mother","mother","Parent","parent"].includes(Le.relationshipType)){const rr=ht,en=Ve;Ne.has(rr)||Ne.set(rr,[]),(Rt=Ne.get(rr))==null||Rt.push(en),Ee.has(en)||Ee.set(en,[]),(lr=Ee.get(en))==null||lr.push(rr)}else if(["Child","child","Son","son","Daughter","daughter"].includes(Le.relationshipType)){const rr=ht,en=Ve;Ne.has(en)||Ne.set(en,[]),(Xt=Ne.get(en))==null||Xt.push(rr),Ee.has(rr)||Ee.set(rr,[]),(Mr=Ee.get(rr))==null||Mr.push(en)}else if(["Spouse","spouse","Husband","husband","Wife","wife"].includes(Le.relationshipType)){const rr=ht,en=Ve}else{const rr=ht,en=Ve;Ne.has(rr)||Ne.set(rr,[]),(hr=Ne.get(rr))==null||hr.push(en),Ee.has(en)||Ee.set(en,[]),(br=Ee.get(en))==null||br.push(rr)}}),ce.forEach(Le=>{const ht=Le.id.toString();ce.forEach(Ve=>{var Rt,lr,Xt,Mr;const yt=Ve.id.toString();if(ht===yt)return;const It=Ve;if((It.parentIds||It.parents||It.parent_ids||[]).some(hr=>(typeof hr=="object"&&hr.id?hr.id.toString():hr.toString())===ht)){const hr=yt,br=ht;Ne.has(hr)||Ne.set(hr,[]),(Rt=Ne.get(hr))!=null&&Rt.includes(br)||(lr=Ne.get(hr))==null||lr.push(br),Ee.has(br)||Ee.set(br,[]),(Xt=Ee.get(br))!=null&&Xt.includes(hr)||(Mr=Ee.get(br))==null||Mr.push(hr)}})});const Qe={id:e,name:(Pe==null?void 0:Pe.name)||"Family Tree",nameEn:(Pe==null?void 0:Pe.name)||"Family Tree",description:(Pe==null?void 0:Pe.description)||"",descriptionEn:(Pe==null?void 0:Pe.description)||"",rootPersonId:(()=>{if(A!=null&&A.rootPersonId&&ce.some(Ve=>Ve.id.toString()===A.rootPersonId))return A.rootPersonId;for(const ht of ce)if(ht.isRoot)return ht.id.toString();const Le=new Map;Ae&&Array.isArray(Ae)&&Ae.forEach(ht=>{var Ve,yt,It,Mt;if(["Spouse","spouse","Husband","husband","Wife","wife"].includes(ht.relationshipType)){const At=ht.personId.toString(),Rt=ht.relatedPersonId.toString();Le.has(At)||Le.set(At,[]),(Ve=Le.get(At))!=null&&Ve.includes(Rt)||(yt=Le.get(At))==null||yt.push(Rt),Le.has(Rt)||Le.set(Rt,[]),(It=Le.get(Rt))!=null&&It.includes(At)||(Mt=Le.get(Rt))==null||Mt.push(At)}});for(const ht of ce){const Ve=ht.id.toString();if(!Ne.has(Ve)){let yt=!1;for(const[It,Mt]of Le.entries())if(Mt.includes(Ve)){yt=!0;break}if(!yt)return Ve}}for(const ht of ce){const Ve=ht.id.toString();if(!Ne.has(Ve))return Ve}return ce.length>0?ce[0].id.toString():"1"})(),persons:((Ve,yt)=>{const It=new Map;Ve.forEach(lr=>{It.set(lr.id.toString(),{...lr,generation:1})});const Mt=Ve.filter(lr=>!yt.has(lr.id.toString()));Mt.forEach(lr=>{const Xt=It.get(lr.id.toString());Xt&&(Xt.generation=1,It.set(lr.id.toString(),Xt))});const At=Mt.map(lr=>({personId:lr.id.toString(),generation:1})),Rt=new Set;for(Mt.forEach(lr=>Rt.add(lr.id.toString()));At.length>0;){const{personId:lr,generation:Xt}=At.shift();yt.forEach((Mr,hr)=>{if(Mr.includes(lr)&&!Rt.has(hr)){const br=It.get(hr);br&&(br.generation=Xt+1,It.set(hr,br),Rt.add(hr),At.push({personId:hr,generation:Xt+1}))}})}return Array.from(It.values())})(ce,Ne).map(Ve=>{var Xt,Mr,hr,br,rr,en,zr,Oi;let yt="",It="";if(Ve.name){const Wn=Ve.name.split(" ");yt=Wn[0]||"",It=Wn.slice(1).join(" ")||""}const Mt=Ne.get(Ve.id.toString())||[],At=Ve.spouseIds||Ve.spouses||Ve.spouse_ids||[],Rt=Ee.get(Ve.id.toString())||[];return{id:Ve.id.toString(),firstName:Ve.firstName||yt||Ve.name||"",firstNameEn:Ve.firstName||yt||Ve.name||"",lastName:Ve.lastName||It||"",lastNameEn:Ve.lastName||It||"",gender:Ve.gender==="male"?"male":Ve.gender==="female"?"female":"male",birthDate:((Xt=Ve.birth)==null?void 0:Xt.date)||Ve.birthDate||"",birthPlace:((hr=(Mr=Ve.birth)==null?void 0:Mr.place)==null?void 0:hr.city)||Ve.birthPlace||"",birthPlaceEn:((rr=(br=Ve.birth)==null?void 0:br.place)==null?void 0:rr.city)||Ve.birthPlace||"",isAlive:!Ve.isDeceased,photo:((en=Ve.primaryPhoto)==null?void 0:en.url)||Ve.photo||Ve.photoUrl||"/api/placeholder/100/100",generation:Ve.generation||1,position:{x:((zr=Ve.position)==null?void 0:zr.x)||0,y:((Oi=Ve.position)==null?void 0:Oi.y)||0},parentIds:Mt.map(Wn=>Wn.toString()),spouseIds:(At||[]).map(Wn=>Wn.toString()),childrenIds:Rt.map(Wn=>Wn.toString())}}),createdAt:(Pe==null?void 0:Pe.createdAt)||new Date().toISOString(),updatedAt:(Pe==null?void 0:Pe.updatedAt)||new Date().toISOString(),ownerId:(Pe==null?void 0:Pe.ownerId)||(Pe!=null&&Pe.owner?Pe.owner.id:void 0),userRole:Pe==null?void 0:Pe.userRole};if(Qe.relationships=Ae,!Qe.persons.find(Le=>Le.id==="31")){const Le=ce.find(ht=>ht.id.toString()==="31")}f(Le=>JSON.stringify(Le)===JSON.stringify(Qe)?Le:Qe)}catch{f(null)}})()},[e,s,o,c,n,Me]);const it=Y=>W?`${Y.firstName} ${Y.lastName}`:`${Y.firstNameEn} ${Y.lastNameEn}`,Oe=Y=>{h(d===Y?null:Y)},Se=Y=>{if(!zt){Kt.error(W?"       ":"You do not have permission to add people to this tree");return}if(A&&Ce&&ye("people",A.persons.length)){const J=Ce.people;Kt.error({en:`You've reached the maximum number of people in this tree (${J} people). Please upgrade your subscription to add more.`,ar:`          (${J} ).     .`},{action:{label:r==="ar"?" ":"Upgrade Subscription",onClick:()=>window.location.assign("/subscription")}});return}N(Y),S(!0)},Fe=Y=>{if(!zt){Kt.error(W?"       ":"You do not have permission to add people to this tree");return}E(Y),S(!0)},lt=Y=>{if(!zt){Kt.error(W?"       ":"You do not have permission to add people to this tree");return}if(A&&Ce&&ye("people",A.persons.length)){const J=Ce.people;Kt.error({en:`You've reached the maximum number of people in this tree (${J} people). Please upgrade your subscription to add more.`,ar:`          (${J} ).     .`},{action:{label:r==="ar"?" ":"Upgrade Subscription",onClick:()=>window.location.assign("/subscription")}});return}D(Y),S(!0)},We=Y=>{if(!zt){Kt.error(W?"       ":"You do not have permission to add people to this tree");return}if(A&&Ce&&ye("people",A.persons.length)){const J=Ce.people;Kt.error({en:`You've reached the maximum number of people in this tree (${J} people). Please upgrade your subscription to add more.`,ar:`          (${J} ).     .`},{action:{label:r==="ar"?" ":"Upgrade Subscription",onClick:()=>window.location.assign("/subscription")}});return}Q(Y),S(!0)},He=Y=>{zt?(B(Y),j(!0)):Kt.error(W?"     ":"You do not have permission to edit this person")},tt=async Y=>{if(!zt){Kt.error(W?"     ":"You do not have permission to delete this person");return}be(Y),ze(!0)},xt=async()=>{if(de)try{await Ht.deletePerson(parseInt(de)),e&&(s(e),we(Y=>Y+1)),Kt.success(W?"   :      ":"Person deleted successfully: The person has been deleted from the family tree")}catch{Kt.error(W?"   :          ":"Failed to delete person: delete childs first")}finally{ze(!1),be(null)}},nt=()=>{ze(!1),be(null)},Ye=re.useCallback(()=>{K.current&&(v?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),y(!1)):(K.current.requestFullscreen?K.current.requestFullscreen():K.current.webkitRequestFullscreen?K.current.webkitRequestFullscreen():K.current.msRequestFullscreen&&K.current.msRequestFullscreen(),y(!0)))},[v]),Ke=async(Y="png")=>{if(A)try{if(!K.current){Kt.error({en:"Unable to find tree container",ar:"      "});return}const ce=document.querySelectorAll(".react-flow__node"),Ae=document.querySelectorAll(".react-flow__edge-path, .react-flow__edges path"),_e=[...ce,...Ae].map(Ur=>Ur.getBoundingClientRect());if(_e.length===0){Kt.error({en:"No nodes or edges found to export",ar:"       "});return}const Pe=Math.min(..._e.map(Ur=>Ur.left)),Ne=Math.min(..._e.map(Ur=>Ur.top)),Ee=Math.max(..._e.map(Ur=>Ur.right)),Qe=Math.max(..._e.map(Ur=>Ur.bottom)),at=window.scrollX+Pe,Le=window.scrollY+Ne,ht=window.scrollX+Ee,Ve=window.scrollY+Qe,yt=Math.max(1,ht-at),It=Math.max(1,Ve-Le),Mt=document.querySelector(".react-flow__renderer"),At=Mt==null?void 0:Mt.querySelector("svg");if(!At){Kt.error({en:"Unable to find React Flow SVG",ar:"     SVG   React Flow"});return}const Rt=At.getBoundingClientRect(),lr=Math.min(..._e.map(Ur=>Ur.left-Rt.left)),Xt=Math.min(..._e.map(Ur=>Ur.top-Rt.top)),Mr=Math.max(..._e.map(Ur=>Ur.right-Rt.left)),hr=Math.max(..._e.map(Ur=>Ur.bottom-Rt.top)),br=Math.max(1,Math.round(Mr-lr)),rr=Math.max(1,Math.round(hr-Xt)),en=At.getAttribute("viewBox"),zr=At.getAttribute("width"),Oi=At.getAttribute("height"),Wn=(Mt==null?void 0:Mt.style.overflow)||"";Mt&&(Mt.style.overflow="visible"),At.setAttribute("viewBox",`${lr} ${Xt} ${br} ${rr}`),At.setAttribute("width",`${br}`),At.setAttribute("height",`${rr}`);const Tr=[];document.querySelectorAll('link[rel="stylesheet"][href*="fonts.googleapis.com"]').forEach(Ur=>{const an=Ur,Tn=an.parentNode,In=an.nextSibling;Tr.push({link:an,parent:Tn,next:In}),Tn.removeChild(an)});const Wr=At.getAttribute("style")||"";At.setAttribute("style",`${Wr?Wr+"; ":""}font-family: Inter, Cairo, "Noto Sans Arabic", Arial, sans-serif;`);let Hr;try{await Promise.all(Array.from(At.querySelectorAll("image")).map(async Ur=>{const an=Ur.getAttribute("href")||Ur.getAttributeNS("http://www.w3.org/1999/xlink","href");if(an&&!String(an).startsWith("data:"))try{const In=await(await fetch(an,{mode:"cors"})).blob();await new Promise((vi,Yo)=>{const Qi=new FileReader;Qi.onload=()=>{Ur.setAttribute("href",Qi.result),vi()},Qi.onerror=Yo,Qi.readAsDataURL(In)})}catch{}})),Hr=await SM.toSvg(At,{cacheBust:!0,skipFonts:!0})}finally{Tr.forEach(({link:Ur,parent:an,next:Tn})=>{Tn?an.insertBefore(Ur,Tn):an.appendChild(Ur)}),At.setAttribute("style",Wr),en!==null?At.setAttribute("viewBox",en):At.removeAttribute("viewBox"),zr!==null?At.setAttribute("width",zr):At.removeAttribute("width"),Oi!==null?At.setAttribute("height",Oi):At.removeAttribute("height"),Mt&&(Mt.style.overflow=Wn)}const ws=br,Rr=rr,Yn=document.createElement("canvas"),sa=3;Yn.width=Math.max(1,Math.round(ws*sa)),Yn.height=Math.max(1,Math.round(Rr*sa));const Wo=Yn.getContext("2d");Wo.fillStyle="#ffffff",Wo.fillRect(0,0,Yn.width,Yn.height);const Fc=new Blob([Hr],{type:"image/svg+xml;charset=utf-8"}),ri=URL.createObjectURL(Fc);try{await new Promise((an,Tn)=>{const In=new Image;In.crossOrigin="anonymous",In.onload=()=>{Wo.drawImage(In,0,0,Yn.width,Yn.height),URL.revokeObjectURL(ri),an()},In.onerror=vi=>{URL.revokeObjectURL(ri),Tn(vi)},In.src=ri});const Ur=(an,Tn)=>{const In=document.createElement("a");In.download=Tn,In.href=an,In.click()};if(Y==="jpeg"){const an=Yn.toDataURL("image/jpeg",.95);Ur(an,`${A.name.replace(/\s+/g,"_")}_family_tree_full.jpeg`)}else{const an=Yn.toDataURL("image/png");Ur(an,`${A.name.replace(/\s+/g,"_")}_family_tree_full.png`)}Kt.success({en:`Tree exported as ${Y.toUpperCase()} successfully`,ar:`    ${Y.toUpperCase()} `})}catch{const an=document.querySelector(".react-flow__renderer");if(!an){Kt.error({en:"Unable to find React Flow renderer",ar:"      React Flow"});return}const Tn=await OC(an,{backgroundColor:"#ffffff",scale:2,useCORS:!0,logging:!1}),In=(vi,Yo)=>{const Qi=document.createElement("a");Qi.download=Yo,Qi.href=vi,Qi.click()};if(Y==="jpeg"){const vi=Tn.toDataURL("image/jpeg",.95);In(vi,`${A.name.replace(/\s+/g,"_")}_family_tree_full.jpeg`)}else{const vi=Tn.toDataURL("image/png");In(vi,`${A.name.replace(/\s+/g,"_")}_family_tree_full.png`)}Kt.success({en:`Tree exported as ${Y.toUpperCase()} successfully (fallback)`,ar:`    ${Y.toUpperCase()}  ( )`})}}catch(J){console.error("Export error:",J),Kt.error({en:"Failed to export tree as image",ar:"    "})}},Lt=async()=>{if(A)try{const Y=K.current;if(!Y){Kt.error({en:"Unable to find tree container",ar:"      "});return}if(!Y.querySelector(".tree-visualization-container")){Kt.error({en:"Unable to find visualization container",ar:"      "});return}await new Promise(Tr=>setTimeout(Tr,100));const ce=Y.querySelector(".react-flow__renderer"),Ae=ce==null?void 0:ce.querySelector("svg");if(!Ae){Kt.error({en:"Unable to find React Flow SVG",ar:"     SVG   React Flow"});return}const _e=document.querySelectorAll(".react-flow__node"),Pe=document.querySelectorAll(".react-flow__edge-path, .react-flow__edges path"),Ne=[..._e,...Pe].map(Tr=>Tr.getBoundingClientRect());if(Ne.length===0){Kt.error({en:"No nodes or edges found to export",ar:"       "});return}const Ee=Ae.getBoundingClientRect(),Qe=Math.min(...Ne.map(Tr=>Tr.left-Ee.left)),at=Math.min(...Ne.map(Tr=>Tr.top-Ee.top)),Le=Math.max(...Ne.map(Tr=>Tr.right-Ee.left)),ht=Math.max(...Ne.map(Tr=>Tr.bottom-Ee.top)),Ve=Math.max(1,Math.round(Le-Qe)),yt=Math.max(1,Math.round(ht-at)),It=Ae.getAttribute("viewBox"),Mt=Ae.getAttribute("width"),At=Ae.getAttribute("height"),Rt=(ce==null?void 0:ce.style.overflow)||"";ce&&(ce.style.overflow="visible"),Ae.setAttribute("viewBox",`${Qe} ${at} ${Ve} ${yt}`),Ae.setAttribute("width",`${Ve}`),Ae.setAttribute("height",`${yt}`);const lr=[];document.querySelectorAll('link[rel="stylesheet"][href*="fonts.googleapis.com"]').forEach(Tr=>{const Wr=Tr,Hr=Wr.parentNode,ws=Wr.nextSibling;lr.push({link:Wr,parent:Hr,next:ws}),Hr.removeChild(Wr)});const Xt=Ae.getAttribute("style")||"";Ae.setAttribute("style",`${Xt?Xt+"; ":""}font-family: Inter, Cairo, "Noto Sans Arabic", Arial, sans-serif;`);let Mr;try{await Promise.all(Array.from(Ae.querySelectorAll("image")).map(async Tr=>{const Wr=Tr.getAttribute("href")||Tr.getAttributeNS("http://www.w3.org/1999/xlink","href");if(Wr&&!String(Wr).startsWith("data:"))try{const ws=await(await fetch(Wr,{mode:"cors"})).blob();await new Promise((Rr,Yn)=>{const sa=new FileReader;sa.onload=()=>{Tr.setAttribute("href",sa.result),Rr()},sa.onerror=Yn,sa.readAsDataURL(ws)})}catch{}})),Mr=await SM.toSvg(Ae,{cacheBust:!0,skipFonts:!0})}finally{lr.forEach(({link:Tr,parent:Wr,next:Hr})=>{Hr?Wr.insertBefore(Tr,Hr):Wr.appendChild(Tr)}),Ae.setAttribute("style",Xt),It!==null?Ae.setAttribute("viewBox",It):Ae.removeAttribute("viewBox"),Mt!==null?Ae.setAttribute("width",Mt):Ae.removeAttribute("width"),At!==null?Ae.setAttribute("height",At):Ae.removeAttribute("height"),ce&&(ce.style.overflow=Rt)}const hr=Ve,br=yt,rr=document.createElement("canvas"),en=3;rr.width=Math.max(1,Math.round(hr*en)),rr.height=Math.max(1,Math.round(br*en));const zr=rr.getContext("2d");zr.fillStyle="#ffffff",zr.fillRect(0,0,rr.width,rr.height);const Oi=new Blob([Mr],{type:"image/svg+xml;charset=utf-8"}),Wn=URL.createObjectURL(Oi);try{await new Promise((Hr,ws)=>{const Rr=new Image;Rr.crossOrigin="anonymous",Rr.onload=()=>{zr.drawImage(Rr,0,0,rr.width,rr.height),URL.revokeObjectURL(Wn),Hr()},Rr.onerror=Yn=>{URL.revokeObjectURL(Wn),ws(Yn)},Rr.src=Wn});const Tr=rr.toDataURL("image/png"),Wr=new sr({orientation:hr>=br?"landscape":"portrait",unit:"px",format:[rr.width,rr.height]});Wr.addImage(Tr,"PNG",0,0,rr.width,rr.height),Wr.save(`${A.name.replace(/\s+/g,"_")}_family_tree.pdf`)}catch{const Wr=Y.querySelector(".react-flow__renderer");if(!Wr){Kt.error({en:"Unable to find React Flow renderer",ar:"      React Flow"});return}const Hr=await OC(Wr,{backgroundColor:"#ffffff",scale:2,useCORS:!0,logging:!1}),ws=Hr.toDataURL("image/png"),Rr=new sr({orientation:Hr.width>=Hr.height?"landscape":"portrait",unit:"px",format:[Hr.width,Hr.height]});Rr.addImage(ws,"PNG",0,0,Hr.width,Hr.height),Rr.save(`${A.name.replace(/\s+/g,"_")}_family_tree.pdf`)}Kt.success({en:"Tree exported as PDF successfully",ar:"    PDF "})}catch(Y){console.error("Export error:",Y),Kt.error({en:"Failed to export tree as PDF",ar:"     PDF"})}},Et=()=>{if(A)try{const Y=["ID","First Name","Last Name","Gender","Birth Date","Birth Place","Is Alive"],J=A.persons.map(_e=>[_e.id,_e.firstName,_e.lastName,_e.gender,_e.birthDate||"",_e.birthPlace||"",_e.isAlive?"Yes":"No"]),ce=X3.aoa_to_sheet([Y,...J]),Ae=X3.book_new();X3.book_append_sheet(Ae,ce,"Family Tree"),NEe(Ae,`${A.name.replace(/\s+/g,"_")}_family_tree.csv`,{bookType:"csv"}),Kt.success({en:"Tree exported as CSV successfully",ar:"    CSV "})}catch(Y){console.error("Export error:",Y),Kt.error({en:"Failed to export tree as CSV",ar:"     CSV"})}},Ut=async()=>{if(!A)return;const{encryptString:Y}=await Y1(async()=>{const{encryptString:Ae}=await Promise.resolve().then(()=>tLe);return{encryptString:Ae}},void 0);console.log("Encrypting tree ID for sharing:",A.id);const J=await Y(A.id);console.log("Encrypted ID for sharing:",J);const ce=`${window.location.origin}/shared/${J}`;if(console.log("Share URL:",ce),navigator.share)try{await navigator.share({title:A.name,text:W?`    ${A.name}`:`Check out the ${A.name} family tree`,url:ce})}catch{Ct(ce)}else Ct(ce)},Ct=Y=>{navigator.clipboard?navigator.clipboard.writeText(Y).then(()=>{Kt.success(W?"    ":"Link copied to clipboard")}).catch(J=>{Vt(Y)}):Vt(Y)},Vt=Y=>{const J=document.createElement("textarea");J.value=Y,J.style.top="0",J.style.left="0",J.style.position="fixed",J.style.opacity="0",document.body.appendChild(J),J.focus(),J.select();try{document.execCommand("copy")?Kt.success(W?"    ":"Link copied to clipboard"):Kt.error(W?"  ":"Failed to copy link")}catch{Kt.error(W?"  ":"Failed to copy link")}document.body.removeChild(J)};re.useEffect(()=>{const Y=()=>{const J=document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;y(!!J)};return document.addEventListener("fullscreenchange",Y),document.addEventListener("webkitfullscreenchange",Y),document.addEventListener("msfullscreenchange",Y),()=>{document.removeEventListener("fullscreenchange",Y),document.removeEventListener("webkitfullscreenchange",Y),document.removeEventListener("msfullscreenchange",Y)}},[]);const $n=()=>{z(!0),setTimeout(()=>{},0)},Vr=Y=>{if(!A)return;const J=A.persons.find(_e=>_e.id===Y);if(!J)return;let ce="",Ae="";return A!=null&&A.relationships&&Array.isArray(A.relationships)&&A.relationships.filter(Pe=>{var at;const Ne=Pe.relationshipType==="Child",Ee=Y.toString(),Qe=(at=Pe.relatedPersonId)==null?void 0:at.toString();return Ne&&Qe===Ee}).forEach(Pe=>{var Qe;const Ne=(Qe=Pe.personId)==null?void 0:Qe.toString(),Ee=A.persons.find(at=>at.id.toString()===Ne);Ee&&(Ee.gender==="male"?ce=Ee.id:Ee.gender==="female"&&(Ae=Ee.id))}),{id:J.id,name:`${J.firstName} ${J.lastName}`,gender:J.gender,birthDate:J.birthDate||"",deathDate:"",birthPlace:J.birthPlace||"",birthPlaceEn:J.birthPlaceEn||"",occupation:"",occupationEn:"",isAlive:J.isAlive,fatherId:ce,motherId:Ae}},Mn=()=>zt?l.jsx("div",{className:"space-y-4",children:se?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(Vn,{className:"h-8 w-8 animate-spin text-primary"})}):P.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(qr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:W?"   ":"No Incoming Requests"}),l.jsx("p",{className:"text-muted-foreground",children:W?"     ":"No incoming join requests currently"})]}):P.map(Y=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-medium",children:Y.name}),qt(Y.status)]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:new Date(Y.birthDate).toLocaleDateString(W?"ar-SA":"en-US")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ga,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:Y.birthPlace})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yA,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:Y.occupation})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:Y.relationshipType})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[W?" :":"Requested by:"," ",Y.requesterId]})]}),Y.status.toLowerCase()==="pending"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{variant:"default",size:"sm",onClick:()=>As(Y.id),className:"flex items-center gap-1",children:[l.jsx(R1,{className:"h-4 w-4"}),W?"":"Accept"]}),l.jsxs(je,{variant:"destructive",size:"sm",onClick:()=>Kr(Y.id),className:"flex items-center gap-1",children:[l.jsx(WO,{className:"h-4 w-4"}),W?"":"Reject"]})]})]})},Y.id))}):null,Rn=()=>l.jsx("div",{className:"space-y-4",children:se?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(Vn,{className:"h-8 w-8 animate-spin text-primary"})}):q.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(fx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:W?"   ":"No Outgoing Requests"}),l.jsx("p",{className:"text-muted-foreground",children:W?"     ":"You have not made any join requests currently"})]}):q.map(Y=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-medium",children:Y.name}),qt(Y.status)]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:new Date(Y.birthDate).toLocaleDateString(W?"ar-SA":"en-US")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ga,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:Y.birthPlace})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yA,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:Y.occupation})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:Y.relationshipType})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[W?" :":"Tree ID:"," ",Y.familyTreeId]})]})})},Y.id))}),qt=Y=>{switch(Y.toLowerCase()){case"pending":return l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(z2,{className:"h-3 w-3 mr-1"}),W?" ":"Pending"]});case"accepted":return l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(Ha,{className:"h-3 w-3 mr-1"}),W?"":"Accepted"]});case"rejected":return l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l.jsx(fE,{className:"h-3 w-3 mr-1"}),W?"":"Rejected"]});default:return l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:Y})}},As=async Y=>{try{await Ht.acceptJoinRequest(Y),Kt.success({en:"Request accepted successfully",ar:"   "}),Te()}catch{Kt.error({en:"Failed to accept request",ar:"   "})}},Kr=async Y=>{try{await Ht.rejectJoinRequest(Y),Kt.success({en:"Request rejected successfully",ar:"   "}),Te()}catch{Kt.error({en:"Failed to reject request",ar:"   "})}},Lr=()=>{if(!A)return null;const Y=A.persons.filter(J=>it(J).toLowerCase().includes(m.toLowerCase()));return l.jsx("div",{className:`grid ${ee?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"}`,children:Y.map(J=>l.jsx(gt,{className:"hover:shadow-md transition-shadow",children:l.jsxs(vt,{className:`p-4 ${ee?"p-3":""}`,children:[l.jsxs("div",{className:`flex items-center gap-3 mb-3 ${ee?"gap-2":""}`,children:[l.jsx("div",{className:`rounded-full flex items-center justify-center ${J.gender==="male"?"bg-blue-100 text-blue-600":J.gender==="female"?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600"} ${ee?"w-10 h-10":"w-12 h-12"}`,children:J.gender==="male"?l.jsx(ur,{className:`h-6 w-6 ${ee?"h-5 w-5":""}`}):J.gender==="female"?l.jsx(ur,{className:`h-6 w-6 ${ee?"h-5 w-5":""}`}):l.jsx(ur,{className:`h-6 w-6 text-gray-500 ${ee?"h-5 w-5":""}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-medium ${ee?"text-sm":""}`,children:it(J)}),l.jsxs("div",{className:`flex items-center gap-2 ${ee?"text-xs":"text-sm"} text-muted-foreground`,children:[l.jsx(yn,{variant:J.gender==="male"?"default":"secondary",className:ee?"text-xs px-1.5 py-0.5":"",children:J.gender==="male"?W?"":"Male":W?"":"Female"}),J.birthDate&&l.jsx("span",{children:new Date(J.birthDate).getFullYear()})]})]})]}),l.jsxs("div",{className:`flex ${ee?"gap-1":"gap-2"}`,children:[l.jsxs(je,{size:"sm",variant:"outline",onClick:()=>{const ce={...J,parents:J.parentIds?J.parentIds.map(Ae=>{const _e=A==null?void 0:A.persons.find(Pe=>Pe.id===Ae);return{id:Ae,name:_e?W?`${_e.firstName} ${_e.lastName}`:`${_e.firstNameEn||_e.firstName} ${_e.lastNameEn||_e.lastName}`:W?" ":"Unknown",relationship:W?"":"Parent"}}):[],spouses:J.spouseIds?J.spouseIds.map(Ae=>{const _e=A==null?void 0:A.persons.find(Pe=>Pe.id===Ae);return{id:Ae,name:_e?W?`${_e.firstName} ${_e.lastName}`:`${_e.firstNameEn||_e.firstName} ${_e.lastNameEn||_e.lastName}`:W?" ":"Unknown"}}).filter(Ae=>Ae.name!==(W?" ":"Unknown")):[],childrenDetails:J.childrenIds?J.childrenIds.map(Ae=>{const _e=A==null?void 0:A.persons.find(Pe=>Pe.id===Ae);return{id:Ae,name:_e?W?`${_e.firstName} ${_e.lastName}`:`${_e.firstNameEn||_e.firstName} ${_e.lastNameEn||_e.lastName}`:W?" ":"Unknown"}}):[],parentIds:void 0,spouseIds:void 0,children:void 0};console.log("Detailed person spouse data:",{originalSpouseIds:J.spouseIds,createdSpouses:ce.spouses,hasSpouses:ce.spouses&&ce.spouses.length>0}),Nt(ce),et(!0)},className:ee?"text-xs py-1 px-2":"",children:[l.jsx(Mo,{className:`h-4 w-4 ${ee?"h-3 w-3 mr-1":"mr-1"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"View"})]}),l.jsxs(je,{size:"sm",variant:"outline",onClick:()=>He(J.id),className:`flex items-center ${zt?"":"hidden"} ${ee?"text-xs py-1 px-2":""}`,children:[l.jsx(Ro,{className:`h-4 w-4 ${ee?"h-3 w-3 mr-1":"mr-1"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"Edit"})]}),l.jsxs(je,{size:"sm",variant:"destructive",onClick:()=>tt(J.id),className:`flex items-center ${zt?"":"hidden"} ${ee?"text-xs py-1 px-2":""}`,children:[l.jsx(wl,{className:`h-4 w-4 ${ee?"h-3 w-3 mr-1":"mr-1"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"Delete"})]})]})]})},J.id))})},zt=(()=>{if(!u||!A&&!n)return!1;if(n&&n.id===e&&(n.ownerId&&n.ownerId===u.id||n.owner&&n.owner.id===u.id||n.userRole==="owner")||A&&(A.ownerId&&A.ownerId===u.id||A.owner&&A.owner.id===u.id))return!0;const Y=o.find(ce=>ce.id===e);if(Y&&(Y.ownerId&&Y.ownerId===u.id||Y.owner&&Y.owner.id===u.id||Y.userRole==="owner"))return!0;const J=c.find(ce=>ce.id===e);return!!(J&&(J.ownerId&&J.ownerId===u.id||J.owner&&J.owner.id===u.id||J.userRole==="owner"))})();if(re.useEffect(()=>{G==="incoming"&&zt?Te():G==="outgoing"&&ve()},[G,zt]),i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 animate-spin"}),l.jsx("p",{className:"text-muted-foreground",children:W?"  ...":"Loading tree..."})]})});if(a)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-destructive mx-auto mb-4",children:l.jsx(cn,{className:"h-12 w-12 mx-auto"})}),l.jsx("p",{className:"text-destructive",children:W?"    ":"Error loading tree"}),l.jsx(je,{variant:"outline",className:"mt-4",onClick:()=>window.location.reload(),children:W?" ":"Try Again"})]})});if(!A)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:W?"    ":"Tree not found"})]})});const jr=l.jsx("div",{className:G!=="tree"?"hidden":"",children:l.jsx("div",{ref:K,className:"w-full h-full",children:l.jsx(gt,{className:`relative overflow-hidden tree-visualization-container ${v?"fixed inset-0 z-50 m-0 rounded-none":""}`,style:{height:v?"100vh":"calc(100vh - 200px)"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{width:"100%",height:"100%"},children:l.jsx("div",{className:"w-full h-full",style:{width:"100%",height:"100%"},children:l.jsx(jz,{persons:A?A.persons:[],relationships:(A==null?void 0:A.relationships)||[],rootPersonId:A?A.rootPersonId:"",onSelectPerson:Oe,onEditPerson:He,onDeletePerson:tt,onAddChild:Se,onAddSpouse:Fe,onAddFather:lt,onAddMother:We,dataVersion:Me,isOwnedTree:zt})})})})})}),Sr=l.jsx("div",{className:G!=="list"?"hidden":"",children:Lr()}),ne=l.jsx("div",{className:G!=="incoming"?"hidden":"",children:l.jsx(gt,{children:l.jsxs(vt,{className:"p-4",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:W?"  ":"Incoming Join Requests"}),Mn()]})})}),he=l.jsx("div",{className:G!=="outgoing"?"hidden":"",children:l.jsx(gt,{children:l.jsxs(vt,{className:"p-4",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:W?"  ":"Outgoing Join Requests"}),Rn()]})})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`flex ${ee?"flex-col gap-3":"items-center justify-between"}`,children:[l.jsxs("div",{className:`flex ${ee?"flex-col gap-3":"items-center gap-4"}`,children:[l.jsxs(je,{variant:"outline",onClick:()=>t("/trees"),size:ee?"sm":"default",className:ee?"w-full":"",children:[l.jsx(mc,{className:"h-4 w-4 mr-2"}),W?" ":"Back to Trees"]}),l.jsxs("div",{children:[l.jsx("h1",{className:`font-bold ${ee?"text-xl":"text-2xl"}`,children:W?A==null?void 0:A.name:A==null?void 0:A.nameEn}),l.jsxs("p",{className:"text-muted-foreground text-sm",children:[(A==null?void 0:A.persons.length)||0," ",W?"":"members"]})]})]}),l.jsxs("div",{className:`flex ${ee?"gap-2 w-full":"items-center gap-2"}`,children:[l.jsxs(je,{variant:"outline",onClick:()=>S(!0),className:zt?"":"hidden",size:ee?"sm":"default",children:[l.jsx(Fd,{className:"h-4 w-4 mr-2"}),W?" ":"Add Person"]}),l.jsxs(je,{variant:"default",onClick:$n,className:`${zt?"hidden":""} ${ee?"flex-1":""}`,size:ee?"sm":"default",children:[l.jsx(R1,{className:"h-4 w-4 mr-2"}),W?" ":"Join Request"]}),l.jsxs(je,{variant:"outline",onClick:Ut,className:ee?"flex-1":"",size:ee?"sm":"default",children:[l.jsx(V2,{className:"h-4 w-4 mr-2"}),W?"":"Share"]}),l.jsxs("div",{className:"relative",children:[l.jsxs(je,{variant:"outline",onClick:()=>$e(!me),className:ee?"flex-1":"",size:ee?"sm":"default",children:[l.jsx(AE,{className:"h-4 w-4 mr-2"}),W?"":"Export"]}),me&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 z-50",style:{top:"100%",minWidth:"180px"},children:l.jsxs("div",{className:"py-1",children:[l.jsx("button",{onClick:()=>{Et(),$e(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:W?"  CSV":"Export as CSV"}),l.jsx("button",{onClick:()=>{Ke("png"),$e(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:W?"  PNG":"Export as PNG"}),l.jsx("button",{onClick:()=>{Lt(),$e(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:W?"  PDF":"Export as PDF"})]})})]})]})]}),l.jsxs("div",{className:`flex flex-col ${ee?"gap-3":"gap-4"}`,children:[l.jsxs("div",{className:`flex ${ee?"flex-wrap gap-1 p-1 bg-muted rounded-lg overflow-x-auto":"items-center gap-2"}`,style:{minHeight:"40px"},children:[l.jsxs(je,{variant:G==="tree"?"default":"outline",size:"sm",onClick:()=>F("tree"),className:`flex items-center gap-2 whitespace-nowrap ${ee?"text-xs py-2 px-3 flex-1 justify-center":""}`,style:{minWidth:"80px"},children:[l.jsx(cn,{className:`h-4 w-4 ${ee?"h-3 w-3":"mr-2"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"Tree"})]}),l.jsxs(je,{variant:G==="list"?"default":"outline",size:"sm",onClick:()=>F("list"),className:`flex items-center gap-2 whitespace-nowrap ${ee?"text-xs py-2 px-3 flex-1 justify-center":""}`,style:{minWidth:"80px"},children:[l.jsx(dte,{className:`h-4 w-4 ${ee?"h-3 w-3":"mr-2"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"List"})]}),zt&&l.jsxs(je,{variant:G==="incoming"?"default":"outline",size:"sm",onClick:()=>F("incoming"),className:`flex items-center gap-2 whitespace-nowrap ${ee?"text-xs py-2 px-3 flex-1 justify-center":""}`,style:{minWidth:"80px"},children:[l.jsx(R1,{className:`h-4 w-4 ${ee?"h-3 w-3":"mr-2"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"Incoming"}),P.filter(Y=>{var J;return((J=Y.status)==null?void 0:J.toLowerCase())==="pending"}).length>0&&l.jsx("span",{className:`ml-2 bg-red-500 text-white text-xs rounded-full flex items-center justify-center ${ee?"h-4 w-4":"h-5 w-5"}`,children:P.filter(Y=>{var J;return((J=Y.status)==null?void 0:J.toLowerCase())==="pending"}).length})]}),l.jsxs(je,{variant:G==="outgoing"?"default":"outline",size:"sm",onClick:()=>F("outgoing"),className:`flex items-center gap-2 whitespace-nowrap ${ee?"text-xs py-2 px-3 flex-1 justify-center":""}`,style:{minWidth:"80px"},children:[l.jsx(fx,{className:`h-4 w-4 ${ee?"h-3 w-3":"mr-2"}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"":"Outgoing"})]}),G==="tree"&&l.jsx(je,{variant:"outline",size:"sm",onClick:Ye,className:`flex items-center gap-2 whitespace-nowrap ${ee?"text-xs py-2 px-3 flex-1 justify-center":""}`,style:{minWidth:"80px"},children:v?l.jsxs(l.Fragment,{children:[l.jsx(GO,{className:`h-4 w-4 ${ee?"h-3 w-3":""}`}),l.jsx("span",{className:ee?"hidden":"",children:W?"   ":"Exit Fullscreen"})]}):l.jsxs(l.Fragment,{children:[l.jsx(KO,{className:`h-4 w-4 ${ee?"h-3 w-3":""}`}),l.jsx("span",{className:ee?"hidden":"",children:W?" ":"Fullscreen"})]})})]}),l.jsx("div",{className:`flex ${ee?"flex-col gap-3":"items-center justify-between"}`,children:l.jsx("div",{className:"w-full",children:(G==="tree"||G==="list")&&l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${ee?"h-3.5 w-3.5":"h-4 w-4"} text-muted-foreground`}),l.jsx("input",{type:"text",placeholder:W?"  ...":"Search members...",value:m,onChange:Y=>x(Y.target.value),className:`pl-10 pr-4 border rounded-md ${ee?"py-2 text-sm w-full":"py-2 text-sm w-64"}`})]})})})]}),jr,Sr,l.jsx("div",{className:G!=="incoming"||!zt?"hidden":"",children:ne}),he,l.jsx(Km,{isOpen:w,onClose:()=>{S(!1),N(null),E(null),D(null),Q(null)},onSubmit:Y=>{e&&(s(e),we(J=>J+1)),S(!1),N(null),E(null),D(null),Q(null)},familyTreeId:(A==null?void 0:A.id)||"",familyMembers:(A==null?void 0:A.persons)||[],relationships:(A==null?void 0:A.relationships)||[],initialRelationshipData:C?{parentId:C,relationshipType:"father"}:k?{parentId:k,relationshipType:"spouse"}:U?{parentId:U,relationshipType:"father"}:M?{parentId:M,relationshipType:"mother"}:null,mode:"create"}),l.jsx(Km,{isOpen:T,onClose:()=>{j(!1),B(null)},onSubmit:Y=>{e&&(s(e),we(J=>J+1)),j(!1),B(null)},familyTreeId:(A==null?void 0:A.id)||"",familyMembers:(A==null?void 0:A.persons)||[],relationships:(A==null?void 0:A.relationships)||[],initialData:I?Vr(I):void 0,mode:"edit"}),l.jsx(Gbe,{isOpen:O,onClose:()=>z(!1),treeId:e||"",treeName:W?(A==null?void 0:A.name)||"":(A==null?void 0:A.nameEn)||"",treePersons:(A==null?void 0:A.persons)||[]}),l.jsx(Cp,{isOpen:oe,onClose:nt,title:W?" ":"Confirm Deletion",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-foreground",children:W?"      ":"Are you sure you want to delete this person?"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:W?"     .":"This action cannot be undone."})]})}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(je,{variant:"outline",onClick:nt,children:W?"":"Cancel"}),l.jsx(je,{variant:"destructive",onClick:xt,children:W?"":"Delete"})]})]})}),l.jsx(Tz,{person:rt,isOpen:Be,onClose:()=>{et(!1),Nt(null)}})]})};function Jke(e){return new TextEncoder().encode(e).buffer}function Zke(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.byteLength;n++)r+=String.fromCharCode(t[n]);return btoa(r)}function eLe(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}async function oY(){const e=Jke("nasabna-tree-sharing-key-2025");return crypto.subtle.importKey("raw",e,{name:"AES-GCM"},!1,["encrypt","decrypt"])}async function XC(e){try{const t=await oY(),n=new TextEncoder().encode(e),s=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:s},t,n),a=new Uint8Array(s.length+i.byteLength);return a.set(s,0),a.set(new Uint8Array(i),s.length),Zke(a.buffer)}catch{return e}}async function lY(e){try{const t=await oY(),r=eLe(e),n=new Uint8Array(r),s=n.slice(0,12),i=n.slice(12),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,i);return new TextDecoder().decode(a)}catch{return e}}const tLe=Object.freeze(Object.defineProperty({__proto__:null,decryptString:lY,encryptString:XC},Symbol.toStringTag,{value:"Module"})),rLe=()=>{const{id:e}=Jd(),t=ls(),{language:r}=ir(),{user:n}=os(),{trees:s,fetchTrees:i,deleteTree:a}=Ti(),{isMobile:o}=cs(),[c,u]=re.useState("info"),[A,f]=re.useState(!1),[d,h]=re.useState(!1),[g,p]=re.useState(!1),[m,x]=re.useState(!1),[v,y]=re.useState(!1),[w,S]=re.useState(!1),[T,j]=re.useState(null),[I,B]=re.useState(null),[C,N]=re.useState(!0),[k,E]=re.useState(null),[U,D]=re.useState(null),[M,Q]=re.useState(!1),[K,O]=re.useState(null),[z,G]=re.useState(""),[F,P]=re.useState(!1);re.useRef(null),re.useEffect(()=>{},[z]);const L=r==="ar",[q,X]=re.useState({id:"",name:"",description:"",descriptionEn:"",coverImage:void 0,isPublic:!0,allowCollaboration:!1,createdAt:"",updatedAt:"",membersCount:0,generationsCount:0}),[se,ae]=re.useState(q),[W,ee]=re.useState([]),Ce=(me,$e)=>{const Re=new Map;me.forEach(Se=>{Re.set(Se.id,{...Se,generation:1})});const Te=new Map;$e.forEach(Se=>{var Fe,lt,We,He,tt,xt;((Fe=Se.relationshipType)==null?void 0:Fe.toLowerCase())==="child"?Te.set(((lt=Se.relatedPersonId)==null?void 0:lt.toString())||"",((We=Se.personId)==null?void 0:We.toString())||""):((He=Se.relationshipType)==null?void 0:He.toLowerCase())==="parent"&&Te.set(((tt=Se.personId)==null?void 0:tt.toString())||"",((xt=Se.relatedPersonId)==null?void 0:xt.toString())||"")});const ve=me.filter(Se=>!Te.has(Se.id));ve.forEach(Se=>{const Fe=Re.get(Se.id);Fe&&(Fe.generation=1,Re.set(Se.id,Fe))});const it=ve.map(Se=>({memberId:Se.id,generation:1})),Oe=new Set;for(ve.forEach(Se=>Oe.add(Se.id));it.length>0;){const{memberId:Se,generation:Fe}=it.shift();Te.forEach((lt,We)=>{if(lt===Se&&!Oe.has(We)){const He=Re.get(We);He&&(He.generation=Fe+1,Re.set(We,He),Oe.add(We),it.push({memberId:We,generation:Fe+1}))}})}return Array.from(Re.values())},ye=async(me,$e)=>{try{Ti.getState().updateTreeGenerations(me.toString(),$e),await i()}catch{}};re.useEffect(()=>{(async()=>{if(q.id&&q.id!=="0"&&q.id!=="")try{P(!0);const $e=await XC(q.id);G($e)}catch($e){console.warn("Encryption error:",$e),G(q.id)}finally{P(!1)}else if(q.id===""&&e)try{P(!0);const $e=await XC(e);G($e)}catch($e){console.warn("Encryption error for param:",$e),G(e)}finally{P(!1)}else G("")})()},[q.id,e]),re.useEffect(()=>{(async()=>{var $e,Re;if(!e){E(L?"     ":"Tree ID not found"),N(!1);return}try{N(!0),E(null);const Te=await Ht.getTreeById(parseInt(e));if(!Te){E(L?"    ":"Tree not found"),N(!1);return}const ve={id:(($e=Te.id)==null?void 0:$e.toString())||e,name:Te.name||"",description:Te.description||"",descriptionEn:Te.description||"",coverImage:Te.photoUrl||void 0,isPublic:Te.isPrivate!==void 0?!Te.isPrivate:!0,allowCollaboration:Te.members&&Te.members.length>0,createdAt:Te.createdAt||new Date().toISOString(),updatedAt:Te.updatedAt||new Date().toISOString(),membersCount:((Re=Te.members)==null?void 0:Re.length)||0,generationsCount:1};X(ve),ae(ve);let Oe=(Array.isArray(Te.members)?Te.members:[]).map(Se=>({id:Se.id&&Se.id.toString()!=="undefined"&&Se.id.toString()!=="null"&&!isNaN(parseInt(Se.id.toString()))&&parseInt(Se.id.toString())>0?Se.id.toString():Date.now().toString()+Math.random().toString(36).substr(2,9),firstName:Se.firstName||Se.name||"",firstNameEn:Se.firstName||Se.name||"",lastName:Se.lastName||"",lastNameEn:Se.lastName||"",gender:Se.gender||"unknown",birthDate:Se.birthDate||void 0,deathDate:Se.deathDate||void 0,birthPlace:Se.birthPlace||void 0,birthPlaceEn:Se.birthPlace||void 0,occupation:Se.occupation||void 0,occupationEn:Se.occupation||void 0,bio:void 0,bioEn:void 0,avatar:Se.photoUrl||void 0,isAlive:Se.isDeceased!==void 0?!Se.isDeceased:!0,generation:1,parentId:void 0,spouseId:void 0,children:[],photos:[],documents:[]}));try{const Fe=(await Ht.getRelationships()).filter(We=>!0);Oe=Ce(Oe,Fe);const lt=Math.max(...Oe.map(We=>We.generation),1);X(We=>({...We,generationsCount:lt})),ae(We=>({...We,generationsCount:lt})),await ye(e,lt)}catch{}ee(Oe)}catch{E(L?"    ":"Failed to load tree data")}finally{N(!1)}})()},[e,L]);const Me=async()=>{var me,$e,Re,Te,ve,it;if(e)try{if(N(!0),!se.name||se.name.trim()==="")throw new Error(L?"  ":"Tree name is required");const Oe=await Ht.updateTree(parseInt(e),se.name.trim(),!se.isPublic,((me=se.description)==null?void 0:me.trim())||"");if(!Oe)throw new Error(L?"   ":"Failed to update tree");const Se={...se,id:(($e=Oe.id)==null?void 0:$e.toString())||e,name:Oe.name||se.name,description:Oe.description||se.description,descriptionEn:Oe.description||se.descriptionEn,coverImage:Oe.photoUrl||se.coverImage,isPublic:Oe.isPrivate!==void 0?!Oe.isPrivate:se.isPublic,allowCollaboration:!!(Oe.members&&Oe.members.length>0),createdAt:Oe.createdAt||se.createdAt,updatedAt:Oe.updatedAt||new Date().toISOString(),membersCount:((Re=Oe.members)==null?void 0:Re.length)||se.membersCount,generationsCount:se.generationsCount};X(Se),f(!1)}catch(Oe){let Se=L?"    ":"Failed to update tree data";(ve=(Te=Oe.response)==null?void 0:Te.data)!=null&&ve.message?Se+=`: ${Oe.response.data.message}`:Oe.message?Se+=`: ${Oe.message}`:((it=Oe.response)==null?void 0:it.status)===400&&(Se+=": "+(L?"  ":"Invalid data provided")),E(Se)}finally{N(!1)}},we=()=>{ae(q),f(!1)},oe=async me=>{try{const $e=await Ht.updateTree(parseInt(me.id),me.name,!me.isPublic,L?me.description:me.descriptionEn);X(Re=>({...Re,name:$e.name,description:$e.description||Re.description,descriptionEn:$e.description||Re.descriptionEn,isPublic:$e.isPrivate!==void 0?!$e.isPrivate:Re.isPublic})),ae(Re=>({...Re,name:$e.name,description:$e.description||Re.description,descriptionEn:$e.description||Re.descriptionEn,isPublic:$e.isPrivate!==void 0?!$e.isPrivate:Re.isPublic})),Ti.getState().updateTree($e.id.toString(),{...$e,isPrivate:$e.isPrivate,description:$e.description||""}),O(L?"   ":"Tree updated successfully"),setTimeout(()=>O(null),3e3),h(!1)}catch{O(L?"   ":"Failed to update tree"),setTimeout(()=>O(null),3e3)}},ze=async me=>{var $e,Re,Te,ve,it;try{const Oe={id:($e=me.id)!=null&&$e.toString()&&me.id.toString()!=="undefined"&&me.id.toString()!=="null"&&!isNaN(parseInt(me.id.toString()))?me.id.toString():Date.now().toString()+Math.random().toString(36).substr(2,9),firstName:me.firstName||((Re=me.name)==null?void 0:Re.split(" ")[0])||"",firstNameEn:me.firstNameEn||((Te=me.name)==null?void 0:Te.split(" ")[0])||"",lastName:me.lastName||((ve=me.name)==null?void 0:ve.split(" ").slice(1).join(" "))||"",lastNameEn:me.lastNameEn||((it=me.name)==null?void 0:it.split(" ").slice(1).join(" "))||"",gender:me.gender||"unknown",birthDate:me.birthDate||void 0,deathDate:me.deathDate||void 0,birthPlace:me.birthPlace||void 0,birthPlaceEn:me.birthPlaceEn||void 0,occupation:me.occupation||void 0,occupationEn:me.occupationEn||void 0,bio:me.bio||void 0,bioEn:me.bioEn||void 0,avatar:me.avatar||void 0,isAlive:!me.isDeceased,generation:me.generation!==void 0?me.generation:1,parentId:me.parentId||void 0,spouseId:me.spouseId||void 0,children:me.children||[],photos:me.photos||[],documents:me.documents||[]},Se=[...W,Oe];ee(Se);try{const Fe=await Ht.getRelationships(),lt=Ce(Se,Fe);ee(lt);const We=Math.max(...lt.map(He=>He.generation),1);X(He=>({...He,membersCount:He.membersCount+1,generationsCount:We})),ae(He=>({...He,membersCount:He.membersCount+1,generationsCount:We})),e&&await ye(e,We)}catch{}O(L?"   ":"Member added successfully"),setTimeout(()=>O(null),3e3)}catch{O(L?"   ":"Failed to add member"),setTimeout(()=>O(null),3e3)}},de=async me=>{var $e,Re,Te;if(confirm(L?"      ":"Are you sure you want to delete this member?"))try{N(!0);const it=(await Ti.getState().getRelationships()).filter(Se=>Se.personId===parseInt(me)||Se.relatedPersonId===parseInt(me));for(const Se of it)try{await Ti.getState().deleteRelationship(Se.id.toString())}catch{}await Ti.getState().deletePerson(me);const Oe=W.filter(Se=>Se.id!==me);ee(Oe),X(Se=>({...Se,membersCount:Se.membersCount-1})),ae(Se=>({...Se,membersCount:Se.membersCount-1}));try{const Se=await Ht.getRelationships(),Fe=Ce(Oe,Se);ee(Fe);const lt=Math.max(...Fe.map(We=>We.generation),1);X(We=>({...We,generationsCount:lt})),ae(We=>({...We,generationsCount:lt})),e&&await ye(e,lt)}catch{}}catch(ve){let it=L?"   ":"Failed to delete member";(Re=($e=ve.response)==null?void 0:$e.data)!=null&&Re.message?it+=`: ${ve.response.data.message}`:(Te=ve.response)!=null&&Te.data?it+=`: ${JSON.stringify(ve.response.data)}`:ve.message&&(it+=`: ${ve.message}`),E(it)}finally{N(!1)}},be=async me=>{var $e,Re,Te,ve,it;try{D(null);const Oe=await Ht.updatePerson(parseInt(me.id),me.name,me.birthDate||"",L?me.birthPlace||"":me.birthPlaceEn||"",L?me.occupation||"":me.occupationEn||"",me.gender||"unknown",parseInt(e||"0")),Se=W.map(Fe=>{var lt,We,He,tt,xt,nt,Ye,Ke,Lt,Et,Ut;return Fe.id===((lt=me.id)==null?void 0:lt.toString())?{...Fe,firstName:((We=me.name)==null?void 0:We.split(" ")[0])||Fe.firstName||"",firstNameEn:((He=me.name)==null?void 0:He.split(" ")[0])||Fe.firstNameEn||"",lastName:((tt=me.name)==null?void 0:tt.split(" ").slice(1).join(" "))||Fe.lastName||"",lastNameEn:((xt=me.name)==null?void 0:xt.split(" ").slice(1).join(" "))||Fe.lastNameEn||"",gender:Oe.gender||me.gender||Fe.gender,birthDate:((nt=Oe.birth)==null?void 0:nt.date)||me.birthDate||Fe.birthDate,deathDate:((Ye=Oe.death)==null?void 0:Ye.date)||me.deathDate||Fe.deathDate,birthPlace:((Lt=(Ke=Oe.birth)==null?void 0:Ke.place)==null?void 0:Lt.city)||me.birthPlace||Fe.birthPlace,birthPlaceEn:((Ut=(Et=Oe.birth)==null?void 0:Et.place)==null?void 0:Ut.city)||me.birthPlaceEn||Fe.birthPlaceEn,occupation:Array.isArray(Oe.occupation)&&Oe.occupation.length>0?Oe.occupation[0].title:me.occupation||Fe.occupation,occupationEn:Array.isArray(Oe.occupation)&&Oe.occupation.length>0?Oe.occupation[0].title:me.occupationEn||Fe.occupation,isAlive:Oe.isDeceased!==void 0?!Oe.isDeceased:me.isDeceased!==void 0?!me.isDeceased:Fe.isAlive}:Fe});ee(Se);try{const Fe=await Ht.getRelationships(),lt=Ce(Se,Fe);ee(lt);const We=Math.max(...lt.map(He=>He.generation),1);X(He=>({...He,generationsCount:We})),ae(He=>({...He,generationsCount:We})),e&&await ye(e,We)}catch{}x(!1),B(null)}catch(Oe){let Se=L?"    ":"Failed to update member";(($e=Oe.response)==null?void 0:$e.status)===400?Se=L?"    ":"Please check the entered data":((Re=Oe.response)==null?void 0:Re.status)===401?Se=L?"     ":"You must be logged in to perform this action":((Te=Oe.response)==null?void 0:Te.status)===403?Se=L?"     ":"You do not have permission to perform this action":((ve=Oe.response)==null?void 0:ve.status)===404?Se=L?"     ":"The requested member was not found":((it=Oe.response)==null?void 0:it.status)===500?Se=L?"   .     ":"Server error. Please try again later":Oe.message&&(Oe.message.includes("Network Error")?Se=L?"  .     ":"Network error. Please check your internet connection":Oe.message.includes("timeout")&&(Se=L?"  .    ":"Request timeout. Please try again")),D(Se)}},Be=me=>me==="male"?ul:me==="female"?VO:ur,et=(me,$e)=>{if(!me)return"";let Re;try{if(me.includes("T"))Re=new Date(me);else if(me.includes("-")){const Oe=me.split("-");Oe.length===3?Re=new Date(parseInt(Oe[0]),parseInt(Oe[1])-1,parseInt(Oe[2])):Re=new Date(me)}else if(me.includes("/")){const Oe=me.split("/");Oe.length===3?Re=new Date(parseInt(Oe[2]),parseInt(Oe[0])-1,parseInt(Oe[1])):Re=new Date(me)}else Re=new Date(me)}catch{return""}if(isNaN(Re.getTime()))return"";let Te;if($e&&$e.trim()!=="")try{if($e.includes("T"))Te=new Date($e);else if($e.includes("-")){const Oe=$e.split("-");Oe.length===3?Te=new Date(parseInt(Oe[0]),parseInt(Oe[1])-1,parseInt(Oe[2])):Te=new Date($e)}else if($e.includes("/")){const Oe=$e.split("/");Oe.length===3?Te=new Date(parseInt(Oe[2]),parseInt(Oe[0])-1,parseInt(Oe[1])):Te=new Date($e)}else Te=new Date($e);isNaN(Te.getTime())&&(Te=new Date)}catch{Te=new Date}else Te=new Date;let ve=Te.getFullYear()-Re.getFullYear();const it=Te.getMonth()-Re.getMonth();return(it<0||it===0&&Te.getDate()<Re.getDate())&&ve--,ve>=0?ve.toString():"0"},rt=me=>{const $e=me.target;$e.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2NjYyIvPjx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjNjY2Ij5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+"};return C?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Vn,{className:"h-8 w-8 animate-spin text-primary"})}):!(()=>{if(!n||!e)return!1;const me=s.find($e=>$e.id===e);return me?me.ownerId===n.id||me.userRole==="owner":!1})()&&!C&&n?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx(hc,{className:"h-12 w-12 text-destructive"}),l.jsx("p",{className:"text-destructive text-center",children:L?"     ":"You do not have permission to edit this tree"}),l.jsx(je,{onClick:()=>t("/trees"),children:L?" ":"Back to Trees"})]}):k?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx(hc,{className:"h-12 w-12 text-destructive"}),l.jsx("p",{className:"text-destructive text-center",children:k}),l.jsx(je,{onClick:()=>window.location.reload(),children:L?" ":"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[K&&l.jsx("div",{className:"bg-green-100 border border-green-200 rounded-lg p-3",children:l.jsx("p",{className:"text-green-800 text-sm",children:K})}),l.jsxs("div",{className:`flex flex-col ${o?"gap-3":"sm:flex-row sm:items-center"} justify-between`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(je,{variant:"outline",onClick:()=>t("/trees"),className:"flex items-center gap-2",size:o?"sm":"default",children:[l.jsx(mc,{className:`h-4 w-4 ${o?"h-3 w-33":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:L?" ":"Back to Trees"})]}),l.jsxs("div",{children:[l.jsx("h1",{className:`font-bold text-foreground truncate ${o?"text-lg max-w-[150px]":"text-xl sm:text-2xl max-w-[200px] sm:max-w-none"}`,children:q.name}),l.jsx("p",{className:`text-muted-foreground ${o?"text-xs":"text-xs sm:text-sm"}`,children:L?`${q.membersCount}   ${q.generationsCount} `:`${q.membersCount} members  ${q.generationsCount} generations`})]})]}),l.jsx("div",{className:`flex ${o?"gap-1":"gap-2"}`})]}),l.jsx("div",{className:`flex ${o?"flex-wrap gap-1 p-1 bg-muted rounded-lg":"flex-wrap gap-1 border-b"}`,children:[{id:"info",label:L?" ":"Tree Info",icon:cn},{id:"members",label:L?" ":"Family Members",icon:qr},{id:"settings",label:L?"":"Settings",icon:Cm}].map(me=>l.jsxs(je,{variant:c===me.id?"default":"ghost",onClick:()=>u(me.id),className:`flex items-center gap-2 ${o?"text-xs py-2 px-3 flex-1 justify-center":"text-xs sm:text-sm"}`,size:o?"sm":"default",children:[ke.createElement(me.icon,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:me.label})]},me.id))}),c==="info"&&l.jsxs(gt,{children:[l.jsx(St,{className:`${o?"p-4":""}`,children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(cn,{className:`h-5 w-5 ${o?"h-4 w-4":""}`}),L?" ":"Tree Information"]})}),l.jsxs(vt,{className:`space-y-6 ${o?"p-4":""}`,children:[l.jsx("div",{className:`grid ${o?"grid-cols-1 gap-3":"grid-cols-1 sm:grid-cols-2 gap-4"}`,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:L?" ":"Tree Name"}),l.jsx(or,{value:A?se.name:q.name,onChange:me=>ae($e=>({...$e,name:me.target.value})),disabled:!A||C,placeholder:L?" ":"Tree Name",className:o?"text-sm py-2":"text-sm"})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:L?" ":"Tree Description"}),l.jsx(Ah,{value:A?L?se.description||"":se.descriptionEn||"":L?q.description||"":q.descriptionEn||"",onChange:me=>ae($e=>({...$e,[L?"description":"descriptionEn"]:me.target.value})),disabled:!A||C,placeholder:L?"  ...":"Write a description for the tree...",rows:o?2:3,className:o?"text-sm py-2":"text-sm"})]}),l.jsxs("div",{className:`grid ${o?"grid-cols-2 gap-2":"grid-cols-2 sm:grid-cols-4 gap-3"}`,children:[l.jsxs("div",{className:`text-center rounded-lg ${o?"p-2":"p-3"} bg-secondary/50`,children:[l.jsx(qr,{className:`text-primary mx-auto ${o?"h-5 w-5 mb-1":"h-6 w-6 mb-1.5"}`}),l.jsx("div",{className:`font-bold text-foreground ${o?"text-lg":"text-xl"}`,children:q.membersCount}),l.jsx("div",{className:"text-muted-foreground text-xs",children:L?"":"Members"})]}),l.jsxs("div",{className:`text-center rounded-lg ${o?"p-2":"p-3"} bg-secondary/50`,children:[l.jsx(cn,{className:`text-green-600 mx-auto ${o?"h-5 w-5 mb-1":"h-6 w-6 mb-1.5"}`}),l.jsx("div",{className:`font-bold text-foreground ${o?"text-lg":"text-xl"}`,children:q.generationsCount}),l.jsx("div",{className:"text-muted-foreground text-xs",children:L?"":"Generations"})]})]}),A&&l.jsxs("div",{className:`flex ${o?"flex-col gap-2":"gap-3 pt-4"}`,children:[l.jsxs(je,{onClick:Me,className:"flex items-center gap-2",disabled:C,size:o?"sm":"default",children:[C?l.jsx(Vn,{className:`animate-spin ${o?"h-3 w-3":"h-4 w-4"}`}):l.jsx(jd,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),o?L?"":"Save":L?" ":"Save Changes"]}),l.jsx(je,{variant:"outline",onClick:we,disabled:C,size:o?"sm":"default",children:L?"":"Cancel"})]})]})]}),c==="members"&&l.jsxs("div",{className:`flex ${o?"flex-col gap-3":"justify-between items-center"} mb-6`,children:[l.jsx("h2",{className:`font-bold text-foreground ${o?"text-lg":"text-xl"}`,children:L?" ":"Family Members"}),l.jsxs(je,{onClick:()=>p(!0),className:"flex items-center gap-2",size:o?"sm":"default",children:[l.jsx(Fd,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),o?L?"":"Add":L?" ":"Add Member"]})]}),c==="members"&&l.jsxs("div",{className:`grid ${o?"grid-cols-1 gap-3":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"}`,children:[W.map(me=>l.jsx(gt,{className:`overflow-hidden hover:shadow-md transition-shadow ${o?"rounded-lg":""}`,children:l.jsxs(vt,{className:"p-0",children:[l.jsx("div",{className:`relative ${o?"h-24":"h-28"} ${me.gender==="female"?"bg-gradient-to-r from-pink-500/20 to-pink-500/40":me.gender==="male"?"bg-gradient-to-r from-blue-500/20 to-blue-500/40":"bg-gradient-to-r from-primary/20 to-primary/40"}`,children:l.jsxs("div",{className:`absolute ${o?"top-1 right-1":"top-2 right-2"} flex gap-1`,children:[l.jsx(je,{size:o?"icon":"sm",variant:"secondary",className:`bg-background/80 hover:bg-background ${o?"h-6 w-6 p-0":"h-7 w-7 p-0"}`,onClick:()=>{B(me),x(!0)},children:l.jsx(Ro,{className:`h-3 w-3 ${o?"h-2.5 w-2.5":""}`})}),l.jsx(je,{size:o?"icon":"sm",variant:"secondary",className:`bg-background/80 hover:bg-background text-destructive hover:text-destructive ${o?"h-6 w-6 p-0":"h-7 w-7 p-0"}`,onClick:()=>de(me.id),disabled:C,children:l.jsx(wl,{className:`h-3 w-3 ${o?"h-2.5 w-2.5":""}`})})]})}),l.jsxs("div",{className:`px-3 ${o?"-mt-8":"-mt-10"}`,children:[l.jsx("div",{className:`rounded-full bg-background border-4 border-background mx-auto flex items-center justify-center ${o?"w-12 h-12":"w-14 h-14"}`,children:me.avatar?l.jsx("img",{src:me.avatar,alt:"Avatar",className:"w-full h-full rounded-full object-cover",onError:rt}):l.jsx("div",{className:`w-full h-full rounded-full flex items-center justify-center ${me.gender==="female"?"bg-gradient-to-br from-pink-500/20 to-pink-500/40":me.gender==="male"?"bg-gradient-to-br from-blue-500/20 to-blue-500/40":"bg-gradient-to-br from-primary/20 to-primary/40"}`,children:ke.createElement(Be(me.gender),{className:` ${me.gender==="female"?"text-pink-500":me.gender==="male"?"text-blue-500":"text-primary"} ${o?"h-5 w-5":"h-6 w-6"}`})})}),l.jsx("div",{className:`text-center ${o?"pt-2 pb-2":"pt-3 pb-3"}`,children:l.jsx("h3",{className:`font-bold text-foreground truncate ${o?"text-xs":"text-sm"}`,children:L?me.firstName||me.lastName?`${me.firstName||""} ${me.lastName||""}`.trim():" ":me.firstNameEn||me.lastNameEn?`${me.firstNameEn||""} ${me.lastNameEn||""}`.trim():"Unknown"})})]}),l.jsxs("div",{className:`border-t bg-muted/30 p-3 ${o?"p-2":""}`,children:[l.jsxs("div",{className:"space-y-1.5 text-xs",children:[me.birthPlace&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ga,{className:`text-muted-foreground flex-shrink-0 ${o?"h-3 w-3":"h-3.5 w-3.5"}`}),l.jsx("span",{className:"truncate",children:L?me.birthPlace:me.birthPlaceEn})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[me.isAlive?l.jsx(ns,{className:`text-green-500 flex-shrink-0 ${o?"h-3 w-3":"h-3.5 w-3.5"}`}):l.jsx(ns,{className:`text-red-500 flex-shrink-0 ${o?"h-3 w-3":"h-3.5 w-3.5"}`}),l.jsx("span",{className:"truncate",children:me.isAlive?L?"  ":"Alive":L?"":"Deceased"})]}),(me.birthDate||me.deathDate)&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ur,{className:`text-muted-foreground flex-shrink-0 ${o?"h-3 w-3":"h-3.5 w-3.5"}`}),l.jsxs("span",{className:"truncate",children:[et(me.birthDate,me.deathDate)," ",L?"":"years"]})]})]}),l.jsx("div",{className:`mt-3 ${o?"mt-2":""}`,children:l.jsxs(je,{size:"sm",variant:"outline",className:`w-full ${o?"h-7 text-xs":"h-8 text-xs"}`,onClick:()=>{const $e={...me,parents:me.parentIds?me.parentIds.map(Re=>{const Te=W.find(ve=>ve.id===Re);return{id:Re,name:Te?L?`${Te.firstName} ${Te.lastName}`:`${Te.firstNameEn||Te.firstName} ${Te.lastNameEn||Te.lastName}`:L?" ":"Unknown",relationship:L?"":"Parent"}}):[],spouses:me.spouseIds?me.spouseIds.map(Re=>{const Te=W.find(ve=>ve.id===Re);return{id:Re,name:Te?L?`${Te.firstName} ${Te.lastName}`:`${Te.firstNameEn||Te.firstName} ${Te.lastNameEn||Te.lastName}`:L?" ":"Unknown"}}):[],childrenDetails:me.childrenIds?me.childrenIds.map(Re=>{const Te=W.find(ve=>ve.id===Re);return{id:Re,name:Te?L?`${Te.firstName} ${Te.lastName}`:`${Te.firstNameEn||Te.firstName} ${Te.lastNameEn||Te.lastName}`:L?" ":"Unknown"}}):[]};j($e),S(!0)},children:[l.jsx(Mo,{className:`mr-1 ${o?"h-3 w-3":"h-3.5 w-3.5"}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:L?" ":"View Details"})]})})]})]})},me.id)),W.length===0&&l.jsxs("div",{className:"col-span-full text-center py-8",children:[l.jsx(qr,{className:`text-muted-foreground mx-auto mb-3 ${o?"h-8 w-8":"h-10 w-10"}`}),l.jsx("h3",{className:"font-medium text-foreground mb-1 text-base",children:L?"    ":"No Family Members"}),l.jsx("p",{className:`text-muted-foreground mb-3 ${o?"text-xs":"text-sm"}`,children:L?"    ":"Start by adding your first family members"}),l.jsxs(je,{onClick:()=>p(!0),size:"sm",children:[l.jsx(Fd,{className:`mr-1 ${o?"h-3 w-3":"h-4 w-4"}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:L?" ":"Add Member"})]})]})]}),l.jsx(MS,{isOpen:d,onClose:()=>h(!1),onSubmit:oe,initialData:{id:q.id,name:q.name,description:q.description,descriptionEn:q.descriptionEn,isPublic:q.isPublic},mode:"edit"}),l.jsx(Km,{isOpen:g,onClose:()=>p(!1),onSubmit:ze,familyTreeId:e||"",familyMembers:W,mode:"create"}),l.jsx(Km,{isOpen:m,onClose:()=>{x(!1),B(null)},onSubmit:be,familyTreeId:e||"",familyMembers:W,initialData:I?{id:I.id,name:I.firstName||I.lastName?`${I.firstName||""} ${I.lastName||""}`.trim():"",gender:I.gender,birthDate:I.birthDate,deathDate:I.deathDate,birthPlace:I.birthPlace,birthPlaceEn:I.birthPlaceEn,occupation:I.occupation,occupationEn:I.occupationEn,isAlive:I.isAlive}:void 0,mode:"edit"}),l.jsx(Tz,{person:T,isOpen:w,onClose:()=>{S(!1),j(null)}}),c==="settings"&&l.jsxs(gt,{children:[l.jsx(St,{className:o?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(Cm,{className:`h-5 w-5 ${o?"h-4 w-4":""}`}),L?" ":"Tree Settings"]})}),l.jsx(vt,{className:`space-y-6 ${o?"p-4":""}`,children:l.jsxs("div",{className:`space-y-4 ${o?"space-y-3":""}`,children:[l.jsxs("div",{className:`border-t pt-4 ${o?"pt-3":""}`,children:[l.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2",children:[l.jsx(fo,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),L?" ":"Privacy Settings"]}),l.jsxs("div",{className:`flex ${o?"flex-col gap-3":"items-center justify-between"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${o?"text-sm":""}`,children:L?" ":"Public Tree"}),l.jsx("p",{className:`text-muted-foreground ${o?"text-xs mt-1":"text-sm text-muted-foreground mt-1 sm:mt-0"}`,children:L?"   ":"Allow others to view the tree"})]}),l.jsx(je,{variant:q.isPublic?"default":"outline",size:"sm",onClick:async()=>{try{N(!0);const me=!q.isPublic,$e=await Ht.updateTree(parseInt(q.id),q.name,!me,L?q.description||"":q.descriptionEn||"");X(Re=>({...Re,isPublic:me,isPrivate:!me})),ae(Re=>({...Re,isPublic:me,isPrivate:!me})),Ti.getState().updateTree($e.id.toString(),{...$e,isPrivate:!me,description:$e.description||q.description||""}),O(L?"    ":"Privacy settings updated successfully"),setTimeout(()=>O(null),3e3)}catch{E(L?"    ":"Failed to update privacy settings")}finally{N(!1)}},disabled:C,className:o?"w-full":"",children:q.isPublic?L?"":"Public":L?"":"Private"})]}),l.jsx("div",{className:`p-3 bg-secondary/50 rounded-lg mt-4 ${o?"p-2 mt-3":""}`,children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Ed,{className:`text-primary mt-0.5 ${o?"h-3.5 w-3.5":"h-4 w-4"}`}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:L?" ":"Privacy Information"}),l.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:L?"      .          .":"Public trees can be viewed and searched by everyone. Private trees can only be viewed by the owner and invited collaborators."})]})]})}),q.isPublic&&l.jsxs("div",{className:`space-y-3 mt-4 ${o?"space-y-2 mt-3":""}`,children:[l.jsx("h3",{className:"font-medium text-sm",children:L?"  ":"Public Share Link"}),l.jsxs("div",{className:`flex ${o?"flex-col gap-2":"flex-col sm:flex-row gap-2"}`,children:[l.jsx(or,{value:F?"Encrypting...":z?`${window.location.origin}/shared/${z}`:q.id?`${window.location.origin}/shared/${q.id}`:"Loading...",readOnly:!0,className:`flex-1 ${o?"text-xs py-2":"text-xs"}`,disabled:C||F||!z&&!q.id}),l.jsx(je,{variant:"outline",size:"sm",disabled:C||F||!z&&!q.id,className:o?"w-full":"w-full sm:w-auto",onClick:()=>{const me=`${window.location.origin}/shared/${z||q.id}`;navigator.clipboard.writeText(me),Q(!0),setTimeout(()=>Q(!1),2e3)},children:L?"":"Copy"})]}),M&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:L?"  ":"Link copied"})]})]}),l.jsx("div",{className:`border-t pt-4 ${o?"pt-3":""}`,children:l.jsxs("div",{className:`flex ${o?"flex-col gap-3":"flex-col sm:flex-row sm:items-center justify-between gap-3"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-destructive text-sm",children:L?" ":"Delete Tree"}),l.jsx("p",{className:"text-muted-foreground mt-1 sm:mt-0 text-xs",children:L?"    ":"Permanently delete the tree and all its data"})]}),l.jsxs(je,{variant:"destructive",className:"flex items-center gap-2 w-full sm:w-auto",size:"sm",disabled:C,onClick:()=>y(!0),children:[l.jsx(wl,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),L?"":"Delete"]})]})})]})})]}),l.jsx(RS,{isOpen:v,onClose:()=>y(!1),onConfirm:async()=>{try{N(!0),await a(q.id),t("/trees")}catch{E(L?"   ":"Failed to delete tree")}finally{N(!1),y(!1)}},title:L?" ":"Confirm Deletion",message:L?"            .":"Are you sure you want to delete this tree? This action cannot be undone.",confirmText:L?"":"Delete",cancelText:L?"":"Cancel",variant:"destructive"}),c==="info"&&l.jsx("div",{className:`flex items-center gap-2 mt-4 ${o?"flex-wrap":""}`,children:l.jsxs(je,{variant:"outline",size:"sm",onClick:()=>h(!0),className:o?"flex-1":"",children:[l.jsx(Ro,{className:`mr-1 ${o?"h-3 w-3":"h-4 w-4"}`}),o?L?"":"Edit":L?" ":"Edit Tree"]})})]})},nLe=()=>{const{id:e}=Jd(),{language:t}=ir(),[r,n]=re.useState(null),[s,i]=re.useState(!0),[a,o]=re.useState(null),[c,u]=re.useState(!1),[A,f]=re.useState(!0),[d,h]=re.useState(!1),g=re.useRef(null),p=t==="ar",{isMobile:m}=cs(),x=async()=>{try{document.documentElement.requestFullscreen?await document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?await document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&await document.documentElement.msRequestFullscreen(),u(!0),f(!1),setTimeout(()=>{h(!0)},100)}catch{f(!1),setTimeout(()=>{h(!0)},100)}};re.useEffect(()=>{const y=()=>{const w=document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;u(!!w),w&&setTimeout(()=>{h(!0)},100)};return document.addEventListener("fullscreenchange",y),document.addEventListener("webkitfullscreenchange",y),document.addEventListener("msfullscreenchange",y),()=>{document.removeEventListener("fullscreenchange",y),document.removeEventListener("webkitfullscreenchange",y),document.removeEventListener("msfullscreenchange",y)}},[]),re.useEffect(()=>{(async()=>{var S;if(!e){o(p?"  ":"Tree ID is missing"),i(!1);return}let w=e;try{w=await lY(e)}catch{}try{i(!0),o(null);const T=await Ht.getPersonsInTree(Number(w));let j=null;try{const E=await Ht.getTreeById(Number(w));E&&E.data&&(j={id:E.data.id.toString(),name:E.data.name||(p?" ":"Family Tree"),nameEn:E.data.name||"Family Tree",description:E.data.description||"",descriptionEn:E.data.description||"",createdAt:E.data.createdAt||new Date().toISOString(),updatedAt:E.data.updatedAt||new Date().toISOString()})}catch{}let I=[];try{I=await Ht.getRelationships()}catch{}const B=new Map,C=new Map,N=new Map;I&&Array.isArray(I)&&I.forEach(E=>{var K,O,z,G,F,P,L,q,X,se,ae,W;const U=(K=E.personId)==null?void 0:K.toString(),D=(O=E.relatedPersonId)==null?void 0:O.toString(),M=T.some(ee=>ee.id.toString()===U),Q=T.some(ee=>ee.id.toString()===D);if(!(!M||!Q))if(["Father","father","Mother","mother","Parent","parent"].includes(E.relationshipType)){const ee=U,Ce=D;B.has(ee)||B.set(ee,[]),(z=B.get(ee))==null||z.push(Ce),C.has(Ce)||C.set(Ce,[]),(G=C.get(Ce))==null||G.push(ee)}else if(["Child","child","Son","son","Daughter","daughter"].includes(E.relationshipType)){const ee=U,Ce=D;B.has(Ce)||B.set(Ce,[]),(F=B.get(Ce))==null||F.push(ee),C.has(ee)||C.set(ee,[]),(P=C.get(ee))==null||P.push(Ce)}else if(["Spouse","spouse","Husband","husband","Wife","wife"].includes(E.relationshipType))N.has(U)||N.set(U,[]),(L=N.get(U))!=null&&L.includes(D)||(q=N.get(U))==null||q.push(D),N.has(D)||N.set(D,[]),(X=N.get(D))!=null&&X.includes(U)||(se=N.get(D))==null||se.push(U);else{const ee=U,Ce=D;B.has(ee)||B.set(ee,[]),(ae=B.get(ee))==null||ae.push(Ce),C.has(Ce)||C.set(Ce,[]),(W=C.get(Ce))==null||W.push(ee)}}),T.forEach(E=>{var D,M,Q,K;if(["parentId","parent_id","fatherId","father_id","motherId","mother_id"].forEach(O=>{var z,G;if(E[O]&&E[O]!=="0"&&E[O]!==0){const F=E[O].toString(),P=E.id.toString();T.some(q=>q.id.toString()===F)&&(B.has(P)||B.set(P,[]),(z=B.get(P))==null||z.push(F),C.has(F)||C.set(F,[]),(G=C.get(F))==null||G.push(P))}}),E.parentIds&&Array.isArray(E.parentIds)&&E.parentIds.forEach(O=>{var z,G;if(O&&O!=="0"&&O!==0){const F=E.id.toString();T.some(L=>L.id.toString()===O.toString())&&(B.has(F)||B.set(F,[]),(z=B.get(F))==null||z.push(O.toString()),C.has(O.toString())||C.set(O.toString(),[]),(G=C.get(O.toString()))==null||G.push(F))}}),E.relationships&&E.relationships.spouses&&E.relationships.spouses.forEach(O=>{var G,F;let z=null;if(typeof O=="string"?z=O:typeof O=="object"&&(O!=null&&O.person)?typeof O.person=="string"?z=O.person:typeof O.person=="object"&&O.person.id&&(z=O.person.id.toString()):typeof O=="object"&&(O!=null&&O.id)&&(z=O.id.toString()),z){const P=E.id.toString();T.some(q=>q.id.toString()===z)&&z!==P&&((N.get(P)||[]).includes(z)||(N.has(P)||N.set(P,[]),(G=N.get(P))==null||G.push(z),N.has(z)||N.set(z,[]),(F=N.get(z))==null||F.push(P)))}}),E.relationships){if(E.relationships.father){let O=null;if(typeof E.relationships.father=="string"?O=E.relationships.father:typeof E.relationships.father=="object"&&E.relationships.father.id&&(O=E.relationships.father.id.toString()),O){const z=E.id.toString();T.some(F=>F.id.toString()===O)&&(B.has(z)||B.set(z,[]),(D=B.get(z))==null||D.push(O),C.has(O)||C.set(O,[]),(M=C.get(O))==null||M.push(z))}}if(E.relationships.mother){let O=null;if(typeof E.relationships.mother=="string"?O=E.relationships.mother:typeof E.relationships.mother=="object"&&E.relationships.mother.id&&(O=E.relationships.mother.id.toString()),O){const z=E.id.toString();T.some(F=>F.id.toString()===O)&&(B.has(z)||B.set(z,[]),(Q=B.get(z))==null||Q.push(O),C.has(O)||C.set(O,[]),(K=C.get(O))==null||K.push(z))}}}}),T.forEach(E=>{const U=E.id.toString();T.forEach(D=>{var z,G,F,P;const M=D.id.toString();if(U===M)return;const Q=D;if((Q.parentIds||Q.parents||Q.parent_ids||[]).some(L=>(typeof L=="object"&&L.id?L.id.toString():L.toString())===U)){const L=M,q=U;B.has(L)||B.set(L,[]),(z=B.get(L))!=null&&z.includes(q)||(G=B.get(L))==null||G.push(q),C.has(q)||C.set(q,[]),(F=C.get(q))!=null&&F.includes(L)||(P=C.get(q))==null||P.push(L)}})});const k={id:w,name:(j==null?void 0:j.name)||(p?" ":"Family Tree"),nameEn:(j==null?void 0:j.nameEn)||"Family Tree",description:(j==null?void 0:j.description)||"",descriptionEn:(j==null?void 0:j.descriptionEn)||"",rootPersonId:(()=>{if(r!=null&&r.rootPersonId&&T.some(U=>U.id.toString()===r.rootPersonId))return r.rootPersonId;for(const E of T)if(E.isRoot)return E.id.toString();for(const E of T){const U=E.id.toString();if(!B.has(U))return U}return T.length>0?T[0].id.toString():"1"})(),persons:T.map(E=>{var z,G,F,P,L,q,X;let U="",D="";if(E.name){const se=E.name.split(" ");U=se[0]||"",D=se.slice(1).join(" ")||""}const M=B.get(E.id.toString())||[],Q=N.get(E.id.toString())||[],K=C.get(E.id.toString())||[];let O="male";return E.gender==="female"&&(O="female"),{id:E.id.toString(),firstName:E.firstName||U||E.name||"",lastName:E.lastName||D||"",gender:O,birthDate:((z=E.birth)==null?void 0:z.date)||E.birthDate||"",birthPlace:((F=(G=E.birth)==null?void 0:G.place)==null?void 0:F.city)||E.birthPlace||"",isAlive:!E.isDeceased,photo:((P=E.primaryPhoto)==null?void 0:P.url)||E.photo||E.photoUrl||"/api/placeholder/100/100",generation:((L=E.position)==null?void 0:L.generation)||0,position:{x:((q=E.position)==null?void 0:q.x)||0,y:((X=E.position)==null?void 0:X.y)||0},parentIds:M.map(se=>se.toString()),spouseIds:Q.map(se=>se.toString()),childrenIds:K.map(se=>se.toString())}}),createdAt:(j==null?void 0:j.createdAt)||new Date().toISOString(),updatedAt:(j==null?void 0:j.updatedAt)||new Date().toISOString()};n(k)}catch(T){o(((S=T.response)==null?void 0:S.status)===404?p?"  ":"Tree not found":p?"   ":"Failed to load tree")}finally{i(!1)}})()},[e,p]);const v=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};return s?l.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vn,{className:`text-muted-foreground mx-auto mb-4 animate-spin ${m?"h-8 w-8":"h-12 w-12"}`}),l.jsx("p",{className:`text-muted-foreground ${m?"text-sm":""}`,children:p?"  ...":"Loading tree..."})]})}):a?l.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:l.jsxs("div",{className:`text-center p-4 ${m?"p-2":""}`,children:[l.jsx(pa,{className:`text-destructive mx-auto mb-4 ${m?"h-8 w-8":"h-12 w-12"}`}),l.jsx("h2",{className:`font-semibold mb-2 ${m?"text-lg":"text-xl"}`,children:p?"":"Error"}),l.jsx("p",{className:`text-muted-foreground mb-4 ${m?"text-sm":""}`,children:a}),l.jsx(je,{onClick:()=>window.history.back(),size:m?"sm":"default",children:p?"":"Go Back"})]})}):r?A?l.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:l.jsxs("div",{className:`text-center mx-auto ${m?"p-4 max-w-sm":"p-6 max-w-md"}`,children:[l.jsx(cn,{className:`text-primary mx-auto mb-6 ${m?"h-12 w-12":"h-16 w-16"}`}),l.jsx("h1",{className:`font-bold mb-4 ${m?"text-xl":"text-2xl"}`,children:p?"  ":"View Family Tree"}),l.jsx("p",{className:`text-muted-foreground mb-6 ${m?"text-sm":""}`,children:p?"          ":"Click the button below to start viewing the family tree in fullscreen mode"}),l.jsxs("div",{className:`space-y-4 ${m?"space-y-3":""}`,children:[l.jsx(je,{onClick:x,size:m?"default":"lg",className:"w-full",children:p?" ":"Start Viewing"}),l.jsx(je,{variant:"outline",onClick:()=>window.history.back(),size:m?"default":"lg",className:"w-full",children:p?"":"Go Back"})]})]})}):l.jsxs("div",{ref:g,className:"fixed inset-0 bg-background z-50",children:[l.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex items-center justify-between",children:[l.jsxs("div",{className:`bg-background/80 backdrop-blur-sm rounded-lg px-4 py-2 ${m?"px-3 py-1.5":""}`,children:[l.jsx("h1",{className:`font-semibold ${m?"text-base":"text-lg"}`,children:p?r.name:r.nameEn}),l.jsxs("p",{className:`text-muted-foreground ${m?"text-xs":"text-sm"}`,children:[r.persons.length," ",p?r.persons.length===1?"":"":r.persons.length===1?"member":"members"]})]}),l.jsx(je,{variant:"outline",size:"sm",onClick:c?v:x,className:`bg-background/80 backdrop-blur-sm ${m?"h-8 px-2 text-xs":""}`,children:c?l.jsxs(l.Fragment,{children:[l.jsx(GO,{className:`h-4 w-4 ${m?"h-3 w-3 mr-1":"mr-2"}`}),l.jsx("span",{className:m?"hidden":"",children:p?"   ":"Exit Fullscreen"})]}):l.jsxs(l.Fragment,{children:[l.jsx(cn,{className:`h-4 w-4 ${m?"h-3 w-3 mr-1":"mr-2"}`}),l.jsx("span",{className:m?"hidden":"",children:p?" ":"Fullscreen"})]})})]}),l.jsx("div",{className:"w-full h-full pt-20",children:l.jsx(gt,{className:"w-full h-full border-0 rounded-none",children:l.jsx("div",{className:"w-full h-full shared-tree-container",style:{width:"100%",height:"100%",minHeight:"calc(100vh - 100px)"},children:d&&l.jsx("div",{className:"w-full h-full",style:{width:"100%",height:"100%"},children:l.jsx(jz,{persons:r.persons,rootPersonId:r.rootPersonId,onSelectPerson:()=>{},onEditPerson:()=>{},onDeletePerson:()=>{},onAddChild:()=>{},onAddSpouse:()=>{},onAddFather:()=>{},onAddMother:()=>{},relationships:(r==null?void 0:r.relationships)||[],isOwnedTree:!1})})})})})]}):l.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:l.jsxs("div",{className:`text-center p-4 ${m?"p-2":""}`,children:[l.jsx(cn,{className:`text-muted-foreground mx-auto mb-4 ${m?"h-8 w-8":"h-12 w-12"}`}),l.jsx("p",{className:`text-muted-foreground ${m?"text-sm":""}`,children:p?"    ":"Tree not found"})]})})},sLe=()=>{var S,T,j,I,B,C,N,k,E,U,D;const{id:e}=Jd(),{language:t}=ir(),{user:r}=os(),{trees:n,currentTree:s}=Ti(),{isMobile:i}=cs(),a=ls(),[o,c]=re.useState(null),[u,A]=re.useState([]),[f,d]=re.useState(!0),[h,g]=re.useState(null),[p,m]=re.useState(!1),x=t==="ar",v=(()=>{if(!r||!o)return!1;const M=o.treeId||o.familyTreeId;if(!M)return!1;const Q=n.find(K=>K.id===M)||s;return Q?Q.ownerId===r.id||Q.userRole==="owner":!1})();re.useEffect(()=>{(async()=>{var K,O,z,G,F,P,L,q,X,se,ae,W,ee,Ce,ye,Me,we,oe,ze,de,be,Be,et,rt,Nt,me,$e,Re,Te;if(!e){g(t==="ar"?"   ":"Person ID not found"),d(!1);return}const Q=parseInt(e);if(isNaN(Q)||Q<=0){g(t==="ar"?"   : "+e:"Invalid person ID: "+e),d(!1);return}try{d(!0),g(null);let ve;try{const Oe=await Ht.getPersonById(Q);if(Oe)Oe.hasOwnProperty("data")?ve=Oe.data:ve=Oe;else throw new Error("Empty response from API")}catch(Oe){throw Oe}if(!ve)throw new Error("No person data received");const it={id:(ve.id||Q).toString(),firstName:((K=ve.arabicName)==null?void 0:K.firstName)||ve.firstName||ve.name||"",firstNameEn:ve.firstName||ve.name||"",lastName:((O=ve.arabicName)==null?void 0:O.lastName)||ve.lastName||"",lastNameEn:ve.lastName||"",gender:(()=>{const Oe=ve.gender;return Oe==="male"||Oe==="Male"||Oe===1||Oe==="1"||Oe==="M"||Oe==="m"?"male":Oe==="female"||Oe==="Female"||Oe===2||Oe==="2"||Oe==="F"||Oe==="f"?"female":"unknown"})(),birthDate:ve.birthDate||((z=ve.birth)==null?void 0:z.date)||void 0,deathDate:ve.deathDate||((G=ve.death)==null?void 0:G.date)||void 0,birthPlace:ve.birthPlace||((P=(F=ve.birth)==null?void 0:F.place)==null?void 0:P.city)||void 0,birthPlaceEn:ve.birthPlace||((q=(L=ve.birth)==null?void 0:L.place)==null?void 0:q.city)||void 0,deathPlace:ve.deathPlace||((se=(X=ve.death)==null?void 0:X.place)==null?void 0:se.city)||void 0,deathPlaceEn:ve.deathPlace||((W=(ae=ve.death)==null?void 0:ae.place)==null?void 0:W.city)||void 0,isAlive:!ve.isDeceased,generation:(()=>{var Oe,Se;return typeof ve.generation=="number"&&ve.generation>=0?ve.generation:((Oe=ve.position)==null?void 0:Oe.generation)!==void 0&&ve.position.generation>=0?ve.position.generation:((Se=ve.position)==null?void 0:Se.level)!==void 0&&ve.position.level>=0?ve.position.level:ve.level!==void 0&&ve.level>=0?ve.level:1})(),photo:ve.photoUrl||((ee=ve.primaryPhoto)==null?void 0:ee.url)||((ye=(Ce=ve.photos)==null?void 0:Ce[0])==null?void 0:ye.url)||void 0,email:ve.email||((Me=ve.contact)==null?void 0:Me.email)||"",phone:ve.phone||((we=ve.contact)==null?void 0:we.phone)||"",occupation:Array.isArray(ve.occupation)&&ve.occupation.length>0?ve.occupation[0].title:ve.occupation||"",occupationEn:Array.isArray(ve.occupation)&&ve.occupation.length>0?ve.occupation[0].title:ve.occupation||"",education:ve.education||"",educationEn:ve.education||"",biography:ve.biography||ve.notes||"",biographyEn:ve.biography||ve.notes||"",treeId:((oe=ve.familyTreeId)==null?void 0:oe.toString())||((ze=ve.treeId)==null?void 0:ze.toString())||ve.tree||"",familyTreeId:((de=ve.familyTreeId)==null?void 0:de.toString())||((be=ve.treeId)==null?void 0:be.toString())||ve.tree||"",createdAt:ve.createdAt||new Date().toISOString(),updatedAt:ve.updatedAt||new Date().toISOString(),relationships:ve.relationships||{},middleName:ve.middleName||"",nickname:ve.nickname||"",fullName:ve.fullName||"",displayName:ve.displayName||"",arabicName:ve.arabicName||{},fullArabicName:ve.fullArabicName||"",age:ve.age||void 0,physical:ve.physical||{},contact:ve.contact||{},photos:ve.photos||[],documents:ve.documents||[],primaryPhoto:ve.primaryPhoto||{},notes:ve.notes||"",military:ve.military||{},religion:ve.religion||"",tags:ve.tags||[],position:ve.position||{},createdBy:ve.createdBy||"",status:ve.status||"active"};c(it);try{const Oe=ve.familyTreeId||ve.treeId||ve.tree;if(Oe){const Se=await Ht.getPersonsInTree(Oe),Fe=ve.relationships||{},lt=[];if(Fe.father){const We=typeof Fe.father=="string"?Fe.father:Fe.father.id||Fe.father._id;if(We){const He=Se.find(tt=>tt.id==We);He&&lt.push({id:((Be=He.id)==null?void 0:Be.toString())||"",firstName:He.firstName||"",firstNameEn:He.firstName||"",lastName:He.lastName||"",lastNameEn:He.lastName||"",relationship:t==="ar"?"":"Father",relationshipEn:"Father",photo:((et=He.primaryPhoto)==null?void 0:et.url)||((Nt=(rt=He.photos)==null?void 0:rt[0])==null?void 0:Nt.url)||void 0})}}if(Fe.mother){const We=typeof Fe.mother=="string"?Fe.mother:Fe.mother.id||Fe.mother._id;if(We){const He=Se.find(tt=>tt.id==We);He&&lt.push({id:((me=He.id)==null?void 0:me.toString())||"",firstName:He.firstName||"",firstNameEn:He.firstName||"",lastName:He.lastName||"",lastNameEn:He.lastName||"",relationship:t==="ar"?"":"Mother",relationshipEn:"Mother",photo:(($e=He.primaryPhoto)==null?void 0:$e.url)||((Te=(Re=He.photos)==null?void 0:Re[0])==null?void 0:Te.url)||void 0})}}Fe.spouses&&Array.isArray(Fe.spouses)&&Fe.spouses.forEach(We=>{var tt,xt,nt,Ye,Ke,Lt;const He=typeof We=="string"?We:(typeof We.person=="string"?We.person:((tt=We.person)==null?void 0:tt.id)||((xt=We.person)==null?void 0:xt._id))||We.id||We._id;if(He){const Et=Se.find(Ut=>Ut.id==He);Et&&lt.push({id:((nt=Et.id)==null?void 0:nt.toString())||"",firstName:Et.firstName||"",firstNameEn:Et.firstName||"",lastName:Et.lastName||"",lastNameEn:Et.lastName||"",relationship:t==="ar"?"":"Spouse",relationshipEn:"Spouse",photo:((Ye=Et.primaryPhoto)==null?void 0:Ye.url)||((Lt=(Ke=Et.photos)==null?void 0:Ke[0])==null?void 0:Lt.url)||void 0})}}),Fe.children&&Array.isArray(Fe.children)&&Fe.children.forEach(We=>{var tt,xt,nt,Ye;const He=typeof We=="string"?We:We.id||We._id;if(He){const Ke=Se.find(Lt=>Lt.id==He);Ke&&lt.push({id:((tt=Ke.id)==null?void 0:tt.toString())||"",firstName:Ke.firstName||"",firstNameEn:Ke.firstName||"",lastName:Ke.lastName||"",lastNameEn:Ke.lastName||"",relationship:t==="ar"?"":"Child",relationshipEn:"Child",photo:((xt=Ke.primaryPhoto)==null?void 0:xt.url)||((Ye=(nt=Ke.photos)==null?void 0:nt[0])==null?void 0:Ye.url)||void 0})}}),Fe.siblings&&Array.isArray(Fe.siblings)&&Fe.siblings.forEach(We=>{var tt,xt,nt,Ye;const He=typeof We=="string"?We:We.id||We._id;if(He){const Ke=Se.find(Lt=>Lt.id==He);Ke&&lt.push({id:((tt=Ke.id)==null?void 0:tt.toString())||"",firstName:Ke.firstName||"",firstNameEn:Ke.firstName||"",lastName:Ke.lastName||"",lastNameEn:Ke.lastName||"",relationship:t==="ar"?"":"Sibling",relationshipEn:"Sibling",photo:((xt=Ke.primaryPhoto)==null?void 0:xt.url)||((Ye=(nt=Ke.photos)==null?void 0:nt[0])==null?void 0:Ye.url)||void 0})}}),ve.parentIds&&Array.isArray(ve.parentIds)&&ve.parentIds.forEach(We=>{var He,tt,xt,nt;if(!lt.some(Ye=>Ye.id===We)){const Ye=Se.find(Ke=>Ke.id==We);if(Ye){const Ke=Ye.gender==="female"?t==="ar"?"":"Mother":t==="ar"?"":"Father",Lt=Ye.gender==="female"?"Mother":"Father";lt.push({id:((He=Ye.id)==null?void 0:He.toString())||"",firstName:Ye.firstName||"",firstNameEn:Ye.firstName||"",lastName:Ye.lastName||"",lastNameEn:Ye.lastName||"",relationship:t==="ar"?Ke:Lt,relationshipEn:Lt,photo:((tt=Ye.primaryPhoto)==null?void 0:tt.url)||((nt=(xt=Ye.photos)==null?void 0:xt[0])==null?void 0:nt.url)||void 0})}}}),ve.spouseIds&&Array.isArray(ve.spouseIds)&&ve.spouseIds.forEach(We=>{var He,tt,xt,nt;if(!lt.some(Ye=>Ye.id===We)){const Ye=Se.find(Ke=>Ke.id==We);Ye&&lt.push({id:((He=Ye.id)==null?void 0:He.toString())||"",firstName:Ye.firstName||"",firstNameEn:Ye.firstName||"",lastName:Ye.lastName||"",lastNameEn:Ye.lastName||"",relationship:t==="ar"?"":"Spouse",relationshipEn:"Spouse",photo:((tt=Ye.primaryPhoto)==null?void 0:tt.url)||((nt=(xt=Ye.photos)==null?void 0:xt[0])==null?void 0:nt.url)||void 0})}}),ve.childrenIds&&Array.isArray(ve.childrenIds)&&ve.childrenIds.forEach(We=>{var He,tt,xt,nt;if(!lt.some(Ye=>Ye.id===We)){const Ye=Se.find(Ke=>Ke.id==We);Ye&&lt.push({id:((He=Ye.id)==null?void 0:He.toString())||"",firstName:Ye.firstName||"",firstNameEn:Ye.firstName||"",lastName:Ye.lastName||"",lastNameEn:Ye.lastName||"",relationship:t==="ar"?"":"Child",relationshipEn:"Child",photo:((tt=Ye.primaryPhoto)==null?void 0:tt.url)||((nt=(xt=Ye.photos)==null?void 0:xt[0])==null?void 0:nt.url)||void 0})}}),lt.length===0&&Se.filter(He=>He.id&&parseInt(He.id.toString())!==Q).slice(0,5).forEach(He=>{var tt;lt.push({id:((tt=He.id)==null?void 0:tt.toString())||"",firstName:He.firstName||"",firstNameEn:He.firstName||"",lastName:He.lastName||"",lastNameEn:He.lastName||"",relationship:t==="ar"?"":"Related",relationshipEn:"Related"})}),A(lt)}else A([{id:"2",firstName:"",firstNameEn:"Fatima",lastName:"",lastNameEn:"Ahmed",relationship:"",relationshipEn:"Daughter"},{id:"3",firstName:"",firstNameEn:"Mohammed",lastName:"",lastNameEn:"Ahmed",relationship:"",relationshipEn:"Son"}])}catch{A([{id:"2",firstName:"",firstNameEn:"Fatima",lastName:"",lastNameEn:"Ahmed",relationship:"",relationshipEn:"Daughter"},{id:"3",firstName:"",firstNameEn:"Mohammed",lastName:"",lastNameEn:"Ahmed",relationship:"",relationshipEn:"Son"}])}}catch{g(t==="ar"?"    ":"Failed to load person data")}finally{d(!1)}})()},[e,t]);const y=(M,Q)=>{if(!M)return 0;let K;try{if(M.includes("T"))K=new Date(M);else if(M.includes("-")){const F=M.split("-");F.length===3?K=new Date(parseInt(F[0]),parseInt(F[1])-1,parseInt(F[2])):K=new Date(M)}else if(M.includes("/")){const F=M.split("/");F.length===3?K=new Date(parseInt(F[2]),parseInt(F[0])-1,parseInt(F[1])):K=new Date(M)}else K=new Date(M)}catch{return 0}if(isNaN(K.getTime()))return 0;let O;if(Q&&Q.trim()!=="")try{if(Q.includes("T"))O=new Date(Q);else if(Q.includes("-")){const F=Q.split("-");F.length===3?O=new Date(parseInt(F[0]),parseInt(F[1])-1,parseInt(F[2])):O=new Date(Q)}else if(Q.includes("/")){const F=Q.split("/");F.length===3?O=new Date(parseInt(F[2]),parseInt(F[0])-1,parseInt(F[1])):O=new Date(Q)}else O=new Date(Q);isNaN(O.getTime())&&(O=new Date)}catch{O=new Date}else O=new Date;let z=O.getFullYear()-K.getFullYear();const G=O.getMonth()-K.getMonth();return(G<0||G===0&&O.getDate()<K.getDate())&&z--,z>=0?z:0},w=M=>M===1?Nm:M===2?ur:Lo;return f?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vn,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:x?"   ...":"Loading person profile..."})]})}):h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:l.jsx(pa,{className:"h-8 w-8 text-destructive"})}),l.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:h}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:[t==="ar"?"  : ":"Requested Person ID: ",l.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:e})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[l.jsx(je,{onClick:()=>a(-1),children:t==="ar"?"":"Go Back"}),l.jsx(je,{variant:"outline",onClick:()=>window.location.reload(),children:t==="ar"?" ":"Try Again"})]})]}):o?(w(o.generation),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{children:l.jsx(je,{asChild:!0,variant:"ghost",size:i?"sm":"default",children:l.jsxs(Dt,{to:`/trees/${o==null?void 0:o.treeId}`,className:"flex items-center",children:[l.jsx(mc,{className:`h-4 w-4 ${i?"h-3 w-3":"mr-2"}`}),l.jsx("span",{className:i?"hidden":"",children:x?" ":"Back to Tree"})]})})}),l.jsx(gt,{children:l.jsx(St,{className:i?"p-4":"",children:l.jsxs("div",{className:`flex ${i?"flex-col gap-4":"flex-col sm:flex-row sm:items-start gap-6"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`rounded-full flex items-center justify-center ${(o==null?void 0:o.gender)==="male"?"bg-blue-100 text-blue-600":(o==null?void 0:o.gender)==="female"?"bg-pink-100 text-pink-600":"bg-muted text-muted-foreground"} ${i?"w-24 h-24":"w-32 h-32"}`,children:o!=null&&o.photo?l.jsx("img",{src:o.photo,alt:x?o.firstName:o.firstNameEn,className:"w-full h-full rounded-full object-cover"}):l.jsx(ur,{className:`text-muted-foreground ${i?"h-12 w-12":"h-16 w-16"}`})})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:`flex ${i?"flex-col gap-3":"flex-col sm:flex-row sm:items-start sm:justify-between gap-4"}`,children:[l.jsxs("div",{children:[l.jsx("h1",{className:`font-bold text-foreground ${i?"text-xl mb-1":"text-3xl mb-2"}`,children:x?`${o==null?void 0:o.firstName} ${o==null?void 0:o.lastName}`:`${o==null?void 0:o.firstNameEn} ${o==null?void 0:o.lastNameEn}`}),l.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${i?"text-xs":"text-sm"} text-muted-foreground mb-3`,children:[(o==null?void 0:o.birthDate)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ys,{className:`h-3 w-3 ${i?"h-2.5 w-2.5":"h-4 w-4"}`}),l.jsxs("span",{children:[y(o.birthDate,o.deathDate)," ",x?"":"years old",!o.isAlive&&` (${x?"":"Deceased"})`]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(cn,{className:`h-3 w-3 ${i?"h-2.5 w-2.5":"h-4 w-4"}`}),l.jsx("span",{children:x?` ${(o==null?void 0:o.generation)!==void 0?o==null?void 0:o.generation:1}`:`Generation ${(o==null?void 0:o.generation)!==void 0?o==null?void 0:o.generation:1}`})]}),(o==null?void 0:o.gender)!=="unknown"&&l.jsx(yn,{variant:(o==null?void 0:o.gender)==="male"?"secondary":"outline",className:i?"text-xs px-1.5 py-0.5":"",children:(o==null?void 0:o.gender)==="male"?x?"":"Male":x?"":"Female"}),!(o!=null&&o.isAlive)&&l.jsx(yn,{variant:"outline",className:i?"text-xs px-1.5 py-0.5":"",children:x?"":"Deceased"})]}),l.jsxs("div",{className:`space-y-1 ${i?"text-xs":"text-sm"}`,children:[(o==null?void 0:o.birthDate)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{className:`h-3 w-3 ${i?"h-2.5 w-2.5":"h-4 w-4"} text-green-600`}),l.jsx("span",{className:"font-medium",children:x?" :":"Born:"}),l.jsx("span",{children:new Date(o.birthDate).toLocaleDateString(x?"ar-SA":"en-US")}),o.birthPlace&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted-foreground",children:x?"":"in"}),l.jsx("span",{children:x?o.birthPlace:o.birthPlaceEn})]})]}),(o==null?void 0:o.deathDate)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{className:`h-3 w-3 ${i?"h-2.5 w-2.5":"h-4 w-4"} text-red-600`}),l.jsx("span",{className:"font-medium",children:x?" :":"Died:"}),l.jsx("span",{children:new Date(o.deathDate).toLocaleDateString(x?"ar-SA":"en-US")}),o.deathPlace&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted-foreground",children:x?"":"in"}),l.jsx("span",{children:x?o.deathPlace:o.deathPlaceEn})]})]})]})]}),l.jsx("div",{className:`flex ${i?"gap-1":"gap-2"}`,children:v&&l.jsxs(je,{size:"sm",variant:"outline",onClick:()=>m(!0),children:[l.jsx(Ro,{className:`h-4 w-4 ${i?"h-33 w-3":"mr-2"}`}),l.jsx("span",{className:i?"hidden":"",children:x?"":"Edit"})]})})]})})]})})}),l.jsxs("div",{className:`grid ${i?"grid-cols-1 gap-4":"grid-cols-1 lg:grid-cols-3 gap-6"}`,children:[l.jsxs("div",{className:`space-y-4 ${i?"lg:col-span-1":"lg:col-span-2"} space-y-4`,children:[l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ur,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?" ":"Person Summary"]})}),l.jsx(vt,{className:`space-y-3 ${i?"p-4":""}`,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Name:"}),l.jsx("span",{className:`text-foreground truncate max-w-[60%] text-right ${i?"text-xs":"text-sm"}`,children:x?`${o==null?void 0:o.firstName} ${o==null?void 0:o.lastName}`:`${o==null?void 0:o.firstNameEn} ${o==null?void 0:o.lastNameEn}`})]}),(o==null?void 0:o.birthDate)&&l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?" :":"Date of Birth:"}),l.jsx("span",{className:`text-foreground ${i?"text-xs":"text-sm"}`,children:new Date(o.birthDate).toLocaleDateString(x?"ar-SA":"en-US")})]}),l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Status:"}),l.jsx(yn,{variant:o!=null&&o.isAlive?"default":"destructive",className:`font-normal ${i?"text-xs px-1.5 py-0.5":"text-xs"}`,children:o!=null&&o.isAlive?x?"  ":"Alive":x?"":"Deceased"})]}),(o==null?void 0:o.occupation)&&l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Occupation:"}),l.jsx("span",{className:`text-foreground truncate max-w-[60%] text-right ${i?"text-xs":"text-sm"}`,children:x?o.occupation:o.occupationEn})]}),(o==null?void 0:o.birthPlace)&&l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?" :":"Place of Birth:"}),l.jsx("span",{className:`text-foreground truncate max-w-[60%] text-right ${i?"text-xs":"text-sm"}`,children:x?o.birthPlace:o.birthPlaceEn})]}),l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Generation:"}),l.jsx("span",{className:`text-foreground ${i?"text-xs":"text-sm"}`,children:x?` ${(o==null?void 0:o.generation)!==void 0?o==null?void 0:o.generation:1}`:`Generation ${(o==null?void 0:o.generation)!==void 0?o==null?void 0:o.generation:1}`})]}),(o==null?void 0:o.gender)!=="unknown"&&l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Gender:"}),l.jsx(yn,{variant:(o==null?void 0:o.gender)==="male"?"secondary":"outline",className:i?"text-xs px-1.5 py-0.5":"",children:(o==null?void 0:o.gender)==="male"?x?"":"Male":x?"":"Female"})]}),(o==null?void 0:o.birthDate)&&l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Age:"}),l.jsxs("span",{className:`text-foreground ${i?"text-xs":"text-sm"}`,children:[y(o.birthDate,o.deathDate)," ",x?"":"years"]})]}),(o==null?void 0:o.status)&&l.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg ${i?"p-2":"p-3"} bg-muted/50`,children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Status:"}),l.jsx("span",{className:`text-foreground ${i?"text-xs":"text-sm"}`,children:o.status})]})]})})]}),((o==null?void 0:o.email)||(o==null?void 0:o.phone)||((S=o==null?void 0:o.contact)==null?void 0:S.email)||((T=o==null?void 0:o.contact)==null?void 0:T.phone)||((j=o==null?void 0:o.contact)==null?void 0:j.address))&&l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(Sd,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?" ":"Contact Information"]})}),l.jsxs(vt,{className:`space-y-2 ${i?"p-4":"space-y-3"}`,children:[((o==null?void 0:o.email)||((I=o==null?void 0:o.contact)==null?void 0:I.email))&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yl,{className:`h-3.5 w-3.5 ${i?"h-3 w-3":"h-4 w-4"} text-muted-foreground`}),l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?" :":"Email:"}),l.jsx("a",{href:`mailto:${o.email||((B=o.contact)==null?void 0:B.email)}`,className:`text-primary hover:underline ${i?"text-xs":"text-sm"}`,children:o.email||((C=o.contact)==null?void 0:C.email)})]}),((o==null?void 0:o.phone)||((N=o==null?void 0:o.contact)==null?void 0:N.phone))&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sd,{className:`h-3.5 w-3.5 ${i?"h-3 w-3":"h-4 w-4"} text-muted-foreground`}),l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Phone:"}),l.jsx("a",{href:`tel:${o.phone||((k=o.contact)==null?void 0:k.phone)}`,className:`text-primary hover:underline ${i?"text-xs":"text-sm"}`,children:o.phone||((E=o.contact)==null?void 0:E.phone)})]}),((U=o==null?void 0:o.contact)==null?void 0:U.address)&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(G2,{className:`h-3.5 w-3.5 ${i?"h-3 w-3":"h-4 w-4"} text-muted-foreground mt-0.5`}),l.jsxs("div",{children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Address:"}),l.jsxs("div",{className:`text-muted-foreground ${i?"text-xs":"text-sm"}`,children:[o.contact.address.street&&l.jsx("div",{children:o.contact.address.street}),(o.contact.address.city||o.contact.address.state||o.contact.address.country)&&l.jsx("div",{children:[o.contact.address.city,o.contact.address.state,o.contact.address.country].filter(Boolean).join(", ")}),o.contact.address.postalCode&&l.jsx("div",{children:o.contact.address.postalCode})]})]})]}),((D=o==null?void 0:o.contact)==null?void 0:D.socialMedia)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pc,{className:`h-3.5 w-3.5 ${i?"h-3 w-3":"h-4 w-4"} text-muted-foreground`}),l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?"  :":"Social Media:"}),l.jsxs("div",{className:"flex gap-2",children:[o.contact.socialMedia.facebook&&l.jsx("a",{href:o.contact.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-xs",children:"Facebook"}),o.contact.socialMedia.twitter&&l.jsx("a",{href:o.contact.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-xs",children:"Twitter"}),o.contact.socialMedia.linkedin&&l.jsx("a",{href:o.contact.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-xs",children:"LinkedIn"}),o.contact.socialMedia.instagram&&l.jsx("a",{href:o.contact.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-xs",children:"Instagram"})]})]})]})]}),(o==null?void 0:o.physical)&&(o.physical.height||o.physical.weight||o.physical.eyeColor||o.physical.hairColor)&&l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ur,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?" ":"Physical Information"]})}),l.jsxs(vt,{className:`space-y-2 ${i?"p-4":"space-y-3"}`,children:[o.physical.height&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Height:"}),l.jsx("span",{className:i?"text-xs":"text-sm",children:o.physical.height})]}),o.physical.weight&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?":":"Weight:"}),l.jsx("span",{className:i?"text-xs":"text-sm",children:o.physical.weight})]}),o.physical.eyeColor&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?" :":"Eye Color:"}),l.jsx("span",{className:i?"text-xs":"text-sm",children:o.physical.eyeColor})]}),o.physical.hairColor&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`font-medium ${i?"text-xs":"text-sm"}`,children:x?" :":"Hair Color:"}),l.jsx("span",{className:i?"text-xs":"text-sm",children:o.physical.hairColor})]})]})]}),((o==null?void 0:o.biography)||(o==null?void 0:o.notes))&&l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ud,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?" ":"Biography"]})}),l.jsx(vt,{className:i?"p-4":"",children:l.jsx("p",{className:`text-foreground leading-relaxed whitespace-pre-wrap ${i?"text-sm":""}`,children:x?o.biography||o.notes:o.biographyEn||o.notes})})]}),(o==null?void 0:o.religion)&&l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ns,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?"":"Religion"]})}),l.jsx(vt,{className:i?"p-4":"",children:l.jsx("p",{className:`text-foreground ${i?"text-sm":""}`,children:o.religion})})]}),(o==null?void 0:o.photos)&&o.photos.length>0&&l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(hp,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?"":"Photos",l.jsx(yn,{variant:"secondary",className:i?"text-xs px-1.5 py-0.5":"",children:o.photos.length})]})}),l.jsx(vt,{className:i?"p-4":"",children:l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.photos.slice(0,6).map(M=>l.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",children:l.jsx("img",{src:M.url||M.thumbnailUrl,alt:M.caption||x?"":"Photo",className:"w-full h-full object-cover"})},M.id)),o.photos.length>6&&l.jsx("div",{className:"aspect-square rounded-lg bg-muted flex items-center justify-center",children:l.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",o.photos.length-6]})})]})})]}),(o==null?void 0:o.documents)&&o.documents.length>0&&l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ud,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?"":"Documents",l.jsx(yn,{variant:"secondary",className:i?"text-xs px-1.5 py-0.5":"",children:o.documents.length})]})}),l.jsx(vt,{className:i?"p-4":"",children:l.jsxs("div",{className:`space-y-2 ${i?"space-y-2":"space-y-3"}`,children:[o.documents.slice(0,5).map(M=>l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg hover:bg-muted/50 transition-colors ${i?"p-2":"p-3"}`,children:[l.jsx(ud,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"} text-muted-foreground`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-medium text-foreground truncate ${i?"text-sm":""}`,children:M.name||M.caption}),l.jsx("p",{className:"text-muted-foreground text-xs",children:M.type||M.mimeType})]}),l.jsx(je,{size:"sm",variant:"ghost",className:i?"h-6 w-6 p-0":"h-8 w-8 p-0",children:l.jsx("span",{className:`text-xs ${i?"text-xs":"text-sm"}`,children:x?"":"Download"})})]},M.id)),o.documents.length>5&&l.jsx("div",{className:`text-center text-muted-foreground ${i?"text-xs":"text-sm"}`,children:x?`${o.documents.length-5}  `:`And ${o.documents.length-5} more documents`})]})})]})]}),l.jsxs("div",{className:`space-y-4 ${i?"lg:col-span-1":""} space-y-4`,children:[l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(qr,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?" ":"Family Members",l.jsx(yn,{variant:"secondary",className:i?"text-xs px-1.5 py-0.5":"",children:u.length})]})}),l.jsx(vt,{className:i?"p-4":"",children:u.length>0?l.jsx("div",{className:`space-y-2 ${i?"space-y-2":"space-y-3"}`,children:u.map(M=>{var Q,K,O,z;return l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${i?"p-2":"p-3"}`,onClick:()=>a(`/persons/${M.id}`),children:[l.jsx("div",{className:`rounded-full flex items-center justify-center ${M.id===((K=(Q=o==null?void 0:o.relationships)==null?void 0:Q.father)==null?void 0:K.id)?"bg-blue-100 text-blue-600":M.id===((z=(O=o==null?void 0:o.relationships)==null?void 0:O.mother)==null?void 0:z.id)?"bg-pink-100 text-pink-600":"bg-muted text-muted-foreground"} ${i?"w-8 h-8":"w-10 h-10"}`,children:M.photo?l.jsx("img",{src:M.photo,alt:x?M.firstName:M.firstNameEn,className:"w-full h-full rounded-full object-cover"}):l.jsx(ur,{className:`h-4 w-4 ${i?"h-3 w-3":"h-5 w-5"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-medium text-foreground truncate ${i?"text-sm":""}`,children:x?`${M.firstName} ${M.lastName}`:`${M.firstNameEn} ${M.lastNameEn}`}),l.jsx("p",{className:"text-muted-foreground text-xs",children:x?M.relationship:M.relationshipEn})]}),l.jsx(je,{size:"sm",variant:"ghost",className:i?"h-6 w-6 p-0":"h-8 w-8 p-0",onClick:G=>{G.stopPropagation(),a(`/persons/${M.id}`)},children:l.jsx(mc,{className:`h-3 w-3 ${i?"h-2.5 w-2.5":"h-4 w-4"}`})})]},M.id)})}):l.jsx("p",{className:`text-muted-foreground text-center py-4 ${i?"text-xs":"text-sm"}`,children:x?"   ":"No family relationships found"})})]}),l.jsxs(gt,{children:[l.jsx(St,{className:i?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(z2,{className:`h-4 w-4 ${i?"h-3.5 w-3.5":"h-5 w-5"}`}),x?" ":"Quick Info"]})}),l.jsx(vt,{className:i?"p-4":"",children:l.jsxs("div",{className:`space-y-2 ${i?"space-y-2":"space-y-3"}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-muted-foreground ${i?"text-xs":"text-sm"}`,children:x?" :":"Person ID:"}),l.jsx("span",{className:`font-mono ${i?"text-xs":"text-sm"}`,children:o==null?void 0:o.id})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-muted-foreground ${i?"text-xs":"text-sm"}`,children:x?" :":"Created:"}),l.jsx("span",{className:`${i?"text-xs":"text-sm"}`,children:o!=null&&o.createdAt?new Date(o.createdAt).toLocaleDateString(x?"ar-SA":"en-US"):"-"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-muted-foreground ${i?"text-xs":"text-sm"}`,children:x?" :":"Last Updated:"}),l.jsx("span",{className:`${i?"text-xs":"text-sm"}`,children:o!=null&&o.updatedAt?new Date(o.updatedAt).toLocaleDateString(x?"ar-SA":"en-US"):"-"})]}),(o==null?void 0:o.createdBy)&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-muted-foreground ${i?"text-xs":"text-sm"}`,children:x?"  :":"Created By:"}),l.jsx("span",{className:`${i?"text-xs":"text-sm"}`,children:o.createdBy})]}),(o==null?void 0:o.status)&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-muted-foreground ${i?"text-xs":"text-sm"}`,children:x?":":"Status:"}),l.jsx(yn,{variant:o.status==="active"?"default":o.status==="archived"?"secondary":"destructive",className:i?"text-xs px-1.5 py-0.5":"text-xs",children:x?o.status==="active"?"":o.status==="archived"?"":"":o.status==="active"?"Active":o.status==="archived"?"Archived":"Deleted"})]})]})})]})]})]}),p&&o&&l.jsx(Km,{isOpen:p,onClose:()=>m(!1),onSubmit:M=>{o&&c({...o,firstName:M.name.split(" ")[0]||M.name||o.firstName,lastName:M.name.split(" ").slice(1).join(" ")||o.lastName,firstNameEn:M.name.split(" ")[0]||M.name||o.firstNameEn,lastNameEn:M.name.split(" ").slice(1).join(" ")||o.lastNameEn,gender:M.gender||o.gender,birthDate:M.birthDate||o.birthDate,deathDate:M.deathDate||o.deathDate,birthPlace:M.birthPlace||o.birthPlace,birthPlaceEn:M.birthPlaceEn||o.birthPlaceEn,deathPlace:M.deathPlace||o.deathPlace,deathPlaceEn:M.deathPlaceEn||o.deathPlaceEn,isAlive:M.isAlive!==void 0?M.isAlive:o.isAlive,occupation:M.occupation||o.occupation,occupationEn:M.occupationEn||o.occupationEn}),m(!1),Kt.success({en:"Person updated successfully",ar:"    "})},familyTreeId:o.treeId||o.familyTreeId||"",familyMembers:[],initialData:{id:o.id,name:`${o.firstName} ${o.lastName}`,gender:o.gender,birthDate:o.birthDate,deathDate:o.deathDate,birthPlace:o.birthPlace,birthPlaceEn:o.birthPlaceEn,occupation:o.occupation,occupationEn:o.occupationEn,isAlive:o.isAlive},mode:"edit"})]})):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-muted-foreground mb-4",children:x?"  ":"Person not found"}),l.jsx(je,{asChild:!0,children:l.jsx(Dt,{to:"/trees",className:"flex items-center",children:x?" ":"Back to Trees"})})]})},iLe=()=>{var z,G,F,P,L,q,X,se;const{id:e}=Jd(),t=ls(),{language:r}=ir(),{user:n}=os(),{trees:s,currentTree:i,fetchTrees:a}=Ti(),{isMobile:o}=cs(),[c,u]=re.useState("basic"),[A,f]=re.useState(!1),[d,h]=re.useState(!1);re.useRef(null),re.useRef(null),re.useRef(null);const[g,p]=re.useState(!0),[m,x]=re.useState(null),v=r==="ar";re.useEffect(()=>{const ae=async()=>{try{await a()}catch{}};s.length===0&&ae()},[a,s.length]);const[y,w]=re.useState({id:"",firstName:"",middleName:"",lastName:"",nickname:"",fullName:"",displayName:"",gender:"unknown",birth:{date:"",place:{city:"",state:"",country:""}},death:{date:"",place:{city:"",state:"",country:""}},isDeceased:!1,physical:{height:"",weight:"",eyeColor:"",hairColor:"",complexion:"",distinguishingMarks:""},occupation:[],education:[],contact:{email:"",phone:"",address:{street:"",city:"",state:"",country:"",postalCode:""},socialMedia:{facebook:"",twitter:"",linkedin:"",instagram:""}},relationships:{father:"",mother:"",spouses:[],children:[],siblings:[]},photos:[],documents:[],notes:"",tags:[],tree:"",position:{generation:1,x:0,y:0},createdBy:"",createdAt:"",updatedAt:"",status:"active"}),[S,T]=re.useState(y),[j,I]=re.useState(null),[B,C]=re.useState(""),[N,k]=re.useState(""),[E,U]=re.useState([]);re.useEffect(()=>{(async()=>{var ee,Ce,ye,Me,we,oe,ze,de,be,Be,et,rt,Nt,me,$e,Re,Te,ve,it,Oe,Se,Fe,lt,We,He,tt,xt,nt,Ye,Ke,Lt,Et,Ut,Ct,Vt,$n,Vr,Mn,Rn,qt,As,Kr,Lr,zt,jr,Sr,ne,he,Y,J,ce,Ae,_e,Pe,Ne,Ee,Qe,at,Le,ht,Ve,yt,It,Mt,At,Rt,lr,Xt,Mr,hr,br,rr,en,zr,Oi,Wn,Tr,Wr,Hr,ws,Rr,Yn,sa,Wo,Fc,ri,Ur,an,Tn,In,vi,Yo,Qi,jc,Xo,vo,hf,Jo;if(!e){x(r==="ar"?"  ":"Person ID is missing"),p(!1);return}const W=parseInt(e);if(isNaN(W)){x(r==="ar"?"   ":"Invalid person ID"),p(!1);return}try{p(!0),x(null);const mt=await Ht.getPersonById(W);if(!mt)throw new Error("Received empty response from API");const Je=(mf,...bh)=>{for(const pf of bh)if(mf.hasOwnProperty(pf))return mf[pf]},ia={id:((ee=Je(mt,"id","Id"))==null?void 0:ee.toString())||"",firstName:Je(mt,"firstName","FirstName","name")||"",middleName:Je(mt,"middleName","MiddleName")||"",lastName:Je(mt,"lastName","LastName")||"",nickname:Je(mt,"nickname","Nickname")||"",fullName:Je(mt,"fullName","FullName")||`${Je(mt,"firstName","FirstName")||""} ${Je(mt,"lastName","LastName")||""}`,displayName:Je(mt,"displayName","DisplayName")||`${Je(mt,"firstName","FirstName")||""} ${Je(mt,"lastName","LastName")||""}`,gender:["male","female","unknown"].includes(Je(mt,"gender","Gender"))?Je(mt,"gender","Gender"):"unknown",birth:{date:((Ce=Je(mt,"birth","Birth"))==null?void 0:Ce.date)||((ye=Je(mt,"birth","Birth"))==null?void 0:ye.Date)||Je(mt,"birthDate")||"",place:{city:((we=(Me=Je(mt,"birth","Birth"))==null?void 0:Me.place)==null?void 0:we.city)||((ze=(oe=Je(mt,"birth","Birth"))==null?void 0:oe.Place)==null?void 0:ze.City)||Je(mt,"birthPlace")||"",state:((be=(de=Je(mt,"birth","Birth"))==null?void 0:de.place)==null?void 0:be.state)||((et=(Be=Je(mt,"birth","Birth"))==null?void 0:Be.Place)==null?void 0:et.State)||"",country:((Nt=(rt=Je(mt,"birth","Birth"))==null?void 0:rt.place)==null?void 0:Nt.country)||(($e=(me=Je(mt,"birth","Birth"))==null?void 0:me.Place)==null?void 0:$e.Country)||""},description:((Re=Je(mt,"birth","Birth"))==null?void 0:Re.description)||((Te=Je(mt,"birth","Birth"))==null?void 0:Te.Description)||"",isEstimated:((ve=Je(mt,"birth","Birth"))==null?void 0:ve.isEstimated)||((it=Je(mt,"birth","Birth"))==null?void 0:it.IsEstimated)||!1},death:Je(mt,"death","Death")?{date:((Oe=Je(mt,"death","Death"))==null?void 0:Oe.date)||((Se=Je(mt,"death","Death"))==null?void 0:Se.Date)||Je(mt,"deathDate")||"",place:{city:((lt=(Fe=Je(mt,"death","Death"))==null?void 0:Fe.place)==null?void 0:lt.city)||((He=(We=Je(mt,"death","Death"))==null?void 0:We.Place)==null?void 0:He.City)||"",state:((xt=(tt=Je(mt,"death","Death"))==null?void 0:tt.place)==null?void 0:xt.state)||((Ye=(nt=Je(mt,"death","Death"))==null?void 0:nt.Place)==null?void 0:Ye.State)||"",country:((Lt=(Ke=Je(mt,"death","Death"))==null?void 0:Ke.place)==null?void 0:Lt.country)||((Ut=(Et=Je(mt,"death","Death"))==null?void 0:Et.Place)==null?void 0:Ut.Country)||""},description:((Ct=Je(mt,"death","Death"))==null?void 0:Ct.description)||((Vt=Je(mt,"death","Death"))==null?void 0:Vt.Description)||"",isEstimated:(($n=Je(mt,"death","Death"))==null?void 0:$n.isEstimated)||((Vr=Je(mt,"death","Death"))==null?void 0:Vr.IsEstimated)||!1}:void 0,isDeceased:!!Je(mt,"isDeceased","IsDeceased","isDead"),physical:{height:((Mn=Je(mt,"physical","Physical"))==null?void 0:Mn.height)||((Rn=Je(mt,"physical","Physical"))==null?void 0:Rn.Height)||"",weight:((qt=Je(mt,"physical","Physical"))==null?void 0:qt.weight)||((As=Je(mt,"physical","Physical"))==null?void 0:As.Weight)||"",eyeColor:((Kr=Je(mt,"physical","Physical"))==null?void 0:Kr.eyeColor)||((Lr=Je(mt,"physical","Physical"))==null?void 0:Lr.EyeColor)||"",hairColor:((zt=Je(mt,"physical","Physical"))==null?void 0:zt.hairColor)||((jr=Je(mt,"physical","Physical"))==null?void 0:jr.HairColor)||"",complexion:((Sr=Je(mt,"physical","Physical"))==null?void 0:Sr.complexion)||((ne=Je(mt,"physical","Physical"))==null?void 0:ne.Complexion)||"",distinguishingMarks:((he=Je(mt,"physical","Physical"))==null?void 0:he.distinguishingMarks)||((Y=Je(mt,"physical","Physical"))==null?void 0:Y.DistinguishingMarks)||""},occupation:Array.isArray(Je(mt,"occupation"))?Je(mt,"occupation"):Array.isArray(Je(mt,"Occupation"))?Je(mt,"Occupation"):Je(mt,"occupation")?[Je(mt,"occupation")]:Je(mt,"Occupation")?[Je(mt,"Occupation")]:[],education:Array.isArray(Je(mt,"education"))?Je(mt,"education"):Array.isArray(Je(mt,"Education"))?Je(mt,"Education"):Je(mt,"education")?[Je(mt,"education")]:Je(mt,"Education")?[Je(mt,"Education")]:[],contact:{email:((J=Je(mt,"contact","Contact"))==null?void 0:J.email)||((ce=Je(mt,"contact","Contact"))==null?void 0:ce.Email)||Je(mt,"email")||"",phone:((Ae=Je(mt,"contact","Contact"))==null?void 0:Ae.phone)||((_e=Je(mt,"contact","Contact"))==null?void 0:_e.Phone)||"",address:{street:((Ne=(Pe=Je(mt,"contact","Contact"))==null?void 0:Pe.address)==null?void 0:Ne.street)||((Qe=(Ee=Je(mt,"contact","Contact"))==null?void 0:Ee.Address)==null?void 0:Qe.Street)||"",city:((Le=(at=Je(mt,"contact","Contact"))==null?void 0:at.address)==null?void 0:Le.city)||((Ve=(ht=Je(mt,"contact","Contact"))==null?void 0:ht.Address)==null?void 0:Ve.City)||"",state:((It=(yt=Je(mt,"contact","Contact"))==null?void 0:yt.address)==null?void 0:It.state)||((At=(Mt=Je(mt,"contact","Contact"))==null?void 0:Mt.Address)==null?void 0:At.State)||"",country:((lr=(Rt=Je(mt,"contact","Contact"))==null?void 0:Rt.address)==null?void 0:lr.country)||((Mr=(Xt=Je(mt,"contact","Contact"))==null?void 0:Xt.Address)==null?void 0:Mr.Country)||"",postalCode:((br=(hr=Je(mt,"contact","Contact"))==null?void 0:hr.address)==null?void 0:br.postalCode)||((en=(rr=Je(mt,"contact","Contact"))==null?void 0:rr.Address)==null?void 0:en.PostalCode)||""},socialMedia:{facebook:((Oi=(zr=Je(mt,"contact","Contact"))==null?void 0:zr.socialMedia)==null?void 0:Oi.facebook)||((Tr=(Wn=Je(mt,"contact","Contact"))==null?void 0:Wn.SocialMedia)==null?void 0:Tr.Facebook)||"",twitter:((Hr=(Wr=Je(mt,"contact","Contact"))==null?void 0:Wr.socialMedia)==null?void 0:Hr.twitter)||((Rr=(ws=Je(mt,"contact","Contact"))==null?void 0:ws.SocialMedia)==null?void 0:Rr.Twitter)||"",linkedin:((sa=(Yn=Je(mt,"contact","Contact"))==null?void 0:Yn.socialMedia)==null?void 0:sa.linkedin)||((Fc=(Wo=Je(mt,"contact","Contact"))==null?void 0:Wo.SocialMedia)==null?void 0:Fc.Linkedin)||"",instagram:((Ur=(ri=Je(mt,"contact","Contact"))==null?void 0:ri.socialMedia)==null?void 0:Ur.instagram)||((Tn=(an=Je(mt,"contact","Contact"))==null?void 0:an.SocialMedia)==null?void 0:Tn.Instagram)||""}},relationships:Je(mt,"relationships","Relationships")||{father:"",mother:"",spouses:[],children:[],siblings:[]},photos:Je(mt,"photos","Photos")||[],documents:Je(mt,"documents","Documents")||[],notes:Je(mt,"notes","Notes")||"",tags:Je(mt,"tags","Tags")||[],tree:Je(mt,"tree","Tree","familyTreeId")||"",position:{generation:(In=Je(mt,"position","Position"))!=null&&In.generation||((vi=Je(mt,"position","Position"))==null?void 0:vi.Generation)!==void 0?(Yo=Je(mt,"position","Position"))==null?void 0:Yo.Generation:1,x:((Qi=Je(mt,"position","Position"))==null?void 0:Qi.x)||((jc=Je(mt,"position","Position"))==null?void 0:jc.X)||0,y:((Xo=Je(mt,"position","Position"))==null?void 0:Xo.y)||((vo=Je(mt,"position","Position"))==null?void 0:vo.Y)||0,level:((hf=Je(mt,"position","Position"))==null?void 0:hf.level)||((Jo=Je(mt,"position","Position"))==null?void 0:Jo.Level)||0},createdBy:Je(mt,"createdBy","CreatedBy")||"",createdAt:Je(mt,"createdAt","CreatedAt")||new Date().toISOString(),updatedAt:Je(mt,"updatedAt","UpdatedAt")||new Date().toISOString(),status:Je(mt,"status","Status")||"active"};ia.relationships.father&&C(typeof ia.relationships.father=="string"?ia.relationships.father:ia.relationships.father.id),ia.relationships.mother&&k(typeof ia.relationships.mother=="string"?ia.relationships.mother:ia.relationships.mother.id),w(ia),T(ia)}catch(mt){x(r==="ar"?"    ":"Failed to load person data: "+(mt.message||"Unknown error"))}finally{p(!1)}})()},[e,r]),re.useEffect(()=>{(async()=>{if(S.tree)try{const ee=(await Ht.getPersonsInTree(Number(S.tree))).filter(Ce=>Ce.id!==S.id);U(ee)}catch(W){console.error("Failed to fetch persons for parent selection",W)}})()},[S.tree,S.id]);const D=ae=>{if(ae)return s.find(W=>W.id===ae)||s.find(W=>W.id.toString()===ae)||s.find(W=>parseInt(W.id)===parseInt(ae))||((i==null?void 0:i.id)===ae?i:void 0)||((i==null?void 0:i.id.toString())===ae?i:void 0)||(parseInt((i==null?void 0:i.id)||"0")===parseInt(ae)?i:void 0)};(()=>{if(g||!n||!e||!y.tree||s.length===0)return!0;const ae=y.tree.toString(),W=D(ae);return W?W.ownerId===n.id||W.userRole==="owner":!0})();const M=(()=>{if(g||!n||!e||!y.tree||s.length===0)return!0;const ae=y.tree.toString(),W=D(ae);return W?W.ownerId===n.id||W.userRole==="owner"||W.userRole==="editor":!0})(),Q=async()=>{var ae;if(e){if(!M){x(v?"     ":"You do not have permission to edit this person");return}try{p(!0);const W=await Ht.updatePerson(parseInt(e),S.firstName||"",S.birth.date||"",((ae=S.birth.place)==null?void 0:ae.city)||"",S.occupation.length>0?S.occupation[0].title:"",S.gender||"unknown",parseInt(S.tree)||0);if(B!==(y.relationships.father?typeof y.relationships.father=="string"?y.relationships.father:y.relationships.father.id:"")&&(y.relationships.father,B))try{await Ht.addRelationship(parseInt(B),parseInt(e),"Parent")}catch(ee){console.error("Failed to add father relationship",ee)}if(N!==(y.relationships.mother?typeof y.relationships.mother=="string"?y.relationships.mother:y.relationships.mother.id:"")&&(y.relationships.mother,N))try{await Ht.addRelationship(parseInt(N),parseInt(e),"Parent")}catch(ee){console.error("Failed to add mother relationship",ee)}w(S),f(!1)}catch{x(r==="ar"?"   ":"Failed to save changes")}finally{p(!1)}}},K=()=>{T(y),f(!1)},O=async()=>{if(e){if(!M){x(v?"     ":"You do not have permission to delete this person");return}if(confirm(v?"            .":"Are you sure you want to delete this person? This action cannot be undone."))try{p(!0),await Ht.deletePerson(parseInt(e)),t("/trees")}catch(ae){const W=ae.message||(r==="ar"?"   ":"Failed to delete person");x(W),p(!1)}}};return g?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vn,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:v?"   ...":"Loading person profile..."})]})}):m?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:l.jsx(pa,{className:"h-8 w-8 text-destructive"})}),l.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:m}),l.jsx(je,{onClick:()=>window.location.reload(),children:v?" ":"Try Again"})]}):!M&&!g&&n&&y.tree?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx(hc,{className:"h-12 w-12 text-destructive"}),l.jsx("p",{className:"text-destructive text-center",children:v?"     ":"You do not have permission to edit this person"}),l.jsx(je,{onClick:()=>t(-1),children:v?"":"Go Back"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`flex ${o?"flex-col gap-3":"flex-col sm:flex-row sm:items-center"} justify-between`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(je,{variant:"outline",onClick:()=>t(-1),className:"flex items-center gap-2",size:o?"sm":"default",children:[l.jsx(mc,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:v?"":"Back"})]}),l.jsxs("div",{children:[l.jsx("h1",{className:`font-bold text-foreground ${o?"text-lg":"text-xl sm:text-2xl"}`,children:A?v?" ":"Edit Person":v?" ":"View Person"}),l.jsx("p",{className:`text-muted-foreground ${o?"text-xs":"text-xs sm:text-sm"}`,children:v?"   ":"Manage person information and data"})]})]}),l.jsxs("div",{className:`flex ${o?"gap-1":"gap-2"}`,children:[l.jsxs(je,{variant:"outline",className:"flex items-center gap-2",size:o?"sm":"default",onClick:()=>{const ae=`${window.location.origin}/persons/${e}`;navigator.clipboard.writeText(ae).then(()=>{I(v?"    ":"Link copied to clipboard"),setTimeout(()=>I(null),3e3)}).catch(()=>{const W=document.createElement("textarea");W.value=ae,document.body.appendChild(W),W.select(),document.execCommand("copy"),document.body.removeChild(W),I(v?"    ":"Link copied to clipboard"),setTimeout(()=>I(null),3e3)})},children:[l.jsx(V2,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:v?"":"Share"})]}),l.jsx(je,{variant:A?"outline":"default",onClick:()=>A?K():f(!0),className:"flex items-center gap-2",disabled:!M,size:o?"sm":"default",children:A?l.jsxs(l.Fragment,{children:[l.jsx(Oo,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:v?"":"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ro,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:v?"":"Edit"})]})})]})]}),l.jsx("div",{className:`flex ${o?"flex-wrap gap-1 p-1 bg-muted rounded-lg overflow-x-auto":"gap-1 border-b overflow-x-auto"}`,children:[{id:"basic",label:v?" ":"Basic Info",icon:ur},{id:"family",label:v?"":"Family",icon:qr},{id:"contact",label:v?" ":"Contact",icon:Sd},{id:"education",label:v?"":"Education",icon:ote},{id:"work",label:v?"":"Work",icon:yA},{id:"media",label:v?" ":"Media & Docs",icon:cte},{id:"notes",label:v?"":"Notes",icon:ud}].map(ae=>l.jsxs(je,{variant:c===ae.id?"default":"ghost",onClick:()=>u(ae.id),className:`flex items-center gap-2 whitespace-nowrap ${o?"text-xs py-2 px-3 flex-1 justify-center":""}`,size:o?"sm":"default",children:[ke.createElement(ae.icon,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),l.jsx("span",{className:o?"hidden":"hidden xs:inline",children:ae.label})]},ae.id))}),j&&l.jsx("div",{className:"bg-green-100 border border-green-200 rounded-lg p-3 mb-4",children:l.jsx("p",{className:"text-green-800 text-sm",children:j})}),c==="basic"&&l.jsxs(gt,{children:[l.jsx(St,{className:o?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ur,{className:`h-5 w-5 ${o?"h-4 w-4":""}`}),v?" ":"Basic Information"]})}),l.jsxs(vt,{className:`space-y-6 ${o?"p-4":""}`,children:[l.jsxs("div",{className:`grid ${o?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-2 gap-6"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"First Name"}),l.jsx(or,{value:A?S.firstName:y.firstName,onChange:ae=>T(W=>({...W,firstName:ae.target.value})),disabled:!A,placeholder:v?" ":"First Name",className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"Middle Name"}),l.jsx(or,{value:A?S.middleName||"":y.middleName||"",onChange:ae=>T(W=>({...W,middleName:ae.target.value})),disabled:!A,placeholder:v?" ":"Middle Name",className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"Last Name"}),l.jsx(or,{value:A?S.lastName:y.lastName,onChange:ae=>T(W=>({...W,lastName:ae.target.value})),disabled:!A,placeholder:v?" ":"Last Name",className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?"":"Nickname"}),l.jsx(or,{value:A?S.nickname||"":y.nickname||"",onChange:ae=>T(W=>({...W,nickname:ae.target.value})),disabled:!A,placeholder:v?"":"Nickname",className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?"":"Gender"}),l.jsxs("select",{value:A?S.gender:y.gender,onChange:ae=>T(W=>({...W,gender:ae.target.value})),disabled:!A,className:`w-full px-3 border border-input rounded-md bg-background disabled:opacity-50 ${o?"text-sm py-2":"py-2"}`,children:[l.jsx("option",{value:"male",children:v?"":"Male"}),l.jsx("option",{value:"female",children:v?"":"Female"}),l.jsx("option",{value:"unknown",children:v?" ":"Not specified"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?"":"Status"}),l.jsxs("select",{value:A?S.isDeceased.toString():y.isDeceased.toString(),onChange:ae=>T(W=>({...W,isDeceased:ae.target.value==="true"})),disabled:!A,className:`w-full px-3 border border-input rounded-md bg-background disabled:opacity-50 ${o?"text-sm py-2":"py-2"}`,children:[l.jsx("option",{value:"false",children:v?"  ":"Alive"}),l.jsx("option",{value:"true",children:v?"":"Deceased"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"Birth Date"}),l.jsx(or,{type:"date",value:A?S.birth.date||"":y.birth.date||"",onChange:ae=>T(W=>({...W,birth:{...W.birth,date:ae.target.value}})),disabled:!A,className:o?"text-sm py-2":""})]}),(A?S.isDeceased:y.isDeceased)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"Death Date"}),l.jsx(or,{type:"date",value:A?((z=S.death)==null?void 0:z.date)||"":((G=y.death)==null?void 0:G.date)||"",onChange:ae=>T(W=>({...W,death:{...W.death||{},date:ae.target.value}})),disabled:!A,className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"Birth Place"}),l.jsx(or,{value:A?((F=S.birth.place)==null?void 0:F.city)||"":((P=y.birth.place)==null?void 0:P.city)||"",onChange:ae=>T(W=>({...W,birth:{...W.birth,place:{...W.birth.place,city:ae.target.value}}})),disabled:!A,placeholder:v?" ":"Birth City",className:o?"text-sm py-2":""})]}),(A?S.isDeceased:y.isDeceased)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?" ":"Death Place"}),l.jsx(or,{value:A?((q=(L=S.death)==null?void 0:L.place)==null?void 0:q.city)||"":((se=(X=y.death)==null?void 0:X.place)==null?void 0:se.city)||"",onChange:ae=>T(W=>{var ee;return{...W,death:{...W.death||{},place:{...(ee=W.death)==null?void 0:ee.place,city:ae.target.value}}}}),disabled:!A,placeholder:v?" ":"Death City",className:o?"text-sm py-2":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?"":"Father"}),l.jsxs("select",{value:B,onChange:ae=>C(ae.target.value),disabled:!A,className:`w-full px-3 border border-input rounded-md bg-background disabled:opacity-50 ${o?"text-sm py-2":"py-2"}`,children:[l.jsx("option",{value:"",children:v?" ":"Select Father"}),E.filter(ae=>ae.gender==="male").map(ae=>l.jsx("option",{value:ae.id,children:ae.fullName||`${ae.firstName} ${ae.lastName}`},ae.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?"":"Mother"}),l.jsxs("select",{value:N,onChange:ae=>k(ae.target.value),disabled:!A,className:`w-full px-3 border border-input rounded-md bg-background disabled:opacity-50 ${o?"text-sm py-2":"py-2"}`,children:[l.jsx("option",{value:"",children:v?" ":"Select Mother"}),E.filter(ae=>ae.gender==="female").map(ae=>l.jsx("option",{value:ae.id,children:ae.fullName||`${ae.firstName} ${ae.lastName}`},ae.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${o?"text-xs":"text-sm"}`,children:v?"":"Notes"}),l.jsx(Ah,{value:A?S.notes||"":y.notes||"",onChange:ae=>T(W=>({...W,notes:ae.target.value})),disabled:!A,placeholder:v?"  ...":"Write additional notes...",rows:o?3:4,className:o?"text-sm py-2":""})]}),A&&l.jsxs("div",{className:`flex ${o?"flex-col gap-2":"gap-3 pt-4"}`,children:[l.jsx(je,{onClick:Q,className:"flex items-center gap-2",disabled:g,size:o?"sm":"default",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Vn,{className:`animate-spin ${o?"h-3 w-3 mr-1":"h-4 w-4 mr-2"}`}),v?" ...":"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(jd,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),o?v?"":"Save":v?" ":"Save Changes"]})}),l.jsx(je,{variant:"outline",onClick:K,disabled:g,size:o?"sm":"default",children:v?"":"Cancel"})]})]})]}),A&&l.jsxs(gt,{className:"border-destructive/20",children:[l.jsx(St,{className:o?"p-4":"",children:l.jsxs(Ft,{className:"flex items-center gap-2 text-destructive",children:[l.jsx(hc,{className:`h-5 w-5 ${o?"h-4 w-4":""}`}),v?" ":"Danger Zone"]})}),l.jsx(vt,{className:o?"p-4":"",children:l.jsxs("div",{className:`flex ${o?"flex-col gap-3":"items-center justify-between"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-medium text-destructive ${o?"text-sm":""}`,children:v?" ":"Delete Person"}),l.jsx("p",{className:`text-muted-foreground ${o?"text-xs":"text-sm"}`,children:v?"       ":"Permanently delete this person and all their data from the tree"})]}),l.jsxs(je,{variant:"destructive",onClick:O,className:"flex items-center gap-2",disabled:g,size:o?"sm":"default",children:[g?l.jsx(Vn,{className:`animate-spin ${o?"h-3 w-3":"h-4 w-4"}`}):l.jsx(wl,{className:`h-4 w-4 ${o?"h-3 w-3":""}`}),v?"":"Delete"]})]})})]})]})},aLe=()=>{const{language:e}=ir(),{trees:t}=Ti(),[r,n]=re.useState(""),[s,i]=re.useState("all"),[a,o]=re.useState("relevance"),[c,u]=re.useState(null),[A,f]=re.useState(null),[d,h]=re.useState(null),[g,p]=re.useState(!1),[m,x]=re.useState(!1),[v,y]=re.useState([]),[w,S]=re.useState([]),[T,j]=re.useState(null),I=re.useRef(null),{isMobile:B}=cs(),C=e==="ar";re.useEffect(()=>()=>{I.current&&clearTimeout(I.current)},[]),re.useEffect(()=>(I.current&&clearTimeout(I.current),()=>{I.current&&clearTimeout(I.current)}),[r]);const N=re.useMemo(()=>{let M=v,Q=w;if(r){const K=r.toLowerCase();M=v.filter(O=>O.firstName&&O.firstName.toLowerCase().includes(K)||O.firstNameEn&&O.firstNameEn.toLowerCase().includes(K)||O.lastName&&O.lastName.toLowerCase().includes(K)||O.lastNameEn&&O.lastNameEn.toLowerCase().includes(K)||O.treeName&&O.treeName.toLowerCase().includes(K)||O.treeNameEn&&O.treeNameEn.toLowerCase().includes(K)||O.occupation&&O.occupation.toLowerCase().includes(K)||O.occupationEn&&O.occupationEn.toLowerCase().includes(K)||O.birthPlace&&O.birthPlace.toLowerCase().includes(K)||O.birthPlaceEn&&O.birthPlaceEn.toLowerCase().includes(K)),Q=w.filter(O=>O.name&&O.name.toLowerCase().includes(K)||O.nameEn&&O.nameEn.toLowerCase().includes(K)||O.description&&O.description.toLowerCase().includes(K)||O.descriptionEn&&O.descriptionEn.toLowerCase().includes(K))}return c!==null&&(M=M.filter(K=>K.generation===c)),A!==null&&(M=M.filter(K=>K.gender===A)),d!==null&&(M=M.filter(K=>K.isAlive===d)),a==="name"?(M.sort((K,O)=>{const z=C?K.firstName:K.firstNameEn||K.firstName,G=C?O.firstName:O.firstNameEn||O.firstName;return z.localeCompare(G)}),Q.sort((K,O)=>{const z=C?K.name:K.nameEn||K.name,G=C?O.name:O.nameEn||O.name;return z.localeCompare(G)})):a==="date"?(M.sort((K,O)=>{const z=K.birthDate?new Date(K.birthDate).getTime():0;return(O.birthDate?new Date(O.birthDate).getTime():0)-z}),Q.sort((K,O)=>new Date(O.createdAt).getTime()-new Date(K.createdAt).getTime())):a==="generation"&&M.some(K=>K.generation!==void 0)&&M.sort((K,O)=>(K.generation||0)-(O.generation||0)),{people:M,trees:Q}},[v,w,r,c,A,d,a,C]),k=M=>{if(!M)return null;let Q;try{if(M.includes("T"))Q=new Date(M);else if(M.includes("-")){const G=M.split("-");G.length===3?Q=new Date(parseInt(G[0]),parseInt(G[1])-1,parseInt(G[2])):Q=new Date(M)}else if(M.includes("/")){const G=M.split("/");G.length===3?Q=new Date(parseInt(G[2]),parseInt(G[0])-1,parseInt(G[1])):Q=new Date(M)}else Q=new Date(M)}catch{return null}if(isNaN(Q.getTime()))return null;const K=new Date;let O=K.getFullYear()-Q.getFullYear();const z=K.getMonth()-Q.getMonth();return(z<0||z===0&&K.getDate()<Q.getDate())&&O--,O},E=M=>M===1?Nm:M===2?ur:Lo,U=()=>{u(null),f(null),h(null)},D=c!==null||A!==null||d!==null;return l.jsxs("div",{className:`space-y-6 ${B?"p-4":""}`,children:[l.jsxs(gt,{className:B?"rounded-lg":"",children:[l.jsx(St,{className:B?"p-4":"",children:l.jsxs(Ft,{className:`flex items-center gap-2 ${B?"text-lg":""}`,children:[l.jsx(To,{className:`h-5 w-5 text-primary ${B?"h-4 w-4":""}`}),C?" ":"Advanced Search"]})}),l.jsxs(vt,{className:`space-y-4 ${B?"p-4":""}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${B?"h-3.5 w-3.5":"h-4 w-4"} text-muted-foreground`}),l.jsx(or,{placeholder:C?"   ...":"Search people and trees...",value:r,onChange:M=>n(M.target.value),className:`pl-10 ${B?"py-2 text-sm":""}`})]}),l.jsxs("div",{className:`flex ${B?"flex-col gap-3":"flex-wrap gap-4"} items-center`,children:[l.jsxs("div",{className:`flex ${B?"flex-wrap gap-1 p-1 bg-muted rounded-lg w-full":"gap-1 border rounded-md p-1"}`,children:[l.jsx(je,{variant:s==="all"?"default":"ghost",size:"sm",onClick:()=>i("all"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3"}`,children:l.jsx("span",{className:B?"hidden":"",children:C?"":"All"})}),l.jsxs(je,{variant:s==="people"?"default":"ghost",size:"sm",onClick:()=>i("people"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3"}`,children:[l.jsx(ur,{className:`h-4 w-4 ${B?"h-3 w-3":"mr-1"}`}),l.jsx("span",{className:B?"hidden":"",children:C?"":"People"})]}),l.jsxs(je,{variant:s==="trees"?"default":"ghost",size:"sm",onClick:()=>i("trees"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3"}`,children:[l.jsx(cn,{className:`h-4 w-4 ${B?"h-3 w-3":"mr-1"}`}),l.jsx("span",{className:B?"hidden":"",children:C?"":"Trees"})]})]}),l.jsxs("div",{className:`flex ${B?"flex-col gap-2 w-full":"items-center gap-2"}`,children:[l.jsx("span",{className:`text-muted-foreground ${B?"text-xs":"text-sm"}`,children:C?":":"Sort:"}),l.jsxs("div",{className:`flex ${B?"flex-wrap gap-1 p-1 bg-muted rounded-lg w-full":"gap-1 border rounded-md p-1"}`,children:[l.jsx(je,{variant:a==="relevance"?"default":"ghost",size:"sm",onClick:()=>o("relevance"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3 text-xs"}`,children:C?"":"Relevance"}),l.jsx(je,{variant:a==="name"?"default":"ghost",size:"sm",onClick:()=>o("name"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3 text-xs"}`,children:C?"":"Name"}),l.jsx(je,{variant:a==="date"?"default":"ghost",size:"sm",onClick:()=>o("date"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3 text-xs"}`,children:C?"":"Date"}),l.jsx(je,{variant:a==="generation"?"default":"ghost",size:"sm",onClick:()=>o("generation"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 flex-1 justify-center h-8":"h-8 px-3 text-xs"}`,children:C?"":"Generation"})]})]}),l.jsxs(je,{variant:"outline",size:"sm",onClick:()=>p(!g),className:`h-8 px-3 ${B?"w-full":""}`,children:[l.jsx(gte,{className:`h-4 w-4 ${B?"h-3 w-3 mr-1":"mr-1"}`}),C?"":"Filters",g?l.jsx(cE,{className:`h-4 w-4 ${B?"h-3 w-3 ml-1":"ml-1"}`}):l.jsx(K2,{className:`h-4 w-4 ${B?"h-3 w-3 ml-1":"ml-1"}`}),D&&l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-1"})]})]}),g&&l.jsxs("div",{className:`border-t ${B?"pt-3":"pt-4"} space-y-4`,children:[l.jsxs("div",{className:`flex ${B?"flex-col gap-3":"flex-wrap gap-4"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${B?"text-xs":"text-sm"}`,children:C?":":"Generation:"}),l.jsx("div",{className:`flex ${B?"flex-wrap gap-1":"gap-1"}`,children:[1,2,3].map(M=>l.jsxs(je,{variant:c===M?"default":"outline",size:"sm",onClick:()=>u(c===M?null:M),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 h-8 flex-1 justify-center":"h-8 px-3"}`,children:[M===1&&l.jsx(Nm,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":"mr-1"}`}),M===2&&l.jsx(ur,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":"mr-1"}`}),M===3&&l.jsx(Lo,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":"mr-1"}`}),C?` ${M}`:`Gen ${M}`]},M))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${B?"text-xs":"text-sm"}`,children:C?":":"Gender:"}),l.jsxs("div",{className:`flex ${B?"flex-wrap gap-1":"gap-1"}`,children:[l.jsx(je,{variant:A==="male"?"default":"outline",size:"sm",onClick:()=>f(A==="male"?null:"male"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 h-8 flex-1 justify-center":"h-8 px-3"}`,children:C?"":"Male"}),l.jsx(je,{variant:A==="female"?"default":"outline",size:"sm",onClick:()=>f(A==="female"?null:"female"),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 h-8 flex-1 justify-center":"h-8 px-3"}`,children:C?"":"Female"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`font-medium ${B?"text-xs":"text-sm"}`,children:C?":":"Status:"}),l.jsxs("div",{className:`flex ${B?"flex-wrap gap-1":"gap-1"}`,children:[l.jsxs(je,{variant:d===!0?"default":"outline",size:"sm",onClick:()=>h(d===!0?null:!0),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 h-8 flex-1 justify-center":"h-8 px-3"}`,children:[l.jsx(ns,{className:`h-3 w-3 ${B?"h-2.5 w-2.5 mr-1":"mr-1"} text-green-600`}),C?"  ":"Alive"]}),l.jsx(je,{variant:d===!1?"default":"outline",size:"sm",onClick:()=>h(d===!1?null:!1),className:`flex items-center gap-2 whitespace-nowrap ${B?"text-xs py-2 px-3 h-8 flex-1 justify-center":"h-8 px-3"}`,children:C?"":"Deceased"})]})]})]}),D&&l.jsxs(je,{variant:"ghost",size:"sm",onClick:U,className:`text-muted-foreground ${B?"h-8 px-3 text-xs":"h-8 px-3"}`,children:[l.jsx(Oo,{className:`h-4 w-4 ${B?"h-3 w-3 mr-1":"mr-1"}`}),C?" ":"Clear Filters"]})]})]})]}),m&&l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(Vn,{className:"h-8 w-8 animate-spin text-primary"})}),T&&!m&&l.jsx(gt,{className:B?"rounded-lg":"",children:l.jsxs(vt,{className:"text-center py-12",children:[l.jsx("div",{className:"text-destructive mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:C?"   ":"Error Loading Data"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:T}),l.jsx(je,{onClick:()=>window.location.reload(),children:C?" ":"Try Again"})]})}),!m&&!T&&l.jsxs("div",{className:"space-y-6",children:[(s==="all"||s==="people")&&N.people.length>0&&l.jsxs(gt,{className:B?"rounded-lg":"",children:[l.jsx(St,{className:B?"p-4":"",children:l.jsxs(Ft,{className:`flex items-center gap-2 ${B?"text-lg":""}`,children:[l.jsx(ur,{className:`h-5 w-5 text-blue-600 ${B?"h-4 w-4":""}`}),C?"":"People",l.jsx(yn,{variant:"secondary",className:B?"text-xs px-1.5 py-0.5":"",children:N.people.length})]})}),l.jsx(vt,{className:B?"p-4":"",children:l.jsx("div",{className:`grid ${B?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"}`,children:N.people.map(M=>{var O;const Q=E(M.generation),K=k(M.birthDate);return l.jsx("div",{className:"group",children:l.jsxs("div",{className:`
                          relative bg-card border rounded-lg shadow-sm hover:shadow-md transition-all duration-200
                          ${M.gender==="male"?"border-blue-200 hover:border-blue-300 dark:border-blue-900 dark:hover:border-blue-700":"border-pink-200 hover:border-pink-300 dark:border-pink-900 dark:hover:border-pink-700"} ${B?"p-3":"p-4"}`,children:[l.jsxs("div",{className:`flex items-start gap-3 ${B?"gap-2":""}`,children:[l.jsx("div",{className:`
                              rounded-full flex items-center justify-center flex-shrink-0
                              ${M.gender==="male"?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600"} ${B?"w-10 h-10":"w-12 h-12"}`,children:M.photo?l.jsx("img",{src:M.photo,alt:C?M.firstName:M.firstNameEn||M.firstName,className:"w-full h-full rounded-full object-cover"}):l.jsx(Q,{className:`h-6 w-6 ${B?"h-5 w-5":""}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h4",{className:`font-semibold text-foreground truncate ${B?"text-sm":""}`,children:[C?M.firstName:M.firstNameEn||M.firstName,M.lastName&&` ${C?M.lastName:M.lastNameEn||M.lastName}`]}),M.treeName&&l.jsx("p",{className:`text-muted-foreground truncate ${B?"text-xs":"text-sm"}`,children:C?M.treeName:M.treeNameEn||M.treeName}),l.jsxs("div",{className:`flex items-center gap-2 mt-1 ${B?"text-xs":"text-sm"} text-muted-foreground`,children:[K!==null&&l.jsxs(l.Fragment,{children:[l.jsx(ys,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":""}`}),l.jsxs("span",{children:[K," ",C?"":"yrs"]})]}),M.generation&&l.jsx(yn,{variant:"outline",className:`text-xs ${B?"px-1.5 py-0.5":""}`,children:C?` ${M.generation}`:`Gen ${M.generation}`}),!M.isAlive&&l.jsx(yn,{variant:"outline",className:`text-xs ${B?"px-1.5 py-0.5":""}`,children:C?"":"Deceased"})]}),M.occupation&&l.jsx("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:l.jsx("span",{children:C?M.occupation:M.occupationEn||M.occupation})}),M.birthPlace&&l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[l.jsx(ga,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":""}`}),l.jsx("span",{className:"truncate",children:C?M.birthPlace.split("")[0]:((O=M.birthPlaceEn)==null?void 0:O.split(",")[0])||M.birthPlace.split(",")[0]})]})]}),l.jsx("div",{className:`
                              rounded-full flex-shrink-0
                              ${M.isAlive?"bg-green-500":"bg-gray-400"}
                              ${B?"w-2.5 h-2.5":"w-3 h-3"}`})]}),l.jsxs("div",{className:`flex ${B?"gap-1 mt-2":"gap-2 mt-3"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[l.jsx(je,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 h-7 px-2 text-xs",children:l.jsxs(Dt,{to:`/persons/${M.id}`,className:"flex items-center justify-center",children:[l.jsx(Mo,{className:`h-3 w-3 ${B?"h-2.5 w-2.5 mr-1":"mr-1"}`}),l.jsx("span",{className:B?"hidden":"",children:C?"":"View"})]})}),l.jsx(je,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 h-7 px-2 text-xs",children:l.jsxs(Dt,{to:`/trees/${M.treeId}`,className:"flex items-center justify-center",children:[l.jsx(cn,{className:`h-3 w-3 ${B?"h-2.5 w-2.5 mr-1":"mr-1"}`}),l.jsx("span",{className:B?"hidden":"",children:C?"":"Tree"})]})})]}),l.jsx("div",{className:`
                            absolute top-2 right-2 rounded-full
                            ${M.gender==="male"?"bg-blue-500":"bg-pink-500"}
                            ${B?"w-2.5 h-2.5":"w-3 h-3"}`})]})},M.id)})})})]}),(s==="all"||s==="trees")&&N.trees.length>0&&l.jsxs(gt,{className:B?"rounded-lg":"",children:[l.jsx(St,{className:B?"p-4":"",children:l.jsxs(Ft,{className:`flex items-center gap-2 ${B?"text-lg":""}`,children:[l.jsx(cn,{className:`h-5 w-5 text-green-600 ${B?"h-4 w-4":""}`}),C?" ":"Family Trees",l.jsx(yn,{variant:"secondary",className:B?"text-xs px-1.5 py-0.5":"",children:N.trees.length})]})}),l.jsx(vt,{className:B?"p-4":"",children:l.jsx("div",{className:`grid ${B?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"}`,children:N.trees.map(M=>l.jsx("div",{className:"group",children:l.jsxs("div",{className:`relative bg-card border border-green-200 rounded-lg shadow-sm hover:shadow-md hover:border-green-300 transition-all duration-200 dark:border-green-900 dark:hover:border-green-700 ${B?"p-3":"p-4"}`,children:[l.jsxs("div",{className:`flex items-start gap-3 ${B?"gap-2":""}`,children:[l.jsx("div",{className:`rounded-full bg-green-100 text-green-600 flex items-center justify-center flex-shrink-0 ${B?"w-10 h-10":"w-12 h-12"}`,children:l.jsx(cn,{className:`h-6 w-6 ${B?"h-5 w-5":""}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:`font-semibold text-foreground truncate ${B?"text-sm":""}`,children:C?M.name:M.nameEn||M.name}),M.description&&l.jsx("p",{className:`text-muted-foreground mt-1 line-clamp-2 ${B?"text-xs":"text-sm"}`,children:C?M.description:M.descriptionEn||M.description}),l.jsxs("div",{className:`flex items-center gap-2 mt-2 ${B?"text-xs":"text-sm"} text-muted-foreground`,children:[M.memberCount!==void 0&&l.jsxs(l.Fragment,{children:[l.jsx(qr,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":""}`}),l.jsxs("span",{children:[M.memberCount," ",C?"":"members"]})]}),M.isPublic!==void 0&&l.jsx(yn,{variant:M.isPublic?"default":"secondary",className:`text-xs ${B?"px-1.5 py-0.5":""}`,children:M.isPublic?C?"":"Public":C?"":"Private"})]}),l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[l.jsx(ys,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":""}`}),l.jsxs("span",{children:[C?" : ":"Created: ",new Date(M.createdAt).toLocaleDateString(C?"ar-SA":"en-US")]})]}),M.owner&&l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[l.jsx(ur,{className:`h-3 w-3 ${B?"h-2.5 w-2.5":""}`}),l.jsx("span",{children:C?`${M.owner.firstName} ${M.owner.lastName}`:`${M.owner.firstName} ${M.owner.lastName}`})]})]})]}),l.jsxs("div",{className:`flex ${B?"gap-1 mt-2":"gap-2 mt-3"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[l.jsx(je,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 h-7 px-2 text-xs",children:l.jsxs(Dt,{to:`/trees/${M.id}`,className:"flex items-center justify-center",children:[l.jsx(Mo,{className:`h-3 w-3 ${B?"h-2.5 w-2.5 mr-1":"mr-1"}`}),l.jsx("span",{className:B?"hidden":"",children:C?"":"View"})]})}),l.jsx(je,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 h-7 px-2 text-xs",children:l.jsxs(Dt,{to:`/trees/${M.id}/edit`,className:"flex items-center justify-center",children:[l.jsx(Ro,{className:`h-3 w-3 ${B?"h-2.5 w-2.5 mr-1":"mr-1"}`}),l.jsx("span",{className:B?"hidden":"",children:C?"":"Edit"})]})})]})]})},M.id))})})]}),N.people.length===0&&N.trees.length===0&&r&&l.jsx(gt,{className:B?"rounded-lg":"",children:l.jsxs(vt,{className:`text-center ${B?"py-8":"py-12"}`,children:[l.jsx(To,{className:`text-muted-foreground mx-auto mb-4 ${B?"h-8 w-8":"h-12 w-12"}`}),l.jsx("h3",{className:`font-semibold text-foreground mb-2 ${B?"text-base":"text-lg"}`,children:C?"  ":"No Results Found"}),l.jsx("p",{className:`text-muted-foreground mb-4 ${B?"text-sm":""}`,children:C?`     "${r}"`:`We couldn't find any results for "${r}"`}),l.jsxs("div",{className:`text-muted-foreground ${B?"text-xs":"text-sm"}`,children:[l.jsx("p",{children:C?":":"Try:"}),l.jsxs("ul",{className:`mt-2 ${B?"space-y-0.5":"space-y-1"}`,children:[l.jsxs("li",{children:[" ",C?"  ":"Check your spelling"]}),l.jsxs("li",{children:[" ",C?"    ":"Use fewer or different keywords"]}),l.jsxs("li",{children:[" ",C?" ":"Clear filters"]}),l.jsxs("li",{children:[" ",C?"  ":"Search using English names"]})]})]})]})}),!r&&!m&&l.jsx(gt,{className:B?"rounded-lg":"",children:l.jsxs(vt,{className:`text-center ${B?"py-8":"py-12"}`,children:[l.jsx(To,{className:`text-muted-foreground mx-auto mb-4 ${B?"h-8 w-8":"h-12 w-12"}`}),l.jsx("h3",{className:`font-semibold text-foreground mb-2 ${B?"text-base":"text-lg"}`,children:C?" ":"Start Searching"}),l.jsx("p",{className:`text-muted-foreground ${B?"text-sm":""}`,children:C?"          ":"Search through family trees and people using names, places, or occupations"})]})})]})]})},oLe=()=>{var C,N,k,E,U,D,M;const{isMobile:e}=cs(),{language:t,setLanguage:r,theme:n,setTheme:s}=ir(),{success:i,error:a}=YO(),{user:o,updateNotificationSettings:c,updatePrivacySettings:u}=os(),[A,f]=re.useState("general"),[d,h]=re.useState(!1),[g,p]=re.useState(!1),m=t==="ar",[x,v]=re.useState({language:t,theme:n,notifications:{email:((N=(C=o==null?void 0:o.notifications)==null?void 0:C.email)==null?void 0:N.newSuggestions)??!0,push:((E=(k=o==null?void 0:o.notifications)==null?void 0:k.push)==null?void 0:E.enabled)??!0,sound:!0,familyUpdates:!0,newMembers:!0,birthdays:!0,anniversaries:!0},privacy:{profileVisibility:((U=o==null?void 0:o.privacy)==null?void 0:U.profileVisibility)??"family",allowSearch:((D=o==null?void 0:o.privacy)==null?void 0:D.allowSearchEngines)??!0,showOnlineStatus:((M=o==null?void 0:o.privacy)==null?void 0:M.showOnlineStatus)??!0,allowDirectMessages:!0},display:{dateFormat:"dd/mm/yyyy",timeFormat:"24h",fontSize:"medium",compactMode:!1},backup:{autoBackup:!0,backupFrequency:"weekly",cloudSync:!0}});re.useEffect(()=>{o&&v(Q=>{var K,O,z,G,F,P,L;return{...Q,notifications:{...Q.notifications,email:((O=(K=o.notifications)==null?void 0:K.email)==null?void 0:O.newSuggestions)??!0,push:((G=(z=o.notifications)==null?void 0:z.push)==null?void 0:G.enabled)??!0},privacy:{...Q.privacy,profileVisibility:((F=o.privacy)==null?void 0:F.profileVisibility)??"family",allowSearch:((P=o.privacy)==null?void 0:P.allowSearchEngines)??!0,showOnlineStatus:((L=o.privacy)==null?void 0:L.showOnlineStatus)??!0}}})},[o]),re.useEffect(()=>{v(Q=>({...Q,language:t,theme:n}))},[t,n]);const y=(Q,K,O)=>{v(z=>({...z,[Q]:{...z[Q],[K]:O}})),h(!0)},w=Q=>{r(Q),v(K=>({...K,language:Q})),h(!0)},S=Q=>{s(Q),v(K=>({...K,theme:Q})),h(!0)},T=async()=>{p(!0);try{await c({email:{newSuggestions:x.notifications.email,treeUpdates:x.notifications.familyUpdates,subscriptionUpdates:x.notifications.newMembers,marketing:x.notifications.anniversaries},push:{enabled:x.notifications.push}}),await u({profileVisibility:x.privacy.profileVisibility,allowSearchEngines:x.privacy.allowSearch,showOnlineStatus:x.privacy.showOnlineStatus}),h(!1),i({en:"Settings saved successfully",ar:"   "})}catch{a({en:"Failed to save settings",ar:"   "})}finally{p(!1)}},j=()=>{var Q,K,O,z,G,F,P;confirm(m?"       ":"Are you sure you want to reset all settings?")&&(v({language:t,theme:n,notifications:{email:((K=(Q=o==null?void 0:o.notifications)==null?void 0:Q.email)==null?void 0:K.newSuggestions)??!0,push:((z=(O=o==null?void 0:o.notifications)==null?void 0:O.push)==null?void 0:z.enabled)??!0,sound:!0,familyUpdates:!0,newMembers:!0,birthdays:!0,anniversaries:!0},privacy:{profileVisibility:((G=o==null?void 0:o.privacy)==null?void 0:G.profileVisibility)??"family",allowSearch:((F=o==null?void 0:o.privacy)==null?void 0:F.allowSearchEngines)??!0,showOnlineStatus:((P=o==null?void 0:o.privacy)==null?void 0:P.showOnlineStatus)??!0,allowDirectMessages:!0},display:{dateFormat:"dd/mm/yyyy",timeFormat:"24h",fontSize:"medium",compactMode:!1},backup:{autoBackup:!0,backupFrequency:"weekly",cloudSync:!0}}),h(!0))},I=()=>{},B=()=>{};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:m?"":"Settings"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Manage application and account settings"})]}),d&&l.jsx(je,{onClick:T,disabled:g,className:"flex items-center gap-2",size:e?"icon":"default",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Vn,{className:"h-4 w-4 animate-spin"}),!e&&(m?" ...":"Saving...")]}):l.jsxs(l.Fragment,{children:[l.jsx(jd,{className:"h-4 w-4"}),!e&&(m?" ":"Save Changes")]})})]}),l.jsx("div",{className:"flex gap-1 border-b overflow-x-auto",children:[{id:"general",label:m?"":"General",icon:Cm},{id:"account",label:m?"":"Account",icon:ur}].map(Q=>l.jsxs(je,{variant:A===Q.id?"default":"ghost",onClick:()=>f(Q.id),className:"flex items-center gap-2 whitespace-nowrap",size:e?"icon":"default",title:e?Q.label:void 0,children:[ke.createElement(Q.icon,{className:"h-4 w-4"}),!e&&Q.label," "]},Q.id))}),A==="general"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(qO,{className:"h-5 w-5"}),m?" ":"Language & Region"]})}),l.jsx(vt,{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Application Language"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Choose the application interface language"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{variant:x.language==="ar"?"default":"outline",size:e?"icon":"sm",onClick:()=>w("ar"),title:e?"":void 0,children:[e?"":""," "]}),l.jsxs(je,{variant:x.language==="en"?"default":"outline",size:e?"icon":"sm",onClick:()=>w("en"),title:e?"English":void 0,children:[e?"En":"English"," "]})]})]})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(pte,{className:"h-5 w-5"}),m?"":"Appearance"]})}),l.jsx(vt,{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Theme Mode"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Choose your preferred theme mode"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{variant:x.theme==="light"?"default":"outline",size:e?"icon":"sm",onClick:()=>S("light"),className:"flex items-center gap-2",title:e?m?"":"Light":void 0,children:[l.jsx(Em,{className:"h-4 w-4"}),!e&&(m?"":"Light")," "]}),l.jsxs(je,{variant:x.theme==="dark"?"default":"outline",size:e?"icon":"sm",onClick:()=>S("dark"),className:"flex items-center gap-2",title:e?m?"":"Dark":void 0,children:[l.jsx(_m,{className:"h-4 w-4"}),!e&&(m?"":"Dark")," "]}),l.jsxs(je,{variant:"outline",size:e?"icon":"sm",onClick:()=>{},className:"flex items-center gap-2",title:e?m?"":"System":void 0,children:[l.jsx(r8,{className:"h-4 w-4"}),!e&&(m?"":"System")," "]})]})]})})]})]}),A==="notifications"&&l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(tte,{className:"h-5 w-5"}),m?" ":"Notification Settings"]})}),l.jsxs(vt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-medium",children:m?" ":"Notification Methods"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"  ":"Email Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Receive notifications via email"})]}),l.jsx(je,{variant:x.notifications.email?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","email",!x.notifications.email),title:e?x.notifications.email?m?"":"On":m?"":"Off":void 0,children:e?x.notifications.email?m?"":"ON":m?"":"OFF":x.notifications.email?m?"":"On":m?"":"Off"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Push Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Receive push notifications on device"})]}),l.jsx(je,{variant:x.notifications.push?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","push",!x.notifications.push),title:e?x.notifications.push?m?"":"On":m?"":"Off":void 0,children:e?x.notifications.push?m?"":"ON":m?"":"OFF":x.notifications.push?m?"":"On":m?"":"Off"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"":"Sound Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Play sounds with notifications"})]}),l.jsxs(je,{variant:x.notifications.sound?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","sound",!x.notifications.sound),className:"flex items-center gap-2",title:e?x.notifications.sound?m?"":"On":m?"":"Off":void 0,children:[x.notifications.sound?l.jsx(Bte,{className:"h-4 w-4"}):l.jsx(Nte,{className:"h-4 w-4"}),!e&&(x.notifications.sound?m?"":"On":m?"":"Off")]})]})]}),l.jsxs("div",{className:"border-t pt-6 space-y-4",children:[l.jsx("h3",{className:"font-medium",children:m?" ":"Notification Types"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Family Updates"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"      ":"Notifications when family members are added or updated"})]}),l.jsx(je,{variant:x.notifications.familyUpdates?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","familyUpdates",!x.notifications.familyUpdates),title:e?x.notifications.familyUpdates?m?"":"On":m?"":"Off":void 0,children:e?x.notifications.familyUpdates?m?"":"ON":m?"":"OFF":x.notifications.familyUpdates?m?"":"On":m?"":"Off"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"New Members"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"     ":"Notifications when new members join the tree"})]}),l.jsx(je,{variant:x.notifications.newMembers?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","newMembers",!x.notifications.newMembers),title:e?x.notifications.newMembers?m?"":"On":m?"":"Off":void 0,children:e?x.notifications.newMembers?m?"":"ON":m?"":"OFF":x.notifications.newMembers?m?"":"On":m?"":"Off"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Birthdays"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Reminders for family members birthdays"})]}),l.jsx(je,{variant:x.notifications.birthdays?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","birthdays",!x.notifications.birthdays),title:e?x.notifications.birthdays?m?"":"On":m?"":"Off":void 0,children:e?x.notifications.birthdays?m?"":"ON":m?"":"OFF":x.notifications.birthdays?m?"":"On":m?"":"Off"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Anniversaries"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Reminders for important anniversaries"})]}),l.jsx(je,{variant:x.notifications.anniversaries?"default":"outline",size:e?"icon":"sm",onClick:()=>y("notifications","anniversaries",!x.notifications.anniversaries),title:e?x.notifications.anniversaries?m?"":"On":m?"":"Off":void 0,children:e?x.notifications.anniversaries?m?"":"ON":m?"":"OFF":x.notifications.anniversaries?m?"":"On":m?"":"Off"})]})]})]})]}),A==="privacy"&&l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(W2,{className:"h-5 w-5"}),m?" ":"Privacy Settings"]})}),l.jsxs(vt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"  ":"Profile Visibility"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Who can see your profile"})]}),l.jsxs("select",{value:x.privacy.profileVisibility,onChange:Q=>y("privacy","profileVisibility",Q.target.value),className:"px-3 py-2 border border-input rounded-md bg-background",children:[l.jsx("option",{value:"public",children:m?"":"Public"}),l.jsx("option",{value:"family",children:m?" ":"Family Only"}),l.jsx("option",{value:"private",children:m?"":"Private"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Allow Search"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"     ":"Allow others to find you in search"})]}),l.jsx(je,{variant:x.privacy.allowSearch?"default":"outline",size:e?"icon":"sm",onClick:()=>y("privacy","allowSearch",!x.privacy.allowSearch),title:e?x.privacy.allowSearch?m?"":"Allowed":m?"":"Blocked":void 0,children:e?x.privacy.allowSearch?m?"":"ON":m?"":"OFF":x.privacy.allowSearch?m?"":"Allowed":m?"":"Blocked"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"  ":"Show Online Status"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"      ":"Show whether you are online or not"})]}),l.jsxs(je,{variant:x.privacy.showOnlineStatus?"default":"outline",size:e?"icon":"sm",onClick:()=>y("privacy","showOnlineStatus",!x.privacy.showOnlineStatus),className:"flex items-center gap-2",title:e?x.privacy.showOnlineStatus?m?"":"Visible":m?"":"Hidden":void 0,children:[x.privacy.showOnlineStatus?l.jsx(Mo,{className:"h-4 w-4"}):l.jsx($O,{className:"h-4 w-4"}),!e&&(x.privacy.showOnlineStatus?m?"":"Visible":m?"":"Hidden")]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"  ":"Allow Direct Messages"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"     ":"Allow others to send you direct messages"})]}),l.jsx(je,{variant:x.privacy.allowDirectMessages?"default":"outline",size:e?"icon":"sm",onClick:()=>y("privacy","allowDirectMessages",!x.privacy.allowDirectMessages),title:e?x.privacy.allowDirectMessages?m?"":"Allowed":m?"":"Blocked":void 0,children:e?x.privacy.allowDirectMessages?m?"":"ON":m?"":"OFF":x.privacy.allowDirectMessages?m?"":"Allowed":m?"":"Blocked"})]})]}),l.jsx("div",{className:"p-4 bg-secondary/50 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Ed,{className:"h-5 w-5 text-primary mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:m?" ":"Privacy Information"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m?"     .       .":"We respect your privacy and protect your personal data. You can change these settings at any time."})]})]})})]})]}),A==="display"&&l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(r8,{className:"h-5 w-5"}),m?" ":"Display Settings"]})}),l.jsx(vt,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Date Format"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Choose how dates are displayed"})]}),l.jsxs("select",{value:x.display.dateFormat,onChange:Q=>y("display","dateFormat",Q.target.value),className:"px-3 py-2 border border-input rounded-md bg-background",children:[l.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),l.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),l.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Time Format"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Choose how time is displayed"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{variant:x.display.timeFormat==="12h"?"default":"outline",size:e?"icon":"sm",onClick:()=>y("display","timeFormat","12h"),title:e?"12h":void 0,children:[e?"12":"12h"," "]}),l.jsxs(je,{variant:x.display.timeFormat==="24h"?"default":"outline",size:e?"icon":"sm",onClick:()=>y("display","timeFormat","24h"),title:e?"24h":void 0,children:[e?"24":"24h"," "]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Font Size"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"   ":"Choose your preferred font size"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{variant:x.display.fontSize==="small"?"default":"outline",size:e?"icon":"sm",onClick:()=>y("display","fontSize","small"),title:e?m?"":"Small":void 0,children:[e?m?"":"S":m?"":"Small"," "]}),l.jsxs(je,{variant:x.display.fontSize==="medium"?"default":"outline",size:e?"icon":"sm",onClick:()=>y("display","fontSize","medium"),title:e?m?"":"Medium":void 0,children:[e?m?"":"M":m?"":"Medium"," "]}),l.jsxs(je,{variant:x.display.fontSize==="large"?"default":"outline",size:e?"icon":"sm",onClick:()=>y("display","fontSize","large"),title:e?m?"":"Large":void 0,children:[e?m?"":"L":m?"":"Large"," "]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Compact Mode"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"      ":"Show more content in less space"})]}),l.jsx(je,{variant:x.display.compactMode?"default":"outline",size:e?"icon":"sm",onClick:()=>y("display","compactMode",!x.display.compactMode),title:e?x.display.compactMode?m?"":"On":m?"":"Off":void 0,children:e?x.display.compactMode?m?"":"ON":m?"":"OFF":x.display.compactMode?m?"":"On":m?"":"Off"})]})]})})]}),A==="backup"&&l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ste,{className:"h-5 w-5"}),m?"  ":"Backup & Sync"]})}),l.jsxs(vt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"  ":"Auto Backup"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"     ":"Automatically create backups of your data"})]}),l.jsx(je,{variant:x.backup.autoBackup?"default":"outline",size:e?"icon":"sm",onClick:()=>y("backup","autoBackup",!x.backup.autoBackup),title:e?x.backup.autoBackup?m?"":"On":m?"":"Off":void 0,children:e?x.backup.autoBackup?m?"":"ON":m?"":"OFF":x.backup.autoBackup?m?"":"On":m?"":"Off"})]}),x.backup.autoBackup&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?"  ":"Backup Frequency"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"     ":"How often backups are created"})]}),l.jsxs("select",{value:x.backup.backupFrequency,onChange:Q=>y("backup","backupFrequency",Q.target.value),className:"px-3 py-2 border border-input rounded-md bg-background",children:[l.jsx("option",{value:"daily",children:m?"":"Daily"}),l.jsx("option",{value:"weekly",children:m?"":"Weekly"}),l.jsx("option",{value:"monthly",children:m?"":"Monthly"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:m?" ":"Cloud Sync"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Sync data with cloud storage"})]}),l.jsxs(je,{variant:x.backup.cloudSync?"default":"outline",size:e?"icon":"sm",onClick:()=>y("backup","cloudSync",!x.backup.cloudSync),className:"flex items-center gap-2",title:e?x.backup.cloudSync?m?"":"On":m?"":"Off":void 0,children:[l.jsx(nte,{className:"h-4 w-4"}),!e&&(x.backup.cloudSync?m?"":"On":m?"":"Off")]})]})]}),l.jsxs("div",{className:"border-t pt-6 space-y-4",children:[l.jsx("h3",{className:"font-medium",children:m?" ":"Data Management"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(je,{variant:"outline",onClick:I,className:"flex items-center gap-2 h-auto p-4",size:e?"icon":"default",children:[l.jsx(AE,{className:"h-5 w-5"}),!e&&l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-medium",children:m?" ":"Export Data"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Download a copy of all your data"})]})]}),l.jsxs(je,{variant:"outline",onClick:B,className:"flex items-center gap-2 h-auto p-4",size:e?"icon":"default",children:[l.jsx(bte,{className:"h-5 w-5"}),!e&&l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-medium",children:m?" ":"Import Data"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Upload and import data from file"})]})]})]}),l.jsx("div",{className:"p-4 bg-secondary/50 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(lte,{className:"h-5 w-5 text-primary mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:m?" ":"Storage Information"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m?" : 2.3   10 ":"Used space: 2.3 GB of 10 GB"}),l.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"23%"}})})]})]})})]})]})]}),A==="account"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ur,{className:"h-5 w-5"}),m?" ":"Account Information"]})}),l.jsx(vt,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:m?" ":"Full Name"}),l.jsx(or,{value:`${(o==null?void 0:o.firstName)||""} ${(o==null?void 0:o.lastName)||""}`,disabled:!0,className:"bg-secondary/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:m?" ":"Email"}),l.jsx(or,{value:(o==null?void 0:o.email)||"",disabled:!0,className:"bg-secondary/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:m?" ":"Phone Number"}),l.jsx(or,{value:(o==null?void 0:o.phone)||"",disabled:!0,className:"bg-secondary/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:m?" ":"Join Date"}),l.jsx(or,{value:o!=null&&o.createdAt?new Date(o.createdAt).toLocaleDateString():"",disabled:!0,className:"bg-secondary/50"})]})]})})]}),l.jsxs(gt,{className:"border-destructive/20",children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2 text-destructive",children:[l.jsx(hc,{className:"h-5 w-5"}),m?" ":"Danger Zone"]})}),l.jsxs(vt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-destructive",children:m?"  ":"Reset Settings"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"     ":"Reset all settings to default values"})]}),l.jsxs(je,{variant:"outline",onClick:j,className:"flex items-center gap-2",size:e?"icon":"default",children:[l.jsx(gc,{className:"h-4 w-4"}),!e&&(m?" ":"Reset")]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-destructive",children:m?" ":"Delete Account"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m?"    ":"Permanently delete account and all data"})]}),l.jsxs(je,{variant:"destructive",className:"flex items-center gap-2",size:e?"icon":"default",children:[l.jsx(wl,{className:"h-4 w-4"}),!e&&(m?" ":"Delete Account")]})]})]})]})]}),d&&l.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground px-6 py-3 rounded-lg shadow-lg flex items-center gap-3",children:[l.jsx(Ed,{className:"h-5 w-5"}),l.jsx("span",{children:m?"   ":"You have unsaved changes"}),l.jsx(je,{variant:"secondary",size:e?"icon":"sm",onClick:T,disabled:g,className:"flex items-center gap-2",children:g?l.jsx(Vn,{className:"h-4 w-4 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(jd,{className:"h-4 w-4"}),!e&&(m?"":"Save")," "]})})]})]})},lLe=()=>{var I,B,C;const{user:e,updateProfile:t,uploadAvatar:r,deleteAvatar:n}=os(),{language:s}=ir(),{success:i,error:a}=YO();ls();const[o,c]=re.useState(!1),[u,A]=re.useState(!1),[f,d]=re.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",dateOfBirth:(e==null?void 0:e.dateOfBirth)||"",gender:(e==null?void 0:e.gender)||"",bio:""}),[h,g]=re.useState(null),[p,m]=re.useState(null),x=s==="ar";ke.useEffect(()=>{e&&d({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",country:e.country||"",city:e.city||"",dateOfBirth:e.dateOfBirth||"",gender:e.gender||"",bio:""})},[e]);const v=N=>{const{name:k,value:E}=N.target;d(U=>({...U,[k]:E}))},y=N=>{var E;const k=(E=N.target.files)==null?void 0:E[0];if(k){if(k.size>5*1024*1024){a({en:"File size exceeds 5MB limit",ar:"      5 "});return}m(k);const U=new FileReader;U.onloadend=()=>{g(U.result)},U.readAsDataURL(k)}},w=()=>{g(null),m(null),e!=null&&e.avatar&&g(null)},S=async()=>{var N,k,E,U;A(!0);try{const D={firstName:f.firstName,lastName:f.lastName,phone:f.phone||void 0,country:f.country||void 0,city:f.city||void 0,dateOfBirth:f.dateOfBirth||void 0,gender:f.gender&&f.gender!==""?f.gender:void 0};await t(D),p&&await r(p),c(!1),i({en:"Profile updated successfully",ar:"    "})}catch(D){console.error("Profile update error:",D);let M=D.message||"Unknown error";((N=D.response)==null?void 0:N.status)===405?M="Profile update method not allowed. Please contact support.":((k=D.response)==null?void 0:k.status)===400?M="Invalid profile data. Please check your inputs.":((E=D.response)==null?void 0:E.status)===401?M="Authentication required. Please log in again.":((U=D.response)==null?void 0:U.status)===500&&(M="Server error. Please try again later."),a({en:"Failed to update profile: "+M,ar:"    : "+M})}finally{A(!1)}},T=()=>{e&&d({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",country:e.country||"",city:e.city||"",dateOfBirth:e.dateOfBirth||"",gender:e.gender||"",bio:""}),g(null),m(null),c(!1)},j=N=>N?new Date(N).toLocaleDateString(s==="ar"?"ar-SA":"en-US"):"";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:x?" ":"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:x?"   ":"Manage your account information"})]}),!o&&l.jsxs(je,{onClick:()=>c(!0),className:"flex items-center gap-2",children:[l.jsx(Ro,{className:"h-4 w-4"}),x?"":"Edit"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx(gt,{children:l.jsx(vt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:o?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-24 h-24 rounded-full bg-secondary flex items-center justify-center overflow-hidden",children:h?l.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"}):(I=e==null?void 0:e.avatar)!=null&&I.url?l.jsx("img",{src:e.avatar.url,alt:e.firstName,className:"w-full h-full object-cover"}):l.jsx(ur,{className:"h-12 w-12 text-muted-foreground"})}),l.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-2 cursor-pointer shadow-md hover:bg-primary/90 transition-colors",children:[l.jsx(hp,{className:"h-4 w-4 text-primary-foreground"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y})]})]}):l.jsx("div",{className:"w-24 h-24 rounded-full bg-secondary flex items-center justify-center overflow-hidden",children:(B=e==null?void 0:e.avatar)!=null&&B.url?l.jsx("img",{src:e.avatar.url,alt:e.firstName,className:"w-full h-full object-cover"}):l.jsx(ur,{className:"h-12 w-12 text-muted-foreground"})})}),o&&(h||((C=e==null?void 0:e.avatar)==null?void 0:C.url))&&l.jsx("button",{onClick:w,className:"absolute -top-2 -right-2 bg-destructive rounded-full p-1 shadow-md hover:bg-destructive/90 transition-colors",children:l.jsx(Oo,{className:"h-3 w-3 text-destructive-foreground"})})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsxs("h2",{className:"text-xl font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email}),(e==null?void 0:e.country)&&l.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[l.jsx(ga,{className:"h-4 w-4"}),l.jsxs("span",{children:[e.country,e.city?`, ${e.city}`:""]})]})]})]})})})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(ur,{className:"h-5 w-5"}),x?" ":"Account Information"]})}),l.jsx(vt,{className:"space-y-6",children:o?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?" ":"First Name"}),l.jsx(or,{name:"firstName",value:f.firstName,onChange:v,placeholder:x?" ":"First Name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?" ":"Last Name"}),l.jsx(or,{name:"lastName",value:f.lastName,onChange:v,placeholder:x?" ":"Last Name"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?" ":"Email"}),l.jsx(or,{name:"email",value:f.email,onChange:v,disabled:!0,className:"bg-secondary/50"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:x?"    ":"Email cannot be changed"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?" ":"Phone Number"}),l.jsx(or,{name:"phone",value:f.phone,onChange:v,placeholder:x?" ":"Phone Number"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?" ":"Date of Birth"}),l.jsx(or,{name:"dateOfBirth",type:"date",value:f.dateOfBirth,onChange:v})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?"":"Country"}),l.jsx(or,{name:"country",value:f.country,onChange:v,placeholder:x?"":"Country"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?"":"City"}),l.jsx(or,{name:"city",value:f.city,onChange:v,placeholder:x?"":"City"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:x?"":"Gender"}),l.jsxs("select",{name:"gender",value:f.gender,onChange:N=>d(k=>({...k,gender:N.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background",children:[l.jsx("option",{value:"",children:x?"":"Select"}),l.jsx("option",{value:"male",children:x?"":"Male"}),l.jsx("option",{value:"female",children:x?"":"Female"}),l.jsx("option",{value:"other",children:x?"":"Other"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsxs(je,{variant:"outline",onClick:T,disabled:u,className:"flex items-center gap-2",children:[l.jsx(Oo,{className:"h-4 w-4"}),x?"":"Cancel"]}),l.jsxs(je,{onClick:S,disabled:u,className:"flex items-center gap-2",children:[u?l.jsx(Vn,{className:"h-4 w-4 animate-spin"}):l.jsx(jd,{className:"h-4 w-4"}),x?" ":"Save Changes"]})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?" ":"First Name"}),l.jsx("p",{children:(e==null?void 0:e.firstName)||"-"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?" ":"Last Name"}),l.jsx("p",{children:(e==null?void 0:e.lastName)||"-"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?" ":"Email"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yl,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{children:(e==null?void 0:e.email)||"-"})]})]}),(e==null?void 0:e.phone)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?" ":"Phone Number"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{children:e.phone})]})]}),((e==null?void 0:e.country)||(e==null?void 0:e.city))&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?"":"Address"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ga,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{children:e!=null&&e.country||e!=null&&e.city?`${e.country||""}${e.city?`, ${e.city}`:""}`:x?" ":"Not set"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?"":"Gender"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{children:e!=null&&e.gender?e.gender==="male"?x?"":"Male":e.gender==="female"?x?"":"Female":x?"":"Other":x?" ":"Not set"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:x?" ":"Join Date"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{children:e!=null&&e.createdAt?j(e.createdAt):"-"})]})]})]})})]})})]})]})},cLe=()=>{const{language:e}=ir(),t=e==="ar",r=[{icon:cn,titleAr:"  ",titleEn:"Interactive Family Tree",descriptionAr:"            ",descriptionEn:"Create beautiful and interactive family trees with real tree design, connecting lines and distinctive colors",category:"core"},{icon:qr,titleAr:" ",titleEn:"Member Management",descriptionAr:"           ",descriptionEn:"Add family members with detailed information, photos, birth and death dates, and family relationships",category:"core"},{icon:To,titleAr:" vanced",titleEn:"Advanced Search",descriptionAr:"            ",descriptionEn:"Search all family members by name, birth date, location, or any other information",category:"search"},{icon:V2,titleAr:" ",titleEn:"Sharing & Collaboration",descriptionAr:"           ",descriptionEn:"Share family trees with relatives and allow them to contribute information and photos",category:"social"},{icon:qO,titleAr:" ",titleEn:"Bilingual Support",descriptionAr:"          ",descriptionEn:"Complete interface in Arabic and English with right-to-left writing support",category:"language"},{icon:xte,titleAr:"  ",titleEn:"Mobile Friendly",descriptionAr:"          ",descriptionEn:"Works perfectly on smartphones and tablets with responsive design",category:"mobile"},{icon:W2,titleAr:" ",titleEn:"Security & Privacy",descriptionAr:"         ",descriptionEn:"High data protection with advanced encryption and customizable privacy settings",category:"security"}],n=[{id:"core",nameAr:" ",nameEn:"Core Features",color:"bg-blue-500"},{id:"search",nameAr:"",nameEn:"Search",color:"bg-purple-500"},{id:"social",nameAr:"",nameEn:"Collaboration",color:"bg-pink-500"},{id:"language",nameAr:"",nameEn:"Language",color:"bg-indigo-500"},{id:"mobile",nameAr:"",nameEn:"Mobile",color:"bg-teal-500"},{id:"security",nameAr:"",nameEn:"Security",color:"bg-red-500"}],s=i=>n.find(a=>a.id===i);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[l.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-green-600 to-blue-600 text-white",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:t?" ":"Nasabna Features"}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:t?"             ":"Discover all the powerful features that make creating and managing your family tree an enjoyable and easy experience"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(je,{asChild:!0,size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:l.jsxs(Dt,{to:"/register",children:[t?" ":"Start Free",l.jsx(Eo,{className:"ml-2 h-5 w-5"})]})}),l.jsx(je,{asChild:!0,variant:"outline",size:"lg",className:"border-primary text-primary hover:bg-primary/10",children:l.jsx(Dt,{to:"/pricing",children:t?" ":"View Plans"})})]})]})})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:t?"    ":"Comprehensive Features to Preserve Your Family Heritage"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t?"                ":"We provide all the tools you need to create a detailed and beautiful family tree that preserves your family history for future generations"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((i,a)=>{const o=i.icon,c=s(i.category);return l.jsxs(gt,{className:"group hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border-0 shadow-lg",children:[l.jsxs(St,{className:"text-center pb-4",children:[l.jsxs("div",{className:"mx-auto mb-4 relative",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${c==null?void 0:c.color} flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:l.jsx(o,{className:"h-8 w-8 text-white"})}),l.jsx(yn,{variant:"secondary",className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs",children:t?c==null?void 0:c.nameAr:c==null?void 0:c.nameEn})]}),l.jsx(Ft,{className:"text-xl font-bold text-gray-900 dark:text-white",children:t?i.titleAr:i.titleEn})]}),l.jsx(vt,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center leading-relaxed",children:t?i.descriptionAr:i.descriptionEn})})]},a)})})]}),l.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:t?"  ":"Ready to Start Your Journey?"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-90",children:t?"      Nasabna   ":"Join thousands of families using Nasabna to preserve their family heritage"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(je,{asChild:!0,size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:l.jsxs(Dt,{to:"/register",children:[l.jsx(uE,{className:"mr-2 h-5 w-5"}),t?"  ":"Start Free Now"]})}),l.jsx(je,{asChild:!0,variant:"outline",size:"lg",className:"border-primary text-primary hover:bg-primary/10",children:l.jsx(Dt,{to:"/about",children:t?"  ":"Learn More About Us"})})]})]})})}),l.jsx("div",{className:"bg-white dark:bg-gray-900 py-16",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"7"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"Powerful Features"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"2"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"Supported Languages"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"100%"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?"  ":"Mobile Compatible"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:"24/hr"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"Technical Support"})]})]})})})]})},ALe="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQACWAJYAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wgALCAGQAZABAREA/8QAHAABAAMAAwEBAAAAAAAAAAAAAAYHCAEEBQMC/9oACAEBAAAAAL/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH5hcRS6afoAAAAAACE5miHDmX6ZmwAAAAAAQTI/TB3NcTsAAAAAA+OKo2Akm1fsAAAAAArHJwA1jZwAAAAADPlBgC/NBgAAAAAM7USAL20SAAAAAAp7MIA09cIAAAAADy8R9AB39ueoAAAAAAUtmrgHOlbpAAAAAAHFIZ4647Gh7v5AAAAAAB4FSRBL7b98AAAAAAAAAAAAAAAPz1nZ/QAAAAAAOI5UlcxXou9KrGtuR8gAAAAAeLnap/mA+lsaJ9oAAAAAcV1lrywAepqWxeQAAAAFYZW+AAD76ps8AAAACIY66gAA7exZeAAAAHyxvDQAATLZP0AAAAFSZbAAAaktsAAAA4x1BgAAE62JyAAAA8bDn4AAAfvcfsgAAAKyyaAAANZWaAAAApLNoAAA0ldoAAACGQcAAATiZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//EAD4QAAEDAgIECggFBAMBAAAAAAECAwQFEQAGBxIhMQgYQVBRVWFxktEiMEBCgZGhsRMUIzLBIFJignKQ4RD/2gAIAQEAAT8A/wCm5a0NoK1rSlIFypRsBit6WMmUJa2pFZaeeTsLcYF0g9GzZ9cSeEblltRDFNqLw6bJT9ziNwjcsuKAfptRZHTZKvscUTSxkyurQ1HrLTLytzckFok/HZ9cIWhxAWhSVJIuFJNwebM+6SqNkaLaQr8zUFpu1EbPpHtV0DGbtJeY84PLE2YtmIT6MRhRS2B2/wB3xwTf/wCg2xlHSXmTJ7yBCmreiX9KI+oqbI7P7fhjIWkqj55i2jq/LVBCbuxHD6Q7U9I5q0naQmMi0PWb1XKnJBTGZPJ/mewfXFTqUyr1B6dPfW/JeUVLcWbkn+umVOZSagzOgSFsSWVBSHEGxBxox0hMZ6oes5qt1OMAmSyOX/Mdh+nNEuUzBhvSpCwhllBcWo8gAucZ5zXIzjmmXVXlH8JStRhs+42P2j+fU5FzW/k7NMSqsqP4aVaj6B77Z/cP5xElMzYbMqOsLZeQFoUNxBFxzPp1rqqPo9djtL1Xag6I+zfq71fQW+Pq9BVdVWNHrUZ1es9T3VRzffq70/Q2+HM/CUlq/MUGHf0Ql10jtuB6vg1y1fmK9Dv6JS06B23I5n4SjChVaE/Y6pYcRftuD6vg1sKNUrz9vRDLaL9tyeZ+ERR1TcmRKk2m6oMka5HIlYt97er4O9HVCyZLqTibKnSTqE8qUC33vzPmGjM5hoE6kyB+nKZU2T0HkPwNsVilyqJVpVMmIKJEZwtrB7OX1NHpcqt1aLTIaCuRJcDaAO3lxl6jM5eoEGkxx+nFZS3fpI3n4m/NGm/RuutxTmWkslU6Oi0lpI2utjlA5SPthQ1TY7/60jWNhvxoQ0brokUZlqzJTOkItGaUNrTZ5SOQn7c0kAi1hjSboSTVHXq1lhtDctV1PQtyXD0o6D2YmwJdNluRZsd2O+2bKbdSUqB7v6YUCXUpbcWFHdkPuGyW20lRPwxoy0JJpbrNazO2hyWmymYW9LZ6V9J7MAAC1hzXmPJdAzWx+HV6c0+q1kugarie5Q24rfBwZUpTlDramwdzUtGsB/snyxJ4Puc2l2ZNPfHSl+33GI3B9zm6uzxp7A6VP3+wxRODgylSXK5W1OAb2oiNUH/ZXljLmS6BlRj8OkU5phVrKdI1nFd6jt5vti3N98KWhAutQSO02wuqU9s2XOjJPa6kfzhFUp7hsidGUex1J/nCVoWLoUFDsN8X5qJtjMefMt5UbJq1TZbdtcMIOu4f9RtxX+EdtU3QKPs3B6Wr66o88VbTBnerKUF1lcZB9yKkNj5jb9cSq5VpyiqVU5jxO/8AEeUf5wXFKN1KJPacBxSTdKiD2HEWuVaCoKi1OYyRu/DeUP5xSdMOd6SUhFZXJQPclJDg+Z2/XFA4R21Ldfo+zcXoivrqnzxlzPmW81tg0mpsuO2uWFnUcH+p24BvzNmXNVHypTjNq8xDCPdRvWs9CRvOM66dq1XFORKHrUyCdmuk/rLHafd+Hzw8+7IdU686txxRupa1Ek95PqWX3Y7qXWXVtuJN0rQogjuIxkrTtWqGpuJXNapwRs11H9ZA7D73x+eMtZqo+a6cJtImIfR7yNy0HoUN45jJtjSRpWp2SY6okbUl1hafQYv6LXavo7sV7MVUzLU3KhVZbkh9Z947EjoSOQetoOYqplqpt1ClS3I76D7p2KHQocoxo30rU7O0dMSTqRKwhPpsX9F3tR092Ab8w6WNKLWToRptOUlytPp2DeGEn3j29AxMmSJ0t2TKeW8+6oqW4s3KifXw5kiDLakxXlsvtKCkOINikjGifSi1nGEKbUVJbrTCdo3B9I94dvSOYNImeIuRstOTV6q5jt24rJP719PcN5xU6lLq9SfqE55T0l9ZW4tXKT7DTKlLpFSYqEF5TMlhYW2tPIRjR3niLnnLTc1GqiY1ZuUyD+xfT3HePbn324zK3nlhDTaSpajuAG840l50dzrmt+WFEQWSWoiOhAO/vO/2PRpnR3JWa2JZUTBeIalo6UE7+8b8MPtyWW3mVBbbiQpCgdhB2g+26es2mi5URR4zmrLqZKVWO1LQ/d89g+fsugXNprWVF0eS5rS6YQlNztU0f2/LaPl7YcaW8xnMekKoOpXrR4qvyrPRZOwn4m/suiTMhy5pCp7ql6seUr8q9t2WVsB+Btge15sqwoeU6rUybGPGWtP/ACtYfW2HVqddW4s3UslRPST7K0tTTqHEGykEKSegjGU6sK5lOlVMG5kRkLV/ytt+t/a9PFRMLRnIZSbKlvts94vrH7YPsoxoHqBm6M47KjdUV9xnuF9Yff2vhIyCjLVHj32OSlK+Sf8A32YY4N0gry1WI99jctKrd6f/AD2vP2juFpAYhNTZsiMmKpSk/ggHWJAG2/dji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHlji20HruoeBHljIOjuFo/jzWYU2RJTLUlSi8ANWwI2W7/+mb//2Q==",uLe=()=>{const{language:e}=ir(),t=e==="ar",r=[{icon:ns,titleAr:" ",titleEn:"Love & Respect",descriptionAr:"       ",descriptionEn:"We believe in the importance of family bonds and mutual respect between generations"},{icon:W2,titleAr:" ",titleEn:"Security & Privacy",descriptionAr:"      ",descriptionEn:"We protect your family data with the highest security and privacy standards"},{icon:ute,titleAr:" ",titleEn:"Innovation & Development",descriptionAr:"      ",descriptionEn:"We continuously develop new technologies to improve user experience"},{icon:qr,titleAr:" ",titleEn:"Trust & Transparency",descriptionAr:"         ",descriptionEn:"We build long-term relationships with our customers based on trust and transparency"}],n=[{name:" ",nameEn:"Ahmed Mohammed",role:"  ",roleEn:"Founder & CEO",bio:"        ",bioEn:"Web technology expert with a passion for preserving family heritage"},{name:" ",nameEn:"Fatima Ali",role:" ",roleEn:"Development Manager",bio:"      ",bioEn:"Developer specialized in user interfaces and interactive experience"},{name:" ",nameEn:"Mohammed Khalid",role:" ",roleEn:"Marketing Manager",bio:"      ",bioEn:"Expert in digital marketing and reaching Arabic audiences"}],s=[{year:"2024",titleAr:" ",titleEn:"Nasabna Launch",descriptionAr:"        ",descriptionEn:"Launch of the first Arabic platform specialized in interactive family trees"},{year:"2024",titleAr:" ",titleEn:"Bilingual Support",descriptionAr:"     ",descriptionEn:"Added full support for Arabic and English languages"},{year:"2024",titleAr:" ",titleEn:"Responsive Application",descriptionAr:"      ",descriptionEn:"Developed responsive application that works on all devices"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[l.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-green-600 to-blue-600 text-white",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx(cn,{className:"h-12 w-12 text-white"})})}),l.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:t?" ":"About Us"}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:t?"              ":"We are a team specialized in developing technologies that help families preserve their heritage and history for future generations"}),l.jsx(je,{asChild:!0,size:"lg",className:"bg-white text-green-600 hover:bg-gray-100",children:l.jsxs(Dt,{to:"/contact",children:[l.jsx(yl,{className:"mr-2 h-5 w-5"}),t?" ":"Contact Us"]})})]})})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:t?" Nasabna":"Discover Nasabna"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:t?"    Nasabna      ":"See how Nasabna can help you preserve your family heritage"})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden max-w-4xl mx-auto",children:l.jsxs("div",{className:"aspect-w-16 aspect-h-9 relative",children:[l.jsx("div",{className:"w-full h-full",children:l.jsxs("video",{controls:!0,className:"w-full h-full object-cover",poster:XO,children:[l.jsx("source",{src:"/videos/intro.mp4",type:"video/mp4"}),t?"    .":"Your browser does not support the video tag."]})}),l.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white bg-black/50 py-2 mx-4 rounded-lg",children:l.jsx("p",{className:"font-semibold",children:t?"   Nasabna":"Nasabna Introduction Video"})})]})}),l.jsx("div",{className:"text-center mt-8",children:l.jsx(je,{asChild:!0,size:"lg",children:l.jsxs(Dt,{to:"/features",children:[t?"  ":"Discover All Features",l.jsx(Eo,{className:`mr-2 h-5 w-5 ${t?"rotate-180":""}`})]})})})]}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs(gt,{className:"border-0 shadow-xl",children:[l.jsxs(St,{className:"text-center pb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(yte,{className:"h-8 w-8 text-white"})}),l.jsx(Ft,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t?"":"Our Mission"})]}),l.jsx(vt,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center leading-relaxed text-lg",children:t?"                          .":"Helping Arabic families preserve their heritage and history through an easy-to-use and secure technology platform that enables them to create beautiful and comprehensive interactive family trees that transfer knowledge and memories across generations."})})]}),l.jsxs(gt,{className:"border-0 shadow-xl",children:[l.jsxs(St,{className:"text-center pb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(vte,{className:"h-8 w-8 text-white"})}),l.jsx(Ft,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t?"":"Our Vision"})]}),l.jsx(vt,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center leading-relaxed text-lg",children:t?"                     .":"To become the leading platform in the Arab world for preserving family heritage, and contribute to strengthening family bonds and reviving values of authenticity and belonging in Arab communities."})})]})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-900 py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:t?"":"Our Values"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:t?"        ":"The values we believe in and that guide our work in serving our customers"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((i,a)=>{const o=i.icon;return l.jsxs(gt,{className:"text-center border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[l.jsxs(St,{children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(o,{className:"h-8 w-8 text-white"})}),l.jsx(Ft,{className:"text-xl font-bold text-gray-900 dark:text-white",children:t?i.titleAr:i.titleEn})]}),l.jsx(vt,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t?i.descriptionAr:i.descriptionEn})})]},a)})})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:t?" ":"Our Team"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:t?"      ":"A specialized and passionate team dedicated to providing the best services to our customers"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((i,a)=>l.jsxs(gt,{className:"text-center border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[l.jsxs(St,{children:[l.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden bg-gray-200",children:l.jsx("img",{src:ALe,alt:t?i.name:i.nameEn,className:"w-full h-full object-cover"})}),l.jsx(Ft,{className:"text-xl font-bold text-gray-900 dark:text-white",children:t?i.name:i.nameEn}),l.jsx(yn,{variant:"secondary",className:"mx-auto",children:t?i.role:i.roleEn})]}),l.jsx(vt,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t?i.bio:i.bioEn})})]},a))})]}),l.jsx("div",{className:"bg-white dark:bg-gray-900 py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:t?"":"Our Journey"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:t?"    ":"Important milestones in developing Nasabna"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-green-500 to-blue-500"}),l.jsx("div",{className:"space-y-12",children:s.map((i,a)=>l.jsxs("div",{className:`flex items-center ${a%2===0?"flex-row":"flex-row-reverse"}`,children:[l.jsx("div",{className:`w-1/2 ${a%2===0?"pr-8 text-right":"pl-8 text-left"}`,children:l.jsxs(gt,{className:"border-0 shadow-lg",children:[l.jsx(St,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yn,{variant:"default",className:"bg-gradient-to-r from-green-500 to-blue-500",children:i.year}),l.jsx(Ft,{className:"text-lg font-bold text-gray-900 dark:text-white",children:t?i.titleAr:i.titleEn})]})}),l.jsx(vt,{children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t?i.descriptionAr:i.descriptionEn})})]})}),l.jsx("div",{className:"relative z-10",children:l.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-green-500 to-blue-500 rounded-full border-4 border-white dark:border-gray-900"})}),l.jsx("div",{className:"w-1/2"})]},a))})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[l.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"1000+"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"Registered Families"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[l.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"5000+"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"People Added"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[l.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"2"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"Supported Languages"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[l.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:"24/7"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:t?" ":"Technical Support"})]})]})}),l.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:t?"   Nasabna":"Join the Nasabna Family"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-90",children:t?"      ":"Start your journey in preserving your family heritage today"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(je,{asChild:!0,size:"lg",className:"bg-white text-green-600 hover:bg-gray-100",children:l.jsxs(Dt,{to:"/register",children:[l.jsx(uE,{className:"mr-2 h-5 w-5"}),t?" ":"Start Free"]})}),l.jsx(je,{asChild:!0,variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-green-600",children:l.jsxs(Dt,{to:"/features",children:[t?" ":"Discover Features",l.jsx(Eo,{className:"ml-2 h-5 w-5"})]})})]})]})})})]})},fLe="/assets/contacts-BSvnWvjy.png",dLe=()=>{const{language:e}=ir(),t=e==="ar",[r,n]=re.useState({name:"",email:"",subject:"",message:""}),[s,i]=re.useState(!1),[a,o]=re.useState(!1),[c,u]=re.useState(""),A=h=>{const{name:g,value:p}=h.target;n(m=>({...m,[g]:p}))},f=async h=>{h.preventDefault(),i(!0),u("");try{await new Promise(g=>setTimeout(g,1500)),n({name:"",email:"",subject:"",message:""}),o(!0),setTimeout(()=>o(!1),5e3)}catch{u(t?"    .    .":"An error occurred while sending the message. Please try again.")}finally{i(!1)}},d=[{icon:ga,title:t?"":"Our Address",titleAr:"",content:t?"123      ":"123 Family Street, Riyadh, Saudi Arabia",contentAr:"123      "},{icon:Sd,title:t?" ":"Call Us",titleAr:" ",content:"+966 11 123 4567",contentAr:"+966 11 123 4567"},{icon:yl,title:t?" ":"Email Us",titleAr:" ",content:"support@nasabna.com",contentAr:"support@nasabna.com"},{icon:z2,title:t?" ":"Working Hours",titleAr:" ",content:t?" - : 8  - 5 ":"Sunday - Thursday: 8AM - 5PM",contentAr:" - : 8  - 5 "}];return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-primary/10 via-primary/5 to-background overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:t?" ":"Contact Us"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:t?"         Nasabna  .":"Have questions or need assistance? The Nasabna support team is here to help."})]})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:t?"  ":"Get In Touch"}),l.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:t?"   .         .":"We appreciate your feedback and inquiries. Feel free to reach out to us through any of the following methods."}),l.jsx("div",{className:"space-y-6",children:d.map((h,g)=>l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:l.jsx(h.icon,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:t?h.titleAr:h.title}),l.jsx("p",{className:"text-muted-foreground",children:t?h.contentAr:h.content})]})]},g))}),l.jsx("div",{className:"mt-12",children:l.jsx("img",{src:fLe,alt:t?" ":"Contact Us",className:"rounded-lg shadow-lg w-full max-w-md mx-auto"})})]}),l.jsx("div",{children:l.jsxs(gt,{children:[l.jsxs(St,{children:[l.jsx(Ft,{className:"text-2xl",children:t?"  ":"Send Us a Message"}),l.jsx(Ds,{children:t?"         .":"Fill out the form below and we'll get back to you as soon as possible."})]}),l.jsx(vt,{children:a?l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(n8,{className:"h-6 w-6 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:t?"   !":"Message Sent Successfully!"}),l.jsx("p",{className:"text-green-700",children:t?"  .    .":"Thank you for contacting us. We'll get back to you soon."})]}):l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-red-700 text-center",children:c})}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:[t?" ":"Full Name"," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ur,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(or,{id:"name",name:"name",value:r.name,onChange:A,placeholder:t?"  ":"Enter your full name",className:"pl-10",required:!0,disabled:s})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:[t?" ":"Email Address"," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(yl,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(or,{id:"email",name:"email",type:"email",value:r.email,onChange:A,placeholder:t?"  ":"Enter your email address",className:"pl-10",required:!0,disabled:s})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"subject",className:"block text-sm font-medium text-foreground mb-2",children:[t?"":"Subject"," *"]}),l.jsx(or,{id:"subject",name:"subject",value:r.subject,onChange:A,placeholder:t?"  ":"Enter your message subject",required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-foreground mb-2",children:[t?"":"Message"," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx(hte,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(Ah,{id:"message",name:"message",value:r.message,onChange:A,placeholder:t?"  ...":"Write your message here...",rows:5,className:"pl-10",required:!0,disabled:s})]})]}),l.jsx(je,{type:"submit",className:"w-full flex items-center justify-center",disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?" ...":"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(n8,{className:`h-4 w-4 ${t?"ml-2":"mr-2"}`}),t?" ":"Send Message"]})})]})})]})})]})})}),l.jsx("section",{className:"py-16 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:t?" ":"Frequently Asked Questions"}),l.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:t?"      .":"Here are some frequently asked questions that might help you."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-lg",children:t?"      ":"How long does it take to reply to my message?"})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:t?"       24  .":"We typically respond to all messages within 24 business hours."})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-lg",children:t?"      ":"Can I get support in Arabic?"})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:t?"       .":"Yes, our support team is fluent in both Arabic and English."})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-lg",children:t?"   ":"Do you offer technical support?"})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:t?"         .":"Yes, we have a dedicated technical support team to help with technical issues."})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-lg",children:t?"      ":"How can I report a website issue?"})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:t?"           .":"You can send details of the issue through this contact form, and we'll investigate it immediately."})})]})]})]})})]})},hLe=()=>{const{language:e}=ir(),t=e==="ar",r={title:t?" ":"Privacy Policy",lastUpdated:t?" : 1  2024":"Last updated: January 1, 2024",introduction:{title:t?"":"Introduction",content:t?" Nasabna      .":"At Nasabna, we are committed to protecting your privacy and personal information."},informationCollection:{title:t?"  ":"Information We Collect",personalInfo:{title:t?" ":"Personal Information",content:t?"        (  )    ":"Full name and email address, Contact information (address, phone number), Account information and user identifiers"},familyTreeInfo:{title:t?"  ":"Family Tree Information",content:t?"           ":"Names and dates of family members, Uploaded photos and documents, Family relationships and lineage"},technicalInfo:{title:t?" ":"Technical Information",content:t?" IP           ":"IP address and browser type, Usage data and activity logs, Cookies and device identifiers"}},informationUse:{title:t?"  ":"How We Use Your Information",content:t?"                   ":"Provide and improve our services, Create and manage your account, Process payments and subscriptions, Send updates and important notifications, Ensure security and prevent fraud, Comply with legal requirements"},informationSharing:{title:t?" ":"Information Sharing",intro:t?"           .      :":"We do not sell, rent, or trade your personal information to third parties. We may share your information in the following cases:",points:t?[" ","   ","  ","   "]:["With your explicit consent","With trusted service providers","To comply with laws and regulations","To protect our rights and user safety"]},dataSecurity:{title:t?" ":"Data Security",content:t?"       :":"We use advanced security measures to protect your personal information:",measures:t?[" SSL/TLS  ","    ","    24 ","    ","  "]:["SSL/TLS encryption for data transmission","Advanced server and infrastructure protection","24/7 security monitoring","Regular secure backups","Strict access controls"]},yourRights:{title:t?"":"Your Rights",content:t?"      :":"You have the following rights regarding your personal information:",rights:t?["   ","   ","  ","  ","  ","  "]:["Access your personal information","Correct or update information","Delete your account and information","Restrict data processing","Data portability","Object to processing"]},contact:{title:t?" ":"Contact Us",content:t?"           :":"If you have any questions about this Privacy Policy, please contact us:",email:"privacy@nasabna.com",address:t?"123     ":"123 Nasabna St, Cultural District, Egypt",phone:"+20 123 456 7890"}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-primary/10 via-primary/5 to-background overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:r.title}),l.jsx("p",{className:"text-xl text-muted-foreground",children:r.lastUpdated})]})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-2xl",children:r.introduction.title})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:r.introduction.content})})]}),l.jsxs("div",{className:"mt-8 space-y-8",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.informationCollection.title})}),l.jsx(vt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.informationCollection.personalInfo.title}),l.jsx("p",{className:"text-muted-foreground",children:r.informationCollection.personalInfo.content})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.informationCollection.familyTreeInfo.title}),l.jsx("p",{className:"text-muted-foreground",children:r.informationCollection.familyTreeInfo.content})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.informationCollection.technicalInfo.title}),l.jsx("p",{className:"text-muted-foreground",children:r.informationCollection.technicalInfo.content})]})]})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.informationUse.title})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:r.informationUse.content})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.informationSharing.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.informationSharing.intro}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.informationSharing.points.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.dataSecurity.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.dataSecurity.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.dataSecurity.measures.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.yourRights.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.yourRights.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.yourRights.rights.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.contact.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.contact.content}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:t?" :":"Email:"})," ",r.contact.email]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:t?":":"Address:"})," ",r.contact.address]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:t?":":"Phone:"})," ",r.contact.phone]})]})]})]})]})]})})})]})},mLe=()=>{const{language:e}=ir(),t=e==="ar",r={title:t?" ":"Terms of Service",lastUpdated:t?" : 1  2024":"Last updated: January 1, 2024",welcome:{title:t?"   Nasabna":"Welcome to Nasabna",content:t?"       .":"These terms govern your use of our family tree platform."},acceptance:{title:t?" ":"Acceptance of Terms",content:t?"  Nasabna       .            .":"By using the Nasabna platform, you agree to be bound by these Terms and Conditions. If you do not agree to any of these terms, please do not use our services.",requirements:t?["     13   ","    ","      "]:["You must be 13 years or older to use the service","You must provide accurate and current information","You are responsible for maintaining account confidentiality"]},serviceDescription:{title:t?" ":"Description of Services",content:t?"Nasabna           .  :":"Nasabna is a digital platform for creating and managing family trees and preserving family heritage. Our services include:",services:t?["    ","   ","  ","  ","   "]:["Interactive family tree creation tools","Digital photo and document storage","Collaboration and sharing tools","Search and discovery features","Data export and report generation"]},userAccounts:{title:t?" ":"User Accounts",creation:{title:t?" ":"Account Creation",content:t?"                   ":"You must provide accurate and current information, You are responsible for all activities under your account, You must notify us immediately of any unauthorized use"},security:{title:t?" ":"Account Security",content:t?"              ":"Choose a strong and unique password, Do not share login credentials, Enable two-factor authentication when available"}},userContent:{title:t?" ":"User Content",content:t?"               .":"You retain ownership of content you create or upload to the platform, but you grant us a license to use it to provide the service.",guidelines:t?["       ","      ","  ","     "]:["Ensure you have the right to upload content","Do not upload offensive or illegal content","Respect others' privacy","We reserve the right to remove violating content"]},prohibitedUses:{title:t?" ":"Prohibited Uses",content:t?"      :":"You may not use our platform for the following purposes:",prohibitions:t?["     ","    ","    ","    ","   "]:["Violating any local or international laws","Harassment, bullying, or threatening","Publishing false or misleading content","Attempting to hack or disrupt the system","Violating intellectual property rights"]},termination:{title:t?"":"Termination",content:t?"        .          .":"Either party may terminate this agreement at any time. We reserve the right to suspend or terminate your account for violations of these terms.",details:t?["     ","        ","    "]:["You may delete your account at any time","We will provide notice before account termination when possible","You may export your data before deletion"]},limitationOfLiability:{title:t?" ":"Limitation of Liability",content:t?'  " "       .        .':'We provide our services "as is" and make no express or implied warranties. Our liability is limited to the maximum extent permitted by law.',details:t?["    ","    ","    "]:["We do not guarantee continuous service availability","We are not responsible for data loss","We recommend regular backups"]},changes:{title:t?"  ":"Changes to Terms",content:t?"        .            .":"We reserve the right to modify these terms at any time. We will notify you of any material changes via email or through the platform."},contact:{title:t?" ":"Contact Information",content:t?"          :":"If you have any questions about these Terms of Service, please contact us:",email:"legal@nasabna.com",address:t?"123     ":"123 Nasabna St, Cultural District, Egypt",phone:"+20 123 456 7890"}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-primary/10 via-primary/5 to-background overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:r.title}),l.jsx("p",{className:"text-xl text-muted-foreground",children:r.lastUpdated})]})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-2xl",children:r.welcome.title})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:r.welcome.content})})]}),l.jsxs("div",{className:"mt-8 space-y-8",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.acceptance.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.acceptance.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.acceptance.requirements.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.serviceDescription.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.serviceDescription.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.serviceDescription.services.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.userAccounts.title})}),l.jsx(vt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.userAccounts.creation.title}),l.jsx("p",{className:"text-muted-foreground",children:r.userAccounts.creation.content})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.userAccounts.security.title}),l.jsx("p",{className:"text-muted-foreground",children:r.userAccounts.security.content})]})]})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.userContent.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.userContent.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.userContent.guidelines.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.prohibitedUses.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.prohibitedUses.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.prohibitedUses.prohibitions.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.termination.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.termination.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.termination.details.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.limitationOfLiability.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.limitationOfLiability.content}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:r.limitationOfLiability.details.map((n,s)=>l.jsx("li",{children:n},s))})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.changes.title})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:r.changes.content})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:r.contact.title})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:r.contact.content}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:t?" :":"Email:"})," ",r.contact.email]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:t?":":"Address:"})," ",r.contact.address]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:t?":":"Phone:"})," ",r.contact.phone]})]})]})]})]})]})})})]})},J6=re.createContext(void 0),pLe=({value:e,onValueChange:t,children:r,className:n})=>l.jsx(J6.Provider,{value:{value:e,onValueChange:t},children:l.jsx("div",{className:Ka("w-full",n),children:r})}),gLe=({children:e,className:t})=>l.jsx("div",{className:Ka("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),children:e}),y0=({value:e,children:t,className:r})=>{const n=re.useContext(J6);if(!n)throw new Error("TabsTrigger must be used within Tabs");const{value:s,onValueChange:i}=n,a=s===e;return l.jsx("button",{className:Ka("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a?"bg-background text-foreground shadow-sm":"hover:bg-background/50",r),onClick:()=>i(e),children:t})},w0=({value:e,children:t,className:r})=>{const n=re.useContext(J6);if(!n)throw new Error("TabsContent must be used within Tabs");const{value:s}=n;return s!==e?null:l.jsx("div",{className:Ka("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),children:t})},xLe=()=>{const e=ls(),{language:t}=ir(),{user:r}=os(),n=(Q,K)=>t==="ar"?Q:K,[s,i]=re.useState({isOpen:!1,message:""}),[a,o]=re.useState("overview"),[c,u]=re.useState({userCount:0,totalTrees:0,privateTrees:0,publicTrees:0,personCount:0,totalSubscriptions:0,activeSubscriptions:0,recentUsers:[],recentTrees:[],monthlyRevenue:0,growthRate:0}),[A,f]=re.useState([]),[d,h]=re.useState([]),[g,p]=re.useState([]),[m,x]=re.useState(!0),[v,y]=re.useState(""),[w,S]=re.useState("all"),T=Q=>{i({...Q,isOpen:!0})},j=()=>{i(Q=>({...Q,isOpen:!1}))},I=()=>{s.onConfirm&&s.onConfirm(),j()};re.useEffect(()=>{B()},[]);const B=async()=>{x(!0);try{await Promise.all([N(),k(),E()]),await C()}catch(Q){console.error("Error fetching admin data:",Q)}finally{x(!1)}},C=async()=>{try{const[Q,K,O,z,G]=await Promise.all([dr.getUserCount(),dr.getTotalTreeCount(),dr.getPrivateTreeCount(),dr.getPublicTreeCount(),dr.getPersonCount()]);u(F=>{const P=F.monthlyRevenue,L=F.growthRate,q=F.activeSubscriptions,X=F.totalSubscriptions;return{...F,userCount:(Q==null?void 0:Q.count)??Q??0,totalTrees:(K==null?void 0:K.count)??K??0,privateTrees:(O==null?void 0:O.count)??O??0,publicTrees:(z==null?void 0:z.count)??z??0,personCount:(G==null?void 0:G.count)??G??0,monthlyRevenue:P,growthRate:L,activeSubscriptions:q,totalSubscriptions:X}})}catch(Q){console.error("Error fetching stats:",Q)}},N=async()=>{x(!0);try{const Q=await dr.getAllUsers(),O=(Array.isArray(Q)?Q:(Q==null?void 0:Q.data)||[]).map(G=>{var F,P,L,q,X,se,ae,W;return{id:G.id||G.Id||"",firstName:G.firstName||G.FirstName||G.userName||G.UserName||"Unknown",lastName:G.lastName||G.LastName||"",email:G.email||G.Email||`${G.firstName||G.userName||"user"}@example.com`,gender:G.gender||G.Gender||"other",role:G.role||G.Role||"user",subscription:{plan:((F=G.subscription)==null?void 0:F.plan)||((P=G.Subscription)==null?void 0:P.Plan)||G.plan||"basic",status:((L=G.subscription)==null?void 0:L.status)||((q=G.Subscription)==null?void 0:q.Status)||G.status||"active",currentPeriodStart:((X=G.subscription)==null?void 0:X.currentPeriodStart)||((se=G.Subscription)==null?void 0:se.CurrentPeriodStart)||new Date().toISOString(),currentPeriodEnd:((ae=G.subscription)==null?void 0:ae.currentPeriodEnd)||((W=G.Subscription)==null?void 0:W.CurrentPeriodEnd)||new Date(Date.now()+30*24*60*60*1e3).toISOString()},createdAt:G.createdAt||G.CreatedAt||G.created||new Date().toISOString(),lastLogin:G.lastLogin||G.LastLogin||void 0,isActive:G.isActive!==void 0?G.isActive:!0}});f(O);const z=(Q==null?void 0:Q.count)??O.length;u(G=>({...G,userCount:z,recentUsers:O.slice(0,5)}))}catch(Q){console.error("Error fetching users:",Q),f([]),u(K=>({...K,userCount:0,recentUsers:[]}))}finally{x(!1)}},k=async()=>{try{const Q=await dr.getAdminTrees(),O=(Array.isArray(Q)?Q:(Q==null?void 0:Q.data)||[]).map(z=>{let G={id:"",firstName:"Unknown",lastName:"User",email:"unknown@example.com"};if(z.owner||z.Owner){const P=z.owner||z.Owner;G={id:P.id||P.Id||"",firstName:P.firstName||P.FirstName||P.name||"Unknown",lastName:P.lastName||P.LastName||"",email:P.email||P.Email||`${P.firstName||P.name||"unknown"}@example.com`}}else if(z.ownerId||z.OwnerId){const P=z.ownerId||z.OwnerId;G={id:"",firstName:P,lastName:"",email:`${P}@example.com`}}let F=0;return z.members&&Array.isArray(z.members)?F=z.members.length:F=z.personCount||z.totalPeople||z.PersonCount||0,{id:z.id||z.Id||"",name:z.name||z.Name||"Unnamed Tree",owner:G,personCount:F,isPrivate:z.isPrivate||z.IsPrivate||!1,createdAt:z.createdAt||z.CreatedAt||new Date().toISOString(),lastModified:z.lastModified||z.updatedAt||new Date().toISOString()}});h(O),u(z=>({...z,recentTrees:O.slice(0,5)}))}catch(Q){console.error("Error fetching trees:",Q),h([])}},E=async()=>{try{const Q=await dr.getAllSubscriptions(),O=(Array.isArray(Q)?Q:(Q==null?void 0:Q.data)||[]).map(P=>({id:P.id||P.Id||"",userId:P.userId||P.UserId||"",plan:P.plan||P.Plan||"basic",status:P.status||P.Status||"active",currentPeriodStart:P.currentPeriodStart||P.CurrentPeriodStart||new Date().toISOString(),currentPeriodEnd:P.currentPeriodEnd||P.CurrentPeriodEnd||new Date(Date.now()+30*24*60*60*1e3).toISOString(),amount:P.amount||9.99,currency:P.currency||"USD"}));p(O);const z=O.filter(P=>P.status==="active"),G=z.reduce((P,L)=>P+(L.amount||0),0),F=O.length>0?Math.round(z.length/O.length*1e3)/10:0;u(P=>({...P,totalSubscriptions:O.length,activeSubscriptions:z.length,monthlyRevenue:G,growthRate:F}))}catch(Q){console.error("Error fetching subscriptions:",Q),u(K=>({...K,totalSubscriptions:0,activeSubscriptions:0,monthlyRevenue:0,growthRate:0})),p([])}},U=A.filter(Q=>{const K=`${Q.firstName} ${Q.lastName} ${Q.email}`.toLowerCase().includes(v.toLowerCase()),O=w==="all"||Q.subscription.status===w;return K&&O}),D=d.filter(Q=>`${Q.name} ${Q.owner.firstName} ${Q.owner.lastName}`.toLowerCase().includes(v.toLowerCase())),M=g.filter(Q=>{const K=`${Q.id} ${Q.userId}`.toLowerCase().includes(v.toLowerCase()),O=w==="all"||Q.status===w;return K&&O});return m?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t==="ar"?"   ...":"Loading Admin Dashboard..."}),l.jsx("p",{className:"text-muted-foreground",children:t==="ar"?" ":"Please wait"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(RS,{isOpen:s.isOpen,onClose:j,onConfirm:I,title:s.title,message:s.message,confirmText:s.confirmText,cancelText:s.cancelText,variant:s.variant}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:t==="ar"?"  ":"Admin Dashboard"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:t==="ar"?"  ":"Comprehensive system management"})]}),l.jsxs(je,{onClick:B,className:"w-full sm:w-auto",children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),t==="ar"?" ":"Refresh Data"]})]}),l.jsxs(pLe,{value:a,onValueChange:o,className:"w-full",children:[l.jsxs(gLe,{className:"grid w-full grid-cols-5",children:[l.jsxs(y0,{value:"overview",className:"flex items-center gap-2",children:[l.jsx(ete,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:t==="ar"?" ":"Overview"})]}),l.jsxs(y0,{value:"users",className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:t==="ar"?"":"Users"})]}),l.jsxs(y0,{value:"trees",className:"flex items-center gap-2",children:[l.jsx(cn,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:t==="ar"?"":"Trees"})]}),l.jsxs(y0,{value:"subscriptions",className:"flex items-center gap-2",children:[l.jsx(Bm,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:t==="ar"?"":"Subscriptions"})]}),l.jsxs(y0,{value:"limits",className:"flex items-center gap-2",children:[l.jsx(fo,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:t==="ar"?"":"Limits"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx(w0,{value:"overview",children:l.jsx(vLe,{stats:c,language:t,navigate:e})}),l.jsx(w0,{value:"users",children:l.jsx(yLe,{users:U,searchQuery:v,setSearchQuery:y,filterStatus:w,setFilterStatus:S,language:t,onRefresh:N,openConfirmDialog:T,t:n})}),l.jsx(w0,{value:"trees",children:l.jsx(wLe,{trees:D,searchQuery:v,setSearchQuery:y,language:t,navigate:e,onRefresh:k,openConfirmDialog:T,t:n})}),l.jsx(w0,{value:"subscriptions",children:l.jsx(bLe,{subscriptions:M,searchQuery:v,setSearchQuery:y,filterStatus:w,setFilterStatus:S,language:t,onRefresh:E})}),l.jsx(w0,{value:"limits",children:l.jsx(BLe,{users:A,language:t,onRefresh:B})})]})]})]})},vLe=({stats:e,language:t,navigate:r})=>{const n=[{title:t==="ar"?" ":"Total Users",value:e.userCount.toLocaleString(),icon:qr,color:"bg-primary",change:`+${e.growthRate.toFixed(1)}%`,changeType:"positive"},{title:t==="ar"?" ":"Total Trees",value:e.totalTrees.toLocaleString(),icon:cn,color:"bg-green-500",change:`+${e.growthRate.toFixed(1)}%`,changeType:"positive"},{title:t==="ar"?" ":"Active Subscriptions",value:e.activeSubscriptions.toLocaleString(),icon:Bm,color:"bg-purple-500",change:`+${e.growthRate.toFixed(1)}%`,changeType:"positive"},{title:t==="ar"?" ":"Monthly Revenue",value:`$${e.monthlyRevenue.toLocaleString()}`,icon:ite,color:"bg-emerald-500",change:`+${(e.growthRate*1.5).toFixed(1)}%`,changeType:"positive"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((s,i)=>{const a=s.icon;return l.jsx(gt,{className:"relative overflow-hidden",children:l.jsx(vt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:s.title}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(ux,{className:"h-4 w-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:s.change})]})]}),l.jsx("div",{className:`p-3 rounded-full ${s.color}`,children:l.jsx(a,{className:"h-6 w-6 text-white"})})]})})},`stat-${i}`)})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-5 w-5"}),t==="ar"?" ":"Recent Users"]})}),l.jsx(vt,{children:l.jsx("div",{className:"space-y-4",children:e.recentUsers.slice(0,5).map(s=>{var i,a;return l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsxs("span",{className:"text-primary font-medium text-sm",children:[(i=s.firstName)==null?void 0:i.charAt(0),(a=s.lastName)==null?void 0:a.charAt(0)]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-medium text-sm truncate text-foreground",children:[s.firstName," ",s.lastName]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.email})]}),l.jsx(yn,{variant:"outline",className:"text-xs",children:s.subscription.plan})]},s.id)})})})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(cn,{className:"h-5 w-5"}),t==="ar"?" ":"Recent Trees"]})}),l.jsx(vt,{children:l.jsx("div",{className:"space-y-4",children:e.recentTrees.slice(0,5).map(s=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:l.jsx(cn,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate text-foreground",children:s.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.personCount," ",t==="ar"?"":"people"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s.isPrivate?l.jsx(fo,{className:"h-4 w-4 text-gray-400"}):l.jsx(pc,{className:"h-4 w-4 text-gray-400"}),l.jsx(je,{variant:"ghost",size:"sm",onClick:()=>r(`/trees/${s.id}`),children:l.jsx(Mo,{className:"h-4 w-4"})})]})]},s.id))})})]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(fo,{className:"h-5 w-5"}),t==="ar"?"  ":"New Limitation Status"]})}),l.jsx(vt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:t==="ar"?"      API.          10   .":"The system now fetches user limits from the API. Users without a subscription plan can create one tree and 10 people per tree."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-primary-foreground mb-2",children:t==="ar"?" ":"Default Limits"}),l.jsxs("ul",{className:"text-sm text-primary-foreground space-y-1",children:[l.jsxs("li",{children:[" ",t==="ar"?"  ":"One tree only"]}),l.jsxs("li",{children:[" ",t==="ar"?"10   ":"10 people per tree"]}),l.jsxs("li",{children:[" ",t==="ar"?" ":"No photos"]}),l.jsxs("li",{children:[" ",t==="ar"?" ":"No sharing"]})]})]}),l.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-green-900 mb-2",children:t==="ar"?" ":"Subscriber Limits"}),l.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[l.jsxs("li",{children:[" ",t==="ar"?"    API":"Limits fetched from API"]}),l.jsxs("li",{children:[" ",t==="ar"?"   ":"Limits updated automatically"]}),l.jsxs("li",{children:[" ",t==="ar"?"   ":"Flexible limits based on plan"]})]})]})]})]})})]})]})},yLe=({users:e,searchQuery:t,setSearchQuery:r,filterStatus:n,setFilterStatus:s,language:i,onRefresh:a,openConfirmDialog:o,t:c})=>{const{showSuccess:u,showError:A}=ir(),f=async(d,h)=>{const g=i==="ar"?" ":"Confirm Deletion",p=i==="ar"?`       "${h}"      .`:`Are you sure you want to delete the user "${h}"? This action cannot be undone.`;o({title:g,message:p,confirmText:i==="ar"?"":"Delete",cancelText:i==="ar"?"":"Cancel",variant:"destructive",onConfirm:async()=>{try{await hn.deleteUser(d),a(),u(i==="ar"?"  ":"User Deleted",i==="ar"?"   ":"User deleted successfully")}catch(m){console.error("Error deleting user:",m),A(i==="ar"?"   ":"Failed to Delete User",i==="ar"?"   .    .":"Failed to delete user. Please try again.")}}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:i==="ar"?" ":"User Management"}),l.jsx("p",{className:"text-muted-foreground",children:i==="ar"?"    ":"Manage all users in the system"})]}),l.jsxs(je,{onClick:a,className:"w-full sm:w-auto",children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),i==="ar"?"":"Refresh"]})]}),l.jsx(gt,{children:l.jsx(vt,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(or,{placeholder:i==="ar"?"  ...":"Search users...",value:t,onChange:d=>r(d.target.value),className:"pl-10"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:n,onChange:d=>s(d.target.value),className:"px-3 py-2 border border-input rounded-md text-sm bg-background text-foreground",children:[l.jsx("option",{value:"all",children:i==="ar"?" ":"All Status"}),l.jsx("option",{value:"active",children:i==="ar"?"":"Active"}),l.jsx("option",{value:"cancelled",children:i==="ar"?"":"Cancelled"}),l.jsx("option",{value:"past_due",children:i==="ar"?"":"Past Due"})]}),l.jsxs(je,{variant:"outline",size:"sm",children:[l.jsx(AE,{className:"h-4 w-4 mr-2"}),i==="ar"?"":"Export"]})]})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(d=>l.jsx(gt,{className:"hover:shadow-md transition-shadow",children:l.jsxs(vt,{className:"p-4",children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:d.gender==="male"?l.jsx(ul,{className:"h-6 w-6 text-primary"}):l.jsx(VO,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-foreground",children:[d.firstName," ",d.lastName]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:d.email})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:i==="ar"?":":"Role:"}),l.jsx(yn,{variant:d.role==="admin"?"default":"secondary",children:d.role==="admin"?i==="ar"?"":"Admin":i==="ar"?"":"User"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:i==="ar"?":":"Subscription:"}),l.jsx(yn,{variant:d.subscription.status==="active"?"default":"outline",className:"capitalize",children:d.subscription.plan})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:i==="ar"?" :":"Joined:"}),l.jsx("span",{className:"text-sm text-foreground",children:new Date(d.createdAt).toLocaleDateString()})]})]}),l.jsx("div",{className:"flex gap-2 mt-4",children:l.jsxs(je,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>f(d.email,`${d.firstName} ${d.lastName}`),children:[l.jsx(wl,{className:"h-4 w-4 mr-1"}),i==="ar"?"":"Delete"]})})]})},d.id))}),e.length===0&&l.jsx(gt,{children:l.jsxs(vt,{className:"p-8 text-center",children:[l.jsx(qr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:i==="ar"?"  ":"No users found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:i==="ar"?"      ":"There are no users in the system yet"}),l.jsxs(je,{onClick:a,children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),i==="ar"?"":"Refresh"]})]})})]})},wLe=({trees:e,searchQuery:t,setSearchQuery:r,language:n,navigate:s,onRefresh:i,openConfirmDialog:a,t:o})=>{const{showSuccess:c,showError:u}=ir(),A=async(f,d)=>{const h=n==="ar"?" ":"Confirm Deletion",g=n==="ar"?`       "${d}"      .`:`Are you sure you want to delete the tree "${d}"? This action cannot be undone.`;a({title:h,message:g,confirmText:n==="ar"?"":"Delete",cancelText:n==="ar"?"":"Cancel",variant:"destructive",onConfirm:async()=>{try{const p=parseInt(f);if(isNaN(p))throw new Error("Invalid tree ID");await Ht.deleteTree(p),i(),c(n==="ar"?"  ":"Tree Deleted",n==="ar"?"   ":"Tree deleted successfully")}catch(p){console.error("Error deleting tree:",p),u(n==="ar"?"   ":"Failed to Delete Tree",n==="ar"?"   .    .":"Failed to delete tree. Please try again.")}}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:n==="ar"?" ":"Tree Management"}),l.jsx("p",{className:"text-muted-foreground",children:n==="ar"?"     ":"Manage all family trees in the system"})]}),l.jsxs(je,{onClick:i,className:"w-full sm:w-auto",children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),n==="ar"?"":"Refresh"]})]}),l.jsx(gt,{children:l.jsx(vt,{className:"p-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(or,{placeholder:n==="ar"?"  ...":"Search trees...",value:t,onChange:f=>r(f.target.value),className:"pl-10"})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>l.jsx(gt,{className:"hover:shadow-md transition-shadow",children:l.jsxs(vt,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:l.jsx(cn,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-foreground truncate",children:f.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.owner.firstName," ",f.owner.lastName]})]})]}),l.jsx("div",{className:"flex items-center gap-1",children:f.isPrivate?l.jsx(fo,{className:"h-4 w-4 text-gray-400"}):l.jsx(pc,{className:"h-4 w-4 text-gray-400"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?" :":"People Count:"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.personCount})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?":":"Type:"}),l.jsx(yn,{variant:f.isPrivate?"default":"secondary",children:f.isPrivate?n==="ar"?"":"Private":n==="ar"?"":"Public"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?" :":"Created:"}),l.jsx("span",{className:"text-sm text-gray-900",children:new Date(f.createdAt).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs(je,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>s(`/trees/${f.id}`),children:[l.jsx(Mo,{className:"h-4 w-4 mr-1"}),n==="ar"?"":"View"]}),l.jsxs(je,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>A(f.id,f.name),children:[l.jsx(wl,{className:"h-4 w-4 mr-1"}),n==="ar"?"":"Delete"]})]})]})},f.id))}),e.length===0&&l.jsx(gt,{children:l.jsxs(vt,{className:"p-8 text-center",children:[l.jsx(cn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n==="ar"?"  ":"No trees found"}),l.jsx("p",{className:"text-gray-600",children:o("      ","No trees match your search criteria")})]})})]})},bLe=({subscriptions:e,searchQuery:t,setSearchQuery:r,filterStatus:n,setFilterStatus:s,language:i,onRefresh:a})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:i==="ar"?" ":"Subscription Management"}),l.jsx("p",{className:"text-muted-foreground",children:i==="ar"?"    ":"Manage all subscriptions in the system"})]}),l.jsxs(je,{onClick:a,className:"w-full sm:w-auto",children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),i==="ar"?"":"Refresh"]})]}),l.jsx(gt,{children:l.jsx(vt,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(or,{placeholder:i==="ar"?"  ...":"Search subscriptions...",value:t,onChange:o=>r(o.target.value),className:"pl-10"})]})}),l.jsxs("select",{value:n,onChange:o=>s(o.target.value),className:"px-3 py-2 border border-input rounded-md text-sm bg-background text-foreground",children:[l.jsx("option",{value:"all",children:i==="ar"?" ":"All Status"}),l.jsx("option",{value:"active",children:i==="ar"?"":"Active"}),l.jsx("option",{value:"cancelled",children:i==="ar"?"":"Cancelled"}),l.jsx("option",{value:"past_due",children:i==="ar"?"":"Past Due"})]})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(o=>l.jsx(gt,{className:"hover:shadow-md transition-shadow",children:l.jsxs(vt,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center",children:l.jsx(Bm,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-foreground capitalize",children:[o.plan," Plan"]}),l.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["ID: ",o.id]})]})]}),l.jsx(je,{variant:"ghost",size:"sm",children:l.jsx(mte,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:i==="ar"?":":"Status:"}),l.jsx(yn,{variant:o.status==="active"?"default":o.status==="cancelled"?"destructive":"outline",children:o.status==="active"?i==="ar"?"":"Active":o.status==="cancelled"?i==="ar"?"":"Cancelled":i==="ar"?"":"Past Due"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:i==="ar"?":":"Amount:"}),l.jsxs("span",{className:"text-sm font-medium text-foreground",children:["$",o.amount," ",o.currency]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:i==="ar"?" :":"Expires:"}),l.jsx("span",{className:"text-sm text-foreground",children:new Date(o.currentPeriodEnd).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs(je,{variant:"outline",size:"sm",className:"flex-1",children:[l.jsx(Mo,{className:"h-4 w-4 mr-1"}),i==="ar"?"":"View"]}),l.jsxs(je,{variant:"outline",size:"sm",className:"flex-1",children:[l.jsx(Ro,{className:"h-4 w-4 mr-1"}),i==="ar"?"":"Edit"]}),l.jsx(je,{variant:"destructive",size:"sm",children:l.jsx(wl,{className:"h-4 w-4"})})]})]})},o.id))}),e.length===0&&l.jsx(gt,{children:l.jsxs(vt,{className:"p-8 text-center",children:[l.jsx(Bm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:i==="ar"?"  ":"No subscriptions found"}),l.jsx("p",{className:"text-muted-foreground",children:i==="ar"?"      ":"No subscriptions match your search criteria"})]})})]}),BLe=({users:e,language:t,onRefresh:r})=>{const n=e.reduce((s,i)=>{var o;const a=((o=i.subscription)==null?void 0:o.plan)||"free";return s[a]||(s[a]=[]),s[a].push(i),s},{});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:t==="ar"?" ":"Limit Management"}),l.jsx("p",{className:"text-muted-foreground",children:t==="ar"?"   ":"View and manage user limits"})]}),l.jsxs(je,{onClick:r,className:"w-full sm:w-auto",children:[l.jsx(gc,{className:"h-4 w-4 mr-2"}),t==="ar"?"":"Refresh"]})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(fo,{className:"h-5 w-5"}),t==="ar"?"  ":"New Limitation System"]})}),l.jsx(vt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"      API.          10   .":"The system now fetches user limits from the API. Users without a subscription plan can create one tree and 10 people per tree."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:t==="ar"?" ":"Default Limits"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsxs("li",{children:[" ",t==="ar"?"  ":"One tree only"]}),l.jsxs("li",{children:[" ",t==="ar"?"10   ":"10 people per tree"]}),l.jsxs("li",{children:[" ",t==="ar"?" ":"No photos"]}),l.jsxs("li",{children:[" ",t==="ar"?" ":"No sharing"]})]})]}),l.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("h4",{className:"font-medium text-green-900 mb-2",children:t==="ar"?" ":"Subscriber Limits"}),l.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[l.jsxs("li",{children:[" ",t==="ar"?"    API":"Limits fetched from API"]}),l.jsxs("li",{children:[" ",t==="ar"?"   ":"Flexible limits based on plan"]}),l.jsxs("li",{children:[" ",t==="ar"?" ":"Automatic updates"]})]})]}),l.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:t==="ar"?"  API":"API Endpoint"}),l.jsxs("p",{className:"text-sm text-purple-800",children:["GET /api/FamilyTree/UserTreeLimit/","{userId}"]}),l.jsx("p",{className:"text-xs text-purple-600 mt-2",children:t==="ar"?"       ":"This endpoint is used to fetch limits for each user"})]})]})]})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(n).map(([s,i])=>l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"capitalize",children:[s," ",t==="ar"?"":"Plan"]}),l.jsx(yn,{variant:"secondary",children:i.length})]})}),l.jsx(vt,{children:l.jsxs("div",{className:"space-y-3",children:[i.slice(0,3).map(a=>{var o,c;return l.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx("span",{className:"text-primary font-medium text-xs",children:(o=a.firstName)==null?void 0:o.charAt(0)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-medium text-sm truncate text-foreground",children:[a.firstName," ",a.lastName]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:a.email})]}),l.jsx(yn,{variant:"outline",className:"text-xs",children:((c=a.subscription)==null?void 0:c.status)||"active"})]},a.id)}),i.length>3&&l.jsx("p",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:t==="ar"?` ${i.length-3}  `:`And ${i.length-3} more users`})]})})]},s))})]})},NLe=()=>{const{language:e}=ir(),[t,r]=re.useState([]),[n,s]=re.useState(!0),[i,a]=re.useState(null);re.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0),a(null);const f=localStorage.getItem("authToken"),h=await fetch("https://qabael.premiumasp.net/api/admin/join-requests",{headers:{Authorization:f?`Bearer ${f}`:"","Content-Type":"application/json"}});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const g=await h.json();let p=[];Array.isArray(g)?p=g:g&&typeof g=="object"&&"data"in g?p=Array.isArray(g.data)?g.data:[]:p=[];const m=p.map(x=>{const v=x.id??x.Id??x.ID??0,y=x.familyTreeId??x.FamilyTreeId??0,w=x.name??x.Name??"",S=x.birthDate??x.BirthDate??"",T=x.birthPlace??x.BirthPlace??"",j=x.gender??x.Gender??"",I=x.occupation??x.Occupation??"",B=x.relatedPersonId??x.RelatedPersonId??0,C=x.status??x.Status??"Pending",N=x.requesterId??x.RequesterId??"",k=x.relationshipType??x.RelationshipType??"",E=x.createdAt??x.CreatedAt??new Date().toISOString();return{id:v,familyTreeId:y,name:w,birthDate:S,birthPlace:T,gender:j,occupation:I,relatedPersonId:B,status:C,requesterId:N,relationshipType:k,createdAt:E}}).filter(x=>x.id>0);r(m)}catch{a(e==="ar"?"    ":"Failed to load join requests")}finally{s(!1)}},c=async f=>{try{await dr.acceptJoinRequest(f),Kt.success({en:"Request accepted successfully",ar:"   "}),o()}catch{Kt.error({en:"Failed to accept request",ar:"   "})}},u=async f=>{try{await dr.rejectJoinRequest(f),Kt.success({en:"Request rejected successfully",ar:"   "}),o()}catch{Kt.error({en:"Failed to reject request",ar:"   "})}},A=f=>{switch(f.toLowerCase()){case"pending":return l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(z2,{className:"h-3 w-3 mr-1"}),e==="ar"?" ":"Pending"]});case"accepted":return l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(Ha,{className:"h-3 w-3 mr-1"}),e==="ar"?"":"Accepted"]});case"rejected":return l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l.jsx(fE,{className:"h-3 w-3 mr-1"}),e==="ar"?"":"Rejected"]});default:return l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:f})}};return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Vn,{className:"h-12 w-12 animate-spin text-primary"})}):i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:l.jsx(pa,{className:"h-8 w-8 text-destructive"})}),l.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:i}),l.jsx(je,{onClick:o,children:e==="ar"?" ":"Try Again"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold",children:e==="ar"?"  ":"Manage Join Requests"}),l.jsx(je,{onClick:o,variant:"outline",size:"sm",children:e==="ar"?"":"Refresh"})]}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-5 w-5"}),e==="ar"?"  ":"Manage Join Requests"]})}),l.jsx(vt,{children:l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:e==="ar"?"  ":"No Requests Found"}),l.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"    ":"No join requests found currently"})]}):t.map(f=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-medium",children:f.name}),A(f.status)]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:new Date(f.birthDate).toLocaleDateString(e==="ar"?"ar-SA":"en-US")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ga,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:f.birthPlace})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yA,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:f.occupation})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:f.relationshipType})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[e==="ar"?" :":"Requested by:"," ",f.requesterId]}),l.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[e==="ar"?" :":"Tree ID:"," ",f.familyTreeId]})]}),f.status.toLowerCase()==="pending"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(je,{variant:"default",size:"sm",onClick:()=>c(f.id),className:"flex items-center gap-1",children:[l.jsx(R1,{className:"h-4 w-4"}),e==="ar"?"":"Accept"]}),l.jsxs(je,{variant:"destructive",size:"sm",onClick:()=>u(f.id),className:"flex items-center gap-1",children:[l.jsx(WO,{className:"h-4 w-4"}),e==="ar"?"":"Reject"]})]})]})},f.id))})})]})]})},_Le=e=>{var t,r,n;if(!navigator.onLine)return"   .       .";if(e.response){const s=e.response.status,i=(t=e.response.data)==null?void 0:t.message;switch(s){case 400:return i||"   .       .";case 401:return"   .     .";case 403:return"      .";case 404:return"    .";case 429:return"     .   .";case 500:return"  .        .";default:return i||`    (${s}).    .`}}return e.code==="NETWORK_ERROR"||(r=e.message)!=null&&r.includes("Network Error")?"   .       .":e.code==="ECONNABORTED"||(n=e.message)!=null&&n.includes("timeout")?"   .    .":e.message||"   .    ."},CLe="https://qabael.premiumasp.net/api/Payments",mu=Dn.create({baseURL:CLe,headers:{"Content-Type":"application/json"}});mu.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));mu.interceptors.response.use(e=>e,e=>(console.error("Payment API Error:",e),e.userMessage=_Le(e),Promise.reject(e)));class op{static async createOneTimePayment(t){try{return(await mu.post("/OneTimePaid",t)).data}catch(r){throw console.error("One-time payment error:",r),r}}static async createSubscription(t){var r,n,s;try{console.log("Sending subscription request:",t);const i=await mu.post("/CreateSubscription",t);return console.log("Subscription response:",i.data),i.data}catch(i){throw console.error("Subscription creation error:",i),console.error("Error details:",{status:(r=i.response)==null?void 0:r.status,statusText:(n=i.response)==null?void 0:n.statusText,data:(s=i.response)==null?void 0:s.data,message:i.message}),i}}static async getAllPlans(){try{return(await mu.get("/GetAllPlans")).data}catch(t){throw console.error("Get plans error:",t),t}}static async unsubscribe(t){try{return(await mu.post(`/UnSubscripe?email=${t}`)).data}catch(r){throw console.error("Unsubscribe error:",r),r}}static async getUserSubscriptionStatus(t){var r;if(!t)throw new Error("      ");try{return(await mu.get(`/UserSubscriptionStatus?email=${encodeURIComponent(t)}`)).data}catch(n){throw console.error("Get subscription status error:",n),((r=n.response)==null?void 0:r.status)===404?new Error("     "):new Error(n.userMessage||"     ")}}}const ELe=()=>{const e=ls(),{language:t}=ir(),[r,n]=re.useState([]),[s,i]=re.useState(!0),[a,o]=re.useState(null);re.useEffect(()=>{(async()=>{try{i(!0);const f=await op.getAllPlans();n(f)}catch(f){console.error("Error fetching plans:",f),o(t==="ar"?"   ":"Failed to load plans")}finally{i(!1)}})()},[t]);const[c,u]=ke.useState("yearly");return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:t==="ar"?" ":"Pricing Plans"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:t==="ar"?"      ":"Select the plan that fits your needs and enjoy all features"}),l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[l.jsx("button",{type:"button",onClick:()=>u("monthly"),className:`px-4 py-2 text-sm font-medium rounded-l-lg ${c==="monthly"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:t==="ar"?"":"Monthly"}),l.jsxs("button",{type:"button",onClick:()=>u("yearly"),className:`px-4 py-2 text-sm font-medium rounded-r-md ${c==="yearly"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[t==="ar"?"":"Yearly",l.jsx(yn,{className:"ml-2 bg-green-100 text-green-800",children:t==="ar"?" 17%":"Save 17%"})]})]})})]}),s?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-500 mb-4",children:a}),l.jsx(je,{onClick:()=>window.location.reload(),children:t==="ar"?" ":"Try Again"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(A=>l.jsxs(gt,{className:"flex flex-col",children:[A.name==="Yearly"&&l.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:l.jsx(yn,{className:"bg-blue-500",children:t==="ar"?" ":"Most Popular"})}),l.jsxs(St,{children:[l.jsx(Ft,{className:"text-xl",children:A.name}),l.jsx(Ds,{children:A.description})]}),l.jsxs(vt,{className:"flex-1",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",A.price]}),l.jsxs("span",{className:"text-gray-600",children:["/",A.billingCycle==="year"?t==="ar"?"":"year":t==="ar"?"":"month"]})]}),l.jsx("div",{className:"text-sm text-gray-600 mb-6",children:l.jsx("p",{children:A.description})}),l.jsx(je,{onClick:()=>e(`/subscription/checkout/${A.productId}`,{state:{plan:A}}),className:"w-full",children:t==="ar"?"  ":"Choose This Plan"})]})]},A.id))}),l.jsxs("div",{className:"mt-16 max-w-3xl mx-auto",children:[l.jsx("div",{className:"text-center",children:l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t==="ar"?" ":"Frequently Asked Questions"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(gt,{children:l.jsxs(vt,{className:"p-6",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:t==="ar"?"      ":"How can I change my subscription plan?"}),l.jsx("p",{className:"text-gray-600",children:t==="ar"?"              .":"You can upgrade or downgrade your subscription plan at any time from your account settings page."})]})}),l.jsx(gt,{children:l.jsxs(vt,{className:"p-6",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:t==="ar"?"      ":"Can I cancel my subscription at any time?"}),l.jsx("p",{className:"text-gray-600",children:t==="ar"?"      .       .":"Yes, you can cancel your subscription at any time. No automatic billing will occur after cancellation."})]})}),l.jsx(gt,{children:l.jsxs(vt,{className:"p-6",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:t==="ar"?"    ":"Do you offer a free trial period?"}),l.jsx("p",{className:"text-gray-600",children:t==="ar"?"      14     .":"Yes, we offer a 14-day free trial for all new subscription plans."})]})})]})]})]})})},cY=(e=!0)=>{const{user:t,isLoading:r}=os(),n=ls(),s=!!t,i=(t==null?void 0:t.email)||"";return re.useEffect(()=>{!r&&!s&&e&&n("/auth/login")},[s,r,e,n]),{user:t,userEmail:i,isAuthenticated:s,isLoading:r}},SLe=()=>{const e=ls(),{userEmail:t,isAuthenticated:r,isLoading:n}=cY(),{language:s}=ir(),[i,a]=re.useState([]),[o,c]=re.useState(!0),[u,A]=re.useState(null);if(n)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!r)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs(gt,{className:"max-w-md w-full mx-4",children:[l.jsx(St,{children:l.jsx(Ft,{children:s==="ar"?"  ":"Login Required"})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:s==="ar"?"     ":"Please log in to view subscription plans"})}),l.jsx(vt,{children:l.jsx(je,{onClick:()=>e("/login"),className:"w-full",children:s==="ar"?" ":"Login"})})]})});re.useEffect(()=>{f()},[]);const f=async()=>{try{c(!0);const g=await op.getAllPlans();a(g)}catch(g){console.error("Error fetching plans:",g),A(s==="ar"?"   ":"Failed to load plans")}finally{c(!1)}},d=g=>{e(`/subscription/checkout/${g.productId}`,{state:{plan:g,userEmail:t||""}})},h=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g);return o?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs(gt,{className:"max-w-md w-full mx-4",children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-destructive",children:s==="ar"?"":"Error"})}),l.jsx(vt,{children:l.jsx("p",{className:"text-muted-foreground",children:u})}),l.jsx(vt,{children:l.jsx(je,{onClick:f,className:"w-full",children:s==="ar"?" ":"Try Again"})})]})}):l.jsx("div",{className:"min-h-screen bg-background py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:s==="ar"?"  ":"Choose Your Subscription Plan"}),l.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:s==="ar"?"      ":"Select the plan that fits your needs and enjoy all features"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map(g=>{const p=g.billingCycle==="year";return l.jsxs(gt,{className:"flex flex-col",children:[l.jsx(St,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(Ft,{className:"text-xl",children:g.name}),l.jsx(Ds,{children:g.description})]}),g.name==="Yearly"&&l.jsx(yn,{className:"bg-primary text-primary-foreground",children:s==="ar"?" ":"Most Popular"})]})}),l.jsxs(vt,{className:"flex-1",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("span",{className:"text-4xl font-bold text-foreground",children:h(g.price)}),l.jsxs("span",{className:"text-muted-foreground",children:["/",p?s==="ar"?"":"year":s==="ar"?"":"month"]})]}),l.jsx("div",{className:"text-sm text-muted-foreground mb-6",children:l.jsx("p",{children:g.description})})]}),l.jsx(vt,{children:l.jsx(je,{onClick:()=>d(g),className:"w-full",children:s==="ar"?"  ":"Choose This Plan"})})]},g.id)})})]})})};var AY="https://js.stripe.com/v3",FLe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var jLe=function(){for(var t=document.querySelectorAll('script[src^="'.concat(AY,'"]')),r=0;r<t.length;r++){var n=t[r];if(FLe.test(n.src))return n}return null},$R=function(t){var r="",n=document.createElement("script");n.src="".concat(AY).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},TLe=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},b0=null,j1=null,T1=null,ILe=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},kLe=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},LLe=function(t){return b0!==null?b0:(b0=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=jLe();if(!(s&&t)){if(!s)s=$R(t);else if(s&&T1!==null&&j1!==null){var i;s.removeEventListener("load",T1),s.removeEventListener("error",j1),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=$R(t)}}T1=kLe(r,n),j1=ILe(n),s.addEventListener("load",T1),s.addEventListener("error",j1)}catch(a){n(a);return}}),b0.catch(function(r){return b0=null,Promise.reject(r)}))},ULe=function(t,r,n){if(t===null)return null;var s=t.apply(void 0,r);return TLe(s,n),s},B0,uY=!1,fY=function(){return B0||(B0=LLe(null).catch(function(t){return B0=null,Promise.reject(t)}),B0)};Promise.resolve().then(function(){return fY()}).catch(function(e){uY||console.warn(e)});var PLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];uY=!0;var s=Date.now();return fY().then(function(i){return ULe(i,r,s)})},dY={exports:{}},MLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RLe=MLe,OLe=RLe;function hY(){}function mY(){}mY.resetWarningCache=hY;var QLe=function(){function e(n,s,i,a,o,c){if(c!==OLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mY,resetWarningCache:hY};return r.PropTypes=r,r};dY.exports=QLe();var DLe=dY.exports;const Kn=U2(DLe);function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){pY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ox(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ox=function(t){return typeof t}:ox=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}function pY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e,t){return HLe(e)||$Le(e,t)||qLe(e,t)||KLe()}function HLe(e){if(Array.isArray(e))return e}function $Le(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,a,o;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,o=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function qLe(e,t){if(e){if(typeof e=="string")return zR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zR(e,t)}}function zR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ta=function(t,r,n){var s=!!n,i=ke.useRef(n);ke.useEffect(function(){i.current=n},[n]),ke.useEffect(function(){if(!s||!t)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,a),function(){t.off(r,a)}},[s,r,t,i])},JC=function(t){var r=ke.useRef(t);return ke.useEffect(function(){r.current=t},[t]),r.current},Xd=function(t){return t!==null&&ox(t)==="object"},zLe=function(t){return Xd(t)&&typeof t.then=="function"},GLe=function(t){return Xd(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},GR="[object Object]",VLe=function e(t,r){if(!Xd(t)||!Xd(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===GR,a=Object.prototype.toString.call(r)===GR;if(i!==a)return!1;if(!i&&!n)return t===r;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(var u={},A=0;A<o.length;A+=1)u[o[A]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var d=Object.keys(u);if(d.length!==o.length)return!1;var h=t,g=r,p=function(x){return e(h[x],g[x])};return d.every(p)},xY=function(t,r,n){return Xd(t)?Object.keys(t).reduce(function(s,i){var a=!Xd(r)||!VLe(t[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?KR(KR({},s||{}),{},pY({},i,t[i])):s},null):null},vY="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",VR=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vY;if(t===null||GLe(t))return t;throw new Error(r)},WLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vY;if(zLe(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return VR(s,r)})};var n=VR(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},YLe=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},_y=ke.createContext(null);_y.displayName="ElementsContext";var yY=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},wY=function(t){var r=t.stripe,n=t.options,s=t.children,i=ke.useMemo(function(){return WLe(r)},[r]),a=ke.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),o=gY(a,2),c=o[0],u=o[1];ke.useEffect(function(){var d=!0,h=function(p){u(function(m){return m.stripe?m:{stripe:p,elements:p.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&d&&h(g)}):i.tag==="sync"&&!c.stripe&&h(i.stripe),function(){d=!1}},[i,c,n]);var A=JC(r);ke.useEffect(function(){A!==null&&A!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[A,r]);var f=JC(n);return ke.useEffect(function(){if(c.elements){var d=xY(n,f,["clientSecret","fonts"]);d&&c.elements.update(d)}},[n,f,c.elements]),ke.useEffect(function(){YLe(c.stripe)},[c.stripe]),ke.createElement(_y.Provider,{value:c},s)};wY.propTypes={stripe:Kn.any,options:Kn.object};var XLe=function(t){var r=ke.useContext(_y);return yY(r,t)},JLe=function(){var t=XLe("calls useElements()"),r=t.elements;return r};Kn.func.isRequired;var bY=ke.createContext(null);bY.displayName="CustomCheckoutSdkContext";var ZLe=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},eUe=ke.createContext(null);eUe.displayName="CustomCheckoutContext";Kn.any,Kn.shape({clientSecret:Kn.string.isRequired,elementsOptions:Kn.object}).isRequired;var ZC=function(t){var r=ke.useContext(bY),n=ke.useContext(_y);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?ZLe(r,t):yY(n,t)},tUe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ts=function(t,r){var n="".concat(tUe(t),"Element"),s=function(c){var u=c.id,A=c.className,f=c.options,d=f===void 0?{}:f,h=c.onBlur,g=c.onFocus,p=c.onReady,m=c.onChange,x=c.onEscape,v=c.onClick,y=c.onLoadError,w=c.onLoaderStart,S=c.onNetworksChange,T=c.onConfirm,j=c.onCancel,I=c.onShippingAddressChange,B=c.onShippingRateChange,C=ZC("mounts <".concat(n,">")),N="elements"in C?C.elements:null,k="customCheckoutSdk"in C?C.customCheckoutSdk:null,E=ke.useState(null),U=gY(E,2),D=U[0],M=U[1],Q=ke.useRef(null),K=ke.useRef(null);Ta(D,"blur",h),Ta(D,"focus",g),Ta(D,"escape",x),Ta(D,"click",v),Ta(D,"loaderror",y),Ta(D,"loaderstart",w),Ta(D,"networkschange",S),Ta(D,"confirm",T),Ta(D,"cancel",j),Ta(D,"shippingaddresschange",I),Ta(D,"shippingratechange",B),Ta(D,"change",m);var O;p&&(t==="expressCheckout"?O=p:O=function(){p(D)}),Ta(D,"ready",O),ke.useLayoutEffect(function(){if(Q.current===null&&K.current!==null&&(N||k)){var G=null;k?G=k.createElement(t,d):N&&(G=N.create(t,d)),Q.current=G,M(G),G&&G.mount(K.current)}},[N,k,d]);var z=JC(d);return ke.useEffect(function(){if(Q.current){var G=xY(d,z,["paymentRequest"]);G&&"update"in Q.current&&Q.current.update(G)}},[d,z]),ke.useLayoutEffect(function(){return function(){if(Q.current&&typeof Q.current.destroy=="function")try{Q.current.destroy(),Q.current=null}catch{}}},[]),ke.createElement("div",{id:u,className:A,ref:K})},i=function(c){ZC("mounts <".concat(n,">"));var u=c.id,A=c.className;return ke.createElement("div",{id:u,className:A})},a=r?i:s;return a.propTypes={id:Kn.string,className:Kn.string,onChange:Kn.func,onBlur:Kn.func,onFocus:Kn.func,onReady:Kn.func,onEscape:Kn.func,onClick:Kn.func,onLoadError:Kn.func,onLoaderStart:Kn.func,onNetworksChange:Kn.func,onConfirm:Kn.func,onCancel:Kn.func,onShippingAddressChange:Kn.func,onShippingRateChange:Kn.func,options:Kn.object},a.displayName=n,a.__elementType=t,a},Is=typeof window>"u",rUe=ke.createContext(null);rUe.displayName="EmbeddedCheckoutProviderContext";var nUe=function(){var t=ZC("calls useStripe()"),r=t.stripe;return r};Ts("auBankAccount",Is);var WR=Ts("card",Is);Ts("cardNumber",Is);Ts("cardExpiry",Is);Ts("cardCvc",Is);Ts("fpxBank",Is);Ts("iban",Is);Ts("idealBank",Is);Ts("p24Bank",Is);Ts("epsBank",Is);Ts("payment",Is);Ts("expressCheckout",Is);Ts("currencySelector",Is);Ts("paymentRequestButton",Is);Ts("linkAuthentication",Is);Ts("address",Is);Ts("shippingAddress",Is);Ts("paymentMethodMessaging",Is);Ts("affirmMessage",Is);Ts("afterpayClearpayMessage",Is);const sUe=PLe("pk_live_51S6EXD5qoy7m34J1ssDHcQOn3qgDqmoZrfb6qI2Mjbtn5qagd5T3h8CXWsWdvFkFbpKkhyg3qeAMSc5izbzsISVd004l89jmyc"),QN=(e,t)=>{try{const n=e*({USD:1,AED:3.67,EGP:30.9,SAR:3.75}[t]||1);return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(n)}catch{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}},iUe=({plan:e,userEmail:t,selectedPaymentMethod:r,selectedCurrency:n,formatPrice:s,onPaymentComplete:i,onPaymentError:a})=>{const o=nUe(),c=JLe(),{language:u}=ir(),[A,f]=re.useState(!1),[d,h]=re.useState(""),[g,p]=re.useState(""),m=async v=>{var y;if(v.preventDefault(),!o||!c){h(u==="ar"?" Stripe     ":" Stripe not loaded properly");return}if(!g){h(u==="ar"?"   ":" Please enter your name");return}f(!0),h("");try{const w={email:t,productId:e.productId,currency:n};let S;if(r==="recurring"?S=await op.createSubscription(w):S=await op.createOneTimePayment(w),!S||!S.clientSecret&&!S.url)throw new Error(u==="ar"?"   ":"Failed to create payment");if(S.url||S.Url){window.location.href=S.url||S.Url;return}const T=S.clientSecret,j=c.getElement(WR);if(!T||!j)throw new Error(u==="ar"?"   ":" Missing payment details");const I=await o.confirmCardPayment(T,{payment_method:{card:j,billing_details:{name:g,email:t}}});if(I.error)throw new Error(I.error.message||(u==="ar"?" ":"Payment failed"));((y=I.paymentIntent)==null?void 0:y.status)==="succeeded"&&(h(u==="ar"?"   !":" Payment succeeded!"),i())}catch(w){console.error("Payment error:",w);const S=w.message||(u==="ar"?"   ":"An unexpected error occurred");h(` ${S}`),a(S)}finally{f(!1)}},x={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground",children:u==="ar"?"  ":"Name on Card"}),l.jsx(or,{id:"name",type:"text",value:g,onChange:v=>p(v.target.value),placeholder:u==="ar"?" ":"Full Name",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"card",className:"block text-sm font-medium text-foreground",children:u==="ar"?" ":"Card Information"}),l.jsx("div",{className:"border rounded-md p-3 bg-card",children:l.jsx(WR,{options:x})})]})]}),d&&l.jsx("div",{className:`p-3 rounded-md text-center ${d.includes("")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:d}),l.jsx("div",{className:"space-y-3",children:l.jsx(je,{onClick:m,disabled:!o||A,className:"w-full",children:A?u==="ar"?" ...":"Processing...":`${u==="ar"?"":"Pay"} ${s(e.price,n)}`})})]})},aUe=()=>{const e=ls(),t=eE(),{productId:r}=Jd(),{userEmail:n,isAuthenticated:s,isLoading:i}=cY(),{language:a}=ir(),o=t.state,[c,u]=re.useState((o==null?void 0:o.plan)||null),[A,f]=re.useState(null),[d,h]=re.useState("USD"),[g,p]=re.useState(!(o!=null&&o.plan)),[m,x]=re.useState(null);if(i)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!s)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs(gt,{className:"max-w-md w-full mx-4",children:[l.jsx(St,{children:l.jsx(Ft,{children:a==="ar"?"  ":"Login Required"})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground",children:a==="ar"?"     ":"Please log in to complete payment"}),l.jsx(je,{onClick:()=>e("/login"),className:"w-full mt-4",children:a==="ar"?" ":"Login"})]})]})});re.useEffect(()=>{(async()=>{if(r&&!c)try{p(!0);const j=(await op.getAllPlans()).find(I=>I.productId===r);j?u(j):x(a==="ar"?"  ":"Plan not found")}catch(T){console.error("Error fetching plan:",T),x(a==="ar"?"   ":"Failed to load plan")}finally{p(!1)}})()},[r,c,a]);const v=()=>{e("/subscription/success")},y=S=>{console.error("Payment error:",S)},w=async(S,T)=>{S.preventDefault(),f(T?"recurring":"one-time")};return g?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m||!c?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs(gt,{className:"max-w-md w-full mx-4",children:[l.jsx(St,{children:l.jsx(Ft,{className:"text-destructive",children:a==="ar"?"":"Error"})}),l.jsxs(vt,{children:[l.jsx("p",{className:"text-muted-foreground",children:m||(a==="ar"?"  ":"Plan not available")}),l.jsx(je,{onClick:()=>e("/subscription"),className:"w-full mt-4",children:a==="ar"?"  ":"Back to Plans"})]})]})}):l.jsx("div",{className:"min-h-screen bg-background py-12",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:a==="ar"?" ":"Complete Payment"}),l.jsx("p",{className:"mt-2 text-muted-foreground",children:a==="ar"?"     ":"Please enter your payment information"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(gt,{children:[l.jsx(St,{children:l.jsx(Ft,{children:a==="ar"?" ":"Order Summary"})}),l.jsxs(vt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-foreground",children:c.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c.billingCycle==="year"?a==="ar"?" ":"Yearly Subscription":a==="ar"?" ":"Monthly Subscription"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium text-foreground",children:QN(c.price,d)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})]}),l.jsx("div",{className:"border-t border-border pt-4",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("p",{className:"font-medium text-foreground",children:a==="ar"?"":"Total"}),l.jsx("p",{className:"font-medium text-foreground",children:QN(c.price,d)})]})})]})]}),l.jsxs(gt,{children:[l.jsxs(St,{children:[l.jsx(Ft,{children:a==="ar"?" ":"Payment Information"}),l.jsx(Ds,{children:a==="ar"?"   ":"Enter your credit card information"})]}),l.jsxs(vt,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-center",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a==="ar"?"  ":"Choose Payment Method"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("label",{htmlFor:"currency",className:"text-sm font-medium text-gray-700",children:a==="ar"?":":"Currency:"}),l.jsxs("select",{id:"currency",value:d,onChange:S=>h(S.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsxs("option",{value:"USD",children:[a==="ar"?" ":"US Dollar"," (USD)"]}),l.jsxs("option",{value:"AED",children:[a==="ar"?" ":"UAE Dirham"," (AED)"]}),l.jsxs("option",{value:"EGP",children:[a==="ar"?" ":"Egyptian Pound"," (EGP)"]}),l.jsxs("option",{value:"SAR",children:[a==="ar"?" ":"Saudi Riyal"," (SAR)"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(je,{onClick:S=>w(S,!1),className:`w-full py-6 ${A==="one-time"?"ring-2 ring-blue-500":""}`,children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"font-semibold text-lg",children:a==="ar"?" ":"One-time Payment"}),l.jsx("span",{className:"text-sm opacity-80",children:a==="ar"?"  ":"No auto-renewal"})]})}),l.jsx(je,{onClick:S=>w(S,!0),variant:"outline",className:`w-full py-6 ${A==="recurring"?"ring-2 ring-blue-500":""}`,children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"font-semibold text-lg",children:c.billingCycle==="year"?a==="ar"?"  ":"Annual Auto-renewal":a==="ar"?"  ":"Monthly Auto-renewal"}),l.jsx("span",{className:"text-sm opacity-80",children:c.billingCycle==="year"?a==="ar"?"   ":"Auto-renewal every year":a==="ar"?"   ":"Auto-renewal every month"})]})})]})]}),A&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900",children:a==="ar"?" ":"Card Information"}),l.jsx("div",{className:"text-sm text-gray-500",children:A==="recurring"?a==="ar"?" ":"Auto-renewal":a==="ar"?" ":"One-time payment"})]}),l.jsx(wY,{stripe:sUe,children:l.jsx(iUe,{plan:c,userEmail:n||"",selectedPaymentMethod:A,selectedCurrency:d,formatPrice:QN,onPaymentComplete:v,onPaymentError:y})})]})]})]})]})]})})},oUe=()=>{const e=ls(),{language:t}=ir();return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(gt,{className:"max-w-md w-full mx-auto",children:[l.jsxs(St,{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900",children:l.jsx(Ha,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),l.jsx(Ft,{className:"text-2xl",children:t==="ar"?"  !":"Payment Successful!"}),l.jsx(Ds,{children:t==="ar"?"  ":"Thank you for your subscription"})]}),l.jsxs(vt,{className:"space-y-6",children:[l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-muted-foreground",children:t==="ar"?"   .        .":"Your payment has been successfully confirmed. You now have access to all features of your chosen plan."})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 dark:bg-green-900/20 dark:border-green-800",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ha,{className:"h-5 w-5 text-green-400 dark:text-green-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:t==="ar"?" ":"What's next?"}),l.jsx("div",{className:"mt-2 text-sm text-green-700 dark:text-green-300",children:l.jsxs("ul",{className:"list-disc space-y-1 pl-5",children:[l.jsx("li",{children:t==="ar"?"     ":"You can now create your family trees"}),l.jsx("li",{children:t==="ar"?"    ":"You can invite family members to collaborate"}),l.jsx("li",{children:t==="ar"?"     ":"You have access to all premium features"})]})})]})]})}),l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx(je,{asChild:!0,children:l.jsx(Dt,{to:"/dashboard",children:t==="ar"?"   ":"Go to Dashboard"})}),l.jsx(je,{variant:"outline",onClick:()=>e("/subscription"),children:t==="ar"?"  ":"View Subscription Plans"})]})]})]})})},lUe=()=>{const e=ls();return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs(gt,{className:"p-8 text-center max-w-md",children:[l.jsx("div",{className:"text-yellow-500 dark:text-yellow-400 mb-6",children:l.jsx(fE,{className:"h-16 w-16 mx-auto"})}),l.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"  "}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"   .         ."}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 dark:bg-blue-900/20",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2 dark:text-blue-100",children:"    "}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"           ."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(je,{onClick:()=>e("/subscription"),className:"w-full",children:[l.jsx(gc,{className:"h-4 w-4 ml-2"})," "]}),l.jsx(je,{variant:"outline",onClick:()=>e("/dashboard"),className:"w-full",children:"   "}),l.jsxs(je,{variant:"outline",onClick:()=>e("/"),className:"w-full",children:[l.jsx(mc,{className:"h-4 w-4 ml-2"})," "]})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"        "})})]})})},cUe=()=>{const{language:e}=ir();return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:l.jsxs("div",{className:"max-w-md w-full text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"mx-auto w-32 h-32 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx("svg",{className:"w-16 h-16 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.291-1.007-5.691-2.709M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),l.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:e==="ar"?"  ":"Page Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:e==="ar"?"            .":"Sorry, the page you're looking for doesn't exist or has been moved to another location."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(je,{asChild:!0,className:"w-full",children:l.jsxs(Dt,{to:"/",children:[l.jsx(G2,{className:"w-4 h-4 mr-2"}),e==="ar"?" ":"Go Home"]})}),l.jsx(je,{asChild:!0,variant:"outline",className:"w-full",children:l.jsxs(Dt,{to:"#",onClick:()=>window.history.back(),children:[l.jsx(mc,{className:"w-4 h-4 mr-2"}),e==="ar"?" ":"Go Back"]})})]}),l.jsx("div",{className:"mt-8 pt-8 border-t border-border",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[e==="ar"?"       ":"If you think this is an error, please ",l.jsx(Dt,{to:"/contact",className:"text-primary hover:text-primary/80 underline",children:e==="ar"?" ":"contact us"}),"."]})})]})})},Z6=()=>l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"lg:pl-72",children:[l.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"flex flex-1"}),l.jsx("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-8 w-8 rounded-full bg-muted animate-pulse"})}),l.jsxs("div",{className:"hidden lg:block",children:[l.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})]})})})]}),l.jsx("main",{className:"py-6",children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h-8 w-48 bg-muted rounded animate-pulse mb-2"}),l.jsx("div",{className:"h-4 w-64 bg-muted rounded animate-pulse"})]}),l.jsx("div",{className:"mt-4 sm:mt-0",children:l.jsx("div",{className:"h-10 w-32 bg-muted rounded animate-pulse"})})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>l.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx("div",{className:"h-4 w-24 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-4 w-4 bg-muted rounded-full animate-pulse"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-6 w-8 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})]},t))}),l.jsxs("div",{children:[l.jsx("div",{className:"h-6 w-32 bg-muted rounded animate-pulse mb-4"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>l.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm h-24 p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})},t))})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse mb-4"}),l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-muted rounded-full animate-pulse"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[l.jsx("div",{className:"h-4 w-48 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-20 bg-muted rounded animate-pulse"})]})]},t))})]})}),l.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse mb-4"}),l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>l.jsxs("div",{className:"flex items-start justify-between p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 w-32 bg-muted rounded animate-pulse"}),l.jsx("div",{className:"h-3 w-40 bg-muted rounded animate-pulse"})]}),l.jsx("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"})]},t))})]})})]})]})})})]})}),AUe=({onCancel:e,onSuccess:t})=>{const r=ls(),{language:n}=ir(),{createTree:s,isLoading:i,trees:a}=Ti(),{limits:o,isLimitReached:c}=ef(),u=re.useRef(null),{isMobile:A}=cs(),f=n==="ar",[d,h]=re.useState({name:"",nameEn:"",description:"",descriptionEn:"",isPublic:!0,allowCollaboration:!1}),[g,p]=re.useState(null),m=c("trees",a.length),x=w=>{var T;const S=(T=w.target.files)==null?void 0:T[0];if(S){const j=new FileReader;j.onload=I=>{var C;const B=(C=I.target)==null?void 0:C.result;h(N=>({...N,coverImage:B}))},j.readAsDataURL(S)}},v=async()=>{var w,S;try{if(p(null),m){const j=(o==null?void 0:o.trees)||1,I=f?`       (${j} ).     .`:`You've reached the maximum number of trees (${j} trees). Please upgrade your subscription to create more.`;p(I),Kt.error({en:I,ar:I});return}const T=await Ht.createTree(f?d.name:d.nameEn,!d.isPublic,f?d.description||"":d.descriptionEn||"");Kt.success({en:"Tree created successfully",ar:"   "}),t?t(T.id):r(`/trees/${T.id}`)}catch(T){let j=f?"   ":"Failed to create tree";if(T.response)if(T.response.status===400)if((w=T.response.data)!=null&&w.message){const I=T.response.data.message.toLowerCase();I.includes("duplicate")||I.includes("already exists")||I.includes("in use")||I.includes("unique")?j=f?"   .    .":"Tree name is already in use. Please choose a different name.":j+=`: ${T.response.data.message}`}else j=f?"  .     .":"Invalid request. Please check the entered information.";else(S=T.response.data)!=null&&S.message&&(j+=`: ${T.response.data.message}`);else T.message&&(j+=`: ${T.message}`);p(j),Kt.error({en:j,ar:j})}},y=()=>d.name.trim()!==""&&d.nameEn.trim()!=="";return l.jsxs("div",{className:"space-y-6",children:[g&&l.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(hc,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-destructive text-sm",children:g})]})}),l.jsxs(gt,{children:[l.jsx(St,{children:l.jsxs(Ft,{className:"flex items-center gap-2",children:[l.jsx(Ed,{className:"h-5 w-5"}),A?f?"":"Info":f?" ":"Tree Information"]})}),l.jsxs(vt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:A?f?"":"Image":f?" ":"Cover Image"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-full rounded-lg bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center overflow-hidden ${A?"h-32":"h-48"}`,children:d.coverImage?l.jsx("img",{src:d.coverImage,alt:"Tree Cover",className:"w-full h-full object-cover"}):l.jsxs("div",{className:"text-center",children:[l.jsx(cn,{className:`mx-auto mb-2 ${A?"h-8 w-8":"h-16 w-16"}`}),l.jsx("p",{className:"text-sm text-muted-foreground",children:A?f?" ":"Choose Image":f?"   ":"Choose a cover image for the tree"})]})}),l.jsxs(je,{size:A?"sm":"default",variant:"outline",className:`absolute bottom-2 right-2 flex items-center gap-2 ${A?"px-2 py-1 text-xs":""}`,onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},children:[l.jsx(hp,{className:`h-4 w-4 ${A?"h-3 w-3":""}`}),A?f?"":"Image":f?" ":"Choose Image"]}),l.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:x,className:"hidden"})]})]}),l.jsxs("div",{className:`grid grid-cols-1 ${A?"gap-4":"md:grid-cols-2 gap-6"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:A?f?" ()":"Name (Ar)":f?"  () *":"Tree Name (Arabic) *"}),l.jsx(or,{value:d.name,onChange:w=>h(S=>({...S,name:w.target.value})),placeholder:A?f?" ":"Tree Name":f?":    ":"Example: Al-Ahmed Family Tree",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:A?f?" ()":"Name (En)":f?"  () *":"Tree Name (English) *"}),l.jsx(or,{value:d.nameEn,onChange:w=>h(S=>({...S,nameEn:w.target.value})),placeholder:A?"Tree Name":"Example: Al-Ahmed Family Tree",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:A?f?"":"Description":f?" ":"Tree Description"}),l.jsx(Ah,{value:f?d.description||"":d.descriptionEn||"",onChange:w=>h(S=>({...S,[f?"description":"descriptionEn"]:w.target.value})),placeholder:A?f?" ":"Tree Description":f?"  ...":"Write a description for the tree...",rows:A?3:4})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:`font-medium ${A?"text-base":"text-lg"}`,children:A?f?"":"Settings":f?" ":"Privacy Settings"}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${A?"text-sm":""}`,children:A?f?"":"Public":f?" ":"Public Tree"}),l.jsx("p",{className:`text-sm text-muted-foreground ${A?"text-xs":""}`,children:f?"   ":"Everyone can view the tree"})]}),l.jsx(je,{variant:d.isPublic?"default":"outline",size:A?"sm":"default",onClick:()=>h(w=>({...w,isPublic:!w.isPublic})),children:d.isPublic?f?"":"Public":f?"":"Private"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${A?"text-sm":""}`,children:A?f?"":"Collab":f?" ":"Allow Collaboration"}),l.jsx("p",{className:`text-sm text-muted-foreground ${A?"text-xs":""}`,children:f?"  ":"Allow others to contribute"})]}),l.jsx(je,{variant:d.allowCollaboration?"default":"outline",size:A?"sm":"default",onClick:()=>h(w=>({...w,allowCollaboration:!w.allowCollaboration})),children:d.allowCollaboration?f?"":"On":f?"":"Off"})]})]}),l.jsxs("div",{className:`flex ${A?"flex-col gap-2":"gap-3 pt-4"}`,children:[l.jsxs(je,{onClick:v,className:`flex items-center gap-2 ${A?"w-full":""}`,disabled:i||!y()||m,children:[i?l.jsx(Vn,{className:`animate-spin ${A?"h-3 w-3":"h-4 w-4"}`}):l.jsx(jd,{className:`h-4 w-4 ${A?"h-3 w-3":""}`}),A?f?"":"Create":f?" ":"Create Tree"]}),l.jsx(je,{variant:"outline",onClick:e||(()=>r("/trees")),disabled:i,className:A?"w-full":"",children:f?"":"Cancel"})]})]})]})]})},uUe=({onLogout:e,showWarning:t,setShowWarning:r})=>{const[n,s]=re.useState(60),{language:i}=ir(),{resetLogoutTimer:a}=PO(10);re.useEffect(()=>{let c=null;return t&&(s(60),c=setInterval(()=>{s(u=>u<=1?(e(),0):u-1)},1e3)),()=>{c&&clearInterval(c)}},[t,e]);const o=()=>{r(!1),s(60),a()};return t?l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:l.jsx("div",{className:"bg-card rounded-lg p-6 max-w-md w-full mx-4 border border-border shadow-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-warning/10 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-warning",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:i==="ar"?"  ":"Automatic Logout Warning"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:i==="ar"?`    .      ${n}       .`:`You've been inactive for a while. You will be automatically logged out in ${n} seconds if no activity is detected.`}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsx(je,{onClick:o,className:"w-full sm:w-auto",children:i==="ar"?" ":"Stay Logged In"}),l.jsx(je,{variant:"outline",onClick:e,className:"w-full sm:w-auto",children:i==="ar"?"  ":"Logout Now"})]})]})})}):null},qi=({children:e})=>{const{isAuthenticated:t,isLoading:r,user:n}=os(),s=eE();if(PO(10),r)return l.jsx(Z6,{});if(!t){const i=s.pathname+s.search;return localStorage.setItem("attemptedUrl",i),l.jsx(ym,{to:"/login",replace:!0})}return l.jsx(l.Fragment,{children:e})},I1=({children:e})=>{const{isAuthenticated:t,isLoading:r}=os();if(r&&!t)return l.jsx(Z6,{});if(t){const s=localStorage.getItem("attemptedUrl");return s?(localStorage.removeItem("attemptedUrl"),l.jsx(ym,{to:s,replace:!0})):l.jsx(ym,{to:"/dashboard",replace:!0})}return l.jsx(l.Fragment,{children:e})},fUe=()=>{const{isLoading:e,isAuthenticated:t,user:r}=os(),{language:n,theme:s}=ir(),[i,a]=re.useState(!1);ke.useEffect(()=>{const c=document.documentElement;c.setAttribute("lang",n),c.setAttribute("dir",n==="ar"?"rtl":"ltr"),c.classList.toggle("dark",s==="dark")},[n,s]),re.useEffect(()=>{const c=()=>{a(!0)};return window.addEventListener("inactivity-warning",c),()=>{window.removeEventListener("inactivity-warning",c)}},[]);const o=async()=>{const{logout:c}=os.getState();try{await c()}catch{}finally{a(!1),window.location.href="/login"}};return e?l.jsx(Z6,{}):l.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[t&&l.jsx(uUe,{onLogout:o,showWarning:i,setShowWarning:a}),l.jsxs(uX,{children:[l.jsx(rn,{path:"/",element:l.jsx(Gc,{children:l.jsx(ope,{})})}),l.jsx(rn,{path:"/login",element:l.jsx(I1,{children:l.jsx(Xh,{children:l.jsx(fpe,{})})})}),l.jsx(rn,{path:"/register",element:l.jsx(I1,{children:l.jsx(Xh,{children:l.jsx(hpe,{})})})}),l.jsx(rn,{path:"/forgot-password",element:l.jsx(I1,{children:l.jsx(Xh,{children:l.jsx(ppe,{})})})}),l.jsx(rn,{path:"/reset-password",element:l.jsx(I1,{children:l.jsx(Xh,{children:l.jsx(xpe,{})})})}),l.jsx(rn,{path:"/verify-email",element:l.jsx(Xh,{children:l.jsx(vpe,{})})}),l.jsx(rn,{path:"/shared/:id",element:l.jsx(nLe,{})}),l.jsx(rn,{path:"/dashboard",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(Bpe,{})})})}),l.jsx(rn,{path:"/subscription",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(SLe,{})})})}),l.jsx(rn,{path:"/subscription/checkout/:productId",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(aUe,{})})})}),l.jsx(rn,{path:"/subscription/success",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(oUe,{})})})}),l.jsx(rn,{path:"/subscription/cancel",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(lUe,{})})})}),l.jsx(rn,{path:"/trees",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(Npe,{})})})}),l.jsx(rn,{path:"/trees/create",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(AUe,{})})})}),l.jsx(rn,{path:"/trees/:id",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(Xke,{})})})}),l.jsx(rn,{path:"/trees/:id/edit",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(rLe,{})})})}),l.jsx(rn,{path:"/persons/create",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(pq,{})})})}),l.jsx(rn,{path:"/persons/:id",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(sLe,{})})})}),l.jsx(rn,{path:"/persons/:id/edit",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(iLe,{})})})}),l.jsx(rn,{path:"/search",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(aLe,{})})})}),l.jsx(rn,{path:"/contact",element:l.jsx(Gc,{children:l.jsx(dLe,{})})}),l.jsx(rn,{path:"/profile",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(lLe,{})})})}),l.jsx(rn,{path:"/settings",element:l.jsx(qi,{children:l.jsx(oi,{children:l.jsx(oLe,{})})})}),l.jsx(rn,{path:"/pricing",element:l.jsx(Gc,{children:l.jsx(ELe,{})})}),l.jsx(rn,{path:"/features",element:l.jsx(Gc,{children:l.jsx(cLe,{})})}),l.jsx(rn,{path:"/about",element:l.jsx(Gc,{children:l.jsx(uLe,{})})}),l.jsx(rn,{path:"/privacy",element:l.jsx(Gc,{children:l.jsx(hLe,{})})}),l.jsx(rn,{path:"/terms",element:l.jsx(Gc,{children:l.jsx(mLe,{})})}),l.jsx(rn,{path:"/admin/dashboard",element:l.jsx(o8,{children:l.jsx(oi,{children:l.jsx(xLe,{})})})}),l.jsx(rn,{path:"/admin/join-requests",element:l.jsx(o8,{children:l.jsx(oi,{children:l.jsx(NLe,{})})})}),l.jsx(rn,{path:"*",element:l.jsx(Gc,{children:l.jsx(cUe,{})})})]})]})};try{os.getState().initialize()}catch{}const dUe=new lX({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>{var r,n;return((r=t==null?void 0:t.response)==null?void 0:r.status)>=400&&((n=t==null?void 0:t.response)==null?void 0:n.status)<500?!1:e<3},refetchOnWindowFocus:!1},mutations:{retry:!1}}});class hUe extends ke.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsx("div",{className:"max-w-md w-full mx-auto p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-destructive/10",children:l.jsx("svg",{className:"h-6 w-6 text-destructive",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),l.jsx("h1",{className:"mt-4 text-xl font-semibold text-foreground",children:"Something went wrong"}),l.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),l.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Refresh Page"}),l.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Try Again"})]}),!1]})})}):this.props.children}}const mUe={duration:4e3,position:"top-right",style:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"1px solid hsl(var(--border))"},success:{iconTheme:{primary:"hsl(var(--primary))",secondary:"hsl(var(--primary-foreground))"}},error:{iconTheme:{primary:"hsl(var(--destructive))",secondary:"hsl(var(--destructive-foreground))"}}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})});let DN=null;const pUe=()=>{const e=document.getElementById("root");if(!e)return;const t=document.getElementById("loading");t&&t.remove(),DN||(DN=HN.createRoot(e)),DN.render(l.jsx(ke.StrictMode,{children:l.jsx(hUe,{children:l.jsx(cX,{client:dUe,children:l.jsxs(fX,{children:[l.jsx(fUe,{}),l.jsx(oJ,{toastOptions:mUe})]})})})}))};pUe();export{pn as _};
//# sourceMappingURL=index-B4RODlF_.js.map
